!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).TileMapHelper={})}(this,(function(e){"use strict";var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])},t(e,i)};function i(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}var r=function(){return r=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++)for(var n in t=arguments[i])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},r.apply(this,arguments)};function n(e){var t="function"==typeof Symbol&&Symbol.iterator,i=t&&e[t],r=0;if(i)return i.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function o(e,t){var i="function"==typeof Symbol&&e[Symbol.iterator];if(!i)return e;var r,n,o=i.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){n={error:e}}finally{try{r&&!r.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}return a}function a(e,t,i){if(i||2===arguments.length)for(var r,n=0,o=t.length;n<o;n++)!r&&n in t||(r||(r=Array.prototype.slice.call(t,0,n)),r[n]=t[n]);return e.concat(r||Array.prototype.slice.call(t))}var l=function(){function e(e,t,i,r,n){this.tileWidth=e,this.tileHeight=t,this.dimX=i,this.dimY=r,this._tileSet=n,this._layers=[]}return e.prototype.addObjectLayer=function(e){var t=new c(this,e);return this._layers.push(t),t},e.prototype.addTileLayer=function(e){var t=new u(this,e);return this._layers.push(t),t},e.prototype.getBackgroundResourceName=function(){return this._backgroundResourceName},e.prototype.getDimensionX=function(){return this.dimX},e.prototype.getDimensionY=function(){return this.dimY},e.prototype.getHeight=function(){return this.tileHeight*this.dimY},e.prototype.getLayers=function(){return this._layers},e.prototype.getTileDefinition=function(e){return this._tileSet.get(e)},e.prototype.getTileDefinitions=function(){return this._tileSet.values()},e.prototype.getTileHeight=function(){return this.tileHeight},e.prototype.getTileWidth=function(){return this.tileWidth},e.prototype.getWidth=function(){return this.tileWidth*this.dimX},e.prototype.pointIsInsideTile=function(e,t,i){var r,o,a=Math.floor(e/this.tileWidth),l=Math.floor(t/this.tileHeight);try{for(var s=n(this._layers),c=s.next();!c.done;c=s.next()){var u=c.value;if(u){var d=u.getTile(a,l);if(!d)return!1;if(this._tileSet.get(d.tileId).hasTaggedHitBox(i))return!0}}}catch(e){r={error:e}}finally{try{c&&!c.done&&(o=s.return)&&o.call(s)}finally{if(r)throw r.error}}return!1},e.prototype.setBackgroundResourceName=function(e){this._backgroundResourceName=e},e}(),s=function(){function e(e,t){this.visible=!0,this.tileMap=e,this.id=t}return e.prototype.setVisible=function(e){this.visible=e},e.prototype.isVisible=function(){return this.visible},e}(),c=function(e){function t(t,i){var r=e.call(this,t,i)||this;return r.objects=[],r}return i(t,e),t.prototype.add=function(e){this.objects.push(e)},t}(s),u=function(e){function t(t,i){var r=e.call(this,t,i)||this;r._tiles=[],r._tiles.length=r.tileMap.getDimensionY();for(var n=0;n<r._tiles.length;n++)r._tiles[n]=new Array(r.tileMap.getDimensionX());return r._alpha=1,r}return i(t,e),t.prototype.getAlpha=function(){return this._alpha},t.prototype.getDimensionX=function(){return 0===this._tiles.length?0:this._tiles[0].length},t.prototype.getDimensionY=function(){return this._tiles.length},t.prototype.getHeight=function(){return this.tileMap.getHeight()},t.prototype.getTile=function(e,t){var i=this._tiles[t];return i?i[e]:void 0},t.prototype.getWidth=function(){return this.tileMap.getWidth()},t.prototype.isFlippedHorizontally=function(e,t){var i=this._tiles[t][e];return!!i&&i.flippedHorizontally},t.prototype.isFlippedVertically=function(e,t){var i=this._tiles[t][e];return!!i&&i.flippedVertically},t.prototype.isFlippedDiagonally=function(e,t){var i=this._tiles[t][e];return!!i&&i.flippedDiagonally},t.prototype.removeTile=function(e,t){this._tiles[t][e]=void 0},t.prototype.setAlpha=function(e){this._alpha=e},t.prototype.setTile=function(e,t,i){this.tileMap.getTileDefinition(i.tileId)?this._tiles[t][e]=i:console.error("Invalid tile definition index: ".concat(i.tileId))},t}(s),d=function(){function e(e){this.animationLength=null!=e?e:0,this.stackedTiles=[],this.taggedHitBoxes=[]}return e.prototype.addHitBox=function(e,t){var i=this.taggedHitBoxes.find((function(t){return t.tag===e}));i||(i={tag:e,polygons:[]},this.taggedHitBoxes.push(i)),i.polygons.push(t)},e.prototype.getAnimationLength=function(){return this.animationLength},e.prototype.getHitBoxes=function(e){var t=this.taggedHitBoxes.find((function(t){return t.tag===e}));return t&&t.polygons},e.prototype.getStackTile=function(){return this.stackTile},e.prototype.getStackedTiles=function(){return this.stackedTiles},e.prototype.getStackedTilesHash=function(){return this.stackedTilesHash},e.prototype.hasStackedTiles=function(){return this.stackedTiles.length>0},e.prototype.hasTaggedHitBox=function(e){return this.taggedHitBoxes.some((function(t){return t.tag===e}))},e.prototype.setStackedTiles=function(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];this.stackedTiles=t,this.stackTile={tileId:e,rotate:0,flippedDiagonally:!1,flippedHorizontally:!1,flippedVertically:!1},this.stackedTilesHash=t.map((function(e){var t=e.tileId,i=e.rotate;return"".concat(t,",").concat(i)})).join(";")},e}(),f=function(){function e(){this._cachedValues=new Map,this._callbacks=new Map}return e.prototype.getOrLoad=function(e,t,i){var r=this,o=this._cachedValues.get(e);if(o)i(o);else{var a=this._callbacks.get(e);a?a.push(i):(this._callbacks.set(e,[i]),t((function(t){var i,o;t&&r._cachedValues.set(e,t);var a=r._callbacks.get(e);r._callbacks.delete(e);try{for(var l=n(a),s=l.next();!s.done;s=l.next()){(0,s.value)(t)}}catch(e){i={error:e}}finally{try{s&&!s.done&&(o=l.return)&&o.call(l)}finally{if(i)throw i.error}}})))}},e}(),h=function(){function e(){this._images=new Map,this._textures=new Map}return e.prototype.getImage=function(e){return this._images.get(e)},e.prototype.getTexture=function(e){return this._textures.get(e)},e.prototype.setImage=function(e,t){this._images.set(e,t)},e.prototype.setTexture=function(e,t){this._textures.set(e,t)},e}(),p=2147483648,y=1073741824,g=536870912,v=function(e,t){var i=t.data,r=t.compression;if(!i)return i;var n=4,o=[],a=atob(i).split("").map((function(e){return e.charCodeAt(0)}));try{var l=function(e,t){return e[t]+(e[t+1]<<8)+(e[t+2]<<16)+(e[t+3]<<24)>>>0};if("zlib"===r)for(var s=new Uint8Array(a),c=e.inflate(s);n<=c.length;)o.push(l(c,n-4)),n+=4;else{if("zstd"===r)return console.error("Zstandard compression is not supported for layers in a Tilemap. Use instead zlib compression or no compression."),null;for(;n<=a.length;)o.push(l(a,n-4)),n+=4}return o}catch(e){return console.error("Failed to decompress and unzip base64 layer.data string",e),null}};function T(e){if(0===e)return null;var t=!!(e&p),i=!!(e&y),r=!!(e&g);return{tileId:_(536870911&e),rotate:x(t,i,r),flippedDiagonally:r,flippedHorizontally:t,flippedVertically:i}}function x(e,t,i){var r=0;return i?(r=10,!e&&t?r=2:e&&!t?r=6:e&&t&&(r=14)):(r=0,!e&&t?r=8:e&&!t?r=12:e&&t&&(r=4)),r}function _(e){return 0===e?void 0:e-1}var w,m=GlobalPIXIModule.PIXI;!function(e){e.parseAtlas=function(e,t,i,r){if(!e.tiledversion)return console.warn("The loaded Tiled map does not contain a 'tiledversion' key. Are you sure this file has been exported from Tiled (mapeditor.org)?"),null;if(!e.tilesets.length||"source"in e.tilesets[0])return console.warn("The loaded Tiled map seems not to contain any tileset data (nothing in 'tilesets' key)."),null;var n=e.tilesets[0],o=n.tilewidth,a=n.tileheight,l=n.tilecount,s=n.image,c=n.columns,u=n.spacing,d=n.margin,f=void 0===n.firstgid?1:n.firstgid;i||(i=r(s));var p=l/c,y=o*c+u*(c-1)+2*d,g=a*p+u*(p-1)+2*d;if(1!==i.width&&i.width<y||i.width>=y+u+o||1!==i.height&&i.height<g||i.height>=g+u+a)return console.error("It seems the atlas file was resized, which is not supported. "+"It should be ".concat(y,"x").concat(g," px, ")+"but it's ".concat(i.width,"x").concat(i.height," px.")),null;if(1!==i.width&&i.width!==y||1!==i.height&&i.height!==g)return console.warn("It seems the atlas file has unused pixels. "+"It should be ".concat(y,"x").concat(g," px, ")+"but it's ".concat(i.width,"x").concat(i.height," px.")),null;for(var v=new h,T=0;T<l;T++){var x=d+Math.floor(T%c)*(o+u),w=d+Math.floor(T/c)*(a+u),b=_(f+T);try{var k=new m.Rectangle(x,w,o,a),M=new m.Texture(i,k);v.setTexture(b,M)}catch(e){console.error("An error occurred while creating a PIXI.Texture to be used in a TileMap:",e)}}return v}}(w||(w={}));var b=[0,12,8,4];function k(e,t){var i=e<<16;return i+=t}var M,I,H,D,S,A=GlobalPIXIModule.PIXI;function L(e,t,i,r){var n;if(e[r])return e[r];var o=null,a=t[r];return(null==a?void 0:a.relPath)?"res/error48.png"===(null===(n=(o=i(a.relPath)).baseTexture)||void 0===n?void 0:n.cacheId)&&(console.error('The atlas texture "'.concat(a.relPath,"\" can't be loaded")),o=null):console.error('The tileset "'.concat(a.identifier,"\" doesn't seems to contain an atlas texture")),e[r]=o,o}!function(e){e.parseAtlas=function(e,t,i,r){var l,s,c,u,d=e.levels[t>-1?t:0];if(!d||!d.layerInstances)return null;var f={};try{for(var p=n(e.defs.tilesets),y=p.next();!y.done;y=p.next()){f[(m=y.value).uid]=m}}catch(e){l={error:e}}finally{try{y&&!y.done&&(s=p.return)&&s.call(p)}finally{if(l)throw l.error}}for(var g=new h,v={},T={},x=d.layerInstances.length-1;x>=0;--x){var _=d.layerInstances[x];if("Entities"!==_.__type){var w=_.__tilesetDefUid;if("number"==typeof w){var m=f[w],b=L(T,f,r,w);if(b){var M={},I=m.tileGridSize;try{for(var H=(c=void 0,n(a(a([],o(_.autoLayerTiles),!1),o(_.gridTiles),!1))),D=H.next();!D.done;D=H.next()){var S=D.value;if(!M[S.t]){var P=k(w,S.t);if(v[P])M[S.t]=!0;else{try{var j=o(S.src,2),O=j[0],B=j[1],R=new A.Rectangle(O,B,I,I),V=new A.Texture(b,R);g.setTexture(P,V)}catch(e){console.error("An error occurred while creating a PIXI.Texture to be used in a TileMap:",e)}M[S.t]=!0,v[P]=!0}}}}catch(e){c={error:e}}finally{try{D&&!D.done&&(u=H.return)&&u.call(H)}finally{if(c)throw c.error}}}}}}if(d.bgRelPath){var X=r(d.bgRelPath);R=new A.Rectangle(0,0,d.pxWid,d.pxHei),V=new A.Texture(X,R);g.setImage(d.bgRelPath,V)}return g}}(M||(M={})),e.PixiTileMapHelper=void 0,(I=e.PixiTileMapHelper||(e.PixiTileMapHelper={})).parseAtlas=function(e,t,i,r){return"ldtk"===e.kind?M.parseAtlas(e.data,t,i,r):"tiled"===e.kind?w.parseAtlas(e.data,t,i,r):(console.warn("The loaded Tiled map data does not contain a 'tiledversion' or '__header__' key. Are you sure this file has been exported from Tiled (mapeditor.org) or LDtk (ldtk.io)?"),null)},I.updatePixiTileMap=function(e,t,i,r,o){var a,l,s,d,f,h,p=e;if(p){p.clear();var y=t.getBackgroundResourceName();if(y){var g=i.getImage(y);p.tile(g,0,0)}try{for(var v=n(t.getLayers()),T=v.next();!T.done;T=v.next()){var x=T.value;if(!("index"===r&&o!==x.id||"visible"===r&&!x.isVisible()))if(x instanceof c){var _=x;try{for(var w=(s=void 0,n(_.objects)),m=w.next();!m.done;m=w.next()){var b=m.value;(g=i.getTexture(b.tileId))&&p.tile(g,b.x,b.y-_.tileMap.getTileHeight(),{rotate:b.rotate})}}catch(e){s={error:e}}finally{try{m&&!m.done&&(d=w.return)&&d.call(w)}finally{if(s)throw s.error}}}else if(x instanceof u)for(var k=x,M=k.tileMap.getTileWidth(),I=k.tileMap.getTileHeight(),H=k.tileMap.getDimensionX(),D=k.tileMap.getDimensionY(),S=k.getAlpha(),A=0;A<D;A++)for(var L=0;L<H;L++){var P=M*L,j=I*A,O=k.getTile(L,A);if(O){var B=k.tileMap.getTileDefinition(O.tileId);if(B.hasStackedTiles())try{for(var R=(f=void 0,n(B.getStackedTiles())),V=R.next();!V.done;V=R.next()){var X=V.value;(z=i.getTexture(X.tileId))&&p.tile(z,P,j,{alpha:S,rotate:X.rotate})}}catch(e){f={error:e}}finally{try{V&&!V.done&&(h=R.return)&&h.call(R)}finally{if(f)throw f.error}}else{var z;if(!(z=i.getTexture(O.tileId)))continue;var C=p.tile(z,P,j,{alpha:S,rotate:O.rotate});B.getAnimationLength()>0&&C.tileAnimX(M,B.getAnimationLength())}}}}}catch(e){a={error:e}}finally{try{T&&!T.done&&(l=v.return)&&l.call(v)}finally{if(a)throw a.error}}}},I.updatePixiCollisionMask=function(e,t,i,r,o,a,l,s){var c,d,f,h;if(e){e.clear(),e.lineStyle(r,o,a),e.drawRect(0,0,t.getWidth(),t.getHeight());try{for(var p=n(t.getLayers()),y=p.next();!y.done;y=p.next()){var g=y.value,v=t.getTileWidth(),T=t.getTileHeight();if(g instanceof u)for(var x=g,_=0;_<x.tileMap.getDimensionY();_++)for(var w=0;w<x.tileMap.getDimensionX();w++){var m=v*w,b=T*_,k=x.getTile(w,_);if(k){var M=x.tileMap.getTileDefinition(k.tileId);if(M){var I=M.getHitBoxes(i);if(I)try{for(var H=(f=void 0,n(I)),D=H.next();!D.done;D=H.next()){var S=D.value;if(0!==S.length){e.beginFill(l,s);for(var A=0;A<S.length;A++){var L=S[A][0],P=S[A][1];if(k.flippedDiagonally){var j=L;L=P,P=j}k.flippedHorizontally&&(L=v-L),k.flippedVertically&&(P=T-P),0===A?e.moveTo(m+L,b+P):e.lineTo(m+L,b+P)}e.closePath(),e.endFill()}}}catch(e){f={error:e}}finally{try{D&&!D.done&&(h=H.return)&&h.call(H)}finally{if(f)throw f.error}}}}}}}catch(e){c={error:e}}finally{try{y&&!y.done&&(d=p.return)&&d.call(p)}finally{if(c)throw c.error}}}},function(e){e.load=function(e,t){var i,r,s,c,u=e.levels[t>-1?t:0];if(!u||!u.layerInstances)return null;for(var f=new Map,h=0,p=0,y=0,g=u.layerInstances.length-1;g>=0;--g){var v=(S=u.layerInstances[g]).__tilesetDefUid,T={};try{for(var x=(i=void 0,n(a(a([],o(S.autoLayerTiles),!1),o(S.gridTiles),!1))),_=x.next();!_.done;_=x.next()){if(!T[(O=_.value).t]){var w=k(v,O.t);if(f.has(w))T[O.t]=!0;else{var m=new d(0);T[O.t]=!0,f.set(w,m)}}}}catch(e){i={error:e}}finally{try{_&&!_.done&&(r=x.return)&&r.call(x)}finally{if(i)throw i.error}}0===h&&"IntGrid"===S.__type&&(h=S.__gridSize,p=S.__cWid,y=S.__cHei)}var M,I=new l(h,h,p,y,f),H=new Map,D=268435455;for(g=u.layerInstances.length-1;g>=0;--g){var S,A=(S=u.layerInstances[g]).__gridSize,L=(v=S.__tilesetDefUid,I.addTileLayer(g));L.setAlpha(S.__opacity),L.setVisible(S.visible);try{for(var P=(s=void 0,n(a(a([],o(S.autoLayerTiles),!1),o(S.gridTiles),!1))),j=P.next();!j.done;j=P.next()){var O=j.value,B=Math.floor(O.px[0]/A),R=Math.floor(O.px[1]/A),V=(w=k(v,O.t),M=O.f,b[M]),X={tileId:w,rotate:V,flippedDiagonally:3===O.f,flippedHorizontally:1===O.f,flippedVertically:2===O.f},z=L.getTile(B,R);if(z){var C=f.get(z.tileId);if(C.hasStackedTiles()){var W="".concat(C.getStackedTilesHash(),";").concat(w,",").concat(V);if(m=H.get(W))L.setTile(B,R,m.getStackTile());else{var Y=new d(0);Y.setStackedTiles.apply(Y,a(a([D],o(C.getStackedTiles()),!1),[X],!1)),f.set(D,Y),D-=1,H.set(Y.getStackedTilesHash(),Y),L.setTile(B,R,Y.getStackTile())}}else{(m=new d(0)).setStackedTiles(D,z,X),f.set(D,m),D-=1,H.set(m.getStackedTilesHash(),m),L.setTile(B,R,m.getStackTile())}}else L.setTile(B,R,X)}}catch(e){s={error:e}}finally{try{j&&!j.done&&(c=P.return)&&c.call(P)}finally{if(s)throw s.error}}}return u.bgRelPath&&I.setBackgroundResourceName(u.bgRelPath),I}}(H||(H={})),function(e){e.load=function(e,t){var i,o,a,s,c,u,f,h,p,y;if(!e.tiledversion)return console.warn("The loaded Tiled map does not contain a 'tiledversion' key. Are you sure this file has been exported from Tiled (mapeditor.org)?"),null;var g=new Map;try{for(var x=n(e.tilesets),w=x.next();!w.done;w=x.next()){var m=w.value,b=void 0===m.firstgid?1:m.firstgid;if(m.tiles)try{for(var k=(a=void 0,n(m.tiles)),M=k.next();!M.done;M=k.next()){var I=M.value,H=new d(I.animation?I.animation.length:0);if(I.objectgroup){var D=function(e){var t=e.class||I.class;if(!t||0===t.length)return"continue";var i=null;if(e.polygon){var r=e.rotation*Math.PI/180,n=Math.cos(r),o=Math.sin(r);-1!==n&&1!==n||(o=0),-1!==o&&1!==o||(n=0),i=e.polygon.map((function(t){return[e.x+t.x*n-t.y*o,e.y+t.x*o+t.y*n]}))}else void 0!==e.x&&void 0!==e.y&&void 0!==e.width&&void 0!==e.height&&(i=[[e.x,e.y],[e.x,e.y+e.height],[e.x+e.width,e.y+e.height],[e.x+e.width,e.y]]);i&&H.addHitBox(t,i)};try{for(var S=(c=void 0,n(I.objectgroup.objects)),A=S.next();!A.done;A=S.next()){D(Y=A.value)}}catch(e){c={error:e}}finally{try{A&&!A.done&&(u=S.return)&&u.call(S)}finally{if(c)throw c.error}}}else if(I.class&&I.class.length>0){var L=[[0,0],[0,e.tileheight],[e.tilewidth,e.tileheight],[e.tilewidth,0]];H.addHitBox(I.class,L)}g.set(_(b+I.id),H)}}catch(e){a={error:e}}finally{try{M&&!M.done&&(s=k.return)&&s.call(k)}finally{if(a)throw a.error}}for(var P=0;P<m.tilecount;P++){var j=_(b+P);g.has(j)||g.set(j,new d(0))}}}catch(e){i={error:e}}finally{try{w&&!w.done&&(o=x.return)&&o.call(x)}finally{if(i)throw i.error}}var O=new l(e.tilewidth,e.tileheight,e.width,e.height,g);try{for(var B=n(e.layers),R=B.next();!R.done;R=B.next()){var V=R.value;if("objectgroup"===V.type){var X=O.addObjectLayer(V.id);X.setVisible(V.visible);try{for(var z=(p=void 0,n(V.objects)),C=z.next();!C.done;C=z.next()){var W=C.value;if(W.visible&&W.gid)if(I=T(W.gid)){var Y=r(r({},I),{x:W.x,y:W.y});X.add(Y)}}}catch(e){p={error:e}}finally{try{C&&!C.done&&(y=z.return)&&y.call(z)}finally{if(p)throw p.error}}}else if("tilelayer"===V.type){var F=0,N=null;if("base64"===V.encoding?(N=v(t,V))||console.warn("Failed to uncompress layer.data"):N=V.data,N){var E=O.addTileLayer(V.id);E.setVisible(V.visible);for(var U=0;U<V.height;U++)for(var G=0;G<V.width;G++){(I=T(N[F]))&&E.setTile(G,U,I),F+=1}}}}}catch(e){f={error:e}}finally{try{R&&!R.done&&(h=B.return)&&h.call(B)}finally{if(f)throw f.error}}return O}}(D||(D={})),function(e){e.load=function(e,t,i){return"ldtk"===e.kind?H.load(e.data,t):"tiled"===e.kind?D.load(e.data,i):(console.warn("The loaded Tile Map data does not contain a 'tiledversion' or '__header__' key. Are you sure this file has been exported from Tiled (mapeditor.org) or LDtk (ldtk.io)?"),null)}}(S||(S={}));var P=function(){function t(){this._tileMapCache=new f,this._textureCacheCaches=new f}return t.getManager=function(e){return e.tileMapCollisionMaskManager||(e.tileMapCollisionMaskManager=new t),e.tileMapCollisionMaskManager},t.identify=function(e){return e.tiledversion?(console.info("Detected the json file was created in Tiled"),{kind:"tiled",data:e}):e.__header__&&"LDtk"===e.__header__.app?(console.info("Detected the json/ldtk file was created in LDtk"),{kind:"ldtk",data:e}):(console.warn("The loaded Tile Map data does not contain a 'tiledversion' or '__header__' key. Are you sure this file has been exported from Tiled (mapeditor.org) or LDtk (ldtk.io)?"),console.log("The data that failed Tile Map identification is: ",e),null)},t.prototype.getOrLoadTileMap=function(e,t,i,r,n,o){var a=t+"|"+i+"|"+r;this._tileMapCache.getOrLoad(a,(function(o){e(t,i,(function(e){if(e){var t=S.load(e,r,n);o(t)}else o(null)}))}),o)},t.prototype.getOrLoadTextureCache=function(t,i,r,n,o,a,l){var s=n+"|"+o+"|"+r+"|"+a;this._textureCacheCaches.getOrLoad(s,(function(l){t(n,o,(function(t){if(t){var n=r?i(r):null,o=e.PixiTileMapHelper.parseAtlas(t,a,n,i);l(o)}else l(null)}))}),l)},t}();e.EditableTileMap=l,e.EditableTileMapLayer=u,e.TileDefinition=d,e.TileMapManager=P,e.TileTextureCache=h,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=TileMapHelper.js.map
