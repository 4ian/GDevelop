!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).TileMapHelper={})}(this,(function(e){"use strict";var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])},t(e,i)};function i(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}function r(e){var t="function"==typeof Symbol&&Symbol.iterator,i=t&&e[t],r=0;if(i)return i.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function n(e,t){var i="function"==typeof Symbol&&e[Symbol.iterator];if(!i)return e;var r,n,l=i.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=l.next()).done;)o.push(r.value)}catch(e){n={error:e}}finally{try{r&&!r.done&&(i=l.return)&&i.call(l)}finally{if(n)throw n.error}}return o}function l(e,t,i){if(i||2===arguments.length)for(var r,n=0,l=t.length;n<l;n++)!r&&n in t||(r||(r=Array.prototype.slice.call(t,0,n)),r[n]=t[n]);return e.concat(r||Array.prototype.slice.call(t))}var o,a=function(){function e(e,t,i,r,n){this.tileWidth=e,this.tileHeight=t,this.dimX=i,this.dimY=r,this._tileSet=n,this._layers=[]}return e.prototype.getWidth=function(){return this.tileWidth*this.dimX},e.prototype.getHeight=function(){return this.tileHeight*this.dimY},e.prototype.getTileHeight=function(){return this.tileHeight},e.prototype.getTileWidth=function(){return this.tileWidth},e.prototype.getDimensionX=function(){return this.dimX},e.prototype.getDimensionY=function(){return this.dimY},e.prototype.getTileDefinition=function(e){return this._tileSet.get(e)},e.prototype.getTileDefinitions=function(){return this._tileSet.values()},e.prototype.addTileLayer=function(e){var t=new f(this,e);return this._layers.push(t),t},e.prototype.addObjectLayer=function(e){var t=new d(this,e);return this._layers.push(t),t},e.prototype.getLayers=function(){return this._layers},e.prototype.pointIsInsideTile=function(e,t,i){var n,l,o=Math.floor(e/this.tileWidth),a=Math.floor(t/this.tileHeight);try{for(var s=r(this._layers),d=s.next();!d.done;d=s.next()){var p=d.value;if(p){var c=p.get(o,a);if(void 0===c)return!1;if(this._tileSet.get(c).hasTag(i))return!0}}}catch(e){n={error:e}}finally{try{d&&!d.done&&(l=s.return)&&l.call(s)}finally{if(n)throw n.error}}return!1},e}(),s=function(){function e(e,t){this.visible=!0,this.tileMap=e,this.id=t}return e.prototype.setVisible=function(e){this.visible=e},e.prototype.isVisible=function(){return this.visible},e}(),d=function(e){function t(t,i){var r=e.call(this,t,i)||this;return r.objects=[],r}return i(t,e),t.prototype.add=function(e){this.objects.push(e)},t}(s),p=function(){function e(e,t,i){this.tileId=i,this.x=e,this.y=t}return e.prototype.getTileId=function(){return c.getTileId(this.tileId)},e.prototype.setFlippedHorizontally=function(e){this.tileId=c.setFlippedHorizontally(this.tileId,e)},e.prototype.setFlippedVertically=function(e){this.tileId=c.setFlippedVertically(this.tileId,e)},e.prototype.setFlippedDiagonally=function(e){this.tileId=c.setFlippedDiagonally(this.tileId,e)},e.prototype.isFlippedHorizontally=function(){return c.isFlippedHorizontally(this.tileId)},e.prototype.isFlippedVertically=function(){return c.isFlippedVertically(this.tileId)},e.prototype.isFlippedDiagonally=function(){return c.isFlippedDiagonally(this.tileId)},e}(),c=function(){function e(){}return e.getTileId=function(t){return t&e.tileIdMask},e.setFlippedHorizontally=function(t,i){return t&=~e.flippedHorizontallyFlag,i&&(t|=e.flippedHorizontallyFlag),t},e.setFlippedVertically=function(t,i){return t&=~e.flippedVerticallyFlag,i&&(t|=e.flippedVerticallyFlag),t},e.setFlippedDiagonally=function(t,i){return t&=~e.flippedDiagonallyFlag,i&&(t|=e.flippedDiagonallyFlag),t},e.isFlippedHorizontally=function(t){return 0!=(t&e.flippedHorizontallyFlag)},e.isFlippedVertically=function(t){return 0!=(t&e.flippedVerticallyFlag)},e.isFlippedDiagonally=function(t){return 0!=(t&e.flippedDiagonallyFlag)},e.flippedHorizontallyFlag=2147483648,e.flippedVerticallyFlag=1073741824,e.flippedDiagonallyFlag=536870912,e.tileIdMask=~(e.flippedHorizontallyFlag|e.flippedVerticallyFlag|e.flippedDiagonallyFlag),e}(),f=function(e){function t(t,i){var r=e.call(this,t,i)||this;r._tiles=[],r._tiles.length=r.tileMap.getDimensionY();for(var n=0;n<r._tiles.length;n++)r._tiles[n]=new Int32Array(r.tileMap.getDimensionX());return r}return i(t,e),t.prototype.setTile=function(e,t,i){this.tileMap.getTileDefinition(i)?this._tiles[t][e]=i+1:console.error("Invalid tile definition index: ".concat(i))},t.prototype.removeTile=function(e,t){this._tiles[t][e]=0},t.prototype.setFlippedHorizontally=function(e,t,i){var r=this._tiles[t][e];0!==r&&(this._tiles[t][e]=c.setFlippedHorizontally(r,i))},t.prototype.setFlippedVertically=function(e,t,i){var r=this._tiles[t][e];0!==r&&(this._tiles[t][e]=c.setFlippedVertically(r,i))},t.prototype.setFlippedDiagonally=function(e,t,i){var r=this._tiles[t][e];0!==r&&(this._tiles[t][e]=c.setFlippedDiagonally(r,i))},t.prototype.isFlippedHorizontally=function(e,t){return c.isFlippedHorizontally(this._tiles[t][e])},t.prototype.isFlippedVertically=function(e,t){return c.isFlippedVertically(this._tiles[t][e])},t.prototype.isFlippedDiagonally=function(e,t){return c.isFlippedDiagonally(this._tiles[t][e])},t.prototype.get=function(e,t){var i=this._tiles[t];if(i&&0!==i[e])return c.getTileId(i[e]-1)},t.prototype.getDimensionX=function(){return 0===this._tiles.length?0:this._tiles[0].length},t.prototype.getDimensionY=function(){return this._tiles.length},t.prototype.getWidth=function(){return this.tileMap.getWidth()},t.prototype.getHeight=function(){return this.tileMap.getHeight()},t}(s),u=function(){function e(e){this.taggedHitBoxes=[],this.animationLength=e}return e.prototype.add=function(e,t){var i=this.taggedHitBoxes.find((function(t){return t.tag===e}));i||(i={tag:e,polygons:[]},this.taggedHitBoxes.push(i)),i.polygons.push(t)},e.prototype.hasTag=function(e){return this.taggedHitBoxes.some((function(t){return t.tag===e}))},e.prototype.getHitBoxes=function(e){var t=this.taggedHitBoxes.find((function(t){return t.tag===e}));return t&&t.polygons},e.prototype.getAnimationLength=function(){return this.animationLength},e}(),h=function(){function e(){this._cachedValues=new Map,this._callbacks=new Map}return e.prototype.getOrLoad=function(e,t,i){var n=this,l=this._cachedValues.get(e);if(l)i(l);else{var o=this._callbacks.get(e);o?o.push(i):(this._callbacks.set(e,[i]),t((function(t){var i,l;t&&n._cachedValues.set(e,t);var o=n._callbacks.get(e);n._callbacks.delete(e);try{for(var a=r(o),s=a.next();!s.done;s=a.next()){(0,s.value)(t)}}catch(e){i={error:e}}finally{try{s&&!s.done&&(l=a.return)&&l.call(a)}finally{if(i)throw i.error}}})))}},e}(),y=function(){function e(){this._textures=new Map}return e.prototype.setTexture=function(e,t,i,r,n){var l=this._getGlobalId(e,t,i,r);this._textures.set(l,n)},e.prototype.findTileTexture=function(e){return this._textures.get(e)},e.prototype.getPixiRotate=function(e,t,i){var r=0;return i?(r=10,!e&&t?r=2:e&&!t?r=6:e&&t&&(r=14)):(r=0,!e&&t?r=8:e&&!t?r=12:e&&t&&(r=4)),r},e.prototype._getGlobalId=function(t,i,r,n){var l=t;return i&&(l|=e.flippedHorizontallyFlag),r&&(l|=e.flippedVerticallyFlag),n&&(l|=e.flippedDiagonallyFlag),l},e.flippedHorizontallyFlag=2147483648,e.flippedVerticallyFlag=1073741824,e.flippedDiagonallyFlag=536870912,e}(),g=function(e,t){var i=t.data,r=t.compression;if(!i)return i;var n=4,l=[],o=atob(i).split("").map((function(e){return e.charCodeAt(0)}));try{var a=function(e,t){return e[t]+(e[t+1]<<8)+(e[t+2]<<16)+(e[t+3]<<24)>>>0};if("zlib"===r)for(var s=new Uint8Array(o),d=e.inflate(s);n<=d.length;)l.push(a(d,n-4)),n+=4;else{if("zstd"===r)return console.error("Zstandard compression is not supported for layers in a Tilemap. Use instead zlib compression or no compression."),null;for(;n<=o.length;)l.push(a(o,n-4)),n+=4}return l}catch(e){return console.error("Failed to decompress and unzip base64 layer.data string",e),null}},v=function(e){var t=2147483648,i=1073741824,r=536870912,n=e&t,l=e&i,o=e&r;return{id:x(536870911&e),flippedHorizontally:!!n,flippedVertically:!!l,flippedDiagonally:!!o}},x=function(e){return 0===e?void 0:e-1},T=GlobalPIXIModule.PIXI;function _(e,t){var i=e<<16;return i+=t}!function(e){e.parseAtlas=function(e,t,i){if(!e.tiledversion)return console.warn("The loaded Tiled map does not contain a 'tiledversion' key. Are you sure this file has been exported from Tiled (mapeditor.org)?"),null;if(!e.tilesets.length||"source"in e.tilesets[0])return console.warn("The loaded Tiled map seems not to contain any tileset data (nothing in 'tilesets' key)."),null;var r=e.tilesets[0],n=r.tilewidth,l=r.tileheight,o=r.tilecount,a=r.image,s=r.columns,d=r.spacing,p=r.margin,c=void 0===r.firstgid?1:r.firstgid;t||(t=i(a));var f=o/s,u=n*s+d*(s-1)+2*p,h=l*f+d*(f-1)+2*p;if(1!==t.width&&t.width<u||t.width>=u+d+n||1!==t.height&&t.height<h||t.height>=h+d+l)return console.error("It seems the atlas file was resized, which is not supported. "+"It should be ".concat(u,"x").concat(h," px, ")+"but it's ".concat(t.width,"x").concat(t.height," px.")),null;if(1!==t.width&&t.width!==u||1!==t.height&&t.height!==h)return console.warn("It seems the atlas file has unused pixels. "+"It should be ".concat(u,"x").concat(h," px, ")+"but it's ".concat(t.width,"x").concat(t.height," px.")),null;for(var g=new y,v=0;v<o;v++){var _=p+Math.floor(v%s)*(n+d),w=p+Math.floor(v/s)*(l+d),F=x(c+v);try{var b=new T.Rectangle(_,w,n,l),m=new T.Texture(t,b);g.setTexture(F,!1,!1,!1,m)}catch(e){console.error("An error occurred while creating a PIXI.Texture to be used in a TileMap:",e)}}return g}}(o||(o={}));var w,F,b,m,M,D=GlobalPIXIModule.PIXI;function H(e,t,i,r){var n;if(e[r])return e[r];var l=null,o=t[r];return(null==o?void 0:o.relPath)?"res/error48.png"===(null===(n=(l=i(o.relPath)).baseTexture)||void 0===n?void 0:n.cacheId)&&(console.error('The an atlas texture "'.concat(o.relPath,"\" can't be loaded")),l=null):console.error('The tileset "'.concat(o.identifier,"\" doesn't seems to contain an atlas texture")),e[r]=l,l}!function(e){e.parseAtlas=function(e,t,i){var o,a,s,d,p=e.levels[0];if(!p||!p.layerInstances)return null;var c={};try{for(var f=r(e.defs.tilesets),u=f.next();!u.done;u=f.next()){c[(F=u.value).uid]=F}}catch(e){o={error:e}}finally{try{u&&!u.done&&(a=f.return)&&a.call(f)}finally{if(o)throw o.error}}for(var h=new y,g={},v={},x=p.layerInstances.length-1;x>=0;--x){var T=p.layerInstances[x],w=T.__tilesetDefUid,F=c[w],b=H(v,c,i,w);if(b){var m={},M=F.tileGridSize;try{for(var I=(s=void 0,r(l(l([],n(T.autoLayerTiles),!1),n(T.gridTiles),!1))),k=I.next();!k.done;k=I.next()){var V=k.value;if(!m[V.t]){var z=_(w,V.t);if(g[z])m[V.t]=!0;else{try{var L=n(V.src,2),A=L[0],P=L[1],j=new D.Rectangle(A,P,M,M),X=new D.Texture(b,j);h.setTexture(z,!1,!1,!1,X)}catch(e){console.error("An error occurred while creating a PIXI.Texture to be used in a TileMap:",e)}m[V.t]=!0,g[z]=!0}}}}catch(e){s={error:e}}finally{try{k&&!k.done&&(d=I.return)&&d.call(I)}finally{if(s)throw s.error}}}}return h}}(w||(w={})),e.PixiTileMapHelper=void 0,(F=e.PixiTileMapHelper||(e.PixiTileMapHelper={})).parseAtlas=function(e,t,i){return"ldtk"===e.kind?w.parseAtlas(e.data,t,i):"tiled"===e.kind?o.parseAtlas(e.data,t,i):(console.warn("The loaded Tiled map data does not contain a 'tiledversion' or '__header__' key. Are you sure this file has been exported from Tiled (mapeditor.org) or LDtk (ldtk.io)?"),null)},F.updatePixiTileMap=function(e,t,i,n,l,o){var a,s,p,c,u=e;if(u){u.clear();try{for(var h=r(t.getLayers()),y=h.next();!y.done;y=h.next()){var g=y.value;if(!("index"===n&&l!==g.id||"visible"===n&&!g.isVisible()))if(g instanceof d){var v=g;try{for(var x=(p=void 0,r(v.objects)),T=x.next();!T.done;T=x.next()){var _=T.value,w=i.findTileTexture(_.getTileId());if(w){var F=i.getPixiRotate(_.isFlippedHorizontally(),_.isFlippedVertically(),_.isFlippedDiagonally());u.tile(w,_.x,_.y-v.tileMap.getTileHeight(),{rotate:F})}}}catch(e){p={error:e}}finally{try{T&&!T.done&&(c=x.return)&&c.call(x)}finally{if(p)throw p.error}}}else if(g instanceof f)for(var b=g,m=b.tileMap.getTileWidth(),M=b.tileMap.getTileHeight(),D=b.tileMap.getDimensionX(),H=b.tileMap.getDimensionY(),I=0;I<H;I++)for(var k=0;k<D;k++){var V=m*k,z=M*I,L=b.get(k,I);if(void 0!==L){var A=i.findTileTexture(L);if(A){F=i.getPixiRotate(b.isFlippedHorizontally(k,I),b.isFlippedVertically(k,I),b.isFlippedDiagonally(k,I));var P=u.tile(A,V,z,{rotate:F}),j=b.tileMap.getTileDefinition(L);j&&j.getAnimationLength()>0&&P.tileAnimX(m,j.getAnimationLength())}else console.warn("Unknown tile id: ".concat(L," at (").concat(k,", ").concat(I,")"))}}}}catch(e){a={error:e}}finally{try{y&&!y.done&&(s=h.return)&&s.call(h)}finally{if(a)throw a.error}}}},F.updatePixiCollisionMask=function(e,t,i,n,l,o,a,s){var d,p,c,u;if(e){e.clear(),e.lineStyle(n,l,o),e.drawRect(0,0,t.getWidth(),t.getHeight());try{for(var h=r(t.getLayers()),y=h.next();!y.done;y=h.next()){var g=y.value,v=t.getTileWidth(),x=t.getTileHeight();if(g instanceof f)for(var T=g,_=0;_<T.tileMap.getDimensionY();_++)for(var w=0;w<T.tileMap.getDimensionX();w++){var F=v*w,b=x*_,m=T.get(w,_),M=T.isFlippedHorizontally(w,_),D=T.isFlippedVertically(w,_),H=T.isFlippedDiagonally(w,_),I=T.tileMap.getTileDefinition(m);if(I){var k=I.getHitBoxes(i);if(k)try{for(var V=(c=void 0,r(k)),z=V.next();!z.done;z=V.next()){var L=z.value;if(0!==L.length){e.beginFill(a,s);for(var A=0;A<L.length;A++){var P=L[A][0],j=L[A][1];if(H){var X=P;P=j,j=X}M&&(P=v-P),D&&(j=x-j),0===A?e.moveTo(F+P,b+j):e.lineTo(F+P,b+j)}e.closePath(),e.endFill()}}}catch(e){c={error:e}}finally{try{z&&!z.done&&(u=V.return)&&u.call(V)}finally{if(c)throw c.error}}}}}}catch(e){d={error:e}}finally{try{y&&!y.done&&(p=h.return)&&p.call(h)}finally{if(d)throw d.error}}}},function(e){e.load=function(e,t){var i,n,l,o,s,d,c,f,h,y;if(!t.tiledversion)return console.warn("The loaded Tiled map does not contain a 'tiledversion' key. Are you sure this file has been exported from Tiled (mapeditor.org)?"),null;var T=new Map;try{for(var _=r(t.tilesets),w=_.next();!w.done;w=_.next()){var F=w.value,b=void 0===F.firstgid?1:F.firstgid;if(F.tiles)try{for(var m=(l=void 0,r(F.tiles)),M=m.next();!M.done;M=m.next()){var D=M.value,H=new u(D.animation?D.animation.length:0);if(D.objectgroup){var I=function(e){var t=e.class||D.class;if(!t||0===t.length)return"continue";var i=null;if(e.polygon){var r=e.rotation*Math.PI/180,n=Math.cos(r),l=Math.sin(r);-1!==n&&1!==n||(l=0),-1!==l&&1!==l||(n=0),i=e.polygon.map((function(t){return[e.x+t.x*n-t.y*l,e.y+t.x*l+t.y*n]}))}else void 0!==e.x&&void 0!==e.y&&void 0!==e.width&&void 0!==e.height&&(i=[[e.x,e.y],[e.x,e.y+e.height],[e.x+e.width,e.y+e.height],[e.x+e.width,e.y]]);i&&H.add(t,i)};try{for(var k=(s=void 0,r(D.objectgroup.objects)),V=k.next();!V.done;V=k.next()){I(R=V.value)}}catch(e){s={error:e}}finally{try{V&&!V.done&&(d=k.return)&&d.call(k)}finally{if(s)throw s.error}}}else if(D.class&&D.class.length>0){var z=[[0,0],[0,t.tileheight],[t.tilewidth,t.tileheight],[t.tilewidth,0]];H.add(D.class,z)}T.set(x(b+D.id),H)}}catch(e){l={error:e}}finally{try{M&&!M.done&&(o=m.return)&&o.call(m)}finally{if(l)throw l.error}}for(var L=0;L<F.tilecount;L++){var A=x(b+L);T.has(A)||T.set(A,new u(0))}}}catch(e){i={error:e}}finally{try{w&&!w.done&&(n=_.return)&&n.call(_)}finally{if(i)throw i.error}}var P=new a(t.tilewidth,t.tileheight,t.width,t.height,T);try{for(var j=r(t.layers),X=j.next();!X.done;X=j.next()){var C=X.value;if("objectgroup"===C.type){var O=P.addObjectLayer(C.id);O.setVisible(C.visible);try{for(var S=(h=void 0,r(C.objects)),W=S.next();!W.done;W=S.next()){var Y=W.value;if(Y.visible&&Y.gid){var B=v(Y.gid),R=new p(Y.x,Y.y,B.id);O.add(R),R.setFlippedHorizontally(B.flippedHorizontally),R.setFlippedVertically(B.flippedVertically),R.setFlippedDiagonally(B.flippedDiagonally)}}}catch(e){h={error:e}}finally{try{W&&!W.done&&(y=S.return)&&y.call(S)}finally{if(h)throw h.error}}}else if("tilelayer"===C.type){var U=0,G=null;if("base64"===C.encoding?(G=g(e,C))||console.warn("Failed to uncompress layer.data"):G=C.data,G){var E=P.addTileLayer(C.id);E.setVisible(C.visible);for(var Z=0;Z<C.height;Z++)for(var q=0;q<C.width;q++){var J=G[U],K=v(J);void 0!==K.id&&(E.setTile(q,Z,K.id),E.setFlippedHorizontally(q,Z,K.flippedHorizontally),E.setFlippedVertically(q,Z,K.flippedVertically),E.setFlippedDiagonally(q,Z,K.flippedDiagonally)),U+=1}}}}}catch(e){c={error:e}}finally{try{X&&!X.done&&(f=j.return)&&f.call(j)}finally{if(c)throw c.error}}return P}}(b||(b={})),function(e){e.load=function(e,t){var i,o,s,d,p=t.levels[0];if(!p||!p.layerInstances)return null;for(var c=new Map,f=p.layerInstances.length-1;f>=0;--f){var h=(F=p.layerInstances[f]).__tilesetDefUid,y={};try{for(var g=(i=void 0,r(l(l([],n(F.autoLayerTiles),!1),n(F.gridTiles),!1))),v=g.next();!v.done;v=g.next()){if(!y[(H=v.value).t]){var x=_(h,H.t);if(c.has(x))y[H.t]=!0;else{var T=new u(0);y[H.t]=!0,c.set(x,T)}}}}catch(e){i={error:e}}finally{try{v&&!v.done&&(o=g.return)&&o.call(g)}finally{if(i)throw i.error}}}var w=new a(8,8,37,22,c);for(f=p.layerInstances.length-1;f>=0;--f){var F,b=(F=p.layerInstances[f]).__gridSize,m=(h=F.__tilesetDefUid,w.addTileLayer(f));m.setVisible(F.visible);try{for(var M=(s=void 0,r(l(l([],n(F.autoLayerTiles),!1),n(F.gridTiles),!1))),D=M.next();!D.done;D=M.next()){var H,I=(H=D.value).px[0]/b,k=H.px[1]/b;x=_(h,H.t);m.setTile(I,k,x),0===H.f||(1===H.f?m.setFlippedHorizontally(I,k,!0):2===H.f?m.setFlippedVertically(I,k,!0):3===H.f&&m.setFlippedDiagonally(I,k,!0))}}catch(e){s={error:e}}finally{try{D&&!D.done&&(d=M.return)&&d.call(M)}finally{if(s)throw s.error}}}return w}}(m||(m={})),function(e){e.load=function(e,t){return"ldtk"===t.kind?m.load(e,t.data):"tiled"===t.kind?b.load(e,t.data):(console.warn("The loaded Tile Map data does not contain a 'tiledversion' or '__header__' key. Are you sure this file has been exported from Tiled (mapeditor.org) or LDtk (ldtk.io)?"),null)}}(M||(M={}));var I=function(){function t(){this._tileMapCache=new h,this._textureCacheCaches=new h}return t.getManager=function(e){return e.tileMapCollisionMaskManager||(e.tileMapCollisionMaskManager=new t),e.tileMapCollisionMaskManager},t.identify=function(e){return e.tiledversion?(console.info("Detected the json file was created in Tiled"),{kind:"tiled",data:e}):e.__header__&&"LDtk"===e.__header__.app?(console.info("Detected the json/ldtk file was created in LDtk"),{kind:"ldtk",data:e}):(console.warn("The loaded Tile Map data does not contain a 'tiledversion' or '__header__' key. Are you sure this file has been exported from Tiled (mapeditor.org) or LDtk (ldtk.io)?"),console.log("identify: ",e),null)},t.prototype.getOrLoadTileMap=function(e,t,i,r,n){var l=t+"|"+i;this._tileMapCache.getOrLoad(l,(function(n){e(t,i,(function(e){if(e){var t=M.load(r,e);n(t)}else n(null)}))}),n)},t.prototype.getOrLoadTextureCache=function(t,i,r,n,l,o){var a=n+"|"+l+"|"+r;this._textureCacheCaches.getOrLoad(a,(function(o){t(n,l,(function(t){if(t){var n=r?i(r):null,l=e.PixiTileMapHelper.parseAtlas(t,n,i);o(l)}else o(null)}))}),o)},t}();e.EditableTileMap=a,e.EditableTileMapLayer=f,e.TileDefinition=u,e.TileMapManager=I,e.TileTextureCache=y,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=TileMapHelper.js.map
