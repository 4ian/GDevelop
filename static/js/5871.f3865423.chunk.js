/*! For license information please see 5871.f3865423.chunk.js.LICENSE.txt */
(self.webpackChunkgdevelop_ide=self.webpackChunkgdevelop_ide||[]).push([[5871],{54777:function(e,t,a){"use strict";var i=a(56690).default,n=a(89728).default,r=a(73629),s=a(86889),o=a(51108),l=a(48182);s.DisplayObject.mixin(l.accessibleTarget);var d=100,c=function(){function e(t){i(this,e),this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(r.utils.isMobile.tablet||r.utils.isMobile.phone)&&this.createTouchHook();var a=document.createElement("div");a.style.width="".concat(d,"px"),a.style.height="".concat(d,"px"),a.style.position="absolute",a.style.top="".concat(0,"px"),a.style.left="".concat(0,"px"),a.style.zIndex=2..toString(),this.div=a,this.renderer=t,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)}return n(e,[{key:"isActive",get:function(){return this._isActive}},{key:"isMobileAccessibility",get:function(){return this._isMobileAccessibility}},{key:"createTouchHook",value:function(){var e=this,t=document.createElement("button");t.style.width="".concat(1,"px"),t.style.height="".concat(1,"px"),t.style.position="absolute",t.style.top="".concat(-1e3,"px"),t.style.left="".concat(-1e3,"px"),t.style.zIndex=2..toString(),t.style.backgroundColor="#FF0000",t.title="select to enable accessibility for this content",t.addEventListener("focus",(function(){e._isMobileAccessibility=!0,e.activate(),e.destroyTouchHook()})),document.body.appendChild(t),this._hookDiv=t}},{key:"destroyTouchHook",value:function(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)}},{key:"activate",value:function(){var e;this._isActive||(this._isActive=!0,globalThis.document.addEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),null===(e=this.renderer.view.parentNode)||void 0===e||e.appendChild(this.div))}},{key:"deactivate",value:function(){var e;!this._isActive||this._isMobileAccessibility||(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),null===(e=this.div.parentNode)||void 0===e||e.removeChild(this.div))}},{key:"updateAccessibleObjects",value:function(e){if(e.visible&&e.accessibleChildren){e.accessible&&e.isInteractive()&&(e._accessibleActive||this.addChild(e),e.renderId=this.renderId);var t=e.children;if(t)for(var a=0;a<t.length;a++)this.updateAccessibleObjects(t[a])}}},{key:"update",value:function(){var e=performance.now();if(!(r.utils.isMobile.android.device&&e<this.androidUpdateCount)&&(this.androidUpdateCount=e+this.androidUpdateFrequency,this.renderer.renderingToScreen)){this.renderer.lastObjectRendered&&this.updateAccessibleObjects(this.renderer.lastObjectRendered);var t=this.renderer.view.getBoundingClientRect(),a=t.x,i=t.y,n=t.width,s=t.height,o=this.renderer,l=o.width,d=o.height,c=o.resolution,u=n/l*c,h=s/d*c,f=this.div;f.style.left="".concat(a,"px"),f.style.top="".concat(i,"px"),f.style.width="".concat(l,"px"),f.style.height="".concat(d,"px");for(var p=0;p<this.children.length;p++){var m=this.children[p];if(m.renderId!==this.renderId)m._accessibleActive=!1,r.utils.removeItems(this.children,p,1),this.div.removeChild(m._accessibleDiv),this.pool.push(m._accessibleDiv),m._accessibleDiv=null,p--;else{f=m._accessibleDiv;var g=m.hitArea,v=m.worldTransform;m.hitArea?(f.style.left="".concat((v.tx+g.x*v.a)*u,"px"),f.style.top="".concat((v.ty+g.y*v.d)*h,"px"),f.style.width="".concat(g.width*v.a*u,"px"),f.style.height="".concat(g.height*v.d*h,"px")):(g=m.getBounds(),this.capHitArea(g),f.style.left="".concat(g.x*u,"px"),f.style.top="".concat(g.y*h,"px"),f.style.width="".concat(g.width*u,"px"),f.style.height="".concat(g.height*h,"px"),f.title!==m.accessibleTitle&&null!==m.accessibleTitle&&(f.title=m.accessibleTitle),f.getAttribute("aria-label")!==m.accessibleHint&&null!==m.accessibleHint&&f.setAttribute("aria-label",m.accessibleHint)),(m.accessibleTitle!==f.title||m.tabIndex!==f.tabIndex)&&(f.title=m.accessibleTitle,f.tabIndex=m.tabIndex,this.debug&&this.updateDebugHTML(f))}}this.renderId++}}},{key:"updateDebugHTML",value:function(e){e.innerHTML="type: ".concat(e.type,"</br> title : ").concat(e.title,"</br> tabIndex: ").concat(e.tabIndex)}},{key:"capHitArea",value:function(e){e.x<0&&(e.width+=e.x,e.x=0),e.y<0&&(e.height+=e.y,e.y=0);var t=this.renderer,a=t.width,i=t.height;e.x+e.width>a&&(e.width=a-e.x),e.y+e.height>i&&(e.height=i-e.y)}},{key:"addChild",value:function(e){var t=this.pool.pop();t||((t=document.createElement("button")).style.width="".concat(d,"px"),t.style.height="".concat(d,"px"),t.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",t.style.position="absolute",t.style.zIndex=2..toString(),t.style.borderStyle="none",navigator.userAgent.toLowerCase().includes("chrome")?t.setAttribute("aria-live","off"):t.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?t.setAttribute("aria-relevant","additions"):t.setAttribute("aria-relevant","text"),t.addEventListener("click",this._onClick.bind(this)),t.addEventListener("focus",this._onFocus.bind(this)),t.addEventListener("focusout",this._onFocusOut.bind(this))),t.style.pointerEvents=e.accessiblePointerEvents,t.type=e.accessibleType,e.accessibleTitle&&null!==e.accessibleTitle?t.title=e.accessibleTitle:(!e.accessibleHint||null===e.accessibleHint)&&(t.title="displayObject ".concat(e.tabIndex)),e.accessibleHint&&null!==e.accessibleHint&&t.setAttribute("aria-label",e.accessibleHint),this.debug&&this.updateDebugHTML(t),e._accessibleActive=!0,e._accessibleDiv=t,t.displayObject=e,this.children.push(e),this.div.appendChild(e._accessibleDiv),e._accessibleDiv.tabIndex=e.tabIndex}},{key:"_dispatchEvent",value:function(e,t){var a=e.target.displayObject,i=this.renderer.events.rootBoundary,n=Object.assign(new o.FederatedEvent(i),{target:a});i.rootTarget=this.renderer.lastObjectRendered,t.forEach((function(e){return i.dispatchEvent(n,e)}))}},{key:"_onClick",value:function(e){this._dispatchEvent(e,["click","pointertap","tap"])}},{key:"_onFocus",value:function(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","assertive"),this._dispatchEvent(e,["mouseover"])}},{key:"_onFocusOut",value:function(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","polite"),this._dispatchEvent(e,["mouseout"])}},{key:"_onKeyDown",value:function(e){9===e.keyCode&&this.activate()}},{key:"_onMouseMove",value:function(e){0===e.movementX&&0===e.movementY||this.deactivate()}},{key:"destroy",value:function(){this.destroyTouchHook(),this.div=null,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null}}]),e}();c.extension={name:"accessibility",type:[r.ExtensionType.RendererPlugin,r.ExtensionType.CanvasRendererPlugin]},r.extensions.add(c),t.AccessibilityManager=c},48182:function(e,t){"use strict";t.accessibleTarget={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1}},27127:function(e,t,a){"use strict";var i=a(54777),n=a(48182);t.AccessibilityManager=i.AccessibilityManager,t.accessibleTarget=n.accessibleTarget},16580:function(e,t,a){"use strict";var i=a(56690).default,n=a(89728).default,r=a(73629),s=a(86889),o=function(){function e(t){var a=this;i(this,e),this.stage=new s.Container,t=Object.assign({forceCanvas:!1},t),this.renderer=r.autoDetectRenderer(t),e._plugins.forEach((function(e){e.init.call(a,t)}))}return n(e,[{key:"render",value:function(){this.renderer.render(this.stage)}},{key:"view",get:function(){var e;return null===(e=this.renderer)||void 0===e?void 0:e.view}},{key:"screen",get:function(){var e;return null===(e=this.renderer)||void 0===e?void 0:e.screen}},{key:"destroy",value:function(t,a){var i=this,n=e._plugins.slice(0);n.reverse(),n.forEach((function(e){e.destroy.call(i)})),this.stage.destroy(a),this.stage=null,this.renderer.destroy(t),this.renderer=null}}]),e}();o._plugins=[];var l=o;r.extensions.handleByList(r.ExtensionType.Application,l._plugins),t.Application=l},27515:function(e,t,a){"use strict";var i=a(56690).default,n=a(89728).default,r=a(73629),s=function(){function e(){i(this,e)}return n(e,null,[{key:"init",value:function(e){var t=this;Object.defineProperty(this,"resizeTo",{set:function(e){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=e,e&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get:function(){return this._resizeTo}}),this.queueResize=function(){t._resizeTo&&(t.cancelResize(),t._resizeId=requestAnimationFrame((function(){return t.resize()})))},this.cancelResize=function(){t._resizeId&&(cancelAnimationFrame(t._resizeId),t._resizeId=null)},this.resize=function(){if(t._resizeTo){var e,a;if(t.cancelResize(),t._resizeTo===globalThis.window)e=globalThis.innerWidth,a=globalThis.innerHeight;else{var i=t._resizeTo;e=i.clientWidth,a=i.clientHeight}t.renderer.resize(e,a),t.render()}},this._resizeId=null,this._resizeTo=null,this.resizeTo=e.resizeTo||null}},{key:"destroy",value:function(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null}}]),e}();s.extension=r.ExtensionType.Application,r.extensions.add(s),t.ResizePlugin=s},73107:function(e,t,a){"use strict";var i=a(16580),n=a(27515);t.Application=i.Application,t.ResizePlugin=n.ResizePlugin},46260:function(e,t,a){"use strict";var i=a(27424).default,n=a(73629),r={loader:n.ExtensionType.LoadParser,resolver:n.ExtensionType.ResolveParser,cache:n.ExtensionType.CacheParser,detection:n.ExtensionType.DetectionParser};n.extensions.handle(n.ExtensionType.Asset,(function(e){var t=e.ref;Object.entries(r).filter((function(e){var a=i(e,1)[0];return!!t[a]})).forEach((function(e){var a,r=i(e,2),s=r[0],o=r[1];return n.extensions.add(Object.assign(t[s],{extension:null!==(a=t[s].extension)&&void 0!==a?a:o}))}))}),(function(e){var t=e.ref;Object.keys(r).filter((function(e){return!!t[e]})).forEach((function(e){return n.extensions.remove(t[e])}))}))},45367:function(e,t,a){"use strict";var i=a(74704).default,n=a(861).default,r=a(17061).default,s=a(17156).default,o=a(56690).default,l=a(89728).default,d=a(73629),c=a(90629),u=a(47934),h=a(8035);a(99282);var f=a(31089),p=a(21344),m=a(52621),g=a(53972),v=function(){function e(){o(this,e),this._detections=[],this._initialized=!1,this.resolver=new f.Resolver,this.loader=new h.Loader,this.cache=u.Cache,this._backgroundLoader=new c.BackgroundLoader(this.loader),this._backgroundLoader.active=!0,this.reset()}return l(e,[{key:"init",value:function(){var e=s(r().mark((function e(){var t,a,i,n,s,o,l,d,c=arguments;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=c.length>0&&void 0!==c[0]?c[0]:{},!this._initialized){e.next=4;break}return console.warn("[Assets]AssetManager already initialized, did you load before calling this Assets.init()?"),e.abrupt("return");case 4:if(this._initialized=!0,n.defaultSearchParams&&this.resolver.setDefaultSearchParams(n.defaultSearchParams),n.basePath&&(this.resolver.basePath=n.basePath),n.bundleIdentifier&&this.resolver.setBundleIdentifier(n.bundleIdentifier),!n.manifest){e.next=12;break}if(s=n.manifest,e.t0="string"==typeof s,!e.t0){e.next=11;break}return e.next=10,this.load(s);case 10:s=e.sent;case 11:this.resolver.addManifest(s);case 12:return o=null!==(t=null===(a=n.texturePreference)||void 0===a?void 0:a.resolution)&&void 0!==t?t:1,l="number"==typeof o?[o]:o,e.next=16,this._detectFormats({preferredFormats:null===(i=n.texturePreference)||void 0===i?void 0:i.format,skipDetections:n.skipDetections,detections:this._detections});case 16:d=e.sent,this.resolver.prefer({params:{format:d,resolution:l}}),n.preferences&&this.setPreferences(n.preferences);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"add",value:function(e,t,a,i,n){this.resolver.add(e,t,a,i,n)}},{key:"load",value:function(){var e=s(r().mark((function e(t,a){var i,n,s,o,l=this;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this._initialized,e.t0){e.next=4;break}return e.next=4,this.init();case 4:return i=m.isSingleItem(t),n=p.convertToList(t).map((function(e){if("string"!=typeof e){var t=l.resolver.getAlias(e);return t.some((function(e){return!l.resolver.hasKey(e)}))&&l.add(e),Array.isArray(t)?t[0]:t}return l.resolver.hasKey(e)||l.add({alias:e,src:e}),e})),s=this.resolver.resolve(n),e.next=9,this._mapLoadToResolve(s,a);case 9:return o=e.sent,e.abrupt("return",i?o[n[0]]:o);case 11:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"addBundle",value:function(e,t){this.resolver.addBundle(e,t)}},{key:"loadBundle",value:function(){var e=s(r().mark((function e(t,a){var i,n,s,o,l,d,c,u,h=this;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this._initialized,e.t0){e.next=4;break}return e.next=4,this.init();case 4:return i=!1,"string"==typeof t&&(i=!0,t=[t]),n=this.resolver.resolveBundle(t),s={},o=Object.keys(n),l=0,d=0,c=function(){null===a||void 0===a||a(++l/d)},u=o.map((function(e){var t=n[e];return d+=Object.keys(t).length,h._mapLoadToResolve(t,c).then((function(t){s[e]=t}))})),e.next=11,Promise.all(u);case 11:return e.abrupt("return",i?s[t[0]]:s);case 12:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"backgroundLoad",value:function(){var e=s(r().mark((function e(t){var a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this._initialized,e.t0){e.next=4;break}return e.next=4,this.init();case 4:"string"==typeof t&&(t=[t]),a=this.resolver.resolve(t),this._backgroundLoader.add(Object.values(a));case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"backgroundLoadBundle",value:function(){var e=s(r().mark((function e(t){var a,i=this;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this._initialized,e.t0){e.next=4;break}return e.next=4,this.init();case 4:"string"==typeof t&&(t=[t]),a=this.resolver.resolveBundle(t),Object.values(a).forEach((function(e){i._backgroundLoader.add(Object.values(e))}));case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reset",value:function(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1}},{key:"get",value:function(e){if("string"==typeof e)return u.Cache.get(e);for(var t={},a=0;a<e.length;a++)t[a]=u.Cache.get(e[a]);return t}},{key:"_mapLoadToResolve",value:function(){var e=s(r().mark((function e(t,a){var i,s,o,l;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Object.values(t),s=Object.keys(t),this._backgroundLoader.active=!1,e.next=4,this.loader.load(i,a);case 4:return o=e.sent,this._backgroundLoader.active=!0,l={},e.abrupt("return",(i.forEach((function(e,t){var a=o[e.src],i=[e.src];e.alias&&i.push.apply(i,n(e.alias)),l[s[t]]=a,u.Cache.set(i,a)})),l));case 8:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"unload",value:function(){var e=s(r().mark((function e(t){var a,i;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this._initialized,e.t0){e.next=4;break}return e.next=4,this.init();case 4:return a=p.convertToList(t).map((function(e){return"string"!=typeof e?e.src:e})),i=this.resolver.resolve(a),e.next=7,this._unloadFromResolved(i);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"unloadBundle",value:function(){var e=s(r().mark((function e(t){var a,i,n=this;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this._initialized,e.t0){e.next=4;break}return e.next=4,this.init();case 4:return t=p.convertToList(t),a=this.resolver.resolveBundle(t),i=Object.keys(a).map((function(e){return n._unloadFromResolved(a[e])})),e.next=8,Promise.all(i);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_unloadFromResolved",value:function(){var e=s(r().mark((function e(t){var a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=Object.values(t)).forEach((function(e){u.Cache.remove(e.src)})),e.next=4,this.loader.unload(a);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_detectFormats",value:function(){var e=s(r().mark((function e(t){var a,n,s,o;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=[],t.preferredFormats&&(a=Array.isArray(t.preferredFormats)?t.preferredFormats:[t.preferredFormats]),n=i(t.detections),e.prev=3,n.s();case 5:if((s=n.n()).done){e.next=25;break}if(o=s.value,e.t0=t.skipDetections,e.t0){e.next=12;break}return e.next=11,o.test();case 11:e.t0=e.sent;case 12:if(!e.t0){e.next=18;break}return e.next=15,o.add(a);case 15:a=e.sent,e.next=23;break;case 18:if(e.t1=t.skipDetections,e.t1){e.next=23;break}return e.next=22,o.remove(a);case 22:a=e.sent;case 23:e.next=5;break;case 25:e.next=30;break;case 27:e.prev=27,e.t2=e.catch(3),n.e(e.t2);case 30:return e.prev=30,n.f(),e.finish(30);case 33:return e.abrupt("return",a=a.filter((function(e,t){return a.indexOf(e)===t})));case 34:case"end":return e.stop()}}),e,null,[[3,27,30,33]])})));return function(t){return e.apply(this,arguments)}}()},{key:"detections",get:function(){return this._detections}},{key:"preferWorkers",get:function(){return g.loadTextures.config.preferWorkers},set:function(e){d.utils.deprecation("7.2.0","Assets.prefersWorkers is deprecated, use Assets.setPreferences({ preferWorkers: true }) instead."),this.setPreferences({preferWorkers:e})}},{key:"setPreferences",value:function(e){this.loader.parsers.forEach((function(t){t.config&&Object.keys(t.config).filter((function(t){return t in e})).forEach((function(a){t.config[a]=e[a]}))}))}}]),e}(),b=new v;d.extensions.handleByList(d.ExtensionType.LoadParser,b.loader.parsers).handleByList(d.ExtensionType.ResolveParser,b.resolver.parsers).handleByList(d.ExtensionType.CacheParser,b.cache.parsers).handleByList(d.ExtensionType.DetectionParser,b.detections),t.Assets=b,t.AssetsClass=v},90629:function(e,t,a){"use strict";var i=a(17061).default,n=a(17156).default,r=a(56690).default,s=a(89728).default,o=function(){function e(t){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];r(this,e),this._loader=t,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=a}return s(e,[{key:"add",value:function(e){var t=this;e.forEach((function(e){t._assetList.push(e)})),this.verbose&&console.log("[BackgroundLoader] assets: ",this._assetList),this._isActive&&!this._isLoading&&this._next()}},{key:"_next",value:function(){var e=n(i().mark((function e(){var t,a,n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._assetList.length||!this._isActive){e.next=8;break}for(this._isLoading=!0,t=[],a=Math.min(this._assetList.length,this._maxConcurrent),n=0;n<a;n++)t.push(this._assetList.pop());return e.next=6,this._loader.load(t);case 6:this._isLoading=!1,this._next();case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"active",get:function(){return this._isActive},set:function(e){this._isActive!==e&&(this._isActive=e,e&&!this._isLoading&&this._next())}}]),e}();t.BackgroundLoader=o},47934:function(e,t,a){"use strict";var i=a(56690).default,n=a(89728).default,r=a(73629);a(98685);var s=a(21344),o=new(function(){function e(){i(this,e),this._parsers=[],this._cache=new Map,this._cacheMap=new Map}return n(e,[{key:"reset",value:function(){this._cacheMap.clear(),this._cache.clear()}},{key:"has",value:function(e){return this._cache.has(e)}},{key:"get",value:function(e){var t=this._cache.get(e);return t||console.warn("[Assets] Asset id ".concat(e," was not found in the Cache")),t}},{key:"set",value:function(e,t){for(var a,i=this,n=s.convertToList(e),o=0;o<this.parsers.length;o++){var l=this.parsers[o];if(l.test(t)){a=l.getCacheableAssets(n,t);break}}a||(a={},n.forEach((function(e){a[e]=t})));var d=Object.keys(a),c={cacheKeys:d,keys:n};if(n.forEach((function(e){i._cacheMap.set(e,c)})),d.forEach((function(e){i._cache.has(e)&&i._cache.get(e)!==t&&console.warn("[Cache] already has key:",e),i._cache.set(e,a[e])})),t instanceof r.Texture){var u=t;n.forEach((function(e){u.baseTexture!==r.Texture.EMPTY.baseTexture&&r.BaseTexture.addToCache(u.baseTexture,e),r.Texture.addToCache(u,e)}))}}},{key:"remove",value:function(e){var t=this;if(this._cacheMap.has(e)){var a=this._cacheMap.get(e);a.cacheKeys.forEach((function(e){t._cache.delete(e)})),a.keys.forEach((function(e){t._cacheMap.delete(e)}))}else console.warn("[Assets] Asset id ".concat(e," was not found in the Cache"))}},{key:"parsers",get:function(){return this._parsers}}]),e}());t.Cache=o},51159:function(){},76005:function(e,t,a){"use strict";var i=a(47934);a(51159),a(5308),t.Cache=i.Cache},87349:function(e,t,a){"use strict";var i=a(73629),n={extension:i.ExtensionType.CacheParser,test:function(e){return Array.isArray(e)&&e.every((function(e){return e instanceof i.Texture}))},getCacheableAssets:function(e,t){var a={};return e.forEach((function(e){t.forEach((function(t,i){a[e+(0===i?"":i+1)]=t}))})),a}};i.extensions.add(n),t.cacheTextureArray=n},5308:function(e,t,a){"use strict";var i=a(87349);t.cacheTextureArray=i.cacheTextureArray},31344:function(e,t,a){"use strict";a(27370)},24901:function(e,t,a){"use strict";var i=a(861).default,n=a(17061).default,r=a(17156).default,s=a(73629),o=a(23271),l={extension:{type:s.ExtensionType.DetectionParser,priority:1},test:function(){var e=r(n().mark((function e(){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",o.testImageFormat("data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A="));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),add:function(){var e=r(n().mark((function e(t){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",[].concat(i(t),["avif"]));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),remove:function(){var e=r(n().mark((function e(t){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.filter((function(e){return"avif"!==e})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};s.extensions.add(l),t.detectAvif=l},36990:function(e,t,a){"use strict";var i=a(17061).default,n=a(861).default,r=a(17156).default,s=a(73629),o=["png","jpg","jpeg"],l={extension:{type:s.ExtensionType.DetectionParser,priority:-1},test:function(){return Promise.resolve(!0)},add:function(){var e=r(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",[].concat(n(t),o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),remove:function(){var e=r(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.filter((function(e){return!o.includes(e)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};s.extensions.add(l),t.detectDefaults=l},48601:function(e,t,a){"use strict";var i=a(861).default,n=a(17061).default,r=a(17156).default,s=a(73629),o=a(48689),l={extension:{type:s.ExtensionType.DetectionParser,priority:0},test:function(){var e=r(n().mark((function e(){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",o.testVideoFormat("video/mp4"));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),add:function(){var e=r(n().mark((function e(t){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",[].concat(i(t),["mp4","m4v"]));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),remove:function(){var e=r(n().mark((function e(t){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.filter((function(e){return"mp4"!==e&&"m4v"!==e})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};s.extensions.add(l),t.detectMp4=l},7050:function(e,t,a){"use strict";var i=a(861).default,n=a(17061).default,r=a(17156).default,s=a(73629),o=a(48689),l={extension:{type:s.ExtensionType.DetectionParser,priority:0},test:function(){var e=r(n().mark((function e(){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",o.testVideoFormat("video/ogg"));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),add:function(){var e=r(n().mark((function e(t){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",[].concat(i(t),["ogv"]));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),remove:function(){var e=r(n().mark((function e(t){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.filter((function(e){return"ogv"!==e})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};s.extensions.add(l),t.detectOgv=l},20444:function(e,t,a){"use strict";var i=a(861).default,n=a(17061).default,r=a(17156).default,s=a(73629),o=a(48689),l={extension:{type:s.ExtensionType.DetectionParser,priority:0},test:function(){var e=r(n().mark((function e(){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",o.testVideoFormat("video/webm"));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),add:function(){var e=r(n().mark((function e(t){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",[].concat(i(t),["webm"]));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),remove:function(){var e=r(n().mark((function e(t){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.filter((function(e){return"webm"!==e})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};s.extensions.add(l),t.detectWebm=l},14753:function(e,t,a){"use strict";var i=a(861).default,n=a(17061).default,r=a(17156).default,s=a(73629),o=a(23271),l={extension:{type:s.ExtensionType.DetectionParser,priority:0},test:function(){var e=r(n().mark((function e(){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",o.testImageFormat("data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA="));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),add:function(){var e=r(n().mark((function e(t){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",[].concat(i(t),["webp"]));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),remove:function(){var e=r(n().mark((function e(t){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.filter((function(e){return"webp"!==e})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};s.extensions.add(l),t.detectWebp=l},27370:function(e,t,a){"use strict";var i=a(24901),n=a(14753),r=a(36990),s=a(20444),o=a(48601),l=a(7050);t.detectAvif=i.detectAvif,t.detectWebp=n.detectWebp,t.detectDefaults=r.detectDefaults,t.detectWebm=s.detectWebm,t.detectMp4=o.detectMp4,t.detectOgv=l.detectOgv},23271:function(e,t,a){"use strict";var i=a(17061).default,n=a(17156).default;function r(){return(r=n(i().mark((function e(t){var a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!("Image"in globalThis)){e.next=2;break}return e.abrupt("return",new Promise((function(e){var a=new Image;a.onload=function(){e(!0)},a.onerror=function(){e(!1)},a.src=t})));case 2:if(!("createImageBitmap"in globalThis)||!("fetch"in globalThis)){e.next=17;break}return e.prev=3,e.next=6,fetch(t);case 6:return e.next=8,e.sent.blob();case 8:return a=e.sent,e.next=11,createImageBitmap(a);case 11:e.next=16;break;case 13:return e.prev=13,e.t0=e.catch(3),e.abrupt("return",!1);case 16:return e.abrupt("return",!0);case 17:return e.abrupt("return",!1);case 18:case"end":return e.stop()}}),e,null,[[3,13]])})))).apply(this,arguments)}t.testImageFormat=function(e){return r.apply(this,arguments)}},48689:function(e,t){"use strict";var a="WorkerGlobalScope"in globalThis&&globalThis instanceof globalThis.WorkerGlobalScope;t.testVideoFormat=function(e){return!a&&""!==document.createElement("video").canPlayType(e)}},51743:function(e,t,a){"use strict";a(46260);var i=a(45367);a(76005),a(31344),a(93640),a(14556),a(13908),a(98685);var n=a(47934),r=a(87349),s=a(24901),o=a(14753),l=a(36990),d=a(20444),c=a(48601),u=a(7050),h=a(93898),f=a(50849),p=a(63314),m=a(23330),g=a(72371),v=a(53972),b=a(22972),y=a(84444),x=a(61279),_=a(50119),P=a(73291),A=a(21344),E=a(46942),T=a(52314),w=a(52621);t.Assets=i.Assets,t.AssetsClass=i.AssetsClass,t.Cache=n.Cache,t.cacheTextureArray=r.cacheTextureArray,t.detectAvif=s.detectAvif,t.detectWebp=o.detectWebp,t.detectDefaults=l.detectDefaults,t.detectWebm=d.detectWebm,t.detectMp4=c.detectMp4,t.detectOgv=u.detectOgv,t.LoaderParserPriority=h.LoaderParserPriority,t.loadJson=f.loadJson,t.loadTxt=p.loadTxt,t.getFontFamilyName=m.getFontFamilyName,t.loadWebFont=m.loadWebFont,t.loadSVG=g.loadSVG,t.loadImageBitmap=v.loadImageBitmap,t.loadTextures=v.loadTextures,t.loadVideo=b.loadVideo,t.createTexture=y.createTexture,t.resolveTextureUrl=x.resolveTextureUrl,t.checkDataUrl=_.checkDataUrl,t.checkExtension=P.checkExtension,t.convertToList=A.convertToList,t.copySearchParams=E.copySearchParams,t.createStringVariations=T.createStringVariations,t.isSingleItem=w.isSingleItem},8035:function(e,t,a){"use strict";var i=a(38416).default,n=a(42122).default,r=a(17061).default,s=a(17156).default,o=a(56690).default,l=a(89728).default,d=a(73629);a(98685);var c=a(52621),u=a(21344),h=function(){function e(){var t=this;o(this,e),this._parsers=[],this._parsersValidated=!1,this.parsers=new Proxy(this._parsers,{set:function(e,a,i){return t._parsersValidated=!1,e[a]=i,!0}}),this.promiseCache={}}return l(e,[{key:"reset",value:function(){this._parsersValidated=!1,this.promiseCache={}}},{key:"_getLoadPromiseAndParser",value:function(e,t){var a=this,i={promise:null,parser:null};return i.promise=s(r().mark((function n(){var s,o,l,d,c,u,h,f;return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(s=null,o=null,t.loadParser&&((o=a._parserHash[t.loadParser])||console.warn('[Assets] specified load parser "'.concat(t.loadParser,'" not found while loading ').concat(e))),o){n.next=13;break}l=0;case 3:if(!(l<a.parsers.length)){n.next=11;break}if(!(c=a.parsers[l]).load||null===(d=c.test)||void 0===d||!d.call(c,e,t,a)){n.next=8;break}return o=c,n.abrupt("break",11);case 8:l++,n.next=3;break;case 11:if(o){n.next=13;break}return n.abrupt("return",(console.warn("[Assets] ".concat(e," could not be loaded as we don't know how to parse it, ensure the correct parser has been added")),null));case 13:return n.next=15,o.load(e,t,a);case 15:s=n.sent,i.parser=o,u=0;case 18:if(!(u<a.parsers.length)){n.next=37;break}if(f=a.parsers[u],n.t0=f.parse&&f.parse,!n.t0){n.next=25;break}return n.next=24,null===(h=f.testParse)||void 0===h?void 0:h.call(f,s,t,a);case 24:n.t0=n.sent;case 25:if(n.t1=n.t0,!n.t1){n.next=34;break}return n.next=29,f.parse(s,t,a);case 29:if(n.t2=n.sent,n.t2){n.next=32;break}n.t2=s;case 32:s=n.t2,i.parser=f;case 34:u++,n.next=18;break;case 37:return n.abrupt("return",s);case 38:case"end":return n.stop()}}),n)})))(),i}},{key:"load",value:function(){var e=s(r().mark((function e(t,a){var i,n,o,l,h,f,p=this;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._parsersValidated||this._validateParsers(),i=0,n={},o=c.isSingleItem(t),l=u.convertToList(t,(function(e){return{alias:[e],src:e}})),h=l.length,f=l.map(function(){var e=s(r().mark((function e(t){var s;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=d.utils.path.toAbsolute(t.src),n[t.src]){e.next=13;break}return e.prev=2,p.promiseCache[s]||(p.promiseCache[s]=p._getLoadPromiseAndParser(s,t)),e.next=6,p.promiseCache[s].promise;case 6:n[t.src]=e.sent,a&&a(++i/h),e.next=13;break;case 10:throw e.prev=10,e.t0=e.catch(2),delete p.promiseCache[s],delete n[t.src],new Error("[Loader.load] Failed to load ".concat(s,".\n").concat(e.t0));case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}()),e.next=5,Promise.all(f);case 5:return e.abrupt("return",o?n[l[0].src]:n);case 6:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"unload",value:function(){var e=s(r().mark((function e(t){var a,i=this;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.convertToList(t,(function(e){return{alias:[e],src:e}})).map(function(){var e=s(r().mark((function e(t){var a,n,s,o,l;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=d.utils.path.toAbsolute(t.src),!(n=i.promiseCache[a])){e.next=6;break}return e.next=4,n.promise;case 4:l=e.sent,delete i.promiseCache[a],null===(s=n.parser)||void 0===s||null===(o=s.unload)||void 0===o||o.call(s,l,t,i);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=3,Promise.all(a);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"_validateParsers",value:function(){this._parsersValidated=!0,this._parserHash=this._parsers.filter((function(e){return e.name})).reduce((function(e,t){return e[t.name]&&console.warn('[Assets] loadParser name conflict "'.concat(t.name,'"')),n(n({},e),{},i({},t.name,t))}),{})}}]),e}();t.Loader=h},93640:function(e,t,a){"use strict";a(99282)},93898:function(e,t){"use strict";var a=function(e){return e[e.Low=0]="Low",e[e.Normal=1]="Normal",e[e.High=2]="High",e}(a||{});t.LoaderParserPriority=a},60027:function(e,t,a){"use strict";var i,n=a(17061).default,r=a(17156).default,s=a(56690).default,o=a(89728).default,l=a(44122),d=a(17728),c=0,u=function(){function e(){s(this,e),this._initialized=!1,this._createdWorkers=0,this.workerPool=[],this.queue=[],this.resolveHash={}}return o(e,[{key:"isImageBitmapSupported",value:function(){return void 0!==this._isImageBitmapSupported||(this._isImageBitmapSupported=new Promise((function(e){var t=(new l.default).worker;t.addEventListener("message",(function(a){t.terminate(),l.default.revokeObjectURL(),e(a.data)}))}))),this._isImageBitmapSupported}},{key:"loadImageBitmap",value:function(e){return this._run("loadImageBitmap",[e])}},{key:"_initWorkers",value:function(){var e=r(n().mark((function e(){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._initialized||(this._initialized=!0);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getWorker",value:function(){var e=this;void 0===i&&(i=navigator.hardwareConcurrency||4);var t=this.workerPool.pop();return!t&&this._createdWorkers<i&&(this._createdWorkers++,(t=(new d.default).worker).addEventListener("message",(function(t){e.complete(t.data),e.returnWorker(t.target),e.next()}))),t}},{key:"returnWorker",value:function(e){this.workerPool.push(e)}},{key:"complete",value:function(e){void 0!==e.error?this.resolveHash[e.uuid].reject(e.error):this.resolveHash[e.uuid].resolve(e.data),this.resolveHash[e.uuid]=null}},{key:"_run",value:function(){var e=r(n().mark((function e(t,a){var i,r=this;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._initWorkers();case 2:return i=new Promise((function(e,i){r.queue.push({id:t,arguments:a,resolve:e,reject:i})})),e.abrupt("return",(this.next(),i));case 4:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"next",value:function(){if(this.queue.length){var e=this.getWorker();if(e){var t=this.queue.pop(),a=t.id;this.resolveHash[c]={resolve:t.resolve,reject:t.reject},e.postMessage({data:t.arguments,uuid:c++,id:a})}}}}]),e}(),h=new u;t.WorkerManager=h},99282:function(e,t,a){"use strict";var i=a(93898),n=a(50849),r=a(63314),s=a(23330);a(77756),t.LoaderParserPriority=i.LoaderParserPriority,t.loadJson=n.loadJson,t.loadTxt=r.loadTxt,t.getFontFamilyName=s.getFontFamilyName,t.loadWebFont=s.loadWebFont},50849:function(e,t,a){"use strict";var i=a(17061).default,n=a(17156).default,r=a(73629),s=a(50119),o=a(73291),l=a(93898),d={extension:{type:r.ExtensionType.LoadParser,priority:l.LoaderParserPriority.Low},name:"loadJson",test:function(e){return s.checkDataUrl(e,"application/json")||o.checkExtension(e,".json")},load:function(e){return n(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.settings.ADAPTER.fetch(e);case 2:return t.next=4,t.sent.json();case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}}),t)})))()}};r.extensions.add(d),t.loadJson=d},63314:function(e,t,a){"use strict";var i=a(17061).default,n=a(17156).default,r=a(73629),s=a(50119),o=a(73291),l=a(93898),d={name:"loadTxt",extension:{type:r.ExtensionType.LoadParser,priority:l.LoaderParserPriority.Low},test:function(e){return s.checkDataUrl(e,"text/plain")||o.checkExtension(e,".txt")},load:function(e){return n(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.settings.ADAPTER.fetch(e);case 2:return t.next=4,t.sent.text();case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}}),t)})))()}};r.extensions.add(d),t.loadTxt=d},23330:function(e,t,a){"use strict";var i=a(17061).default,n=a(42122).default,r=a(17156).default,s=a(74704).default,o=a(73629),l=a(50119),d=a(73291),c=a(93898),u=["normal","bold","100","200","300","400","500","600","700","800","900"],h=[".ttf",".otf",".woff",".woff2"],f=["font/ttf","font/otf","font/woff","font/woff2"],p=/^(--|-?[A-Z_])[0-9A-Z_-]*$/i;function m(e){var t,a=o.utils.path.extname(e),i=o.utils.path.basename(e,a).replace(/(-|_)/g," ").toLowerCase().split(" ").map((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})),n=i.length>0,r=s(i);try{for(r.s();!(t=r.n()).done;){if(!t.value.match(p)){n=!1;break}}}catch(d){r.e(d)}finally{r.f()}var l=i.join(" ");return n||(l='"'.concat(l.replace(/[\\"]/g,"\\$&"),'"')),l}var g=/^[0-9A-Za-z%:/?#\[\]@!\$&'()\*\+,;=\-._~]*$/;var v={extension:{type:o.ExtensionType.LoadParser,priority:c.LoaderParserPriority.Low},name:"loadWebFont",test:function(e){return l.checkDataUrl(e,f)||d.checkExtension(e,h)},load:function(e,t){return r(i().mark((function a(){var r,s,l,d,c,h,f,p,v,b,y,x,_;return i().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!(r=o.settings.ADAPTER.getFontFaceSet())){a.next=14;break}f=[],p=null!==(s=null===(l=t.data)||void 0===l?void 0:l.family)&&void 0!==s?s:m(e),v=null!==(d=null===(c=t.data)||void 0===c||null===(c=c.weights)||void 0===c?void 0:c.filter((function(e){return u.includes(e)})))&&void 0!==d?d:["normal"],b=null!==(h=t.data)&&void 0!==h?h:{},y=0;case 4:if(!(y<v.length)){a.next=13;break}return x=v[y],_=new FontFace(p,"url(".concat((i=e,g.test(i)?i:encodeURI(i)),")"),n(n({},b),{},{weight:x})),a.next=8,_.load();case 8:r.add(_),f.push(_);case 10:y++,a.next=4;break;case 13:return a.abrupt("return",1===f.length?f[0]:f);case 14:return a.abrupt("return",(console.warn("[loadWebFont] FontFace API is not supported. Skipping loading font"),null));case 15:case"end":return a.stop()}var i}),a)})))()},unload:function(e){(Array.isArray(e)?e:[e]).forEach((function(e){return o.settings.ADAPTER.getFontFaceSet().delete(e)}))}};o.extensions.add(v),t.getFontFamilyName=m,t.loadWebFont=v},77756:function(e,t,a){"use strict";var i=a(72371),n=a(53972),r=a(22972);a(51531),t.loadSVG=i.loadSVG,t.loadImageBitmap=n.loadImageBitmap,t.loadTextures=n.loadTextures,t.loadVideo=r.loadVideo},72371:function(e,t,a){"use strict";var i=a(42122).default,n=a(17061).default,r=a(17156).default,s=a(73629),o=a(50119),l=a(73291),d=a(93898),c=a(53972),u=a(84444),h={extension:{type:s.ExtensionType.LoadParser,priority:d.LoaderParserPriority.High},name:"loadSVG",test:function(e){return o.checkDataUrl(e,"image/svg+xml")||l.checkExtension(e,".svg")},testParse:function(e){return r(n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",s.SVGResource.test(e));case 1:case"end":return t.stop()}}),t)})))()},parse:function(e,t,a){return r(n().mark((function r(){var o,l,d;return n().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return l=new s.SVGResource(e,null===t||void 0===t||null===(o=t.data)||void 0===o?void 0:o.resourceOptions),n.next=3,l.load();case 3:return d=new s.BaseTexture(l,i({resolution:s.utils.getResolutionOfUrl(e)},null===t||void 0===t?void 0:t.data)),n.abrupt("return",(d.resource.src=t.src,u.createTexture(d,a,t.src)));case 5:case"end":return n.stop()}}),r)})))()},load:function(e,t){return r(n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.settings.ADAPTER.fetch(e);case 2:return t.abrupt("return",t.sent.text());case 3:case"end":return t.stop()}}),t)})))()},unload:c.loadTextures.unload};s.extensions.add(h),t.loadSVG=h},53972:function(e,t,a){"use strict";var i=a(17061).default,n=a(42122).default,r=a(17156).default,s=a(73629),o=a(50119),l=a(73291),d=a(93898),c=a(60027),u=a(84444),h=[".jpeg",".jpg",".png",".webp",".avif"],f=["image/jpeg","image/png","image/webp","image/avif"];function p(e){return m.apply(this,arguments)}function m(){return(m=r(i().mark((function e(t){var a,n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.settings.ADAPTER.fetch(t);case 2:if((a=e.sent).ok){e.next=5;break}throw new Error("[loadImageBitmap] Failed to fetch ".concat(t,": ").concat(a.status," ").concat(a.statusText));case 5:return e.next=7,a.blob();case 7:return n=e.sent,e.next=10,createImageBitmap(n);case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var g={name:"loadTextures",extension:{type:s.ExtensionType.LoadParser,priority:d.LoaderParserPriority.High},config:{preferWorkers:!0,preferCreateImageBitmap:!0,crossOrigin:"anonymous"},test:function(e){return o.checkDataUrl(e,f)||l.checkExtension(e,h)},load:function(e,t,a){var o=this;return r(i().mark((function r(){var l,d,h,f,m,g;return i().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(!(h=globalThis.createImageBitmap&&o.config.preferCreateImageBitmap)){i.next=18;break}if(i.t0=o.config.preferWorkers,!i.t0){i.next=7;break}return i.next=6,c.WorkerManager.isImageBitmapSupported();case 6:i.t0=i.sent;case 7:if(!i.t0){i.next=13;break}return i.next=10,c.WorkerManager.loadImageBitmap(e);case 10:f=i.sent,i.next=16;break;case 13:return i.next=15,p(e);case 15:f=i.sent;case 16:i.next=21;break;case 18:return i.next=20,new Promise((function(t,a){var i=new Image;i.crossOrigin=o.config.crossOrigin,i.src=e,i.complete?t(i):(i.onload=function(){return t(i)},i.onerror=function(e){return a(e)})}));case 20:f=i.sent;case 21:return m=n({},t.data),null!==(l=m.resolution)&&void 0!==l||(m.resolution=s.utils.getResolutionOfUrl(e)),h&&void 0===(null===(d=m.resourceOptions)||void 0===d?void 0:d.ownsImageBitmap)&&(m.resourceOptions=n({},m.resourceOptions),m.resourceOptions.ownsImageBitmap=!0),g=new s.BaseTexture(f,m),i.abrupt("return",(g.resource.src=e,u.createTexture(g,a,e)));case 25:case"end":return i.stop()}}),r)})))()},unload:function(e){e.destroy(!0)}};s.extensions.add(g),t.loadImageBitmap=p,t.loadTextures=g},22972:function(e,t,a){"use strict";var i=a(17061).default,n=a(42122).default,r=a(17156).default,s=a(73629),o=a(50119),l=a(73291),d=a(93898),c=a(84444),u=[".mp4",".m4v",".webm",".ogv"],h=["video/mp4","video/webm","video/ogg"],f={name:"loadVideo",extension:{type:s.ExtensionType.LoadParser,priority:d.LoaderParserPriority.High},config:{defaultAutoPlay:!0,defaultUpdateFPS:0,defaultLoop:!1,defaultMuted:!1,defaultPlaysinline:!0},test:function(e){return o.checkDataUrl(e,h)||l.checkExtension(e,u)},load:function(e,t,a){var o=this;return r(i().mark((function r(){var l,d,u,h,f,p,m;return i().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,s.settings.ADAPTER.fetch(e);case 2:return i.next=4,i.sent.blob();case 4:return d=i.sent,u=URL.createObjectURL(d),i.prev=6,f=n(n({autoPlay:o.config.defaultAutoPlay,updateFPS:o.config.defaultUpdateFPS,loop:o.config.defaultLoop,muted:o.config.defaultMuted,playsinline:o.config.defaultPlaysinline},null===t||void 0===t||null===(h=t.data)||void 0===h?void 0:h.resourceOptions),{},{autoLoad:!0}),p=new s.VideoResource(u,f),i.next=10,p.load();case 10:return i.t0=s.BaseTexture,i.t1=p,i.t2=n,i.next=15,s.utils.detectVideoAlphaMode();case 15:i.t3=i.sent,i.t4=s.utils.getResolutionOfUrl(e),i.t5={alphaMode:i.t3,resolution:i.t4},i.t6=null===t||void 0===t?void 0:t.data,i.t7=(0,i.t2)(i.t5,i.t6),(m=new i.t0(i.t1,i.t7)).resource.src=e,(l=c.createTexture(m,a,e)).baseTexture.once("destroyed",(function(){URL.revokeObjectURL(u)})),i.next=27;break;case 24:throw i.prev=24,i.t8=i.catch(6),URL.revokeObjectURL(u),i.t8;case 27:return i.abrupt("return",l);case 28:case"end":return i.stop()}}),r,null,[[6,24]])})))()},unload:function(e){e.destroy(!0)}};s.extensions.add(f),t.loadVideo=f},84444:function(e,t,a){"use strict";var i=a(73629),n=a(47934);t.createTexture=function(e,t,a){e.resource.internal=!0;var r=new i.Texture(e),s=function(){delete t.promiseCache[a],n.Cache.has(a)&&n.Cache.remove(a)};return r.baseTexture.once("destroyed",(function(){a in t.promiseCache&&(console.warn("[Assets] A BaseTexture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the BaseTexture."),s())})),r.once("destroyed",(function(){e.destroyed||(console.warn("[Assets] A Texture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the Texture."),s())})),r}},51531:function(e,t,a){"use strict";var i=a(84444);t.createTexture=i.createTexture},31089:function(e,t,a){"use strict";var i=a(42122).default,n=a(861).default,r=a(56690).default,s=a(89728).default,o=a(73629),l=a(21344),d=a(52314),c=a(52621),u=function(){function e(){var t=this;r(this,e),this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:function(e,a){return"".concat(e).concat(t._bundleIdConnector).concat(a)},extractAssetIdFromBundle:function(e,a){return a.replace("".concat(e).concat(t._bundleIdConnector),"")}},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}return s(e,[{key:"setBundleIdentifier",value:function(e){var t,a,i;if(this._bundleIdConnector=null!==(t=e.connector)&&void 0!==t?t:this._bundleIdConnector,this._createBundleAssetId=null!==(a=e.createBundleAssetId)&&void 0!==a?a:this._createBundleAssetId,this._extractAssetIdFromBundle=null!==(i=e.extractAssetIdFromBundle)&&void 0!==i?i:this._extractAssetIdFromBundle,"bar"!==this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar")))throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}},{key:"prefer",value:function(){for(var e=this,t=arguments.length,a=new Array(t),i=0;i<t;i++)a[i]=arguments[i];a.forEach((function(t){e._preferredOrder.push(t),t.priority||(t.priority=Object.keys(t.params))})),this._resolverHash={}}},{key:"basePath",get:function(){return this._basePath},set:function(e){this._basePath=e}},{key:"rootPath",get:function(){return this._rootPath},set:function(e){this._rootPath=e}},{key:"parsers",get:function(){return this._parsers}},{key:"reset",value:function(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}},{key:"setDefaultSearchParams",value:function(e){if("string"==typeof e)this._defaultSearchParams=e;else{var t=e;this._defaultSearchParams=Object.keys(t).map((function(e){return"".concat(encodeURIComponent(e),"=").concat(encodeURIComponent(t[e]))})).join("&")}}},{key:"getAlias",value:function(e){var t=e.alias,a=e.name,i=e.src,n=e.srcs;return l.convertToList(t||a||i||n,(function(e){var t;return"string"==typeof e?e:Array.isArray(e)?e.map((function(e){var t,a;return null!==(t=null!==(a=null===e||void 0===e?void 0:e.src)&&void 0!==a?a:null===e||void 0===e?void 0:e.srcs)&&void 0!==t?t:e})):null!==e&&void 0!==e&&e.src||null!==e&&void 0!==e&&e.srcs?null!==(t=e.src)&&void 0!==t?t:e.srcs:e}),!0)}},{key:"addManifest",value:function(e){var t=this;this._manifest&&console.warn("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=e,e.bundles.forEach((function(e){t.addBundle(e.name,e.assets)}))}},{key:"addBundle",value:function(e,t){var a=this,r=[];Array.isArray(t)?t.forEach((function(t){var s,o,l,d=null!==(s=t.src)&&void 0!==s?s:t.srcs,c=null!==(o=t.alias)&&void 0!==o?o:t.name;if("string"==typeof c){var u=a._createBundleAssetId(e,c);r.push(u),l=[c,u]}else{var h=c.map((function(t){return a._createBundleAssetId(e,t)}));r.push.apply(r,n(h)),l=[].concat(n(c),n(h))}a.add(i(i({},t),{},{alias:l,src:d}))})):Object.keys(t).forEach((function(n){var s=[n,a._createBundleAssetId(e,n)];if("string"==typeof t[n])a.add({alias:s,src:t[n]});else if(Array.isArray(t[n]))a.add({alias:s,src:t[n]});else{var o,l=t[n],d=null!==(o=l.src)&&void 0!==o?o:l.srcs;a.add(i(i({},l),{},{alias:s,src:Array.isArray(d)?d:[d]}))}r.push.apply(r,s)})),this._bundles[e]=r}},{key:"add",value:function(e,t,a,r,s){var c,u=this,h=[];"string"==typeof e||Array.isArray(e)&&"string"==typeof e[0]?(o.utils.deprecation("7.2.0","Assets.add now uses an object instead of individual parameters.\nPlease use Assets.add({ alias, src, data, format, loadParser }) instead."),h.push({alias:e,src:t,data:a,format:r,loadParser:s})):Array.isArray(e)?h.push.apply(h,n(e)):h.push(e),c=function(e){u.hasKey(e)&&console.warn("[Resolver] already has key: ".concat(e," overwriting"))},l.convertToList(h).forEach((function(e){var t=e.src,a=e.srcs,n=e.data,r=e.format,s=e.loadParser,o=l.convertToList(t||a).map((function(e){return"string"==typeof e?d.createStringVariations(e):Array.isArray(e)?e:[e]})),h=u.getAlias(e);Array.isArray(h)?h.forEach(c):c(h);var f=[];o.forEach((function(e){e.forEach((function(e){var t,a,o,l={};if("object"!=typeof e){l.src=e;for(var d=0;d<u._parsers.length;d++){var c=u._parsers[d];if(c.test(e)){l=c.parse(e);break}}}else n=null!==(t=e.data)&&void 0!==t?t:n,r=null!==(a=e.format)&&void 0!==a?a:r,s=null!==(o=e.loadParser)&&void 0!==o?o:s,l=i(i({},l),e);if(!h)throw new Error("[Resolver] alias is undefined for this asset: ".concat(l.src));l=u.buildResolvedAsset(l,{aliases:h,data:n,format:r,loadParser:s}),f.push(l)}))})),h.forEach((function(e){u._assetMap[e]=f}))}))}},{key:"resolveBundle",value:function(e){var t=this,a=c.isSingleItem(e);e=l.convertToList(e);var i={};return e.forEach((function(e){var a=t._bundles[e];if(a){var n=t.resolve(a),r={};for(var s in n){var o=n[s];r[t._extractAssetIdFromBundle(e,s)]=o}i[e]=r}})),a?i[e[0]]:i}},{key:"resolveUrl",value:function(e){var t=this.resolve(e);if("string"!=typeof e){var a={};for(var i in t)a[i]=t[i].src;return a}return t.src}},{key:"resolve",value:function(e){var t=this,a=c.isSingleItem(e);e=l.convertToList(e);var i={};return e.forEach((function(e){if(!t._resolverHash[e])if(t._assetMap[e]){var a,n=t._assetMap[e],r=n[0],s=t._getPreferredOrder(n);null!==s&&void 0!==s&&s.priority.forEach((function(e){s.params[e].forEach((function(t){var a=n.filter((function(a){return!!a[e]&&a[e]===t}));a.length&&(n=a)}))})),t._resolverHash[e]=null!==(a=n[0])&&void 0!==a?a:r}else t._resolverHash[e]=t.buildResolvedAsset({alias:[e],src:e},{});i[e]=t._resolverHash[e]})),a?i[e[0]]:i}},{key:"hasKey",value:function(e){return!!this._assetMap[e]}},{key:"hasBundle",value:function(e){return!!this._bundles[e]}},{key:"_getPreferredOrder",value:function(e){for(var t,a=this,i=function(){var t=e[0],i=a._preferredOrder.find((function(e){return e.params.format.includes(t.format)}));if(i)return{v:i}},n=0;n<e.length;n++)if(t=i())return t.v;return this._preferredOrder[0]}},{key:"_appendDefaultSearchParams",value:function(e){if(!this._defaultSearchParams)return e;var t=/\?/.test(e)?"&":"?";return"".concat(e).concat(t).concat(this._defaultSearchParams)}},{key:"buildResolvedAsset",value:function(e,t){var a,n,r=t.aliases,s=t.data,l=t.loadParser,d=t.format;return(this._basePath||this._rootPath)&&(e.src=o.utils.path.toAbsolute(e.src,this._basePath,this._rootPath)),e.alias=null!==(a=null!==r&&void 0!==r?r:e.alias)&&void 0!==a?a:[e.src],e.src=this._appendDefaultSearchParams(e.src),e.data=i(i({},s||{}),e.data),e.loadParser=null!==l&&void 0!==l?l:e.loadParser,e.format=null!==(n=null!==d&&void 0!==d?d:e.format)&&void 0!==n?n:o.utils.path.extname(e.src).slice(1),e.srcs=e.src,e.name=e.alias,e}}]),e}();t.Resolver=u},14556:function(e,t,a){"use strict";a(53665),a(66459)},53665:function(e,t,a){"use strict";var i=a(61279);t.resolveTextureUrl=i.resolveTextureUrl},61279:function(e,t,a){"use strict";var i=a(73629);a(93640);var n=a(53972),r={extension:i.ExtensionType.ResolveParser,test:n.loadTextures.test,parse:function(e){var t,a;return{resolution:parseFloat(null!==(t=null===(a=i.settings.RETINA_PREFIX.exec(e))||void 0===a?void 0:a[1])&&void 0!==t?t:"1"),format:i.utils.path.extname(e).slice(1),src:e}}};i.extensions.add(r),t.resolveTextureUrl=r},66459:function(){},13908:function(){},50119:function(e,t,a){"use strict";var i=a(74704).default;t.checkDataUrl=function(e,t){if(Array.isArray(t)){var a,n=i(t);try{for(n.s();!(a=n.n()).done;){var r=a.value;if(e.startsWith("data:".concat(r)))return!0}}catch(s){n.e(s)}finally{n.f()}return!1}return e.startsWith("data:".concat(t))}},73291:function(e,t,a){"use strict";var i=a(73629);t.checkExtension=function(e,t){var a=e.split("?")[0],n=i.utils.path.extname(a).toLowerCase();return Array.isArray(t)?t.includes(n):n===t}},21344:function(e,t){"use strict";t.convertToList=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Array.isArray(e)||(e=[e]),t?e.map((function(e){return"string"==typeof e||a?t(e):e})):e}},46942:function(e,t){"use strict";t.copySearchParams=function(e,t){var a=t.split("?")[1];return a&&(e+="?".concat(a)),e}},52314:function(e,t){"use strict";function a(e,t,i,n,r){for(var s=t[i],o=0;o<s.length;o++){var l=s[o];i<t.length-1?a(e.replace(n[i],l),t,i+1,n,r):r.push(e.replace(n[i],l))}}t.createStringVariations=function(e){var t=e.match(/\{(.*?)\}/g),i=[];if(t){var n=[];t.forEach((function(e){var t=e.substring(1,e.length-1).split(",");n.push(t)})),a(e,n,0,t,i)}else i.push(e);return i}},98685:function(e,t,a){"use strict";var i=a(50119),n=a(73291),r=a(21344),s=a(46942),o=a(52314),l=a(52621);t.checkDataUrl=i.checkDataUrl,t.checkExtension=n.checkExtension,t.convertToList=r.convertToList,t.copySearchParams=s.copySearchParams,t.createStringVariations=o.createStringVariations,t.isSingleItem=l.isSingleItem},52621:function(e,t){"use strict";t.isSingleItem=function(e){return!Array.isArray(e)}},83514:function(e,t,a){"use strict";var i=a(27424).default,n=a(42122).default,r=a(56690).default,s=a(89728).default,o=a(55176),l=a(7282);o.extend([l]);var d=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16777215;r(this,e),this._value=null,this._components=new Float32Array(4),this._components.fill(1),this._int=16777215,this.value=t}return s(e,[{key:"red",get:function(){return this._components[0]}},{key:"green",get:function(){return this._components[1]}},{key:"blue",get:function(){return this._components[2]}},{key:"alpha",get:function(){return this._components[3]}},{key:"setValue",value:function(e){return this.value=e,this}},{key:"value",get:function(){return this._value},set:function(t){if(t instanceof e)this._value=this.cloneSource(t._value),this._int=t._int,this._components.set(t._components);else{if(null===t)throw new Error("Cannot set PIXI.Color#value to null");(null===this._value||!this.isSourceEqual(this._value,t))&&(this.normalize(t),this._value=this.cloneSource(t))}}},{key:"cloneSource",value:function(e){return"string"==typeof e||"number"==typeof e||e instanceof Number||null===e?e:Array.isArray(e)||ArrayBuffer.isView(e)?e.slice(0):"object"==typeof e&&null!==e?n({},e):e}},{key:"isSourceEqual",value:function(e,t){var a=typeof e;if(a!==typeof t)return!1;if("number"===a||"string"===a||e instanceof Number)return e===t;if(Array.isArray(e)&&Array.isArray(t)||ArrayBuffer.isView(e)&&ArrayBuffer.isView(t))return e.length===t.length&&e.every((function(e,a){return e===t[a]}));if(null!==e&&null!==t){var i=Object.keys(e),n=Object.keys(t);return i.length===n.length&&i.every((function(a){return e[a]===t[a]}))}return e===t}},{key:"toRgba",value:function(){var e=i(this._components,4);return{r:e[0],g:e[1],b:e[2],a:e[3]}}},{key:"toRgb",value:function(){var e=i(this._components,3);return{r:e[0],g:e[1],b:e[2]}}},{key:"toRgbaString",value:function(){var e=this.toUint8RgbArray(),t=i(e,3),a=t[0],n=t[1],r=t[2];return"rgba(".concat(a,",").concat(n,",").concat(r,",").concat(this.alpha,")")}},{key:"toUint8RgbArray",value:function(e){var t,a=i(this._components,3),n=a[0],r=a[1],s=a[2];return(e=null!==(t=e)&&void 0!==t?t:[])[0]=Math.round(255*n),e[1]=Math.round(255*r),e[2]=Math.round(255*s),e}},{key:"toRgbArray",value:function(e){var t;e=null!==(t=e)&&void 0!==t?t:[];var a=i(this._components,3),n=a[0],r=a[1],s=a[2];return e[0]=n,e[1]=r,e[2]=s,e}},{key:"toNumber",value:function(){return this._int}},{key:"toLittleEndianNumber",value:function(){var e=this._int;return(e>>16)+(65280&e)+((255&e)<<16)}},{key:"multiply",value:function(t){var a=i(e.temp.setValue(t)._components,4),n=a[0],r=a[1],s=a[2],o=a[3];return this._components[0]*=n,this._components[1]*=r,this._components[2]*=s,this._components[3]*=o,this.refreshInt(),this._value=null,this}},{key:"premultiply",value:function(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&(this._components[0]*=e,this._components[1]*=e,this._components[2]*=e),this._components[3]=e,this.refreshInt(),this._value=null,this}},{key:"toPremultiplied",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(1===e)return(255<<24)+this._int;if(0===e)return t?0:this._int;var a=this._int>>16&255,i=this._int>>8&255,n=255&this._int;return t&&(a=a*e+.5|0,i=i*e+.5|0,n=n*e+.5|0),(255*e<<24)+(a<<16)+(i<<8)+n}},{key:"toHex",value:function(){var e=this._int.toString(16);return"#".concat("000000".substring(0,6-e.length)+e)}},{key:"toHexa",value:function(){var e=Math.round(255*this._components[3]).toString(16);return this.toHex()+"00".substring(0,2-e.length)+e}},{key:"setAlpha",value:function(e){return this._components[3]=this._clamp(e),this}},{key:"round",value:function(e){var t=i(this._components,3),a=t[0],n=t[1],r=t[2];return this._components[0]=Math.round(a*e)/e,this._components[1]=Math.round(n*e)/e,this._components[2]=Math.round(r*e)/e,this.refreshInt(),this._value=null,this}},{key:"toArray",value:function(e){var t;e=null!==(t=e)&&void 0!==t?t:[];var a=i(this._components,4),n=a[0],r=a[1],s=a[2],o=a[3];return e[0]=n,e[1]=r,e[2]=s,e[3]=o,e}},{key:"normalize",value:function(t){var a,n,r,s,l,d,c,u;if(("number"==typeof t||t instanceof Number)&&t>=0&&t<=16777215){l=(t>>16&255)/255,d=(t>>8&255)/255,c=(255&t)/255,u=1}else if((Array.isArray(t)||t instanceof Float32Array)&&t.length>=3&&t.length<=4)t=this._clamp(t),l=(a=i(t,4))[0],d=a[1],c=a[2],u=void 0===(n=a[3])?1:n;else if((t instanceof Uint8Array||t instanceof Uint8ClampedArray)&&t.length>=3&&t.length<=4)t=this._clamp(t,0,255),l=(r=i(t,4))[0],d=r[1],c=r[2],u=void 0===(s=r[3])?255:s,l/=255,d/=255,c/=255,u/=255;else if("string"==typeof t||"object"==typeof t){var h;if("string"==typeof t){var f=e.HEX_PATTERN.exec(t);f&&(t="#".concat(f[2]))}var p=o.colord(t);p.isValid()&&(l=(h=p.rgba).r,d=h.g,c=h.b,u=h.a,l/=255,d/=255,c/=255)}if(void 0===l)throw new Error("Unable to convert color ".concat(t));this._components[0]=l,this._components[1]=d,this._components[2]=c,this._components[3]=u,this.refreshInt()}},{key:"refreshInt",value:function(){this._clamp(this._components);var e=i(this._components,3),t=e[0],a=e[1],n=e[2];this._int=(255*t<<16)+(255*a<<8)+(255*n|0)}},{key:"_clamp",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return"number"==typeof e?Math.min(Math.max(e,t),a):(e.forEach((function(i,n){e[n]=Math.min(Math.max(i,t),a)})),e)}}]),e}();d.shared=new d,d.temp=new d,d.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;var c=d;t.Color=c},25015:function(e,t,a){"use strict";var i=a(83514);t.Color=i.Color},55176:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var a={grad:.9,turn:360,rad:360/(2*Math.PI)},i=function(e){return"string"==typeof e?e.length>0:"number"==typeof e},n=function(e,t,a){return void 0===t&&(t=0),void 0===a&&(a=Math.pow(10,t)),Math.round(a*e)/a+0},r=function(e,t,a){return void 0===t&&(t=0),void 0===a&&(a=1),e>a?a:e>t?e:t},s=function(e){return(e=isFinite(e)?e%360:0)>0?e:e+360},o=function(e){return{r:r(e.r,0,255),g:r(e.g,0,255),b:r(e.b,0,255),a:r(e.a)}},l=function(e){return{r:n(e.r),g:n(e.g),b:n(e.b),a:n(e.a,3)}},d=/^#([0-9a-f]{3,8})$/i,c=function(e){var t=e.toString(16);return t.length<2?"0"+t:t},u=function(e){var t=e.r,a=e.g,i=e.b,n=e.a,r=Math.max(t,a,i),s=r-Math.min(t,a,i),o=s?r===t?(a-i)/s:r===a?2+(i-t)/s:4+(t-a)/s:0;return{h:60*(o<0?o+6:o),s:r?s/r*100:0,v:r/255*100,a:n}},h=function(e){var t=e.h,a=e.s,i=e.v,n=e.a;t=t/360*6,a/=100,i/=100;var r=Math.floor(t),s=i*(1-a),o=i*(1-(t-r)*a),l=i*(1-(1-t+r)*a),d=r%6;return{r:255*[i,o,s,s,l,i][d],g:255*[l,i,i,o,s,s][d],b:255*[s,s,l,i,i,o][d],a:n}},f=function(e){return{h:s(e.h),s:r(e.s,0,100),l:r(e.l,0,100),a:r(e.a)}},p=function(e){return{h:n(e.h),s:n(e.s),l:n(e.l),a:n(e.a,3)}},m=function(e){return h((a=(t=e).s,{h:t.h,s:(a*=((i=t.l)<50?i:100-i)/100)>0?2*a/(i+a)*100:0,v:i+a,a:t.a}));var t,a,i},g=function(e){return{h:(t=u(e)).h,s:(n=(200-(a=t.s))*(i=t.v)/100)>0&&n<200?a*i/100/(n<=100?n:200-n)*100:0,l:n/2,a:t.a};var t,a,i,n},v=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,b=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,y=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,x=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,_={string:[[function(e){var t=d.exec(e);return t?(e=t[1]).length<=4?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:4===e.length?n(parseInt(e[3]+e[3],16)/255,2):1}:6===e.length||8===e.length?{r:parseInt(e.substr(0,2),16),g:parseInt(e.substr(2,2),16),b:parseInt(e.substr(4,2),16),a:8===e.length?n(parseInt(e.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(e){var t=y.exec(e)||x.exec(e);return t?t[2]!==t[4]||t[4]!==t[6]?null:o({r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:void 0===t[7]?1:Number(t[7])/(t[8]?100:1)}):null},"rgb"],[function(e){var t=v.exec(e)||b.exec(e);if(!t)return null;var i,n,r=f({h:(i=t[1],n=t[2],void 0===n&&(n="deg"),Number(i)*(a[n]||1)),s:Number(t[3]),l:Number(t[4]),a:void 0===t[5]?1:Number(t[5])/(t[6]?100:1)});return m(r)},"hsl"]],object:[[function(e){var t=e.r,a=e.g,n=e.b,r=e.a,s=void 0===r?1:r;return i(t)&&i(a)&&i(n)?o({r:Number(t),g:Number(a),b:Number(n),a:Number(s)}):null},"rgb"],[function(e){var t=e.h,a=e.s,n=e.l,r=e.a,s=void 0===r?1:r;if(!i(t)||!i(a)||!i(n))return null;var o=f({h:Number(t),s:Number(a),l:Number(n),a:Number(s)});return m(o)},"hsl"],[function(e){var t=e.h,a=e.s,n=e.v,o=e.a,l=void 0===o?1:o;if(!i(t)||!i(a)||!i(n))return null;var d=function(e){return{h:s(e.h),s:r(e.s,0,100),v:r(e.v,0,100),a:r(e.a)}}({h:Number(t),s:Number(a),v:Number(n),a:Number(l)});return h(d)},"hsv"]]},P=function(e,t){for(var a=0;a<t.length;a++){var i=t[a][0](e);if(i)return[i,t[a][1]]}return[null,void 0]},A=function(e){return"string"==typeof e?P(e.trim(),_.string):"object"==typeof e&&null!==e?P(e,_.object):[null,void 0]},E=function(e,t){var a=g(e);return{h:a.h,s:r(a.s+100*t,0,100),l:a.l,a:a.a}},T=function(e){return(299*e.r+587*e.g+114*e.b)/1e3/255},w=function(e,t){var a=g(e);return{h:a.h,s:a.s,l:r(a.l+100*t,0,100),a:a.a}},S=function(){function e(e){this.parsed=A(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return e.prototype.isValid=function(){return null!==this.parsed},e.prototype.brightness=function(){return n(T(this.rgba),2)},e.prototype.isDark=function(){return T(this.rgba)<.5},e.prototype.isLight=function(){return T(this.rgba)>=.5},e.prototype.toHex=function(){return t=(e=l(this.rgba)).r,a=e.g,i=e.b,s=(r=e.a)<1?c(n(255*r)):"","#"+c(t)+c(a)+c(i)+s;var e,t,a,i,r,s},e.prototype.toRgb=function(){return l(this.rgba)},e.prototype.toRgbString=function(){return t=(e=l(this.rgba)).r,a=e.g,i=e.b,(n=e.a)<1?"rgba("+t+", "+a+", "+i+", "+n+")":"rgb("+t+", "+a+", "+i+")";var e,t,a,i,n},e.prototype.toHsl=function(){return p(g(this.rgba))},e.prototype.toHslString=function(){return t=(e=p(g(this.rgba))).h,a=e.s,i=e.l,(n=e.a)<1?"hsla("+t+", "+a+"%, "+i+"%, "+n+")":"hsl("+t+", "+a+"%, "+i+"%)";var e,t,a,i,n},e.prototype.toHsv=function(){return e=u(this.rgba),{h:n(e.h),s:n(e.s),v:n(e.v),a:n(e.a,3)};var e},e.prototype.invert=function(){return C({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},e.prototype.saturate=function(e){return void 0===e&&(e=.1),C(E(this.rgba,e))},e.prototype.desaturate=function(e){return void 0===e&&(e=.1),C(E(this.rgba,-e))},e.prototype.grayscale=function(){return C(E(this.rgba,-1))},e.prototype.lighten=function(e){return void 0===e&&(e=.1),C(w(this.rgba,e))},e.prototype.darken=function(e){return void 0===e&&(e=.1),C(w(this.rgba,-e))},e.prototype.rotate=function(e){return void 0===e&&(e=15),this.hue(this.hue()+e)},e.prototype.alpha=function(e){return"number"==typeof e?C({r:(t=this.rgba).r,g:t.g,b:t.b,a:e}):n(this.rgba.a,3);var t},e.prototype.hue=function(e){var t=g(this.rgba);return"number"==typeof e?C({h:e,s:t.s,l:t.l,a:t.a}):n(t.h)},e.prototype.isEqual=function(e){return this.toHex()===C(e).toHex()},e}(),C=function(e){return e instanceof S?e:new S(e)},F=[];t.Colord=S,t.colord=C,t.extend=function(e){e.forEach((function(e){F.indexOf(e)<0&&(e(S,_),F.push(e))}))},t.getFormat=function(e){return A(e)[1]},t.random=function(){return new S({r:255*Math.random(),g:255*Math.random(),b:255*Math.random()})}},7282:function(e){e.exports=function(e,t){var a={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},i={};for(var n in a)i[a[n]]=n;var r={};e.prototype.toName=function(t){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var n,s,o=i[this.toHex()];if(o)return o;if(null==t?void 0:t.closest){var l=this.toRgb(),d=1/0,c="black";if(!r.length)for(var u in a)r[u]=new e(a[u]).toRgb();for(var h in a){var f=(n=l,s=r[h],Math.pow(n.r-s.r,2)+Math.pow(n.g-s.g,2)+Math.pow(n.b-s.b,2));f<d&&(d=f,c=h)}return c}},t.string.push([function(t){var i=t.toLowerCase(),n="transparent"===i?"#0000":a[i];return n?new e(n).toRgb():null},"name"])}},12995:function(e,t){"use strict";var a=function(e){return e[e.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",e[e.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",e[e.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",e[e.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",e[e.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",e[e.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",e[e.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",e[e.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",e[e.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",e[e.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",e[e.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",e[e.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",e[e.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",e[e.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",e[e.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",e[e.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",e[e.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",e[e.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",e[e.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",e[e.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",e[e.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",e[e.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",e[e.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",e[e.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",e[e.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35987]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",e[e.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL",e[e.COMPRESSED_RGBA_ASTC_4x4_KHR=37808]="COMPRESSED_RGBA_ASTC_4x4_KHR",e[e.COMPRESSED_RGBA_BPTC_UNORM_EXT=36492]="COMPRESSED_RGBA_BPTC_UNORM_EXT",e[e.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT=36493]="COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT",e[e.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT=36494]="COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT",e[e.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT=36495]="COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT",e}(a||{});t.INTERNAL_FORMATS=a,t.INTERNAL_FORMAT_TO_BYTES_PER_PIXEL={33776:.5,33777:.5,33778:1,33779:1,35916:.5,35917:.5,35918:1,35919:1,37488:.5,37489:.5,37490:1,37491:1,37492:.5,37496:1,37493:.5,37497:1,37494:.5,37495:.5,35840:.5,35842:.5,35841:.25,35843:.25,36196:.5,35986:.5,35987:1,34798:1,37808:1,36492:1,36493:1,36494:1,36495:1}},92864:function(e,t,a){"use strict";var i=a(12995);a(16349),a(8592),a(3980);var n=a(83586),r=a(59392),s=a(94150),o=a(43008),l=a(81214),d=a(29183),c=a(19074),u=a(70267);t.INTERNAL_FORMATS=i.INTERNAL_FORMATS,t.INTERNAL_FORMAT_TO_BYTES_PER_PIXEL=i.INTERNAL_FORMAT_TO_BYTES_PER_PIXEL,t.detectCompressedTextures=n.detectCompressedTextures,t.loadDDS=r.loadDDS,t.loadKTX=s.loadKTX,t.resolveCompressedTextureUrl=o.resolveCompressedTextureUrl,t.parseDDS=l.parseDDS,t.FORMATS_TO_COMPONENTS=d.FORMATS_TO_COMPONENTS,t.TYPES_TO_BYTES_PER_COMPONENT=d.TYPES_TO_BYTES_PER_COMPONENT,t.TYPES_TO_BYTES_PER_PIXEL=d.TYPES_TO_BYTES_PER_PIXEL,t.parseKTX=d.parseKTX,t.BlobResource=c.BlobResource,t.CompressedTextureResource=u.CompressedTextureResource},81258:function(){},83586:function(e,t,a){"use strict";var i,n,r=a(861).default,s=a(17061).default,o=a(17156).default,l=a(73629);function d(){n={bptc:i.getExtension("EXT_texture_compression_bptc"),astc:i.getExtension("WEBGL_compressed_texture_astc"),etc:i.getExtension("WEBGL_compressed_texture_etc"),s3tc:i.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:i.getExtension("WEBGL_compressed_texture_s3tc_srgb"),pvrtc:i.getExtension("WEBGL_compressed_texture_pvrtc")||i.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),etc1:i.getExtension("WEBGL_compressed_texture_etc1"),atc:i.getExtension("WEBGL_compressed_texture_atc")}}var c={extension:{type:l.ExtensionType.DetectionParser,priority:2},test:function(){var e=o(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=l.settings.ADAPTER.createCanvas().getContext("webgl"),e.abrupt("return",t?(i=t,!0):(console.warn("WebGL not available for compressed textures."),!1));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),add:function(){var e=o(s().mark((function e(t){var a,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(i in n||d(),a=[],n)n[i]&&a.push(i);return e.abrupt("return",[].concat(a,r(t)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),remove:function(){var e=o(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(n||d(),t.filter((function(e){return!(e in n)}))));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};l.extensions.add(c),t.detectCompressedTextures=c},16349:function(e,t,a){"use strict";a(81258);var i=a(83586),n=a(59392),r=a(94150),s=a(43008);t.detectCompressedTextures=i.detectCompressedTextures,t.loadDDS=n.loadDDS,t.loadKTX=r.loadKTX,t.resolveCompressedTextureUrl=s.resolveCompressedTextureUrl},59392:function(e,t,a){"use strict";var i=a(17061).default,n=a(42122).default,r=a(17156).default,s=a(51743),o=a(73629);a(8592);var l=a(81214),d={extension:{type:o.ExtensionType.LoadParser,priority:s.LoaderParserPriority.High},name:"loadDDS",test:function(e){return s.checkExtension(e,".dds")},load:function(e,t,a){return r(i().mark((function r(){var d,c;return i().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,o.settings.ADAPTER.fetch(e);case 2:return i.next=4,i.sent.arrayBuffer();case 4:return d=i.sent,c=l.parseDDS(d).map((function(i){var r=new o.BaseTexture(i,n({mipmap:o.MIPMAP_MODES.OFF,alphaMode:o.ALPHA_MODES.NO_PREMULTIPLIED_ALPHA,resolution:o.utils.getResolutionOfUrl(e)},t.data));return s.createTexture(r,a,e)})),i.abrupt("return",1===c.length?c[0]:c);case 7:case"end":return i.stop()}}),r)})))()},unload:function(e){Array.isArray(e)?e.forEach((function(e){return e.destroy(!0)})):e.destroy(!0)}};o.extensions.add(d),t.loadDDS=d},94150:function(e,t,a){"use strict";var i=a(17061).default,n=a(42122).default,r=a(17156).default,s=a(51743),o=a(73629);a(8592);var l=a(29183),d={extension:{type:o.ExtensionType.LoadParser,priority:s.LoaderParserPriority.High},name:"loadKTX",test:function(e){return s.checkExtension(e,".ktx")},load:function(e,t,a){return r(i().mark((function r(){var d,c,u,h,f,p,m,g;return i().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,o.settings.ADAPTER.fetch(e);case 2:return i.next=4,i.sent.arrayBuffer();case 4:return d=i.sent,c=l.parseKTX(e,d),u=c.compressed,h=c.uncompressed,f=c.kvData,p=null!==u&&void 0!==u?u:h,m=n({mipmap:o.MIPMAP_MODES.OFF,alphaMode:o.ALPHA_MODES.NO_PREMULTIPLIED_ALPHA,resolution:o.utils.getResolutionOfUrl(e)},t.data),g=p.map((function(t){var i;p===h&&Object.assign(m,{type:t.type,format:t.format});var n=null!==(i=t.resource)&&void 0!==i?i:t,r=new o.BaseTexture(n,m);return r.ktxKeyValueData=f,s.createTexture(r,a,e)})),i.abrupt("return",1===g.length?g[0]:g);case 13:case"end":return i.stop()}}),r)})))()},unload:function(e){Array.isArray(e)?e.forEach((function(e){return e.destroy(!0)})):e.destroy(!0)}};o.extensions.add(d),t.loadKTX=d},43008:function(e,t,a){"use strict";var i=a(73629),n=["s3tc","s3tc_sRGB","etc","etc1","pvrtc","atc","astc","bptc"],r={extension:i.ExtensionType.ResolveParser,test:function(e){var t=i.utils.path.extname(e).slice(1);return["basis","ktx","dds"].includes(t)},parse:function(e){var t,a,r=e.split("."),s=r.pop();if(["ktx","dds"].includes(s)){var o,l,d=r.pop();if(n.includes(d))return{resolution:parseFloat(null!==(o=null===(l=i.settings.RETINA_PREFIX.exec(e))||void 0===l?void 0:l[1])&&void 0!==o?o:"1"),format:d,src:e}}return{resolution:parseFloat(null!==(t=null===(a=i.settings.RETINA_PREFIX.exec(e))||void 0===a?void 0:a[1])&&void 0!==t?t:"1"),format:s,src:e}}};i.extensions.add(r),t.resolveCompressedTextureUrl=r},8592:function(e,t,a){"use strict";var i=a(81214),n=a(29183);t.parseDDS=i.parseDDS,t.FORMATS_TO_COMPONENTS=n.FORMATS_TO_COMPONENTS,t.TYPES_TO_BYTES_PER_COMPONENT=n.TYPES_TO_BYTES_PER_COMPONENT,t.TYPES_TO_BYTES_PER_PIXEL=n.TYPES_TO_BYTES_PER_PIXEL,t.parseKTX=n.parseKTX},81214:function(e,t,a){"use strict";var i,n=a(38416).default,r=a(12995);a(3980);var s=a(70267),o=124,l=3,d=4,c=7,u=19,h=2,f=0,p=1,m=2,g=3,v=(n(i={},827611204,r.INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT1_EXT),n(i,861165636,r.INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT3_EXT),n(i,894720068,r.INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT5_EXT),i),b={70:r.INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT1_EXT,71:r.INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT1_EXT,73:r.INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT3_EXT,74:r.INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT3_EXT,76:r.INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT5_EXT,77:r.INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT5_EXT,72:r.INTERNAL_FORMATS.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,75:r.INTERNAL_FORMATS.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,78:r.INTERNAL_FORMATS.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT,96:r.INTERNAL_FORMATS.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT,95:r.INTERNAL_FORMATS.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT,98:r.INTERNAL_FORMATS.COMPRESSED_RGBA_BPTC_UNORM_EXT,99:r.INTERNAL_FORMATS.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT};t.parseDDS=function(e){var t=new Uint32Array(e);if(542327876!==t[0])throw new Error("Invalid DDS file magic word");var a=new Uint32Array(e,0,o/Uint32Array.BYTES_PER_ELEMENT),i=a[l],n=a[d],y=a[c],x=new Uint32Array(e,u*Uint32Array.BYTES_PER_ELEMENT,32/Uint32Array.BYTES_PER_ELEMENT),_=x[1];if(4&_){var P=x[h];if(808540228!==P){var A=v[P],E=new Uint8Array(e,128);return[new s.CompressedTextureResource(E,{format:A,width:n,height:i,levels:y})]}var T=new Uint32Array(t.buffer,128,20/Uint32Array.BYTES_PER_ELEMENT),w=T[f],S=T[p],C=T[m],F=T[g],I=b[w];if(void 0===I)throw new Error("DDSParser cannot parse texture data with DXGI format ".concat(w));if(4===C)throw new Error("DDSParser does not support cubemap textures");if(6===S)throw new Error("DDSParser does not supported 3D texture data");var j=new Array;if(1===F)j.push(new Uint8Array(e,148));else{for(var M=r.INTERNAL_FORMAT_TO_BYTES_PER_PIXEL[I],O=0,R=n,k=i,D=0;D<y;D++){O+=Math.max(1,R+3&-4)*Math.max(1,k+3&-4)*M,R>>>=1,k>>>=1}for(var B=148,N=0;N<F;N++)j.push(new Uint8Array(e,B,O)),B+=O}return j.map((function(e){return new s.CompressedTextureResource(e,{format:I,width:n,height:i,levels:y})}))}throw 64&_?new Error("DDSParser does not support uncompressed texture data."):512&_?new Error("DDSParser does not supported YUV uncompressed texture data."):131072&_?new Error("DDSParser does not support single-channel (lumninance) texture data!"):2&_?new Error("DDSParser does not support single-channel (alpha) texture data!"):new Error("DDSParser failed to load a texture file due to an unknown reason!")}},29183:function(e,t,a){"use strict";var i,n,r,s=a(38416).default,o=a(73629),l=a(12995);a(3980);var d=a(70267),c=[171,75,84,88,32,49,49,187,13,10,26,10],u=12,h=16,f=24,p=28,m=36,g=40,v=44,b=48,y=52,x=56,_=60,P=64,A=(s(i={},o.TYPES.UNSIGNED_BYTE,1),s(i,o.TYPES.UNSIGNED_SHORT,2),s(i,o.TYPES.INT,4),s(i,o.TYPES.UNSIGNED_INT,4),s(i,o.TYPES.FLOAT,4),s(i,o.TYPES.HALF_FLOAT,8),i),E=(s(n={},o.FORMATS.RGBA,4),s(n,o.FORMATS.RGB,3),s(n,o.FORMATS.RG,2),s(n,o.FORMATS.RED,1),s(n,o.FORMATS.LUMINANCE,1),s(n,o.FORMATS.LUMINANCE_ALPHA,2),s(n,o.FORMATS.ALPHA,1),n),T=(s(r={},o.TYPES.UNSIGNED_SHORT_4_4_4_4,2),s(r,o.TYPES.UNSIGNED_SHORT_5_5_5_1,2),s(r,o.TYPES.UNSIGNED_SHORT_5_6_5,2),r);function w(e){switch(e){case o.FORMATS.RGBA:return o.FORMATS.RGBA_INTEGER;case o.FORMATS.RGB:return o.FORMATS.RGB_INTEGER;case o.FORMATS.RG:return o.FORMATS.RG_INTEGER;case o.FORMATS.RED:return o.FORMATS.RED_INTEGER;default:return e}}t.FORMATS_TO_COMPONENTS=E,t.TYPES_TO_BYTES_PER_COMPONENT=A,t.TYPES_TO_BYTES_PER_PIXEL=T,t.parseKTX=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=new DataView(t);if(!function(e,t){for(var a=0;a<c.length;a++)if(t.getUint8(a)!==c[a])return console.error("".concat(e," is not a valid *.ktx file!")),!1;return!0}(e,i))return null;var n=67305985===i.getUint32(u,!0),r=i.getUint32(h,n),s=i.getUint32(f,n),S=i.getUint32(p,n),C=i.getUint32(m,n),F=i.getUint32(g,n)||1,I=i.getUint32(v,n)||1,j=i.getUint32(b,n)||1,M=i.getUint32(y,n),O=i.getUint32(x,n),R=i.getUint32(_,n);if(0===F||1!==I)throw new Error("Only 2D textures are supported");if(1!==M)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(1!==j)throw new Error("WebGL does not support array textures");var k,D=C+3&-4,B=F+3&-4,N=new Array(j),L=C*F;if(0===r&&(L=D*B),void 0===(k=0!==r?A[r]?A[r]*E[s]:T[r]:l.INTERNAL_FORMAT_TO_BYTES_PER_PIXEL[S]))throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");for(var V=a?function(e,t,a){for(var i=new Map,n=0;n<t;){var r=e.getUint32(P+n,a),s=P+n+4,o=3-(r+3)%4;if(0===r||r>t-n){console.error("KTXLoader: keyAndValueByteSize out of bounds");break}for(var l=0;l<r&&0!==e.getUint8(s+l);l++);if(-1===l){console.error("KTXLoader: Failed to find null byte terminating kvData key");break}var d=(new TextDecoder).decode(new Uint8Array(e.buffer,s,l)),c=new DataView(e.buffer,s+l+1,r-l-1);i.set(d,c),n+=4+r+o}return i}(i,R,n):null,J=L*k,G=C,U=F,H=D,W=B,z=P+R,X=0;X<O;X++){for(var Y=i.getUint32(z,n),q=z+4,Z=0;Z<j;Z++){var Q=N[Z];Q||(Q=N[Z]=new Array(O)),Q[X]={levelID:X,levelWidth:O>1||0!==r?G:H,levelHeight:O>1||0!==r?U:W,levelBuffer:new Uint8Array(t,q,J)},q+=J}z=(z+=Y+4)%4!==0?z+4-z%4:z,J=(H=(G=G>>1||1)+4-1&-4)*(W=(U=U>>1||1)+4-1&-4)*k}return 0!==r?{uncompressed:N.map((function(e){var t=e[0].levelBuffer,a=!1;return r===o.TYPES.FLOAT?t=new Float32Array(e[0].levelBuffer.buffer,e[0].levelBuffer.byteOffset,e[0].levelBuffer.byteLength/4):r===o.TYPES.UNSIGNED_INT?(a=!0,t=new Uint32Array(e[0].levelBuffer.buffer,e[0].levelBuffer.byteOffset,e[0].levelBuffer.byteLength/4)):r===o.TYPES.INT&&(a=!0,t=new Int32Array(e[0].levelBuffer.buffer,e[0].levelBuffer.byteOffset,e[0].levelBuffer.byteLength/4)),{resource:new o.BufferResource(t,{width:e[0].levelWidth,height:e[0].levelHeight}),type:r,format:a?w(s):s}})),kvData:V}:{compressed:N.map((function(e){return new d.CompressedTextureResource(null,{format:S,width:C,height:F,levels:O,levelBuffers:e})})),kvData:V}}},19074:function(e,t,a){"use strict";var i=a(56690).default,n=a(89728).default,r=a(66115).default,s=a(61655).default,o=a(26389).default,l=a(73629),d=function(e){s(a,e);var t=o(a);function a(e){var n,s,o,d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{width:1,height:1,autoLoad:!0};return i(this,a),"string"==typeof e?(s=e,o=new Uint8Array):(s=null,o=e),(n=t.call(this,o,d)).origin=s,n.buffer=o?new l.ViewableBuffer(o):null,n._load=null,n.loaded=!1,null!==n.origin&&!1!==d.autoLoad&&n.load(),null===n.origin&&n.buffer&&(n._load=Promise.resolve(r(n)),n.loaded=!0,n.onBlobLoaded(n.buffer.rawBinaryData)),n}return n(a,[{key:"onBlobLoaded",value:function(e){}},{key:"load",value:function(){var e=this;return this._load||(this._load=fetch(this.origin).then((function(e){return e.blob()})).then((function(e){return e.arrayBuffer()})).then((function(t){return e.data=new Uint32Array(t),e.buffer=new l.ViewableBuffer(t),e.loaded=!0,e.onBlobLoaded(t),e.update(),e}))),this._load}}]),a}(l.BufferResource);t.BlobResource=d},70267:function(e,t,a){"use strict";var i=a(56690).default,n=a(89728).default,r=a(61655).default,s=a(26389).default,o=a(12995),l=function(e){r(a,e);var t=s(a);function a(e,n){var r;return i(this,a),(r=t.call(this,e,n)).format=n.format,r.levels=n.levels||1,r._width=n.width,r._height=n.height,r._extension=a._formatToExtension(r.format),(n.levelBuffers||r.buffer)&&(r._levelBuffers=n.levelBuffers||a._createLevelBuffers(e instanceof Uint8Array?e:r.buffer.uint8View,r.format,r.levels,4,4,r.width,r.height)),r}return n(a,[{key:"upload",value:function(e,t,a){var i=e.gl;if(!e.context.extensions[this._extension])throw new Error("".concat(this._extension," textures are not supported on the current machine"));if(!this._levelBuffers)return!1;i.pixelStorei(i.UNPACK_ALIGNMENT,4);for(var n=0,r=this.levels;n<r;n++){var s=this._levelBuffers[n],o=s.levelID,l=s.levelWidth,d=s.levelHeight,c=s.levelBuffer;i.compressedTexImage2D(i.TEXTURE_2D,o,this.format,l,d,0,c)}return!0}},{key:"onBlobLoaded",value:function(){this._levelBuffers=a._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)}}],[{key:"_formatToExtension",value:function(e){if(e>=33776&&e<=33779)return"s3tc";if(e>=35916&&e<=35919)return"s3tc_sRGB";if(e>=37488&&e<=37497)return"etc";if(e>=35840&&e<=35843)return"pvrtc";if(36196===e)return"etc1";if(35986===e||35987===e||34798===e)return"atc";if(e>=36492&&e<=36495)return"bptc";if(37808===e)return"astc";throw new Error("Invalid (compressed) texture format given: ".concat(e))}},{key:"_createLevelBuffers",value:function(e,t,a,i,n,r,s){for(var l=new Array(a),d=e.byteOffset,c=r,u=s,h=c+i-1&~(i-1),f=u+n-1&~(n-1),p=h*f*o.INTERNAL_FORMAT_TO_BYTES_PER_PIXEL[t],m=0;m<a;m++)l[m]={levelID:m,levelWidth:a>1?c:h,levelHeight:a>1?u:f,levelBuffer:new Uint8Array(e.buffer,d,p)},d+=p,p=(h=(c=c>>1||1)+i-1&~(i-1))*(f=(u=u>>1||1)+n-1&~(n-1))*o.INTERNAL_FORMAT_TO_BYTES_PER_PIXEL[t];return l}}]),a}(a(19074).BlobResource);t.CompressedTextureResource=l},3980:function(e,t,a){"use strict";var i=a(19074),n=a(70267);t.BlobResource=i.BlobResource,t.CompressedTextureResource=n.CompressedTextureResource},64211:function(e,t){"use strict";var a=function(e){return e[e.WEBGL_LEGACY=0]="WEBGL_LEGACY",e[e.WEBGL=1]="WEBGL",e[e.WEBGL2=2]="WEBGL2",e}(a||{}),i=function(e){return e[e.UNKNOWN=0]="UNKNOWN",e[e.WEBGL=1]="WEBGL",e[e.CANVAS=2]="CANVAS",e}(i||{}),n=function(e){return e[e.COLOR=16384]="COLOR",e[e.DEPTH=256]="DEPTH",e[e.STENCIL=1024]="STENCIL",e}(n||{}),r=function(e){return e[e.NORMAL=0]="NORMAL",e[e.ADD=1]="ADD",e[e.MULTIPLY=2]="MULTIPLY",e[e.SCREEN=3]="SCREEN",e[e.OVERLAY=4]="OVERLAY",e[e.DARKEN=5]="DARKEN",e[e.LIGHTEN=6]="LIGHTEN",e[e.COLOR_DODGE=7]="COLOR_DODGE",e[e.COLOR_BURN=8]="COLOR_BURN",e[e.HARD_LIGHT=9]="HARD_LIGHT",e[e.SOFT_LIGHT=10]="SOFT_LIGHT",e[e.DIFFERENCE=11]="DIFFERENCE",e[e.EXCLUSION=12]="EXCLUSION",e[e.HUE=13]="HUE",e[e.SATURATION=14]="SATURATION",e[e.COLOR=15]="COLOR",e[e.LUMINOSITY=16]="LUMINOSITY",e[e.NORMAL_NPM=17]="NORMAL_NPM",e[e.ADD_NPM=18]="ADD_NPM",e[e.SCREEN_NPM=19]="SCREEN_NPM",e[e.NONE=20]="NONE",e[e.SRC_OVER=0]="SRC_OVER",e[e.SRC_IN=21]="SRC_IN",e[e.SRC_OUT=22]="SRC_OUT",e[e.SRC_ATOP=23]="SRC_ATOP",e[e.DST_OVER=24]="DST_OVER",e[e.DST_IN=25]="DST_IN",e[e.DST_OUT=26]="DST_OUT",e[e.DST_ATOP=27]="DST_ATOP",e[e.ERASE=26]="ERASE",e[e.SUBTRACT=28]="SUBTRACT",e[e.XOR=29]="XOR",e}(r||{}),s=function(e){return e[e.POINTS=0]="POINTS",e[e.LINES=1]="LINES",e[e.LINE_LOOP=2]="LINE_LOOP",e[e.LINE_STRIP=3]="LINE_STRIP",e[e.TRIANGLES=4]="TRIANGLES",e[e.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",e[e.TRIANGLE_FAN=6]="TRIANGLE_FAN",e}(s||{}),o=function(e){return e[e.RGBA=6408]="RGBA",e[e.RGB=6407]="RGB",e[e.RG=33319]="RG",e[e.RED=6403]="RED",e[e.RGBA_INTEGER=36249]="RGBA_INTEGER",e[e.RGB_INTEGER=36248]="RGB_INTEGER",e[e.RG_INTEGER=33320]="RG_INTEGER",e[e.RED_INTEGER=36244]="RED_INTEGER",e[e.ALPHA=6406]="ALPHA",e[e.LUMINANCE=6409]="LUMINANCE",e[e.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",e[e.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",e[e.DEPTH_STENCIL=34041]="DEPTH_STENCIL",e}(o||{}),l=function(e){return e[e.TEXTURE_2D=3553]="TEXTURE_2D",e[e.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",e[e.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",e[e.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",e[e.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",e[e.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",e[e.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",e}(l||{}),d=function(e){return e[e.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",e[e.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",e[e.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",e[e.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",e[e.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",e[e.UNSIGNED_INT=5125]="UNSIGNED_INT",e[e.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",e[e.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",e[e.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",e[e.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",e[e.BYTE=5120]="BYTE",e[e.SHORT=5122]="SHORT",e[e.INT=5124]="INT",e[e.FLOAT=5126]="FLOAT",e[e.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",e[e.HALF_FLOAT=36193]="HALF_FLOAT",e}(d||{}),c=function(e){return e[e.FLOAT=0]="FLOAT",e[e.INT=1]="INT",e[e.UINT=2]="UINT",e}(c||{}),u=function(e){return e[e.NEAREST=0]="NEAREST",e[e.LINEAR=1]="LINEAR",e}(u||{}),h=function(e){return e[e.CLAMP=33071]="CLAMP",e[e.REPEAT=10497]="REPEAT",e[e.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",e}(h||{}),f=function(e){return e[e.OFF=0]="OFF",e[e.POW2=1]="POW2",e[e.ON=2]="ON",e[e.ON_MANUAL=3]="ON_MANUAL",e}(f||{}),p=function(e){return e[e.NPM=0]="NPM",e[e.UNPACK=1]="UNPACK",e[e.PMA=2]="PMA",e[e.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",e[e.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",e[e.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA",e}(p||{}),m=function(e){return e[e.NO=0]="NO",e[e.YES=1]="YES",e[e.AUTO=2]="AUTO",e[e.BLEND=0]="BLEND",e[e.CLEAR=1]="CLEAR",e[e.BLIT=2]="BLIT",e}(m||{}),g=function(e){return e[e.AUTO=0]="AUTO",e[e.MANUAL=1]="MANUAL",e}(g||{}),v=function(e){return e.LOW="lowp",e.MEDIUM="mediump",e.HIGH="highp",e}(v||{}),b=function(e){return e[e.NONE=0]="NONE",e[e.SCISSOR=1]="SCISSOR",e[e.STENCIL=2]="STENCIL",e[e.SPRITE=3]="SPRITE",e[e.COLOR=4]="COLOR",e}(b||{}),y=function(e){return e[e.RED=1]="RED",e[e.GREEN=2]="GREEN",e[e.BLUE=4]="BLUE",e[e.ALPHA=8]="ALPHA",e}(y||{}),x=function(e){return e[e.NONE=0]="NONE",e[e.LOW=2]="LOW",e[e.MEDIUM=4]="MEDIUM",e[e.HIGH=8]="HIGH",e}(x||{}),_=function(e){return e[e.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",e[e.ARRAY_BUFFER=34962]="ARRAY_BUFFER",e[e.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",e}(_||{});t.ALPHA_MODES=p,t.BLEND_MODES=r,t.BUFFER_BITS=n,t.BUFFER_TYPE=_,t.CLEAR_MODES=m,t.COLOR_MASK_BITS=y,t.DRAW_MODES=s,t.ENV=a,t.FORMATS=o,t.GC_MODES=g,t.MASK_TYPES=b,t.MIPMAP_MODES=f,t.MSAA_QUALITY=x,t.PRECISION=v,t.RENDERER_TYPE=i,t.SAMPLER_TYPES=c,t.SCALE_MODES=u,t.TARGETS=l,t.TYPES=d,t.WRAP_MODES=h},21993:function(){},23343:function(e,t,a){"use strict";var i=a(56690).default,n=a(89728).default,r=a(41588).default,s=a(73808).default,o=a(61655).default,l=a(26389).default,d=a(64211),c=a(59727),u=a(57223),h=a(5884),f=a(82124),p=a(34201),m=function(e){o(a,e);var t=l(a);function a(e){var n;i(this,a),(n=t.call(this)).type=d.RENDERER_TYPE.WEBGL,e=Object.assign({},h.settings.RENDER_OPTIONS,e),n.gl=null,n.CONTEXT_UID=0,n.globalUniforms=new p.UniformGroup({projectionMatrix:new u.Matrix},!0);var r={runners:["init","destroy","contextChange","resolutionChange","reset","update","postrender","prerender","resize"],systems:a.__systems,priority:["_view","textureGenerator","background","_plugin","startup","context","state","texture","buffer","geometry","framebuffer","transformFeedback","mask","scissor","stencil","projection","textureGC","filter","renderTexture","batch","objectRenderer","_multisample"]};return n.setup(r),"useContextAlpha"in e&&(f.deprecation("7.0.0","options.useContextAlpha is deprecated, use options.premultipliedAlpha and options.backgroundAlpha instead"),e.premultipliedAlpha=e.useContextAlpha&&"notMultiplied"!==e.useContextAlpha,e.backgroundAlpha=!1===e.useContextAlpha?1:e.backgroundAlpha),n._plugin.rendererPlugins=a.__plugins,n.options=e,n.startup.run(n.options),n}return n(a,[{key:"render",value:function(e,t){this.objectRenderer.render(e,t)}},{key:"resize",value:function(e,t){this._view.resizeView(e,t)}},{key:"reset",value:function(){return this.runners.reset.emit(),this}},{key:"clear",value:function(){this.renderTexture.bind(),this.renderTexture.clear()}},{key:"destroy",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.runners.destroy.items.reverse(),this.emitWithCustomOptions(this.runners.destroy,{_view:e}),r(s(a.prototype),"destroy",this).call(this)}},{key:"plugins",get:function(){return this._plugin.plugins}},{key:"multisample",get:function(){return this._multisample.multisample}},{key:"width",get:function(){return this._view.element.width}},{key:"height",get:function(){return this._view.element.height}},{key:"resolution",get:function(){return this._view.resolution},set:function(e){this._view.resolution=e,this.runners.resolutionChange.emit(e)}},{key:"autoDensity",get:function(){return this._view.autoDensity}},{key:"view",get:function(){return this._view.element}},{key:"screen",get:function(){return this._view.screen}},{key:"lastObjectRendered",get:function(){return this.objectRenderer.lastObjectRendered}},{key:"renderingToScreen",get:function(){return this.objectRenderer.renderingToScreen}},{key:"rendererLogId",get:function(){return"WebGL ".concat(this.context.webGLVersion)}},{key:"clearBeforeRender",get:function(){return f.deprecation("7.0.0","renderer.clearBeforeRender has been deprecated, please use renderer.background.clearBeforeRender instead."),this.background.clearBeforeRender}},{key:"useContextAlpha",get:function(){return f.deprecation("7.0.0","renderer.useContextAlpha has been deprecated, please use renderer.context.premultipliedAlpha instead."),this.context.useContextAlpha}},{key:"preserveDrawingBuffer",get:function(){return f.deprecation("7.0.0","renderer.preserveDrawingBuffer has been deprecated, we cannot truly know this unless pixi created the context"),this.context.preserveDrawingBuffer}},{key:"backgroundColor",get:function(){return f.deprecation("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color},set:function(e){f.deprecation("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color=e}},{key:"backgroundAlpha",get:function(){return f.deprecation("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha},set:function(e){f.deprecation("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha=e}},{key:"powerPreference",get:function(){return f.deprecation("7.0.0","renderer.powerPreference has been deprecated, we can only know this if pixi creates the context"),this.context.powerPreference}},{key:"generateTexture",value:function(e,t){return this.textureGenerator.generateTexture(e,t)}}],[{key:"test",value:function(e){return(null===e||void 0===e||!e.forceCanvas)&&f.isWebGLSupported()}}]),a}(a(16371).SystemManager);m.extension={type:c.ExtensionType.Renderer,priority:1},m.__plugins={},m.__systems={};var g=m;c.extensions.handleByMap(c.ExtensionType.RendererPlugin,g.__plugins),c.extensions.handleByMap(c.ExtensionType.RendererSystem,g.__systems),c.extensions.add(g),t.Renderer=g},49626:function(e,t,a){"use strict";var i=a(74704).default,n=a(59727),r=[];n.extensions.handleByList(n.ExtensionType.Renderer,r),t.autoDetectRenderer=function(e){var t,a=i(r);try{for(a.s();!(t=a.n()).done;){var n=t.value;if(n.test(e))return new n(e)}}catch(s){a.e(s)}finally{a.f()}throw new Error("Unable to auto-detect a suitable renderer.")}},69296:function(e,t,a){"use strict";var i=a(56690).default,n=a(89728).default,r=a(25015),s=a(59727),o=function(){function e(){i(this,e),this.clearBeforeRender=!0,this._backgroundColor=new r.Color(0),this.alpha=1}return n(e,[{key:"init",value:function(e){this.clearBeforeRender=e.clearBeforeRender;var t=e.backgroundColor,a=e.background,i=e.backgroundAlpha,n=null!==a&&void 0!==a?a:t;void 0!==n&&(this.color=n),this.alpha=i}},{key:"color",get:function(){return this._backgroundColor.value},set:function(e){this._backgroundColor.setValue(e)}},{key:"alpha",get:function(){return this._backgroundColor.alpha},set:function(e){this._backgroundColor.setAlpha(e)}},{key:"backgroundColor",get:function(){return this._backgroundColor}},{key:"destroy",value:function(){}}]),e}();o.defaultOptions={backgroundAlpha:1,backgroundColor:0,clearBeforeRender:!0},o.extension={type:[s.ExtensionType.RendererSystem,s.ExtensionType.CanvasRendererSystem],name:"background"},s.extensions.add(o),t.BackgroundSystem=o},66755:function(e,t,a){"use strict";var i=a(89728).default,n=a(56690).default,r=a(64211),s=i((function e(){n(this,e),this.texArray=null,this.blend=0,this.type=r.DRAW_MODES.TRIANGLES,this.start=0,this.size=0,this.data=null}));t.BatchDrawCall=s},88280:function(e,t,a){"use strict";var i=a(89728).default,n=a(56690).default,r=a(61655).default,s=a(26389).default,o=a(64211),l=a(3297),d=function(e){r(a,e);var t=s(a);function a(){var e,i=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return n(this,a),(e=t.call(this))._buffer=new l.Buffer(null,i,!1),e._indexBuffer=new l.Buffer(null,i,!0),e.addAttribute("aVertexPosition",e._buffer,2,!1,o.TYPES.FLOAT).addAttribute("aTextureCoord",e._buffer,2,!1,o.TYPES.FLOAT).addAttribute("aColor",e._buffer,4,!0,o.TYPES.UNSIGNED_BYTE).addAttribute("aTextureId",e._buffer,1,!0,o.TYPES.FLOAT).addIndex(e._indexBuffer),e}return i(a)}(a(35972).Geometry);t.BatchGeometry=d},86608:function(e,t,a){"use strict";var i=a(56690).default,n=a(89728).default,r=a(66115).default,s=a(41588).default,o=a(73808).default,l=a(61655).default,d=a(26389).default,c=a(25015),u=a(64211),h=a(59727),f=a(5884),p=a(82124),m=a(46039),g=a(31570),v=a(25078),b=a(18545),y=a(66755),x=a(88280),_=a(35660),P=a(19786),A=a(71228),E=a(48710),T=a(57383),w=a(8737),S=a(88745),C=function(e){l(a,e);var t=d(a);function a(e){var n;return i(this,a),(n=t.call(this,e)).setShaderGenerator(),n.geometryClass=x.BatchGeometry,n.vertexSize=6,n.state=v.State.for2d(),n.size=4*a.defaultBatchSize,n._vertexCount=0,n._indexCount=0,n._bufferedElements=[],n._bufferedTextures=[],n._bufferSize=0,n._shader=null,n._packedGeometries=[],n._packedGeometryPoolSize=2,n._flushId=0,n._aBuffers={},n._iBuffers={},n.maxTextures=1,n.renderer.on("prerender",n.onPrerender,r(n)),e.runners.contextChange.add(r(n)),n._dcIndex=0,n._aIndex=0,n._iIndex=0,n._attributeBuffer=null,n._indexBuffer=null,n._tempBoundTextures=[],n}return n(a,[{key:"MAX_TEXTURES",get:function(){return p.deprecation("7.1.0","BatchRenderer#MAX_TEXTURES renamed to BatchRenderer#maxTextures"),this.maxTextures}},{key:"setShaderGenerator",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.vertex,i=void 0===t?a.defaultVertexSrc:t,n=e.fragment,r=void 0===n?a.defaultFragmentTemplate:n;this.shaderGenerator=new _.BatchShaderGenerator(i,r)}},{key:"contextChange",value:function(){var e=this.renderer.gl;f.settings.PREFER_ENV===u.ENV.WEBGL_LEGACY?this.maxTextures=1:(this.maxTextures=Math.min(e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),a.defaultMaxTextures),this.maxTextures=g.checkMaxIfStatementsInShader(this.maxTextures,e)),this._shader=this.shaderGenerator.generateShader(this.maxTextures);for(var t=0;t<this._packedGeometryPoolSize;t++)this._packedGeometries[t]=new this.geometryClass;this.initFlushBuffers()}},{key:"initFlushBuffers",value:function(){for(var e=a._drawCallPool,t=a._textureArrayPool,i=this.size/4,n=Math.floor(i/this.maxTextures)+1;e.length<i;)e.push(new y.BatchDrawCall);for(;t.length<n;)t.push(new P.BatchTextureArray);for(var r=0;r<this.maxTextures;r++)this._tempBoundTextures[r]=null}},{key:"onPrerender",value:function(){this._flushId=0}},{key:"render",value:function(e){e._texture.valid&&(this._vertexCount+e.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=e.vertexData.length/2,this._indexCount+=e.indices.length,this._bufferedTextures[this._bufferSize]=e._texture.baseTexture,this._bufferedElements[this._bufferSize++]=e)}},{key:"buildTexturesAndDrawCalls",value:function(){var e=this._bufferedTextures,t=this.maxTextures,i=a._textureArrayPool,n=this.renderer.batch,r=this._tempBoundTextures,s=this.renderer.textureGC.count,o=++b.BaseTexture._globalBatch,l=0,d=i[0],c=0;n.copyBoundTextures(r,t);for(var u=0;u<this._bufferSize;++u){var h=e[u];e[u]=null,h._batchEnabled!==o&&(d.count>=t&&(n.boundArray(d,r,o,t),this.buildDrawCalls(d,c,u),c=u,d=i[++l],++o),h._batchEnabled=o,h.touched=s,d.elements[d.count++]=h)}d.count>0&&(n.boundArray(d,r,o,t),this.buildDrawCalls(d,c,this._bufferSize),++l,++o);for(var f=0;f<r.length;f++)r[f]=null;b.BaseTexture._globalBatch=o}},{key:"buildDrawCalls",value:function(e,t,i){var n=this._bufferedElements,r=this._attributeBuffer,s=this._indexBuffer,o=this.vertexSize,l=a._drawCallPool,d=this._dcIndex,c=this._aIndex,u=this._iIndex,h=l[d];h.start=this._iIndex,h.texArray=e;for(var f=t;f<i;++f){var m=n[f],g=m._texture.baseTexture,v=p.premultiplyBlendMode[g.alphaMode?1:0][m.blendMode];n[f]=null,t<f&&h.blend!==v&&(h.size=u-h.start,t=f,(h=l[++d]).texArray=e,h.start=u),this.packInterleavedGeometry(m,r,s,c,u),c+=m.vertexData.length/2*o,u+=m.indices.length,h.blend=v}t<i&&(h.size=u-h.start,++d),this._dcIndex=d,this._aIndex=c,this._iIndex=u}},{key:"bindAndClearTexArray",value:function(e){for(var t=this.renderer.texture,a=0;a<e.count;a++)t.bind(e.elements[a],e.ids[a]),e.elements[a]=null;e.count=0}},{key:"updateGeometry",value:function(){var e=this._packedGeometries,t=this._attributeBuffer,i=this._indexBuffer;a.canUploadSameBuffer?(e[this._flushId]._buffer.update(t.rawBinaryData),e[this._flushId]._indexBuffer.update(i),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,e[this._flushId]=new this.geometryClass),e[this._flushId]._buffer.update(t.rawBinaryData),e[this._flushId]._indexBuffer.update(i),this.renderer.geometry.bind(e[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)}},{key:"drawBatches",value:function(){for(var e=this._dcIndex,t=this.renderer,i=t.gl,n=t.state,r=a._drawCallPool,s=null,o=0;o<e;o++){var l=r[o],d=l.texArray,c=l.type,u=l.size,h=l.start,f=l.blend;s!==d&&(s=d,this.bindAndClearTexArray(d)),this.state.blendMode=f,n.set(this.state),i.drawElements(c,u,i.UNSIGNED_SHORT,2*h)}}},{key:"flush",value:function(){0!==this._vertexCount&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)}},{key:"start",value:function(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.maxTextures),this.renderer.shader.bind(this._shader),a.canUploadSameBuffer&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])}},{key:"stop",value:function(){this.flush()}},{key:"destroy",value:function(){for(var e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]&&this._packedGeometries[e].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),s(o(a.prototype),"destroy",this).call(this)}},{key:"getAttributeBuffer",value:function(e){var t=p.nextPow2(Math.ceil(e/8)),a=p.log2(t),i=8*t;this._aBuffers.length<=a&&(this._iBuffers.length=a+1);var n=this._aBuffers[i];return n||(this._aBuffers[i]=n=new m.ViewableBuffer(i*this.vertexSize*4)),n}},{key:"getIndexBuffer",value:function(e){var t=p.nextPow2(Math.ceil(e/12)),a=p.log2(t),i=12*t;this._iBuffers.length<=a&&(this._iBuffers.length=a+1);var n=this._iBuffers[a];return n||(this._iBuffers[a]=n=new Uint16Array(i)),n}},{key:"packInterleavedGeometry",value:function(e,t,a,i,n){for(var r=t.uint32View,s=t.float32View,o=i/this.vertexSize,l=e.uvs,d=e.indices,u=e.vertexData,h=e._texture.baseTexture._batchLocation,f=Math.min(e.worldAlpha,1),p=c.Color.shared.setValue(e._tintRGB).toPremultiplied(f,e._texture.baseTexture.alphaMode>0),m=0;m<u.length;m+=2)s[i++]=u[m],s[i++]=u[m+1],s[i++]=l[m],s[i++]=l[m+1],r[i++]=p,s[i++]=h;for(var g=0;g<d.length;g++)a[n++]=o+d[g]}}],[{key:"defaultMaxTextures",get:function(){var e;return this._defaultMaxTextures=null!==(e=this._defaultMaxTextures)&&void 0!==e?e:E.maxRecommendedTextures(32),this._defaultMaxTextures},set:function(e){this._defaultMaxTextures=e}},{key:"canUploadSameBuffer",get:function(){var e;return this._canUploadSameBuffer=null!==(e=this._canUploadSameBuffer)&&void 0!==e?e:A.canUploadSameBuffer(),this._canUploadSameBuffer},set:function(e){this._canUploadSameBuffer=e}},{key:"defaultVertexSrc",get:function(){return S.default}},{key:"defaultFragmentTemplate",get:function(){return w.default}}]),a}(T.ObjectRenderer);C.defaultBatchSize=4096,C.extension={name:"batch",type:h.ExtensionType.RendererPlugin},C._drawCallPool=[],C._textureArrayPool=[];var F=C;h.extensions.add(F),t.BatchRenderer=F},35660:function(e,t,a){"use strict";var i=a(56690).default,n=a(89728).default,r=a(57223),s=a(66812),o=a(93215),l=a(34201),d=function(){function e(t,a){if(i(this,e),this.vertexSrc=t,this.fragTemplate=a,this.programCache={},this.defaultGroupCache={},!a.includes("%count%"))throw new Error('Fragment template must contain "%count%".');if(!a.includes("%forloop%"))throw new Error('Fragment template must contain "%forloop%".')}return n(e,[{key:"generateShader",value:function(e){if(!this.programCache[e]){for(var t=new Int32Array(e),a=0;a<e;a++)t[a]=a;this.defaultGroupCache[e]=l.UniformGroup.from({uSamplers:t},!0);var i=this.fragTemplate;i=(i=i.replace(/%count%/gi,"".concat(e))).replace(/%forloop%/gi,this.generateSampleSrc(e)),this.programCache[e]=new s.Program(this.vertexSrc,i)}var n={tint:new Float32Array([1,1,1,1]),translationMatrix:new r.Matrix,default:this.defaultGroupCache[e]};return new o.Shader(this.programCache[e],n)}},{key:"generateSampleSrc",value:function(e){var t="";t+="\n",t+="\n";for(var a=0;a<e;a++)a>0&&(t+="\nelse "),a<e-1&&(t+="if(vTextureId < ".concat(a,".5)")),t+="\n{",t+="\n\tcolor = texture2D(uSamplers[".concat(a,"], vTextureCoord);"),t+="\n}";return t+="\n",t+="\n"}}]),e}();t.BatchShaderGenerator=d},36402:function(e,t,a){"use strict";var i=a(56690).default,n=a(89728).default,r=a(59727),s=a(57383),o=function(){function e(t){i(this,e),this.renderer=t,this.emptyRenderer=new s.ObjectRenderer(t),this.currentRenderer=this.emptyRenderer}return n(e,[{key:"setObjectRenderer",value:function(e){this.currentRenderer!==e&&(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())}},{key:"flush",value:function(){this.setObjectRenderer(this.emptyRenderer)}},{key:"reset",value:function(){this.setObjectRenderer(this.emptyRenderer)}},{key:"copyBoundTextures",value:function(e,t){for(var a=this.renderer.texture.boundTextures,i=t-1;i>=0;--i)e[i]=a[i]||null,e[i]&&(e[i]._batchLocation=i)}},{key:"boundArray",value:function(e,t,a,i){for(var n=e.elements,r=e.ids,s=e.count,o=0,l=0;l<s;l++){var d=n[l],c=d._batchLocation;if(c>=0&&c<i&&t[c]===d)r[l]=c;else for(;o<i;){var u=t[o];if(!u||u._batchEnabled!==a||u._batchLocation!==o){r[l]=o,d._batchLocation=o,t[o]=d;break}o++}}}},{key:"destroy",value:function(){this.renderer=null}}]),e}();o.extension={type:r.ExtensionType.RendererSystem,name:"batch"},r.extensions.add(o),t.BatchSystem=o},19786:function(e,t,a){"use strict";var i=a(56690).default,n=a(89728).default,r=function(){function e(){i(this,e),this.elements=[],this.ids=[],this.count=0}return n(e,[{key:"clear",value:function(){for(var e=0;e<this.count;e++)this.elements[e]=null;this.count=0}}]),e}();t.BatchTextureArray=r},57383:function(e,t,a){"use strict";var i=a(56690).default,n=a(89728).default,r=function(){function e(t){i(this,e),this.renderer=t}return n(e,[{key:"flush",value:function(){}},{key:"destroy",value:function(){this.renderer=null}},{key:"start",value:function(){}},{key:"stop",value:function(){this.flush()}},{key:"render",value:function(e){}}]),e}();t.ObjectRenderer=r},71228:function(e,t,a){"use strict";var i=a(5884);t.canUploadSameBuffer=function(){return!i.isMobile.apple.device}},48710:function(e,t,a){"use strict";var i=a(5884);t.maxRecommendedTextures=function(e){var t=!0,a=i.settings.ADAPTER.getNavigator();if(i.isMobile.tablet||i.isMobile.phone){if(i.isMobile.apple.device){var n=a.userAgent.match(/OS (\d+)_(\d+)?/);n&&parseInt(n[1],10)<11&&(t=!1)}if(i.isMobile.android.device){var r=a.userAgent.match(/Android\s([0-9.]*)/);r&&parseInt(r[1],10)<7&&(t=!1)}}return t?e:4}},8737:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default="varying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\nuniform sampler2D uSamplers[%count%];\n\nvoid main(void){\n    vec4 color;\n    %forloop%\n    gl_FragColor = color * vColor;\n}\n"},88745:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default="precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform vec4 tint;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor * tint;\n}\n"},36105:function(e,t,a){"use strict";var i=a(56690).default,n=a(89728).default,r=a(64211),s=a(59727),o=a(5884),l=0,d=function(){function e(t){i(this,e),this.renderer=t,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this)}return n(e,[{key:"isLost",get:function(){return!this.gl||this.gl.isContextLost()}},{key:"contextChange",value:function(e){this.gl=e,this.renderer.gl=e,this.renderer.CONTEXT_UID=l++}},{key:"init",value:function(e){if(e.context)this.initFromContext(e.context);else{var t=this.renderer.background.alpha<1,a=e.premultipliedAlpha;this.preserveDrawingBuffer=e.preserveDrawingBuffer,this.useContextAlpha=e.useContextAlpha,this.powerPreference=e.powerPreference,this.initFromOptions({alpha:t,premultipliedAlpha:a,antialias:e.antialias,stencil:!0,preserveDrawingBuffer:e.preserveDrawingBuffer,powerPreference:e.powerPreference})}}},{key:"initFromContext",value:function(e){this.gl=e,this.validateContext(e),this.renderer.gl=e,this.renderer.CONTEXT_UID=l++,this.renderer.runners.contextChange.emit(e);var t=this.renderer.view;void 0!==t.addEventListener&&(t.addEventListener("webglcontextlost",this.handleContextLost,!1),t.addEventListener("webglcontextrestored",this.handleContextRestored,!1))}},{key:"initFromOptions",value:function(e){var t=this.createContext(this.renderer.view,e);this.initFromContext(t)}},{key:"createContext",value:function(e,t){var a;if(o.settings.PREFER_ENV>=r.ENV.WEBGL2&&(a=e.getContext("webgl2",t)),a)this.webGLVersion=2;else if(this.webGLVersion=1,!(a=e.getContext("webgl",t)||e.getContext("experimental-webgl",t)))throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=a,this.getExtensions(),this.gl}},{key:"getExtensions",value:function(){var e=this.gl,t={loseContext:e.getExtension("WEBGL_lose_context"),anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),s3tc:e.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:e.getExtension("WEBGL_compressed_texture_etc"),etc1:e.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:e.getExtension("WEBGL_compressed_texture_atc"),astc:e.getExtension("WEBGL_compressed_texture_astc"),bptc:e.getExtension("EXT_texture_compression_bptc")};1===this.webGLVersion?Object.assign(this.extensions,t,{drawBuffers:e.getExtension("WEBGL_draw_buffers"),depthTexture:e.getExtension("WEBGL_depth_texture"),vertexArrayObject:e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:e.getExtension("OES_element_index_uint"),floatTexture:e.getExtension("OES_texture_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),textureHalfFloat:e.getExtension("OES_texture_half_float"),textureHalfFloatLinear:e.getExtension("OES_texture_half_float_linear")}):2===this.webGLVersion&&Object.assign(this.extensions,t,{colorBufferFloat:e.getExtension("EXT_color_buffer_float")})}},{key:"handleContextLost",value:function(e){var t=this;e.preventDefault(),setTimeout((function(){t.gl.isContextLost()&&t.extensions.loseContext&&t.extensions.loseContext.restoreContext()}),0)}},{key:"handleContextRestored",value:function(){this.renderer.runners.contextChange.emit(this.gl)}},{key:"destroy",value:function(){var e=this.renderer.view;this.renderer=null,void 0!==e.removeEventListener&&(e.removeEventListener("webglcontextlost",this.handleContextLost),e.removeEventListener("webglcontextrestored",this.handleContextRestored)),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()}},{key:"postrender",value:function(){this.renderer.objectRenderer.renderingToScreen&&this.gl.flush()}},{key:"validateContext",value:function(e){var t=e.getContextAttributes(),a="WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext;a&&(this.webGLVersion=2),t&&!t.stencil&&console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");var i=a||!!e.getExtension("OES_element_index_uint");this.supports.uint32Indices=i,i||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")}}]),e}();d.defaultOptions={context:null,antialias:!1,premultipliedAlpha:!0,preserveDrawingBuffer:!1,powerPreference:"default"},d.extension={type:s.ExtensionType.RendererSystem,name:"context"},s.extensions.add(d),t.ContextSystem=d},88591:function(e,t,a){"use strict";var i=a(56690).default,n=a(89728).default,r=a(61655).default,s=a(26389).default,o=a(64211),l=a(66812),d=a(93215),c=a(25078),u=a(50706),h=a(12065),f=function(e){r(a,e);var t=s(a);function a(e,n,r){var s;i(this,a);var o=l.Program.from(e||a.defaultVertexSrc,n||a.defaultFragmentSrc);return(s=t.call(this,o,r)).padding=0,s.resolution=a.defaultResolution,s.multisample=a.defaultMultisample,s.enabled=!0,s.autoFit=!0,s.state=new c.State,s}return n(a,[{key:"apply",value:function(e,t,a,i,n){e.applyFilter(this,t,a,i)}},{key:"blendMode",get:function(){return this.state.blendMode},set:function(e){this.state.blendMode=e}},{key:"resolution",get:function(){return this._resolution},set:function(e){this._resolution=e}}],[{key:"defaultVertexSrc",get:function(){return h.default}},{key:"defaultFragmentSrc",get:function(){return u.default}}]),a}(d.Shader);f.defaultResolution=1,f.defaultMultisample=o.MSAA_QUALITY.NONE;var p=f;t.Filter=p},73021:function(e,t,a){"use strict";var i=a(56690).default,n=a(89728).default,r=a(64211),s=a(57223),o=function(){function e(){i(this,e),this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=r.MSAA_QUALITY.NONE,this.sourceFrame=new s.Rectangle,this.destinationFrame=new s.Rectangle,this.bindingSourceFrame=new s.Rectangle,this.bindingDestinationFrame=new s.Rectangle,this.filters=[],this.transform=null}return n(e,[{key:"clear",value:function(){this.target=null,this.filters=null,this.renderTexture=null}}]),e}();t.FilterState=o},16184:function(e,t,a){"use strict";var i=a(56690).default,n=a(89728).default,r=a(64211),s=a(59727),o=a(57223),l=a(3412),d=a(34201),c=a(65993),u=a(35255),h=a(73021),f=[new o.Point,new o.Point,new o.Point,new o.Point],p=new o.Matrix,m=function(){function e(t){i(this,e),this.renderer=t,this.defaultFilterStack=[{}],this.texturePool=new l.RenderTexturePool,this.statePool=[],this.quad=new c.Quad,this.quadUv=new u.QuadUv,this.tempRect=new o.Rectangle,this.activeState={},this.globalUniforms=new d.UniformGroup({outputFrame:new o.Rectangle,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}return n(e,[{key:"init",value:function(){this.texturePool.setScreenSize(this.renderer.view)}},{key:"push",value:function(e,t){var a,i,n,r,s=this.renderer,o=this.defaultFilterStack,l=this.statePool.pop()||new h.FilterState,d=s.renderTexture;if(d.current){var c=d.current;n=c.resolution,r=c.multisample}else n=s.resolution,r=s.multisample;for(var u=t[0].resolution||n,f=null!==(a=t[0].multisample)&&void 0!==a?a:r,m=t[0].padding,g=t[0].autoFit,v=null===(i=t[0].legacy)||void 0===i||i,b=1;b<t.length;b++){var y,x,_=t[b];u=Math.min(u,_.resolution||n),f=Math.min(f,null!==(y=_.multisample)&&void 0!==y?y:r),m=this.useMaxPadding?Math.max(m,_.padding):m+_.padding,g=g&&_.autoFit,v=v||null===(x=_.legacy)||void 0===x||x}1===o.length&&(this.defaultFilterStack[0].renderTexture=d.current),o.push(l),l.resolution=u,l.multisample=f,l.legacy=v,l.target=e,l.sourceFrame.copyFrom(e.filterArea||e.getBounds(!0)),l.sourceFrame.pad(m);var P=this.tempRect.copyFrom(d.sourceFrame);s.projection.transform&&this.transformAABB(p.copyFrom(s.projection.transform).invert(),P),g?(l.sourceFrame.fit(P),(l.sourceFrame.width<=0||l.sourceFrame.height<=0)&&(l.sourceFrame.width=0,l.sourceFrame.height=0)):l.sourceFrame.intersects(P)||(l.sourceFrame.width=0,l.sourceFrame.height=0),this.roundFrame(l.sourceFrame,d.current?d.current.resolution:s.resolution,d.sourceFrame,d.destinationFrame,s.projection.transform),l.renderTexture=this.getOptimalFilterTexture(l.sourceFrame.width,l.sourceFrame.height,u,f),l.filters=t,l.destinationFrame.width=l.renderTexture.width,l.destinationFrame.height=l.renderTexture.height;var A=this.tempRect;A.x=0,A.y=0,A.width=l.sourceFrame.width,A.height=l.sourceFrame.height,l.renderTexture.filterFrame=l.sourceFrame,l.bindingSourceFrame.copyFrom(d.sourceFrame),l.bindingDestinationFrame.copyFrom(d.destinationFrame),l.transform=s.projection.transform,s.projection.transform=null,d.bind(l.renderTexture,l.sourceFrame,A),s.framebuffer.clear(0,0,0,0)}},{key:"pop",value:function(){var e=this.defaultFilterStack,t=e.pop(),a=t.filters;this.activeState=t;var i=this.globalUniforms.uniforms;i.outputFrame=t.sourceFrame,i.resolution=t.resolution;var n=i.inputSize,s=i.inputPixel,o=i.inputClamp;if(n[0]=t.destinationFrame.width,n[1]=t.destinationFrame.height,n[2]=1/n[0],n[3]=1/n[1],s[0]=Math.round(n[0]*t.resolution),s[1]=Math.round(n[1]*t.resolution),s[2]=1/s[0],s[3]=1/s[1],o[0]=.5*s[2],o[1]=.5*s[3],o[2]=t.sourceFrame.width*n[2]-.5*s[2],o[3]=t.sourceFrame.height*n[3]-.5*s[3],t.legacy){var l=i.filterArea;l[0]=t.destinationFrame.width,l[1]=t.destinationFrame.height,l[2]=t.sourceFrame.x,l[3]=t.sourceFrame.y,i.filterClamp=i.inputClamp}this.globalUniforms.update();var d=e[e.length-1];if(this.renderer.framebuffer.blit(),1===a.length)a[0].apply(this,t.renderTexture,d.renderTexture,r.CLEAR_MODES.BLEND,t),this.returnFilterTexture(t.renderTexture);else{var c=t.renderTexture,u=this.getOptimalFilterTexture(c.width,c.height,t.resolution);u.filterFrame=c.filterFrame;var h=0;for(h=0;h<a.length-1;++h){1===h&&t.multisample>1&&((u=this.getOptimalFilterTexture(c.width,c.height,t.resolution)).filterFrame=c.filterFrame),a[h].apply(this,c,u,r.CLEAR_MODES.CLEAR,t);var f=c;c=u,u=f}a[h].apply(this,c,d.renderTexture,r.CLEAR_MODES.BLEND,t),h>1&&t.multisample>1&&this.returnFilterTexture(t.renderTexture),this.returnFilterTexture(c),this.returnFilterTexture(u)}t.clear(),this.statePool.push(t)}},{key:"bindAndClear",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.CLEAR_MODES.CLEAR,a=this.renderer,i=a.renderTexture,n=a.state;if(e===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,null!==e&&void 0!==e&&e.filterFrame){var s=this.tempRect;s.x=0,s.y=0,s.width=e.filterFrame.width,s.height=e.filterFrame.height,i.bind(e,e.filterFrame,s)}else e!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?i.bind(e):this.renderer.renderTexture.bind(e,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);var o=1&n.stateId||this.forceClear;(t===r.CLEAR_MODES.CLEAR||t===r.CLEAR_MODES.BLIT&&o)&&this.renderer.framebuffer.clear(0,0,0,0)}},{key:"applyFilter",value:function(e,t,a,i){var n=this.renderer;n.state.set(e.state),this.bindAndClear(a,i),e.uniforms.uSampler=t,e.uniforms.filterGlobals=this.globalUniforms,n.shader.bind(e),e.legacy=!!e.program.attributeData.aTextureCoord,e.legacy?(this.quadUv.map(t._frame,t.filterFrame),n.geometry.bind(this.quadUv),n.geometry.draw(r.DRAW_MODES.TRIANGLES)):(n.geometry.bind(this.quad),n.geometry.draw(r.DRAW_MODES.TRIANGLE_STRIP))}},{key:"calculateSpriteMatrix",value:function(e,t){var a=this.activeState,i=a.sourceFrame,n=a.destinationFrame,r=t._texture.orig,s=e.set(n.width,0,0,n.height,i.x,i.y),l=t.worldTransform.copyTo(o.Matrix.TEMP_MATRIX);return l.invert(),s.prepend(l),s.scale(1/r.width,1/r.height),s.translate(t.anchor.x,t.anchor.y),s}},{key:"destroy",value:function(){this.renderer=null,this.texturePool.clear(!1)}},{key:"getOptimalFilterTexture",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:r.MSAA_QUALITY.NONE;return this.texturePool.getOptimalTexture(e,t,a,i)}},{key:"getFilterTexture",value:function(e,t,a){if("number"==typeof e){var i=e;e=t,t=i}e=e||this.activeState.renderTexture;var n=this.texturePool.getOptimalTexture(e.width,e.height,t||e.resolution,a||r.MSAA_QUALITY.NONE);return n.filterFrame=e.filterFrame,n}},{key:"returnFilterTexture",value:function(e){this.texturePool.returnTexture(e)}},{key:"emptyPool",value:function(){this.texturePool.clear(!0)}},{key:"resize",value:function(){this.texturePool.setScreenSize(this.renderer.view)}},{key:"transformAABB",value:function(e,t){var a=f[0],i=f[1],n=f[2],r=f[3];a.set(t.left,t.top),i.set(t.left,t.bottom),n.set(t.right,t.top),r.set(t.right,t.bottom),e.apply(a,a),e.apply(i,i),e.apply(n,n),e.apply(r,r);var s=Math.min(a.x,i.x,n.x,r.x),o=Math.min(a.y,i.y,n.y,r.y),l=Math.max(a.x,i.x,n.x,r.x),d=Math.max(a.y,i.y,n.y,r.y);t.x=s,t.y=o,t.width=l-s,t.height=d-o}},{key:"roundFrame",value:function(e,t,a,i,n){if(!(e.width<=0||e.height<=0||a.width<=0||a.height<=0)){if(n){var r=n,s=r.a,o=r.b,l=r.c,d=r.d;if((Math.abs(o)>1e-4||Math.abs(l)>1e-4)&&(Math.abs(s)>1e-4||Math.abs(d)>1e-4))return}(n=n?p.copyFrom(n):p.identity()).translate(-a.x,-a.y).scale(i.width/a.width,i.height/a.height).translate(i.x,i.y),this.transformAABB(n,e),e.ceil(t),this.transformAABB(n.invert(),e)}}}]),e}();m.extension={type:s.ExtensionType.RendererSystem,name:"filter"},s.extensions.add(m),t.FilterSystem=m},42588:function(){},50706:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default="varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n}\n"},12065:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default="attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n"},61842:function(e,t,a){"use strict";var i=a(56690).default,n=a(89728).default,r=a(61655).default,s=a(26389).default,o=a(57223),l=a(86002),d=a(88591),c=a(58568),u=a(84341),h=function(e){r(a,e);var t=s(a);function a(e,n,r){var s;i(this,a);var l=null;return"string"!=typeof e&&void 0===n&&void 0===r&&(l=e,e=void 0,n=void 0,r=void 0),(s=t.call(this,e||u.default,n||c.default,r)).maskSprite=l,s.maskMatrix=new o.Matrix,s}return n(a,[{key:"maskSprite",get:function(){return this._maskSprite},set:function(e){this._maskSprite=e,this._maskSprite&&(this._maskSprite.renderable=!1)}},{key:"apply",value:function(e,t,a,i){var n=this._maskSprite,r=n._texture;r.valid&&(r.uvMatrix||(r.uvMatrix=new l.TextureMatrix(r,0)),r.uvMatrix.update(),this.uniforms.npmAlpha=r.baseTexture.alphaMode?0:1,this.uniforms.mask=r,this.uniforms.otherMatrix=e.calculateSpriteMatrix(this.maskMatrix,n).prepend(r.uvMatrix.mapCoord),this.uniforms.alpha=n.worldAlpha,this.uniforms.maskClamp=r.uvMatrix.uClampFrame,e.applyFilter(this,t,a,i))}}]),a}(d.Filter);t.SpriteMaskFilter=h},58568:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default="varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform float npmAlpha;\nuniform vec4 maskClamp;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);\n\n    original *= (alphaMul * masky.r * alpha * clip);\n\n    gl_FragColor = original;\n}\n"},84341:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n"},31202:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}"},75475:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default="attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n"},72390:function(e,t,a){"use strict";var i=a(31202),n=a(75475),r=i.default,s=n.default;t.defaultFilterVertex=s,t.defaultVertex=r},67443:function(e,t,a){"use strict";var i=a(56690).default,n=a(89728).default,r=a(64211),s=a(35491),o=a(18545),l=function(){function e(t,a){if(i(this,e),this.width=Math.round(t),this.height=Math.round(a),!this.width||!this.height)throw new Error("Framebuffer width or height is zero");this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new s.Runner("disposeFramebuffer"),this.multisample=r.MSAA_QUALITY.NONE}return n(e,[{key:"colorTexture",get:function(){return this.colorTextures[0]}},{key:"addColorTexture",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;return this.colorTextures[e]=t||new o.BaseTexture(null,{scaleMode:r.SCALE_MODES.NEAREST,resolution:1,mipmap:r.MIPMAP_MODES.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this}},{key:"addDepthTexture",value:function(e){return this.depthTexture=e||new o.BaseTexture(null,{scaleMode:r.SCALE_MODES.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:r.MIPMAP_MODES.OFF,format:r.FORMATS.DEPTH_COMPONENT,type:r.TYPES.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this}},{key:"enableDepth",value:function(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this}},{key:"enableStencil",value:function(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this}},{key:"resize",value:function(e,t){if(e=Math.round(e),t=Math.round(t),!e||!t)throw new Error("Framebuffer width and height must not be zero");if(e!==this.width||t!==this.height){this.width=e,this.height=t,this.dirtyId++,this.dirtySize++;for(var a=0;a<this.colorTextures.length;a++){var i=this.colorTextures[a],n=i.resolution;i.setSize(e/n,t/n)}if(this.depthTexture){var r=this.depthTexture.resolution;this.depthTexture.setSize(e/r,t/r)}}}},{key:"dispose",value:function(){this.disposeRunner.emit(this,!1)}},{key:"destroyDepthTexture",value:function(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)}}]),e}();t.Framebuffer=l},74346:function(e,t,a){"use strict";var i=a(56690).default,n=a(89728).default,r=a(64211),s=a(59727),o=a(57223),l=a(5884),d=a(67443),c=a(91083),u=new o.Rectangle,h=function(){function e(t){i(this,e),this.renderer=t,this.managedFramebuffers=[],this.unknownFramebuffer=new d.Framebuffer(10,10),this.msaaSamples=null}return n(e,[{key:"contextChange",value:function(){this.disposeAll(!0);var e=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new o.Rectangle,this.hasMRT=!0,this.writeDepthTexture=!0,1===this.renderer.context.webGLVersion){var t=this.renderer.context.extensions.drawBuffers,a=this.renderer.context.extensions.depthTexture;l.settings.PREFER_ENV===r.ENV.WEBGL_LEGACY&&(t=null,a=null),t?e.drawBuffers=function(e){return t.drawBuffersWEBGL(e)}:(this.hasMRT=!1,e.drawBuffers=function(){}),a||(this.writeDepthTexture=!1)}else this.msaaSamples=e.getInternalformatParameter(e.RENDERBUFFER,e.RGBA8,e.SAMPLES)}},{key:"bind",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=this.gl;if(e){var n=e.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(e);this.current!==e&&(this.current=e,i.bindFramebuffer(i.FRAMEBUFFER,n.framebuffer)),n.mipLevel!==a&&(e.dirtyId++,e.dirtyFormat++,n.mipLevel=a),n.dirtyId!==e.dirtyId&&(n.dirtyId=e.dirtyId,n.dirtyFormat!==e.dirtyFormat?(n.dirtyFormat=e.dirtyFormat,n.dirtySize=e.dirtySize,this.updateFramebuffer(e,a)):n.dirtySize!==e.dirtySize&&(n.dirtySize=e.dirtySize,this.resizeFramebuffer(e)));for(var r=0;r<e.colorTextures.length;r++){var s=e.colorTextures[r];this.renderer.texture.unbind(s.parentTextureArray||s)}if(e.depthTexture&&this.renderer.texture.unbind(e.depthTexture),t){var o=t.width>>a,l=t.height>>a,d=o/t.width;this.setViewport(t.x*d,t.y*d,o,l)}else{var c=e.width>>a,u=e.height>>a;this.setViewport(0,0,c,u)}}else this.current&&(this.current=null,i.bindFramebuffer(i.FRAMEBUFFER,null)),t?this.setViewport(t.x,t.y,t.width,t.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)}},{key:"setViewport",value:function(e,t,a,i){var n=this.viewport;e=Math.round(e),t=Math.round(t),a=Math.round(a),i=Math.round(i),(n.width!==a||n.height!==i||n.x!==e||n.y!==t)&&(n.x=e,n.y=t,n.width=a,n.height=i,this.gl.viewport(e,t,a,i))}},{key:"size",get:function(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}}},{key:"clear",value:function(e,t,a,i){var n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:r.BUFFER_BITS.COLOR|r.BUFFER_BITS.DEPTH,s=this.gl;s.clearColor(e,t,a,i),s.clear(n)}},{key:"initFramebuffer",value:function(e){var t=this.gl,a=new c.GLFramebuffer(t.createFramebuffer());return a.multisample=this.detectSamples(e.multisample),e.glFramebuffers[this.CONTEXT_UID]=a,this.managedFramebuffers.push(e),e.disposeRunner.add(this),a}},{key:"resizeFramebuffer",value:function(e){var t,a=this.gl,i=e.glFramebuffers[this.CONTEXT_UID];i.stencil&&(a.bindRenderbuffer(a.RENDERBUFFER,i.stencil),t=1===this.renderer.context.webGLVersion?a.DEPTH_STENCIL:e.depth&&e.stencil?a.DEPTH24_STENCIL8:e.depth?a.DEPTH_COMPONENT24:a.STENCIL_INDEX8,i.msaaBuffer?a.renderbufferStorageMultisample(a.RENDERBUFFER,i.multisample,t,e.width,e.height):a.renderbufferStorage(a.RENDERBUFFER,t,e.width,e.height));var n=e.colorTextures,r=n.length;a.drawBuffers||(r=Math.min(r,1));for(var s=0;s<r;s++){var o=n[s],l=o.parentTextureArray||o;this.renderer.texture.bind(l,0),0===s&&i.msaaBuffer&&(a.bindRenderbuffer(a.RENDERBUFFER,i.msaaBuffer),a.renderbufferStorageMultisample(a.RENDERBUFFER,i.multisample,l._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height))}e.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(e.depthTexture,0)}},{key:"updateFramebuffer",value:function(e,t){var a=this.gl,i=e.glFramebuffers[this.CONTEXT_UID],n=e.colorTextures,r=n.length;a.drawBuffers||(r=Math.min(r,1)),i.multisample>1&&this.canMultisampleFramebuffer(e)?i.msaaBuffer=i.msaaBuffer||a.createRenderbuffer():i.msaaBuffer&&(a.deleteRenderbuffer(i.msaaBuffer),i.msaaBuffer=null,i.blitFramebuffer&&(i.blitFramebuffer.dispose(),i.blitFramebuffer=null));for(var s,o,l=[],d=0;d<r;d++){var c=n[d],u=c.parentTextureArray||c;this.renderer.texture.bind(u,0),0===d&&i.msaaBuffer?(a.bindRenderbuffer(a.RENDERBUFFER,i.msaaBuffer),a.renderbufferStorageMultisample(a.RENDERBUFFER,i.multisample,u._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height),a.framebufferRenderbuffer(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.RENDERBUFFER,i.msaaBuffer)):(a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0+d,c.target,u._glTextures[this.CONTEXT_UID].texture,t),l.push(a.COLOR_ATTACHMENT0+d))}if(l.length>1&&a.drawBuffers(l),e.depthTexture&&this.writeDepthTexture){var h=e.depthTexture;this.renderer.texture.bind(h,0),a.framebufferTexture2D(a.FRAMEBUFFER,a.DEPTH_ATTACHMENT,a.TEXTURE_2D,h._glTextures[this.CONTEXT_UID].texture,t)}!e.stencil&&!e.depth||e.depthTexture&&this.writeDepthTexture?i.stencil&&(a.deleteRenderbuffer(i.stencil),i.stencil=null):(i.stencil=i.stencil||a.createRenderbuffer(),1===this.renderer.context.webGLVersion?(s=a.DEPTH_STENCIL_ATTACHMENT,o=a.DEPTH_STENCIL):e.depth&&e.stencil?(s=a.DEPTH_STENCIL_ATTACHMENT,o=a.DEPTH24_STENCIL8):e.depth?(s=a.DEPTH_ATTACHMENT,o=a.DEPTH_COMPONENT24):(s=a.STENCIL_ATTACHMENT,o=a.STENCIL_INDEX8),a.bindRenderbuffer(a.RENDERBUFFER,i.stencil),i.msaaBuffer?a.renderbufferStorageMultisample(a.RENDERBUFFER,i.multisample,o,e.width,e.height):a.renderbufferStorage(a.RENDERBUFFER,o,e.width,e.height),a.framebufferRenderbuffer(a.FRAMEBUFFER,s,a.RENDERBUFFER,i.stencil))}},{key:"canMultisampleFramebuffer",value:function(e){return 1!==this.renderer.context.webGLVersion&&e.colorTextures.length<=1&&!e.depthTexture}},{key:"detectSamples",value:function(e){var t=this.msaaSamples,a=r.MSAA_QUALITY.NONE;if(e<=1||null===t)return a;for(var i=0;i<t.length;i++)if(t[i]<=e){a=t[i];break}return 1===a&&(a=r.MSAA_QUALITY.NONE),a}},{key:"blit",value:function(e,t,a){var i=this.current,n=this.renderer,r=this.gl,s=this.CONTEXT_UID;if(2===n.context.webGLVersion&&i){var o=i.glFramebuffers[s];if(o){if(!e){if(!o.msaaBuffer)return;var l=i.colorTextures[0];if(!l)return;o.blitFramebuffer||(o.blitFramebuffer=new d.Framebuffer(i.width,i.height),o.blitFramebuffer.addColorTexture(0,l)),(e=o.blitFramebuffer).colorTextures[0]!==l&&(e.colorTextures[0]=l,e.dirtyId++,e.dirtyFormat++),(e.width!==i.width||e.height!==i.height)&&(e.width=i.width,e.height=i.height,e.dirtyId++,e.dirtySize++)}t||((t=u).width=i.width,t.height=i.height),a||(a=t);var c=t.width===a.width&&t.height===a.height;this.bind(e),r.bindFramebuffer(r.READ_FRAMEBUFFER,o.framebuffer),r.blitFramebuffer(t.left,t.top,t.right,t.bottom,a.left,a.top,a.right,a.bottom,r.COLOR_BUFFER_BIT,c?r.NEAREST:r.LINEAR),r.bindFramebuffer(r.READ_FRAMEBUFFER,e.glFramebuffers[this.CONTEXT_UID].framebuffer)}}}},{key:"disposeFramebuffer",value:function(e,t){var a=e.glFramebuffers[this.CONTEXT_UID],i=this.gl;if(a){delete e.glFramebuffers[this.CONTEXT_UID];var n=this.managedFramebuffers.indexOf(e);n>=0&&this.managedFramebuffers.splice(n,1),e.disposeRunner.remove(this),t||(i.deleteFramebuffer(a.framebuffer),a.msaaBuffer&&i.deleteRenderbuffer(a.msaaBuffer),a.stencil&&i.deleteRenderbuffer(a.stencil)),a.blitFramebuffer&&this.disposeFramebuffer(a.blitFramebuffer,t)}}},{key:"disposeAll",value:function(e){var t=this.managedFramebuffers;this.managedFramebuffers=[];for(var a=0;a<t.length;a++)this.disposeFramebuffer(t[a],e)}},{key:"forceStencil",value:function(){var e=this.current;if(e){var t=e.glFramebuffers[this.CONTEXT_UID];if(!(!t||t.stencil&&e.stencil)){e.stencil=!0;var a,i,n=e.width,r=e.height,s=this.gl,o=t.stencil=s.createRenderbuffer();s.bindRenderbuffer(s.RENDERBUFFER,o),1===this.renderer.context.webGLVersion?(a=s.DEPTH_STENCIL_ATTACHMENT,i=s.DEPTH_STENCIL):e.depth?(a=s.DEPTH_STENCIL_ATTACHMENT,i=s.DEPTH24_STENCIL8):(a=s.STENCIL_ATTACHMENT,i=s.STENCIL_INDEX8),t.msaaBuffer?s.renderbufferStorageMultisample(s.RENDERBUFFER,t.multisample,i,n,r):s.renderbufferStorage(s.RENDERBUFFER,i,n,r),s.framebufferRenderbuffer(s.FRAMEBUFFER,a,s.RENDERBUFFER,o)}}}},{key:"reset",value:function(){this.current=this.unknownFramebuffer,this.viewport=new o.Rectangle}},{key:"destroy",value:function(){this.renderer=null}}]),e}();h.extension={type:s.ExtensionType.RendererSystem,name:"framebuffer"},s.extensions.add(h),t.FramebufferSystem=h},91083:function(e,t,a){"use strict";var i=a(89728).default,n=a(56690).default,r=a(64211),s=i((function e(t){n(this,e),this.framebuffer=t,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=r.MSAA_QUALITY.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}));t.GLFramebuffer=s},74070:function(e,t,a){"use strict";var i=a(56690).default,n=a(89728).default,r=a(64211),s=a(59727),o=function(){function e(t){i(this,e),this.renderer=t}return n(e,[{key:"contextChange",value:function(e){var t;if(1===this.renderer.context.webGLVersion){var a=e.getParameter(e.FRAMEBUFFER_BINDING);e.bindFramebuffer(e.FRAMEBUFFER,null),t=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.FRAMEBUFFER,a)}else{var i=e.getParameter(e.DRAW_FRAMEBUFFER_BINDING);e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),t=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,i)}t>=r.MSAA_QUALITY.HIGH?this.multisample=r.MSAA_QUALITY.HIGH:t>=r.MSAA_QUALITY.MEDIUM?this.multisample=r.MSAA_QUALITY.MEDIUM:t>=r.MSAA_QUALITY.LOW?this.multisample=r.MSAA_QUALITY.LOW:this.multisample=r.MSAA_QUALITY.NONE}},{key:"destroy",value:function(){}}]),e}();o.extension={type:s.ExtensionType.RendererSystem,name:"_multisample"},s.extensions.add(o),t.MultisampleSystem=o},96699:function(e,t,a){"use strict";var i=a(56690).default,n=a(89728).default,r=a(64211),s=function(){function e(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:r.TYPES.FLOAT,o=arguments.length>4?arguments[4]:void 0,l=arguments.length>5?arguments[5]:void 0,d=arguments.length>6?arguments[6]:void 0,c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:1;i(this,e),this.buffer=t,this.size=a,this.normalized=n,this.type=s,this.stride=o,this.start=l,this.instance=d,this.divisor=c}return n(e,[{key:"destroy",value:function(){this.buffer=null}}],[{key:"from",value:function(t,a,i,n,r){return new e(t,a,i,n,r)}}]),e}();t.Attribute=s},3297:function(e,t,a){"use strict";var i=a(56690).default,n=a(89728).default,r=a(64211),s=a(35491),o=0,l=function(){function e(t){var a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];i(this,e),this.data=t||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=n,this.static=a,this.id=o++,this.disposeRunner=new s.Runner("disposeBuffer")}return n(e,[{key:"update",value:function(e){e instanceof Array&&(e=new Float32Array(e)),this.data=e||this.data,this._updateID++}},{key:"dispose",value:function(){this.disposeRunner.emit(this,!1)}},{key:"destroy",value:function(){this.dispose(),this.data=null}},{key:"index",get:function(){return this.type===r.BUFFER_TYPE.ELEMENT_ARRAY_BUFFER},set:function(e){this.type=e?r.BUFFER_TYPE.ELEMENT_ARRAY_BUFFER:r.BUFFER_TYPE.ARRAY_BUFFER}}],[{key:"from",value:function(t){return t instanceof Array&&(t=new Float32Array(t)),new e(t)}}]),e}();t.Buffer=l},37542:function(e,t,a){"use strict";var i=a(56690).default,n=a(89728).default,r=a(59727),s=a(31556),o=function(){function e(t){i(this,e),this.renderer=t,this.managedBuffers={},this.boundBufferBases={}}return n(e,[{key:"destroy",value:function(){this.renderer=null}},{key:"contextChange",value:function(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}},{key:"bind",value:function(e){var t=this.gl,a=this.CONTEXT_UID,i=e._glBuffers[a]||this.createGLBuffer(e);t.bindBuffer(e.type,i.buffer)}},{key:"unbind",value:function(e){this.gl.bindBuffer(e,null)}},{key:"bindBufferBase",value:function(e,t){var a=this.gl,i=this.CONTEXT_UID;if(this.boundBufferBases[t]!==e){var n=e._glBuffers[i]||this.createGLBuffer(e);this.boundBufferBases[t]=e,a.bindBufferBase(a.UNIFORM_BUFFER,t,n.buffer)}}},{key:"bindBufferRange",value:function(e,t,a){var i=this.gl,n=this.CONTEXT_UID;a=a||0;var r=e._glBuffers[n]||this.createGLBuffer(e);i.bindBufferRange(i.UNIFORM_BUFFER,t||0,r.buffer,256*a,256)}},{key:"update",value:function(e){var t=this.gl,a=this.CONTEXT_UID,i=e._glBuffers[a]||this.createGLBuffer(e);if(e._updateID!==i.updateID)if(i.updateID=e._updateID,t.bindBuffer(e.type,i.buffer),i.byteLength>=e.data.byteLength)t.bufferSubData(e.type,0,e.data);else{var n=e.static?t.STATIC_DRAW:t.DYNAMIC_DRAW;i.byteLength=e.data.byteLength,t.bufferData(e.type,e.data,n)}}},{key:"dispose",value:function(e,t){if(this.managedBuffers[e.id]){delete this.managedBuffers[e.id];var a=e._glBuffers[this.CONTEXT_UID],i=this.gl;e.disposeRunner.remove(this),a&&(t||i.deleteBuffer(a.buffer),delete e._glBuffers[this.CONTEXT_UID])}}},{key:"disposeAll",value:function(e){for(var t=Object.keys(this.managedBuffers),a=0;a<t.length;a++)this.dispose(this.managedBuffers[t[a]],e)}},{key:"createGLBuffer",value:function(e){var t=this.CONTEXT_UID,a=this.gl;return e._glBuffers[t]=new s.GLBuffer(a.createBuffer()),this.managedBuffers[e.id]=e,e.disposeRunner.add(this),e._glBuffers[t]}}]),e}();o.extension={type:r.ExtensionType.RendererSystem,name:"buffer"},r.extensions.add(o),t.BufferSystem=o},31556:function(e,t,a){"use strict";var i=a(89728).default,n=a(56690).default,r=i((function e(t){n(this,e),this.buffer=t||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}));t.GLBuffer=r},35972:function(e,t,a){"use strict";var i=a(56690).default,n=a(89728).default,r=a(64211),s=a(35491),o=a(82124),l=a(96699),d=a(3297),c=a(12714),u={5126:4,5123:2,5121:1},h=0,f={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array,Uint16Array:Uint16Array},p=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(this,e),this.buffers=t,this.indexBuffer=null,this.attributes=a,this.glVertexArrayObjects={},this.id=h++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new s.Runner("disposeGeometry"),this.refCount=0}return n(e,[{key:"addAttribute",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],n=arguments.length>4?arguments[4]:void 0,r=arguments.length>5?arguments[5]:void 0,s=arguments.length>6?arguments[6]:void 0,o=arguments.length>7&&void 0!==arguments[7]&&arguments[7];if(!t)throw new Error("You must pass a buffer when creating an attribute");t instanceof d.Buffer||(t instanceof Array&&(t=new Float32Array(t)),t=new d.Buffer(t));var c=e.split("|");if(c.length>1){for(var u=0;u<c.length;u++)this.addAttribute(c[u],t,a,i,n);return this}var h=this.buffers.indexOf(t);return-1===h&&(this.buffers.push(t),h=this.buffers.length-1),this.attributes[e]=new l.Attribute(h,a,i,n,r,s,o),this.instanced=this.instanced||o,this}},{key:"getAttribute",value:function(e){return this.attributes[e]}},{key:"getBuffer",value:function(e){return this.buffers[this.getAttribute(e).buffer]}},{key:"addIndex",value:function(e){return e instanceof d.Buffer||(e instanceof Array&&(e=new Uint16Array(e)),e=new d.Buffer(e)),e.type=r.BUFFER_TYPE.ELEMENT_ARRAY_BUFFER,this.indexBuffer=e,this.buffers.includes(e)||this.buffers.push(e),this}},{key:"getIndex",value:function(){return this.indexBuffer}},{key:"interleave",value:function(){if(1===this.buffers.length||2===this.buffers.length&&this.indexBuffer)return this;var e,t=[],a=[],i=new d.Buffer;for(e in this.attributes){var n=this.attributes[e],r=this.buffers[n.buffer];t.push(r.data),a.push(n.size*u[n.type]/4),n.buffer=0}for(i.data=c.interleaveTypedArrays(t,a),e=0;e<this.buffers.length;e++)this.buffers[e]!==this.indexBuffer&&this.buffers[e].destroy();return this.buffers=[i],this.indexBuffer&&this.buffers.push(this.indexBuffer),this}},{key:"getSize",value:function(){for(var e in this.attributes){var t=this.attributes[e];return this.buffers[t.buffer].data.length/(t.stride/4||t.size)}return 0}},{key:"dispose",value:function(){this.disposeRunner.emit(this,!1)}},{key:"destroy",value:function(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null}},{key:"clone",value:function(){for(var t=new e,a=0;a<this.buffers.length;a++)t.buffers[a]=new d.Buffer(this.buffers[a].data.slice(0));for(var i in this.attributes){var n=this.attributes[i];t.attributes[i]=new l.Attribute(n.buffer,n.size,n.normalized,n.type,n.stride,n.start,n.instance)}return this.indexBuffer&&(t.indexBuffer=t.buffers[this.buffers.indexOf(this.indexBuffer)],t.indexBuffer.type=r.BUFFER_TYPE.ELEMENT_ARRAY_BUFFER),t}}],[{key:"merge",value:function(t){for(var a,i=new e,n=[],s=[],l=[],c=0;c<t.length;c++){a=t[c];for(var h=0;h<a.buffers.length;h++)s[h]=s[h]||0,s[h]+=a.buffers[h].data.length,l[h]=0}for(var p=0;p<a.buffers.length;p++)n[p]=new(f[o.getBufferType(a.buffers[p].data)])(s[p]),i.buffers[p]=new d.Buffer(n[p]);for(var m=0;m<t.length;m++){a=t[m];for(var g=0;g<a.buffers.length;g++)n[g].set(a.buffers[g].data,l[g]),l[g]+=a.buffers[g].data.length}if(i.attributes=a.attributes,a.indexBuffer){i.indexBuffer=i.buffers[a.buffers.indexOf(a.indexBuffer)],i.indexBuffer.type=r.BUFFER_TYPE.ELEMENT_ARRAY_BUFFER;for(var v=0,b=0,y=0,x=0,_=0;_<a.buffers.length;_++)if(a.buffers[_]!==a.indexBuffer){x=_;break}for(var P in a.attributes){var A=a.attributes[P];(0|A.buffer)===x&&(b+=A.size*u[A.type]/4)}for(var E=0;E<t.length;E++){for(var T=t[E].indexBuffer.data,w=0;w<T.length;w++)i.indexBuffer.data[w+y]+=v;v+=t[E].buffers[x].data.length/b,y+=T.length}}return i}}]),e}();t.Geometry=p},11837:function(e,t,a){"use strict";var i=a(56690).default,n=a(89728).default,r=a(64211),s=a(59727),o=a(5884),l={5126:4,5123:2,5121:1},d=function(){function e(t){i(this,e),this.renderer=t,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}return n(e,[{key:"contextChange",value:function(){this.disposeAll(!0);var e=this.gl=this.renderer.gl,t=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,2!==t.webGLVersion){var a=this.renderer.context.extensions.vertexArrayObject;o.settings.PREFER_ENV===r.ENV.WEBGL_LEGACY&&(a=null),a?(e.createVertexArray=function(){return a.createVertexArrayOES()},e.bindVertexArray=function(e){return a.bindVertexArrayOES(e)},e.deleteVertexArray=function(e){return a.deleteVertexArrayOES(e)}):(this.hasVao=!1,e.createVertexArray=function(){return null},e.bindVertexArray=function(){return null},e.deleteVertexArray=function(){return null})}if(2!==t.webGLVersion){var i=e.getExtension("ANGLE_instanced_arrays");i?(e.vertexAttribDivisor=function(e,t){return i.vertexAttribDivisorANGLE(e,t)},e.drawElementsInstanced=function(e,t,a,n,r){return i.drawElementsInstancedANGLE(e,t,a,n,r)},e.drawArraysInstanced=function(e,t,a,n){return i.drawArraysInstancedANGLE(e,t,a,n)}):this.hasInstance=!1}this.canUseUInt32ElementIndex=2===t.webGLVersion||!!t.extensions.uint32ElementIndex}},{key:"bind",value:function(e,t){t=t||this.renderer.shader.shader;var a=this.gl,i=e.glVertexArrayObjects[this.CONTEXT_UID],n=!1;i||(this.managedGeometries[e.id]=e,e.disposeRunner.add(this),e.glVertexArrayObjects[this.CONTEXT_UID]=i={},n=!0);var r=i[t.program.id]||this.initGeometryVao(e,t,n);this._activeGeometry=e,this._activeVao!==r&&(this._activeVao=r,this.hasVao?a.bindVertexArray(r):this.activateVao(e,t.program)),this.updateBuffers()}},{key:"reset",value:function(){this.unbind()}},{key:"updateBuffers",value:function(){for(var e=this._activeGeometry,t=this.renderer.buffer,a=0;a<e.buffers.length;a++){var i=e.buffers[a];t.update(i)}}},{key:"checkCompatibility",value:function(e,t){var a=e.attributes,i=t.attributeData;for(var n in i)if(!a[n])throw new Error('shader and geometry incompatible, geometry missing the "'.concat(n,'" attribute'))}},{key:"getSignature",value:function(e,t){var a=e.attributes,i=t.attributeData,n=["g",e.id];for(var r in a)i[r]&&n.push(r,i[r].location);return n.join("-")}},{key:"initGeometryVao",value:function(e,t){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=this.gl,n=this.CONTEXT_UID,s=this.renderer.buffer,o=t.program;o.glPrograms[n]||this.renderer.shader.generateProgram(t),this.checkCompatibility(e,o);var d=this.getSignature(e,o),c=e.glVertexArrayObjects[this.CONTEXT_UID],u=c[d];if(u)return c[o.id]=u,u;var h=e.buffers,f=e.attributes,p={},m={};for(var g in h)p[g]=0,m[g]=0;for(var v in f)!f[v].size&&o.attributeData[v]?f[v].size=o.attributeData[v].size:f[v].size||console.warn("PIXI Geometry attribute '".concat(v,"' size cannot be determined (likely the bound shader does not have the attribute)")),p[f[v].buffer]+=f[v].size*l[f[v].type];for(var b in f){var y=f[b],x=y.size;void 0===y.stride&&(p[y.buffer]===x*l[y.type]?y.stride=0:y.stride=p[y.buffer]),void 0===y.start&&(y.start=m[y.buffer],m[y.buffer]+=x*l[y.type])}u=i.createVertexArray(),i.bindVertexArray(u);for(var _=0;_<h.length;_++){var P=h[_];s.bind(P),a&&P._glBuffers[n].refCount++}return this.activateVao(e,o),c[o.id]=u,c[d]=u,i.bindVertexArray(null),s.unbind(r.BUFFER_TYPE.ARRAY_BUFFER),u}},{key:"disposeGeometry",value:function(e,t){var a;if(this.managedGeometries[e.id]){delete this.managedGeometries[e.id];var i=e.glVertexArrayObjects[this.CONTEXT_UID],n=this.gl,r=e.buffers,s=null===(a=this.renderer)||void 0===a?void 0:a.buffer;if(e.disposeRunner.remove(this),i){if(s)for(var o=0;o<r.length;o++){var l=r[o]._glBuffers[this.CONTEXT_UID];l&&(l.refCount--,0===l.refCount&&!t&&s.dispose(r[o],t))}if(!t)for(var d in i)if("g"===d[0]){var c=i[d];this._activeVao===c&&this.unbind(),n.deleteVertexArray(c)}delete e.glVertexArrayObjects[this.CONTEXT_UID]}}}},{key:"disposeAll",value:function(e){for(var t=Object.keys(this.managedGeometries),a=0;a<t.length;a++)this.disposeGeometry(this.managedGeometries[t[a]],e)}},{key:"activateVao",value:function(e,t){var a=this.gl,i=this.CONTEXT_UID,n=this.renderer.buffer,r=e.buffers,s=e.attributes;e.indexBuffer&&n.bind(e.indexBuffer);var o=null;for(var l in s){var d=s[l],c=r[d.buffer],u=c._glBuffers[i];if(t.attributeData[l]){o!==u&&(n.bind(c),o=u);var h=t.attributeData[l].location;if(a.enableVertexAttribArray(h),a.vertexAttribPointer(h,d.size,d.type||a.FLOAT,d.normalized,d.stride,d.start),d.instance){if(!this.hasInstance)throw new Error("geometry error, GPU Instancing is not supported on this device");a.vertexAttribDivisor(h,d.divisor)}}}}},{key:"draw",value:function(e,t,a,i){var n=this.gl,r=this._activeGeometry;if(r.indexBuffer){var s=r.indexBuffer.data.BYTES_PER_ELEMENT,o=2===s?n.UNSIGNED_SHORT:n.UNSIGNED_INT;2===s||4===s&&this.canUseUInt32ElementIndex?r.instanced?n.drawElementsInstanced(e,t||r.indexBuffer.data.length,o,(a||0)*s,i||1):n.drawElements(e,t||r.indexBuffer.data.length,o,(a||0)*s):console.warn("unsupported index buffer type: uint32")}else r.instanced?n.drawArraysInstanced(e,a,t||r.getSize(),i||1):n.drawArrays(e,a,t||r.getSize());return this}},{key:"unbind",value:function(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null}},{key:"destroy",value:function(){this.renderer=null}}]),e}();d.extension={type:s.ExtensionType.RendererSystem,name:"geometry"},s.extensions.add(d),t.GeometrySystem=d},46039:function(e,t,a){"use strict";var i=a(56690).default,n=a(89728).default,r=function(){function e(t){i(this,e),"number"==typeof t?this.rawBinaryData=new ArrayBuffer(t):t instanceof Uint8Array?this.rawBinaryData=t.buffer:this.rawBinaryData=t,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}return n(e,[{key:"int8View",get:function(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}},{key:"uint8View",get:function(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}},{key:"int16View",get:function(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}},{key:"uint16View",get:function(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View}},{key:"int32View",get:function(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}},{key:"view",value:function(e){return this["".concat(e,"View")]}},{key:"destroy",value:function(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}}],[{key:"sizeOf",value:function(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error("".concat(e," isn't a valid view type"))}}}]),e}();t.ViewableBuffer=r},12714:function(e,t,a){"use strict";var i=a(82124),n={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array};t.interleaveTypedArrays=function(e,t){for(var a=0,r=0,s={},o=0;o<e.length;o++)r+=t[o],a+=e[o].length;for(var l=new ArrayBuffer(4*a),d=null,c=0,u=0;u<e.length;u++){var h=t[u],f=e[u],p=i.getBufferType(f);s[p]||(s[p]=new n[p](l)),d=s[p];for(var m=0;m<f.length;m++){d[(m/h|0)*r+c+m%h]=f[m]}c+=h}return new Float32Array(l)}},73629:function(e,t,a){"use strict";a(22912);var i=a(25015),n=a(64211),r=a(59727),s=a(57223),o=a(35491),l=a(5884),d=a(53797),c=a(82124),u=a(49626),h=a(69296),f=a(66755),p=a(88280),m=a(86608),g=a(35660),v=a(36402),b=a(19786),y=a(57383),x=a(36105),_=a(88591),P=a(73021),A=a(16184);a(42588);var E=a(61842),T=a(72390),w=a(67443),S=a(74346),C=a(91083),F=a(74070),I=a(96699),j=a(3297),M=a(37542),O=a(35972),R=a(11837),k=a(46039);a(21993);var D=a(55714),B=a(46652),N=a(753),L=a(68378),V=a(9423),J=a(70727),G=a(58880),U=a(23343),H=a(22317),W=a(1343),z=a(55502),X=a(3412),Y=a(3748),q=a(50260),Z=a(66812),Q=a(93215),K=a(82398),$=a(34201),ee=a(31570),te=a(94124),ae=a(72013),ie=a(44947),ne=a(86265),re=a(64638),se=a(83280),oe=a(25078),le=a(58845);a(97784),a(28269);var de=a(18545),ce=a(46185);a(58113);var ue=a(57008),he=a(59117),fe=a(86002),pe=a(38811),me=a(64599),ge=a(64162),ve=a(99166),be=a(65993),ye=a(35255),xe=a(67748),_e=a(16371),Pe=a(89681),Ae=a(32728),Ee=a(46954),Te=a(2787),we=a(50282),Se=a(10930),Ce=a(95648),Fe=a(8704),Ie=a(75319),je=a(17872),Me=a(89576),Oe=a(62556);function Re(e){var t=Object.create(null);return e&&Object.keys(e).forEach((function(a){if("default"!==a){var i=Object.getOwnPropertyDescriptor(e,a);Object.defineProperty(t,a,i.get?i:{enumerable:!0,get:function(){return e[a]}})}})),t.default=e,t}var ke=Re(c);t.utils=ke,t.autoDetectRenderer=u.autoDetectRenderer,t.BackgroundSystem=h.BackgroundSystem,t.BatchDrawCall=f.BatchDrawCall,t.BatchGeometry=p.BatchGeometry,t.BatchRenderer=m.BatchRenderer,t.BatchShaderGenerator=g.BatchShaderGenerator,t.BatchSystem=v.BatchSystem,t.BatchTextureArray=b.BatchTextureArray,t.ObjectRenderer=y.ObjectRenderer,t.ContextSystem=x.ContextSystem,t.Filter=_.Filter,t.FilterState=P.FilterState,t.FilterSystem=A.FilterSystem,t.SpriteMaskFilter=E.SpriteMaskFilter,t.defaultFilterVertex=T.defaultFilterVertex,t.defaultVertex=T.defaultVertex,t.Framebuffer=w.Framebuffer,t.FramebufferSystem=S.FramebufferSystem,t.GLFramebuffer=C.GLFramebuffer,t.MultisampleSystem=F.MultisampleSystem,t.Attribute=I.Attribute,t.Buffer=j.Buffer,t.BufferSystem=M.BufferSystem,t.Geometry=O.Geometry,t.GeometrySystem=R.GeometrySystem,t.ViewableBuffer=k.ViewableBuffer,t.MaskData=D.MaskData,t.MaskSystem=B.MaskSystem,t.ScissorSystem=N.ScissorSystem,t.StencilSystem=L.StencilSystem,t.PluginSystem=V.PluginSystem,t.ProjectionSystem=J.ProjectionSystem,t.ObjectRendererSystem=G.ObjectRendererSystem,t.Renderer=U.Renderer,t.BaseRenderTexture=H.BaseRenderTexture,t.GenerateTextureSystem=W.GenerateTextureSystem,t.RenderTexture=z.RenderTexture,t.RenderTexturePool=X.RenderTexturePool,t.RenderTextureSystem=Y.RenderTextureSystem,t.GLProgram=q.GLProgram,t.IGLUniformData=q.IGLUniformData,t.Program=Z.Program,t.Shader=Q.Shader,t.ShaderSystem=K.ShaderSystem,t.UniformGroup=$.UniformGroup,t.checkMaxIfStatementsInShader=ee.checkMaxIfStatementsInShader,t.generateProgram=te.generateProgram,t.createUBOElements=ae.createUBOElements,t.generateUniformBufferSync=ae.generateUniformBufferSync,t.getUBOData=ae.getUBOData,t.getTestContext=ie.getTestContext,t.uniformParsers=ne.uniformParsers,t.unsafeEvalSupported=re.unsafeEvalSupported,t.StartupSystem=se.StartupSystem,t.State=oe.State,t.StateSystem=le.StateSystem,t.BaseTexture=de.BaseTexture,t.GLTexture=ce.GLTexture,t.Texture=ue.Texture,t.TextureGCSystem=he.TextureGCSystem,t.TextureMatrix=fe.TextureMatrix,t.TextureSystem=pe.TextureSystem,t.TextureUvs=me.TextureUvs,t.TransformFeedback=ge.TransformFeedback,t.TransformFeedbackSystem=ve.TransformFeedbackSystem,t.Quad=be.Quad,t.QuadUv=ye.QuadUv,t.ViewSystem=xe.ViewSystem,t.SystemManager=_e.SystemManager,t.BaseImageResource=Pe.BaseImageResource,t.Resource=Ae.Resource,t.AbstractMultiResource=Ee.AbstractMultiResource,t.ArrayResource=Te.ArrayResource,t.INSTALLED=we.INSTALLED,t.autoDetectResource=we.autoDetectResource,t.BufferResource=Se.BufferResource,t.CanvasResource=Ce.CanvasResource,t.CubeResource=Fe.CubeResource,t.ImageBitmapResource=Ie.ImageBitmapResource,t.ImageResource=je.ImageResource,t.SVGResource=Me.SVGResource,t.VideoResource=Oe.VideoResource,t.VERSION="7.4.2",Object.keys(i).forEach((function(e){"default"!==e&&!Object.prototype.hasOwnProperty.call(t,e)&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}})})),Object.keys(n).forEach((function(e){"default"!==e&&!Object.prototype.hasOwnProperty.call(t,e)&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return n[e]}})})),Object.keys(r).forEach((function(e){"default"!==e&&!Object.prototype.hasOwnProperty.call(t,e)&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})})),Object.keys(s).forEach((function(e){"default"!==e&&!Object.prototype.hasOwnProperty.call(t,e)&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return s[e]}})})),Object.keys(o).forEach((function(e){"default"!==e&&!Object.prototype.hasOwnProperty.call(t,e)&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}})})),Object.keys(l).forEach((function(e){"default"!==e&&!Object.prototype.hasOwnProperty.call(t,e)&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return l[e]}})})),Object.keys(d).forEach((function(e){"default"!==e&&!Object.prototype.hasOwnProperty.call(t,e)&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return d[e]}})}))},9887:function(e,t,a){"use strict";var i=a(56690).default,n=a(89728).default,r=function(){function e(t){i(this,e),this.renderer=t,this.maskStack=[],this.glConst=0}return n(e,[{key:"getStackLength",value:function(){return this.maskStack.length}},{key:"setMaskStack",value:function(e){var t=this.renderer.gl,a=this.getStackLength();this.maskStack=e;var i=this.getStackLength();i!==a&&(0===i?t.disable(this.glConst):(t.enable(this.glConst),this._useCurrent()))}},{key:"_useCurrent",value:function(){}},{key:"destroy",value:function(){this.renderer=null,this.maskStack=null}}]),e}();t.AbstractMaskSystem=r},55714:function(e,t,a){"use strict";var i=a(56690).default,n=a(89728).default,r=a(64211),s=a(88591),o=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;i(this,e),this.type=r.MASK_TYPES.NONE,this.autoDetect=!0,this.maskObject=t||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=s.Filter.defaultMultisample,this.enabled=!0,this.colorMask=15,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._colorMask=15,this._target=null}return n(e,[{key:"filter",get:function(){return this._filters?this._filters[0]:null},set:function(e){e?this._filters?this._filters[0]=e:this._filters=[e]:this._filters=null}},{key:"reset",value:function(){this.pooled&&(this.maskObject=null,this.type=r.MASK_TYPES.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null}},{key:"copyCountersOrReset",value:function(e){e?(this._stencilCounter=e._stencilCounter,this._scissorCounter=e._scissorCounter,this._scissorRect=e._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)}}]),e}();t.MaskData=o},46652:function(e,t,a){"use strict";var i=a(56690).default,n=a(89728).default,r=a(64211),s=a(59727),o=a(61842),l=a(55714),d=function(){function e(t){i(this,e),this.renderer=t,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}return n(e,[{key:"setMaskStack",value:function(e){this.maskStack=e,this.renderer.scissor.setMaskStack(e),this.renderer.stencil.setMaskStack(e)}},{key:"push",value:function(e,t){var a=t;if(!a.isMaskData){var i=this.maskDataPool.pop()||new l.MaskData;i.pooled=!0,i.maskObject=t,a=i}var n=0!==this.maskStack.length?this.maskStack[this.maskStack.length-1]:null;if(a.copyCountersOrReset(n),a._colorMask=n?n._colorMask:15,a.autoDetect&&this.detect(a),a._target=e,a.type!==r.MASK_TYPES.SPRITE&&this.maskStack.push(a),a.enabled)switch(a.type){case r.MASK_TYPES.SCISSOR:this.renderer.scissor.push(a);break;case r.MASK_TYPES.STENCIL:this.renderer.stencil.push(a);break;case r.MASK_TYPES.SPRITE:a.copyCountersOrReset(null),this.pushSpriteMask(a);break;case r.MASK_TYPES.COLOR:this.pushColorMask(a)}a.type===r.MASK_TYPES.SPRITE&&this.maskStack.push(a)}},{key:"pop",value:function(e){var t=this.maskStack.pop();if(t&&t._target===e){if(t.enabled)switch(t.type){case r.MASK_TYPES.SCISSOR:this.renderer.scissor.pop(t);break;case r.MASK_TYPES.STENCIL:this.renderer.stencil.pop(t.maskObject);break;case r.MASK_TYPES.SPRITE:this.popSpriteMask(t);break;case r.MASK_TYPES.COLOR:this.popColorMask(t)}if(t.reset(),t.pooled&&this.maskDataPool.push(t),0!==this.maskStack.length){var a=this.maskStack[this.maskStack.length-1];a.type===r.MASK_TYPES.SPRITE&&a._filters&&(a._filters[0].maskSprite=a.maskObject)}}}},{key:"detect",value:function(e){var t=e.maskObject;t?t.isSprite?e.type=r.MASK_TYPES.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(e)?e.type=r.MASK_TYPES.SCISSOR:e.type=r.MASK_TYPES.STENCIL:e.type=r.MASK_TYPES.COLOR}},{key:"pushSpriteMask",value:function(e){var t=e.maskObject,a=e._target,i=e._filters;i||((i=this.alphaMaskPool[this.alphaMaskIndex])||(i=this.alphaMaskPool[this.alphaMaskIndex]=[new o.SpriteMaskFilter])),i[0].resolution=e.resolution,i[0].multisample=e.multisample,i[0].maskSprite=t;var n=a.filterArea;a.filterArea=t.getBounds(!0),this.renderer.filter.push(a,i),a.filterArea=n,e._filters||this.alphaMaskIndex++}},{key:"popSpriteMask",value:function(e){this.renderer.filter.pop(),e._filters?e._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)}},{key:"pushColorMask",value:function(e){var t=e._colorMask,a=e._colorMask=t&e.colorMask;a!==t&&this.renderer.gl.colorMask(0!==(1&a),0!==(2&a),0!==(4&a),0!==(8&a))}},{key:"popColorMask",value:function(e){var t=e._colorMask,a=this.maskStack.length>0?this.maskStack[this.maskStack.length-1]._colorMask:15;a!==t&&this.renderer.gl.colorMask(0!==(1&a),0!==(2&a),0!==(4&a),0!==(8&a))}},{key:"destroy",value:function(){this.renderer=null}}]),e}();d.extension={type:s.ExtensionType.RendererSystem,name:"mask"},s.extensions.add(d),t.MaskSystem=d},753:function(e,t,a){"use strict";var i=a(56690).default,n=a(89728).default,r=a(61655).default,s=a(26389).default,o=a(59727),l=a(57223),d=a(5884),c=a(9887),u=new l.Matrix,h=[],f=function(e){r(a,e);var t=s(a);function a(e){var n;return i(this,a),(n=t.call(this,e)).glConst=d.settings.ADAPTER.getWebGLRenderingContext().SCISSOR_TEST,n}return n(a,[{key:"getStackLength",value:function(){var e=this.maskStack[this.maskStack.length-1];return e?e._scissorCounter:0}},{key:"calcScissorRect",value:function(e){var t;if(!e._scissorRectLocal){var a=e._scissorRect,i=e.maskObject,n=this.renderer,r=n.renderTexture,s=i.getBounds(!0,null!==(t=h.pop())&&void 0!==t?t:new l.Rectangle);this.roundFrameToPixels(s,r.current?r.current.resolution:n.resolution,r.sourceFrame,r.destinationFrame,n.projection.transform),a&&s.fit(a),e._scissorRectLocal=s}}},{key:"testScissor",value:function(e){var t=e.maskObject;if(!t.isFastRect||!t.isFastRect()||a.isMatrixRotated(t.worldTransform)||a.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(e);var i=e._scissorRectLocal;return i.width>0&&i.height>0}},{key:"roundFrameToPixels",value:function(e,t,i,n,r){a.isMatrixRotated(r)||((r=r?u.copyFrom(r):u.identity()).translate(-i.x,-i.y).scale(n.width/i.width,n.height/i.height).translate(n.x,n.y),this.renderer.filter.transformAABB(r,e),e.fit(n),e.x=Math.round(e.x*t),e.y=Math.round(e.y*t),e.width=Math.round(e.width*t),e.height=Math.round(e.height*t))}},{key:"push",value:function(e){e._scissorRectLocal||this.calcScissorRect(e);var t=this.renderer.gl;e._scissorRect||t.enable(t.SCISSOR_TEST),e._scissorCounter++,e._scissorRect=e._scissorRectLocal,this._useCurrent()}},{key:"pop",value:function(e){var t=this.renderer.gl;e&&h.push(e._scissorRectLocal),this.getStackLength()>0?this._useCurrent():t.disable(t.SCISSOR_TEST)}},{key:"_useCurrent",value:function(){var e,t=this.maskStack[this.maskStack.length-1]._scissorRect;e=this.renderer.renderTexture.current?t.y:this.renderer.height-t.height-t.y,this.renderer.gl.scissor(t.x,e,t.width,t.height)}}],[{key:"isMatrixRotated",value:function(e){if(!e)return!1;var t=e.a,a=e.b,i=e.c,n=e.d;return(Math.abs(a)>1e-4||Math.abs(i)>1e-4)&&(Math.abs(t)>1e-4||Math.abs(n)>1e-4)}}]),a}(c.AbstractMaskSystem);f.extension={type:o.ExtensionType.RendererSystem,name:"scissor"};var p=f;o.extensions.add(p),t.ScissorSystem=p},68378:function(e,t,a){"use strict";var i=a(56690).default,n=a(89728).default,r=a(61655).default,s=a(26389).default,o=a(59727),l=a(5884),d=function(e){r(a,e);var t=s(a);function a(e){var n;return i(this,a),(n=t.call(this,e)).glConst=l.settings.ADAPTER.getWebGLRenderingContext().STENCIL_TEST,n}return n(a,[{key:"getStackLength",value:function(){var e=this.maskStack[this.maskStack.length-1];return e?e._stencilCounter:0}},{key:"push",value:function(e){var t=e.maskObject,a=this.renderer.gl,i=e._stencilCounter;0===i&&(this.renderer.framebuffer.forceStencil(),a.clearStencil(0),a.clear(a.STENCIL_BUFFER_BIT),a.enable(a.STENCIL_TEST)),e._stencilCounter++;var n=e._colorMask;0!==n&&(e._colorMask=0,a.colorMask(!1,!1,!1,!1)),a.stencilFunc(a.EQUAL,i,4294967295),a.stencilOp(a.KEEP,a.KEEP,a.INCR),t.renderable=!0,t.render(this.renderer),this.renderer.batch.flush(),t.renderable=!1,0!==n&&(e._colorMask=n,a.colorMask(0!==(1&n),0!==(2&n),0!==(4&n),0!==(8&n))),this._useCurrent()}},{key:"pop",value:function(e){var t=this.renderer.gl;if(0===this.getStackLength())t.disable(t.STENCIL_TEST);else{var a=0!==this.maskStack.length?this.maskStack[this.maskStack.length-1]:null,i=a?a._colorMask:15;0!==i&&(a._colorMask=0,t.colorMask(!1,!1,!1,!1)),t.stencilOp(t.KEEP,t.KEEP,t.DECR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,0!==i&&(a._colorMask=i,t.colorMask(0!==(1&i),0!==(2&i),0!==(4&i),0!==(8&i))),this._useCurrent()}}},{key:"_useCurrent",value:function(){var e=this.renderer.gl;e.stencilFunc(e.EQUAL,this.getStackLength(),4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)}}]),a}(a(9887).AbstractMaskSystem);d.extension={type:o.ExtensionType.RendererSystem,name:"stencil"},o.extensions.add(d),t.StencilSystem=d},9423:function(e,t,a){"use strict";var i=a(56690).default,n=a(89728).default,r=a(59727),s=a(82124),o=function(){function e(t){i(this,e),this.renderer=t,this.plugins={},Object.defineProperties(this.plugins,{extract:{enumerable:!1,get:function(){return s.deprecation("7.0.0","renderer.plugins.extract has moved to renderer.extract"),t.extract}},prepare:{enumerable:!1,get:function(){return s.deprecation("7.0.0","renderer.plugins.prepare has moved to renderer.prepare"),t.prepare}},interaction:{enumerable:!1,get:function(){return s.deprecation("7.0.0","renderer.plugins.interaction has been deprecated, use renderer.events"),t.events}}})}return n(e,[{key:"init",value:function(){var e=this.rendererPlugins;for(var t in e)this.plugins[t]=new e[t](this.renderer)}},{key:"destroy",value:function(){for(var e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null}}]),e}();o.extension={type:[r.ExtensionType.RendererSystem,r.ExtensionType.CanvasRendererSystem],name:"_plugin"},r.extensions.add(o),t.PluginSystem=o},70727:function(e,t,a){"use strict";var i=a(56690).default,n=a(89728).default,r=a(59727),s=a(57223),o=function(){function e(t){i(this,e),this.renderer=t,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new s.Matrix,this.transform=null}return n(e,[{key:"update",value:function(e,t,a,i){this.destinationFrame=e||this.destinationFrame||this.defaultFrame,this.sourceFrame=t||this.sourceFrame||e,this.calculateProjection(this.destinationFrame,this.sourceFrame,a,i),this.transform&&this.projectionMatrix.append(this.transform);var n=this.renderer;n.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,n.globalUniforms.update(),n.shader.shader&&n.shader.syncUniformGroup(n.shader.shader.uniforms.globals)}},{key:"calculateProjection",value:function(e,t,a,i){var n=this.projectionMatrix,r=i?-1:1;n.identity(),n.a=1/t.width*2,n.d=r*(1/t.height*2),n.tx=-1-t.x*n.a,n.ty=-r-t.y*n.d}},{key:"setTransform",value:function(e){}},{key:"destroy",value:function(){this.renderer=null}}]),e}();o.extension={type:r.ExtensionType.RendererSystem,name:"projection"},r.extensions.add(o),t.ProjectionSystem=o},58880:function(e,t,a){"use strict";var i=a(56690).default,n=a(89728).default,r=a(59727),s=function(){function e(t){i(this,e),this.renderer=t}return n(e,[{key:"render",value:function(e,t){var a,i,n,r,s=this.renderer;if(t&&(a=t.renderTexture,i=t.clear,n=t.transform,r=t.skipUpdateTransform),this.renderingToScreen=!a,s.runners.prerender.emit(),s.emit("prerender"),s.projection.transform=n,!s.context.isLost){var o;if(a||(this.lastObjectRendered=e),!r){var l=e.enableTempParent();e.updateTransform(),e.disableTempParent(l)}s.renderTexture.bind(a),s.batch.currentRenderer.start(),(null!==(o=i)&&void 0!==o?o:s.background.clearBeforeRender)&&s.renderTexture.clear(),e.render(s),s.batch.currentRenderer.flush(),a&&(t.blit&&s.framebuffer.blit(),a.baseTexture.update()),s.runners.postrender.emit(),s.projection.transform=null,s.emit("postrender")}}},{key:"destroy",value:function(){this.renderer=null,this.lastObjectRendered=null}}]),e}();s.extension={type:r.ExtensionType.RendererSystem,name:"objectRenderer"},r.extensions.add(s),t.ObjectRendererSystem=s},22317:function(e,t,a){"use strict";var i=a(56690).default,n=a(89728).default,r=a(66115).default,s=a(41588).default,o=a(73808).default,l=a(61655).default,d=a(26389).default,c=a(25015),u=a(64211),h=a(67443),f=function(e){l(a,e);var t=d(a);function a(){var e,n,s,o,l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(i(this,a),"number"==typeof l)&&(l={width:arguments[0],height:arguments[1],scaleMode:arguments[2],resolution:arguments[3]});return l.width=null!==(e=l.width)&&void 0!==e?e:100,l.height=null!==(n=l.height)&&void 0!==n?n:100,null!==(s=l.multisample)&&void 0!==s||(l.multisample=u.MSAA_QUALITY.NONE),(o=t.call(this,null,l)).mipmap=u.MIPMAP_MODES.OFF,o.valid=!0,o._clear=new c.Color([0,0,0,0]),o.framebuffer=new h.Framebuffer(o.realWidth,o.realHeight).addColorTexture(0,r(o)),o.framebuffer.multisample=l.multisample,o.maskStack=[],o.filterStack=[{}],o}return n(a,[{key:"clearColor",get:function(){return this._clear.value},set:function(e){this._clear.setValue(e)}},{key:"clear",get:function(){return this._clear}},{key:"multisample",get:function(){return this.framebuffer.multisample},set:function(e){this.framebuffer.multisample=e}},{key:"resize",value:function(e,t){this.framebuffer.resize(e*this.resolution,t*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)}},{key:"dispose",value:function(){this.framebuffer.dispose(),s(o(a.prototype),"dispose",this).call(this)}},{key:"destroy",value:function(){s(o(a.prototype),"destroy",this).call(this),this.framebuffer.destroyDepthTexture(),this.framebuffer=null}}]),a}(a(18545).BaseTexture);t.BaseRenderTexture=f},1343:function(e,t,a){"use strict";var i=a(70215).default,n=a(56690).default,r=a(89728).default,s=["region"],o=a(59727),l=a(57223),d=a(55502),c=new l.Transform,u=new l.Rectangle,h=function(){function e(t){n(this,e),this.renderer=t,this._tempMatrix=new l.Matrix}return r(e,[{key:"generateTexture",value:function(e,t){var a,n=t||{},r=n.region,o=i(n,s),l=(null===r||void 0===r?void 0:r.copyTo(u))||e.getLocalBounds(u,!0),h=o.resolution||this.renderer.resolution;l.width=Math.max(l.width,1/h),l.height=Math.max(l.height,1/h),o.width=l.width,o.height=l.height,o.resolution=h,null!==(a=o.multisample)&&void 0!==a||(o.multisample=this.renderer.multisample);var f=d.RenderTexture.create(o);this._tempMatrix.tx=-l.x,this._tempMatrix.ty=-l.y;var p=e.transform;return e.transform=c,this.renderer.render(e,{renderTexture:f,transform:this._tempMatrix,skipUpdateTransform:!!e.parent,blit:!0}),e.transform=p,f}},{key:"destroy",value:function(){}}]),e}();h.extension={type:[o.ExtensionType.RendererSystem,o.ExtensionType.CanvasRendererSystem],name:"textureGenerator"},o.extensions.add(h),t.GenerateTextureSystem=h},55502:function(e,t,a){"use strict";var i=a(56690).default,n=a(89728).default,r=a(61655).default,s=a(26389).default,o=a(57008),l=a(22317),d=function(e){r(a,e);var t=s(a);function a(e,n){var r;return i(this,a),(r=t.call(this,e,n)).valid=!0,r.filterFrame=null,r.filterPoolKey=null,r.updateUvs(),r}return n(a,[{key:"framebuffer",get:function(){return this.baseTexture.framebuffer}},{key:"multisample",get:function(){return this.framebuffer.multisample},set:function(e){this.framebuffer.multisample=e}},{key:"resize",value:function(e,t){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=this.baseTexture.resolution,n=Math.round(e*i)/i,r=Math.round(t*i)/i;this.valid=n>0&&r>0,this._frame.width=this.orig.width=n,this._frame.height=this.orig.height=r,a&&this.baseTexture.resize(n,r),this.updateUvs()}},{key:"setResolution",value:function(e){var t=this.baseTexture;t.resolution!==e&&(t.setResolution(e),this.resize(t.width,t.height,!1))}}],[{key:"create",value:function(e){return new a(new l.BaseRenderTexture(e))}}]),a}(o.Texture);t.RenderTexture=d},3412:function(e,t,a){"use strict";var i=a(56690).default,n=a(89728).default,r=a(64211),s=a(82124),o=a(22317),l=a(55502),d=function(){function e(t){i(this,e),this.texturePool={},this.textureOptions=t||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}return n(e,[{key:"createTexture",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r.MSAA_QUALITY.NONE,i=new o.BaseRenderTexture(Object.assign({width:e,height:t,resolution:1,multisample:a},this.textureOptions));return new l.RenderTexture(i)}},{key:"getOptimalTexture",value:function(e,t){var a,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:r.MSAA_QUALITY.NONE;e=Math.max(Math.ceil(e*i-1e-6),1),t=Math.max(Math.ceil(t*i-1e-6),1),this.enableFullScreen&&e===this._pixelsWidth&&t===this._pixelsHeight?a=n>1?-n:-1:(a=((65535&(e=s.nextPow2(e)))<<16|65535&(t=s.nextPow2(t)))>>>0,n>1&&(a+=4294967296*n)),this.texturePool[a]||(this.texturePool[a]=[]);var o=this.texturePool[a].pop();return o||(o=this.createTexture(e,t,n)),o.filterPoolKey=a,o.setResolution(i),o}},{key:"getFilterTexture",value:function(e,t,a){var i=this.getOptimalTexture(e.width,e.height,t||e.resolution,a||r.MSAA_QUALITY.NONE);return i.filterFrame=e.filterFrame,i}},{key:"returnTexture",value:function(e){var t=e.filterPoolKey;e.filterFrame=null,this.texturePool[t].push(e)}},{key:"returnFilterTexture",value:function(e){this.returnTexture(e)}},{key:"clear",value:function(e){if(e=!1!==e)for(var t in this.texturePool){var a=this.texturePool[t];if(a)for(var i=0;i<a.length;i++)a[i].destroy(!0)}this.texturePool={}}},{key:"setScreenSize",value:function(e){if(e.width!==this._pixelsWidth||e.height!==this._pixelsHeight){for(var t in this.enableFullScreen=e.width>0&&e.height>0,this.texturePool)if(Number(t)<0){var a=this.texturePool[t];if(a)for(var i=0;i<a.length;i++)a[i].destroy(!0);this.texturePool[t]=[]}this._pixelsWidth=e.width,this._pixelsHeight=e.height}}}]),e}();d.SCREEN_KEY=-1,t.RenderTexturePool=d},3748:function(e,t,a){"use strict";var i=a(56690).default,n=a(89728).default,r=a(25015),s=a(59727),o=a(57223),l=new o.Rectangle,d=new o.Rectangle,c=function(){function e(t){i(this,e),this.renderer=t,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new o.Rectangle,this.destinationFrame=new o.Rectangle,this.viewportFrame=new o.Rectangle}return n(e,[{key:"contextChange",value:function(){var e,t=null===(e=this.renderer)||void 0===e?void 0:e.gl.getContextAttributes();this._rendererPremultipliedAlpha=!!(t&&t.alpha&&t.premultipliedAlpha)}},{key:"bind",value:function(){var e,t,a,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,s=this.renderer;this.current=i,i?(a=(e=i.baseTexture).resolution,n||(l.width=i.frame.width,l.height=i.frame.height,n=l),r||(d.x=i.frame.x,d.y=i.frame.y,d.width=n.width,d.height=n.height,r=d),t=e.framebuffer):(a=s.resolution,n||(l.width=s._view.screen.width,l.height=s._view.screen.height,n=l),r||((r=l).width=n.width,r.height=n.height));var o=this.viewportFrame;o.x=r.x*a,o.y=r.y*a,o.width=r.width*a,o.height=r.height*a,i||(o.y=s.view.height-(o.y+o.height)),o.ceil(),this.renderer.framebuffer.bind(t,o),this.renderer.projection.update(r,n,a,!t),i?this.renderer.mask.setMaskStack(e.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(n),this.destinationFrame.copyFrom(r)}},{key:"clear",value:function(e,t){var a=this.current?this.current.baseTexture.clear:this.renderer.background.backgroundColor,i=r.Color.shared.setValue(e||a);(this.current&&this.current.baseTexture.alphaMode>0||!this.current&&this._rendererPremultipliedAlpha)&&i.premultiply(i.alpha);var n=this.destinationFrame,s=this.current?this.current.baseTexture:this.renderer._view.screen,o=n.width!==s.width||n.height!==s.height;if(o){var l=this.viewportFrame,d=l.x,c=l.y,u=l.width,h=l.height;d=Math.round(d),c=Math.round(c),u=Math.round(u),h=Math.round(h),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(d,c,u,h)}this.renderer.framebuffer.clear(i.red,i.green,i.blue,i.alpha,t),o&&this.renderer.scissor.pop()}},{key:"resize",value:function(){this.bind(null)}},{key:"reset",value:function(){this.bind(null)}},{key:"destroy",value:function(){this.renderer=null}}]),e}();c.extension={type:s.ExtensionType.RendererSystem,name:"renderTexture"},s.extensions.add(c),t.RenderTextureSystem=c},22912:function(e,t,a){"use strict";var i=a(42122).default,n=a(64211),r=a(5884),s=a(82124),o=a(86608),l=a(88591),d=a(66812);a(28269);var c=a(18545),u=a(36105),h=a(69296),f=a(67748),p=a(83280),m=a(59117);r.settings.PREFER_ENV=n.ENV.WEBGL2,r.settings.STRICT_TEXTURE_CACHE=!1,r.settings.RENDER_OPTIONS=i(i(i(i({},u.ContextSystem.defaultOptions),h.BackgroundSystem.defaultOptions),f.ViewSystem.defaultOptions),p.StartupSystem.defaultOptions),Object.defineProperties(r.settings,{WRAP_MODE:{get:function(){return c.BaseTexture.defaultOptions.wrapMode},set:function(e){s.deprecation("7.1.0","settings.WRAP_MODE is deprecated, use BaseTexture.defaultOptions.wrapMode"),c.BaseTexture.defaultOptions.wrapMode=e}},SCALE_MODE:{get:function(){return c.BaseTexture.defaultOptions.scaleMode},set:function(e){s.deprecation("7.1.0","settings.SCALE_MODE is deprecated, use BaseTexture.defaultOptions.scaleMode"),c.BaseTexture.defaultOptions.scaleMode=e}},MIPMAP_TEXTURES:{get:function(){return c.BaseTexture.defaultOptions.mipmap},set:function(e){s.deprecation("7.1.0","settings.MIPMAP_TEXTURES is deprecated, use BaseTexture.defaultOptions.mipmap"),c.BaseTexture.defaultOptions.mipmap=e}},ANISOTROPIC_LEVEL:{get:function(){return c.BaseTexture.defaultOptions.anisotropicLevel},set:function(e){s.deprecation("7.1.0","settings.ANISOTROPIC_LEVEL is deprecated, use BaseTexture.defaultOptions.anisotropicLevel"),c.BaseTexture.defaultOptions.anisotropicLevel=e}},FILTER_RESOLUTION:{get:function(){return s.deprecation("7.1.0","settings.FILTER_RESOLUTION is deprecated, use Filter.defaultResolution"),l.Filter.defaultResolution},set:function(e){l.Filter.defaultResolution=e}},FILTER_MULTISAMPLE:{get:function(){return s.deprecation("7.1.0","settings.FILTER_MULTISAMPLE is deprecated, use Filter.defaultMultisample"),l.Filter.defaultMultisample},set:function(e){l.Filter.defaultMultisample=e}},SPRITE_MAX_TEXTURES:{get:function(){return o.BatchRenderer.defaultMaxTextures},set:function(e){s.deprecation("7.1.0","settings.SPRITE_MAX_TEXTURES is deprecated, use BatchRenderer.defaultMaxTextures"),o.BatchRenderer.defaultMaxTextures=e}},SPRITE_BATCH_SIZE:{get:function(){return o.BatchRenderer.defaultBatchSize},set:function(e){s.deprecation("7.1.0","settings.SPRITE_BATCH_SIZE is deprecated, use BatchRenderer.defaultBatchSize"),o.BatchRenderer.defaultBatchSize=e}},CAN_UPLOAD_SAME_BUFFER:{get:function(){return o.BatchRenderer.canUploadSameBuffer},set:function(e){s.deprecation("7.1.0","settings.CAN_UPLOAD_SAME_BUFFER is deprecated, use BatchRenderer.canUploadSameBuffer"),o.BatchRenderer.canUploadSameBuffer=e}},GC_MODE:{get:function(){return m.TextureGCSystem.defaultMode},set:function(e){s.deprecation("7.1.0","settings.GC_MODE is deprecated, use TextureGCSystem.defaultMode"),m.TextureGCSystem.defaultMode=e}},GC_MAX_IDLE:{get:function(){return m.TextureGCSystem.defaultMaxIdle},set:function(e){s.deprecation("7.1.0","settings.GC_MAX_IDLE is deprecated, use TextureGCSystem.defaultMaxIdle"),m.TextureGCSystem.defaultMaxIdle=e}},GC_MAX_CHECK_COUNT:{get:function(){return m.TextureGCSystem.defaultCheckCountMax},set:function(e){s.deprecation("7.1.0","settings.GC_MAX_CHECK_COUNT is deprecated, use TextureGCSystem.defaultCheckCountMax"),m.TextureGCSystem.defaultCheckCountMax=e}},PRECISION_VERTEX:{get:function(){return d.Program.defaultVertexPrecision},set:function(e){s.deprecation("7.1.0","settings.PRECISION_VERTEX is deprecated, use Program.defaultVertexPrecision"),d.Program.defaultVertexPrecision=e}},PRECISION_FRAGMENT:{get:function(){return d.Program.defaultFragmentPrecision},set:function(e){s.deprecation("7.1.0","settings.PRECISION_FRAGMENT is deprecated, use Program.defaultFragmentPrecision"),d.Program.defaultFragmentPrecision=e}}})},50260:function(e,t,a){"use strict";var i=a(89728).default,n=a(56690).default,r=i((function e(){n(this,e)})),s=function(){function e(t,a){n(this,e),this.program=t,this.uniformData=a,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}return i(e,[{key:"destroy",value:function(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null}}]),e}();t.GLProgram=s,t.IGLUniformData=r},66812:function(e,t,a){"use strict";var i=a(56690).default,n=a(89728).default,r=a(64211),s=a(82124),o=a(41795),l=a(72498);a(41664);var d=a(34412),c=a(21891),u=0,h={},f=function(){function e(t,a){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"pixi-shader",s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};i(this,e),this.extra={},this.id=u++,this.vertexSrc=t||e.defaultVertexSrc,this.fragmentSrc=a||e.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.extra=s,"#version"!==this.vertexSrc.substring(0,8)&&(n=n.replace(/\s+/g,"-"),h[n]?(h[n]++,n+="-".concat(h[n])):h[n]=1,this.vertexSrc="#define SHADER_NAME ".concat(n,"\n").concat(this.vertexSrc),this.fragmentSrc="#define SHADER_NAME ".concat(n,"\n").concat(this.fragmentSrc),this.vertexSrc=d.setPrecision(this.vertexSrc,e.defaultVertexPrecision,r.PRECISION.HIGH),this.fragmentSrc=d.setPrecision(this.fragmentSrc,e.defaultFragmentPrecision,c.getMaxFragmentPrecision())),this.glPrograms={},this.syncUniforms=null}return n(e,null,[{key:"defaultVertexSrc",get:function(){return l.default}},{key:"defaultFragmentSrc",get:function(){return o.default}},{key:"from",value:function(t,a,i){var n=t+a,r=s.ProgramCache[n];return r||(s.ProgramCache[n]=r=new e(t,a,i)),r}}]),e}();f.defaultVertexPrecision=r.PRECISION.HIGH,f.defaultFragmentPrecision=s.isMobile.apple.device?r.PRECISION.HIGH:r.PRECISION.MEDIUM;var p=f;t.Program=p},93215:function(e,t,a){"use strict";var i=a(56690).default,n=a(89728).default,r=a(35491),s=a(66812),o=a(34201),l=function(){function e(t,a){i(this,e),this.uniformBindCount=0,this.program=t,a?a instanceof o.UniformGroup?this.uniformGroup=a:this.uniformGroup=new o.UniformGroup(a):this.uniformGroup=new o.UniformGroup({}),this.disposeRunner=new r.Runner("disposeShader")}return n(e,[{key:"checkUniformExists",value:function(e,t){if(t.uniforms[e])return!0;for(var a in t.uniforms){var i=t.uniforms[a];if(!0===i.group&&this.checkUniformExists(e,i))return!0}return!1}},{key:"destroy",value:function(){this.uniformGroup=null,this.disposeRunner.emit(this),this.disposeRunner.destroy()}},{key:"uniforms",get:function(){return this.uniformGroup.uniforms}}],[{key:"from",value:function(t,a,i){return new e(s.Program.from(t,a),i)}}]),e}();t.Shader=l},82398:function(e,t,a){"use strict";var i=a(56690).default,n=a(89728).default,r=a(59727);a(41664);var s=a(94124),o=a(72013),l=a(64638),d=a(75617),c=0,u={textureCount:0,uboCount:0},h=function(){function e(t){i(this,e),this.destroyed=!1,this.renderer=t,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=c++}return n(e,[{key:"systemCheck",value:function(){if(!l.unsafeEvalSupported())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")}},{key:"contextChange",value:function(e){this.gl=e,this.reset()}},{key:"bind",value:function(e,t){e.disposeRunner.add(this),e.uniforms.globals=this.renderer.globalUniforms;var a=e.program,i=a.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(e);return this.shader=e,this.program!==a&&(this.program=a,this.gl.useProgram(i.program)),t||(u.textureCount=0,u.uboCount=0,this.syncUniformGroup(e.uniformGroup,u)),i}},{key:"setUniforms",value:function(e){var t=this.shader.program,a=t.glPrograms[this.renderer.CONTEXT_UID];t.syncUniforms(a.uniformData,e,this.renderer)}},{key:"syncUniformGroup",value:function(e,t){var a=this.getGlProgram();(!e.static||e.dirtyId!==a.uniformDirtyGroups[e.id])&&(a.uniformDirtyGroups[e.id]=e.dirtyId,this.syncUniforms(e,a,t))}},{key:"syncUniforms",value:function(e,t,a){(e.syncUniforms[this.shader.program.id]||this.createSyncGroups(e))(t.uniformData,e.uniforms,this.renderer,a)}},{key:"createSyncGroups",value:function(e){var t=this.getSignature(e,this.shader.program.uniformData,"u");return this.cache[t]||(this.cache[t]=d.generateUniformsSync(e,this.shader.program.uniformData)),e.syncUniforms[this.shader.program.id]=this.cache[t],e.syncUniforms[this.shader.program.id]}},{key:"syncUniformBufferGroup",value:function(e,t){var a=this.getGlProgram();if(!e.static||0!==e.dirtyId||!a.uniformGroups[e.id]){e.dirtyId=0;var i=a.uniformGroups[e.id]||this.createSyncBufferGroup(e,a,t);e.buffer.update(),i(a.uniformData,e.uniforms,this.renderer,u,e.buffer)}this.renderer.buffer.bindBufferBase(e.buffer,a.uniformBufferBindings[t])}},{key:"createSyncBufferGroup",value:function(e,t,a){var i=this.renderer.gl;this.renderer.buffer.bind(e.buffer);var n=this.gl.getUniformBlockIndex(t.program,a);t.uniformBufferBindings[a]=this.shader.uniformBindCount,i.uniformBlockBinding(t.program,n,this.shader.uniformBindCount),this.shader.uniformBindCount++;var r=this.getSignature(e,this.shader.program.uniformData,"ubo"),s=this._uboCache[r];if(s||(s=this._uboCache[r]=o.generateUniformBufferSync(e,this.shader.program.uniformData)),e.autoManage){var l=new Float32Array(s.size/4);e.buffer.update(l)}return t.uniformGroups[e.id]=s.syncFunc,t.uniformGroups[e.id]}},{key:"getSignature",value:function(e,t,a){var i=e.uniforms,n=["".concat(a,"-")];for(var r in i)n.push(r),t[r]&&n.push(t[r].type);return n.join("-")}},{key:"getGlProgram",value:function(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null}},{key:"generateProgram",value:function(e){var t=this.gl,a=e.program,i=s.generateProgram(t,a);return a.glPrograms[this.renderer.CONTEXT_UID]=i,i}},{key:"reset",value:function(){this.program=null,this.shader=null}},{key:"disposeShader",value:function(e){this.shader===e&&(this.shader=null)}},{key:"destroy",value:function(){this.renderer=null,this.destroyed=!0}}]),e}();h.extension={type:r.ExtensionType.RendererSystem,name:"shader"},r.extensions.add(h),t.ShaderSystem=h},34201:function(e,t,a){"use strict";var i=a(56690).default,n=a(89728).default,r=a(64211),s=a(3297),o=0,l=function(){function e(t,a,n){i(this,e),this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=o++,this.static=!!a,this.ubo=!!n,t instanceof s.Buffer?(this.buffer=t,this.buffer.type=r.BUFFER_TYPE.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=t,this.ubo&&(this.buffer=new s.Buffer(new Float32Array(1)),this.buffer.type=r.BUFFER_TYPE.UNIFORM_BUFFER,this.autoManage=!0))}return n(e,[{key:"update",value:function(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()}},{key:"add",value:function(t,a,i){if(this.ubo)throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them");this.uniforms[t]=new e(a,i)}}],[{key:"from",value:function(t,a,i){return new e(t,a,i)}},{key:"uboFrom",value:function(t,a){return new e(t,null===a||void 0===a||a,!0)}}]),e}();t.UniformGroup=l},41795:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default="varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor *= texture2D(uSampler, vTextureCoord);\n}"},72498:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n}\n"},31570:function(e,t){"use strict";var a=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join("\n");function i(e){for(var t="",a=0;a<e;++a)a>0&&(t+="\nelse "),a<e-1&&(t+="if(test == ".concat(a,".0){}"));return t}t.checkMaxIfStatementsInShader=function(e,t){if(0===e)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");for(var n=t.createShader(t.FRAGMENT_SHADER);;){var r=a.replace(/%forloop%/gi,i(e));if(t.shaderSource(n,r),t.compileShader(n),t.getShaderParameter(n,t.COMPILE_STATUS))break;e=e/2|0}return e}},44462:function(e,t){"use strict";t.compileShader=function(e,t,a){var i=e.createShader(t);return e.shaderSource(i,a),e.compileShader(i),i}},78815:function(e,t){"use strict";function a(e){for(var t=new Array(e),a=0;a<t.length;a++)t[a]=!1;return t}t.defaultValue=function(e,t){switch(e){case"float":case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"vec2":return new Float32Array(2*t);case"vec3":return new Float32Array(3*t);case"vec4":return new Float32Array(4*t);case"ivec2":return new Int32Array(2*t);case"ivec3":return new Int32Array(3*t);case"ivec4":return new Int32Array(4*t);case"uvec2":return new Uint32Array(2*t);case"uvec3":return new Uint32Array(3*t);case"uvec4":return new Uint32Array(4*t);case"bool":return!1;case"bvec2":return a(2*t);case"bvec3":return a(3*t);case"bvec4":return a(4*t);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}},94124:function(e,t,a){"use strict";var i=a(50260),n=a(44462),r=a(78815),s=a(15417),o=a(1731),l=a(4607);t.generateProgram=function(e,t){var a,d=n.compileShader(e,e.VERTEX_SHADER,t.vertexSrc),c=n.compileShader(e,e.FRAGMENT_SHADER,t.fragmentSrc),u=e.createProgram();e.attachShader(u,d),e.attachShader(u,c);var h=null===(a=t.extra)||void 0===a?void 0:a.transformFeedbackVaryings;if(h&&("function"!=typeof e.transformFeedbackVaryings?console.warn("TransformFeedback is not supported but TransformFeedbackVaryings are given."):e.transformFeedbackVaryings(u,h.names,"separate"===h.bufferMode?e.SEPARATE_ATTRIBS:e.INTERLEAVED_ATTRIBS)),e.linkProgram(u),e.getProgramParameter(u,e.LINK_STATUS)||l.logProgramError(e,u,d,c),t.attributeData=s.getAttributeData(u,e),t.uniformData=o.getUniformData(u,e),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(t.vertexSrc)){var f=Object.keys(t.attributeData);f.sort((function(e,t){return e>t?1:-1}));for(var p=0;p<f.length;p++)t.attributeData[f[p]].location=p,e.bindAttribLocation(u,p,f[p]);e.linkProgram(u)}e.deleteShader(d),e.deleteShader(c);var m={};for(var g in t.uniformData){var v=t.uniformData[g];m[g]={location:e.getUniformLocation(u,g),value:r.defaultValue(v.type,v.size)}}return new i.GLProgram(u,m)}},72013:function(e,t,a){"use strict";a(41664);var i=a(86265),n=a(96679);function r(e,t,a,i,n){a.buffer.update(n)}var s={float:"\n        data[offset] = v;\n    ",vec2:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n    ",vec3:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n\n    ",vec4:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n        data[offset+3] = v[3];\n    ",mat2:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n\n        data[offset+4] = v[2];\n        data[offset+5] = v[3];\n    ",mat3:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n\n        data[offset + 4] = v[3];\n        data[offset + 5] = v[4];\n        data[offset + 6] = v[5];\n\n        data[offset + 8] = v[6];\n        data[offset + 9] = v[7];\n        data[offset + 10] = v[8];\n    ",mat4:"\n        for(var i = 0; i < 16; i++)\n        {\n            data[offset + i] = v[i];\n        }\n    "},o={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:32,mat3:48,mat4:64};function l(e){for(var t=e.map((function(e){return{data:e,offset:0,dataLen:0,dirty:0}})),a=0,i=0,n=0,r=0;r<t.length;r++){var s=t[r];if(a=o[s.data.type],s.data.size>1&&(a=Math.max(a,16)*s.data.size),s.dataLen=a,i%a!==0&&i<16){var l=i%a%16;i+=l,n+=l}i+a>16?(n=16*Math.ceil(n/16),s.offset=n,n+=a,i=a):(s.offset=n,i+=a,n+=a)}return{uboElements:t,size:n=16*Math.ceil(n/16)}}function d(e,t){var a=[];for(var i in e)t[i]&&a.push(t[i]);return a.sort((function(e,t){return e.index-t.index})),a}t.createUBOElements=l,t.generateUniformBufferSync=function(e,t){if(!e.autoManage)return{size:0,syncFunc:r};for(var a=l(d(e.uniforms,t)),c=a.uboElements,u=a.size,h=["\n    var v = null;\n    var v2 = null;\n    var cv = null;\n    var t = 0;\n    var gl = renderer.gl\n    var index = 0;\n    var data = buffer.data;\n    "],f=0;f<c.length;f++){for(var p=c[f],m=e.uniforms[p.data.name],g=p.data.name,v=!1,b=0;b<i.uniformParsers.length;b++){var y=i.uniformParsers[b];if(y.codeUbo&&y.test(p.data,m)){h.push("offset = ".concat(p.offset/4,";"),i.uniformParsers[b].codeUbo(p.data.name,m)),v=!0;break}}if(!v)if(p.data.size>1){var x=n.mapSize(p.data.type),_=Math.max(o[p.data.type]/16,1),P=x/_,A=(4-P%4)%4;h.push("\n                cv = ud.".concat(g,".value;\n                v = uv.").concat(g,";\n                offset = ").concat(p.offset/4,";\n\n                t = 0;\n\n                for(var i=0; i < ").concat(p.data.size*_,"; i++)\n                {\n                    for(var j = 0; j < ").concat(P,"; j++)\n                    {\n                        data[offset++] = v[t++];\n                    }\n                    offset += ").concat(A,";\n                }\n\n                "))}else{var E=s[p.data.type];h.push("\n                cv = ud.".concat(g,".value;\n                v = uv.").concat(g,";\n                offset = ").concat(p.offset/4,";\n                ").concat(E,";\n                "))}}return h.push("\n       renderer.buffer.update(buffer);\n    "),{size:u,syncFunc:new Function("ud","uv","renderer","syncData","buffer",h.join("\n"))}},t.getUBOData=d},75617:function(e,t,a){"use strict";var i=a(86265),n={float:"\n    if (cv !== v)\n    {\n        cu.value = v;\n        gl.uniform1f(location, v);\n    }",vec2:"\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2f(location, v[0], v[1])\n    }",vec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3f(location, v[0], v[1], v[2])\n    }",vec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4f(location, v[0], v[1], v[2], v[3]);\n    }",int:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1i(location, v);\n    }",ivec2:"\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2i(location, v[0], v[1]);\n    }",ivec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3i(location, v[0], v[1], v[2]);\n    }",ivec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4i(location, v[0], v[1], v[2], v[3]);\n    }",uint:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1ui(location, v);\n    }",uvec2:"\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2ui(location, v[0], v[1]);\n    }",uvec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3ui(location, v[0], v[1], v[2]);\n    }",uvec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);\n    }",bool:"\n    if (cv !== v)\n    {\n        cu.value = v;\n        gl.uniform1i(location, v);\n    }",bvec2:"\n    if (cv[0] != v[0] || cv[1] != v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2i(location, v[0], v[1]);\n    }",bvec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3i(location, v[0], v[1], v[2]);\n    }",bvec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4i(location, v[0], v[1], v[2], v[3]);\n    }",mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1i(location, v);\n    }",samplerCube:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1i(location, v);\n    }",sampler2DArray:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1i(location, v);\n    }"},r={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};t.generateUniformsSync=function(e,t){var a=["\n        var v = null;\n        var cv = null;\n        var cu = null;\n        var t = 0;\n        var gl = renderer.gl;\n    "];for(var s in e.uniforms){var o=t[s];if(o){for(var l=e.uniforms[s],d=!1,c=0;c<i.uniformParsers.length;c++)if(i.uniformParsers[c].test(o,l)){a.push(i.uniformParsers[c].code(s,l)),d=!0;break}if(!d){var u=(1!==o.size||o.isArray?r:n)[o.type].replace("location",'ud["'.concat(s,'"].location'));a.push('\n            cu = ud["'.concat(s,'"];\n            cv = cu.value;\n            v = uv["').concat(s,'"];\n            ').concat(u,";"))}}else{var h;!0===(null===(h=e.uniforms[s])||void 0===h?void 0:h.group)&&(e.uniforms[s].ubo?a.push("\n                        renderer.shader.syncUniformBufferGroup(uv.".concat(s,", '").concat(s,"');\n                    ")):a.push("\n                        renderer.shader.syncUniformGroup(uv.".concat(s,", syncData);\n                    ")))}}return new Function("ud","uv","renderer","syncData",a.join("\n"))}},15417:function(e,t,a){"use strict";var i=a(96679),n=a(85472);t.getAttributeData=function(e,t){for(var a={},r=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES),s=0;s<r;s++){var o=t.getActiveAttrib(e,s);if(!o.name.startsWith("gl_")){var l=n.mapType(t,o.type),d={type:l,name:o.name,size:i.mapSize(l),location:t.getAttribLocation(e,o.name)};a[o.name]=d}}return a}},21891:function(e,t,a){"use strict";var i,n=a(64211),r=a(44947);t.getMaxFragmentPrecision=function(){if(!i){i=n.PRECISION.MEDIUM;var e=r.getTestContext();if(e&&e.getShaderPrecisionFormat){var t=e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT);t&&(i=t.precision?n.PRECISION.HIGH:n.PRECISION.MEDIUM)}}return i}},44947:function(e,t,a){"use strict";var i=a(64211),n=a(5884),r={},s=r;t.getTestContext=function(){var e;if(s===r||null!==(e=s)&&void 0!==e&&e.isContextLost()){var t,a=n.settings.ADAPTER.createCanvas();n.settings.PREFER_ENV>=i.ENV.WEBGL2&&(t=a.getContext("webgl2",{})),t||((t=a.getContext("webgl",{})||a.getContext("experimental-webgl",{}))?t.getExtension("WEBGL_draw_buffers"):t=null),s=t}return s}},1731:function(e,t,a){"use strict";var i=a(78815),n=a(85472);t.getUniformData=function(e,t){for(var a={},r=t.getProgramParameter(e,t.ACTIVE_UNIFORMS),s=0;s<r;s++){var o=t.getActiveUniform(e,s),l=o.name.replace(/\[.*?\]$/,""),d=!!o.name.match(/\[.*?\]$/),c=n.mapType(t,o.type);a[l]={name:l,index:s,type:c,size:o.size,isArray:d,value:i.defaultValue(c,o.size)}}return a}},41664:function(e,t,a){"use strict";var i=a(31570),n=a(44462),r=a(78815),s=a(75617),o=a(21891),l=a(44947),d=a(4607),c=a(96679),u=a(85472),h=a(34412),f=a(86265),p=a(64638);t.checkMaxIfStatementsInShader=i.checkMaxIfStatementsInShader,t.compileShader=n.compileShader,t.defaultValue=r.defaultValue,t.generateUniformsSync=s.generateUniformsSync,t.getMaxFragmentPrecision=o.getMaxFragmentPrecision,t.getTestContext=l.getTestContext,t.logProgramError=d.logProgramError,t.mapSize=c.mapSize,t.mapType=u.mapType,t.setPrecision=h.setPrecision,t.uniformParsers=f.uniformParsers,t.unsafeEvalSupported=p.unsafeEvalSupported},4607:function(e,t){"use strict";function a(e,t){var a,i=e.getShaderSource(t).split("\n").map((function(e,t){return"".concat(t,": ").concat(e)})),n=e.getShaderInfoLog(t),r=n.split("\n"),s={},o=r.map((function(e){return parseFloat(e.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))})).filter((function(e){return!(!e||s[e])&&(s[e]=!0,!0)})),l=[""];o.forEach((function(e){i[e-1]="%c".concat(i[e-1],"%c"),l.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")}));var d=i.join("\n");l[0]=d,console.error(n),console.groupCollapsed("click to view full shader code"),(a=console).warn.apply(a,l),console.groupEnd()}t.logProgramError=function(e,t,i,n){e.getProgramParameter(t,e.LINK_STATUS)||(e.getShaderParameter(i,e.COMPILE_STATUS)||a(e,i),e.getShaderParameter(n,e.COMPILE_STATUS)||a(e,n),console.error("PixiJS Error: Could not initialize shader."),""!==e.getProgramInfoLog(t)&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",e.getProgramInfoLog(t)))}},96679:function(e,t){"use strict";var a={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};t.mapSize=function(e){return a[e]}},85472:function(e,t){"use strict";var a=null,i={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};t.mapType=function(e,t){if(!a){var n=Object.keys(i);a={};for(var r=0;r<n.length;++r){var s=n[r];a[e[s]]=i[s]}}return a[t]}},34412:function(e,t,a){"use strict";var i=a(64211);t.setPrecision=function(e,t,a){if("precision"!==e.substring(0,9)){var n=t;return t===i.PRECISION.HIGH&&a!==i.PRECISION.HIGH&&(n=i.PRECISION.MEDIUM),"precision ".concat(n," float;\n").concat(e)}return a!==i.PRECISION.HIGH&&"precision highp"===e.substring(0,15)?e.replace("precision highp","precision mediump"):e}},86265:function(e,t){"use strict";t.uniformParsers=[{test:function(e){return"float"===e.type&&1===e.size&&!e.isArray},code:function(e){return'\n            if(uv["'.concat(e,'"] !== ud["').concat(e,'"].value)\n            {\n                ud["').concat(e,'"].value = uv["').concat(e,'"]\n                gl.uniform1f(ud["').concat(e,'"].location, uv["').concat(e,'"])\n            }\n            ')}},{test:function(e,t){return("sampler2D"===e.type||"samplerCube"===e.type||"sampler2DArray"===e.type)&&1===e.size&&!e.isArray&&(null==t||void 0!==t.castToBaseTexture)},code:function(e){return't = syncData.textureCount++;\n\n            renderer.texture.bind(uv["'.concat(e,'"], t);\n\n            if(ud["').concat(e,'"].value !== t)\n            {\n                ud["').concat(e,'"].value = t;\n                gl.uniform1i(ud["').concat(e,'"].location, t);\n; // eslint-disable-line max-len\n            }')}},{test:function(e,t){return"mat3"===e.type&&1===e.size&&!e.isArray&&void 0!==t.a},code:function(e){return'\n            gl.uniformMatrix3fv(ud["'.concat(e,'"].location, false, uv["').concat(e,'"].toArray(true));\n            ')},codeUbo:function(e){return"\n                var ".concat(e,"_matrix = uv.").concat(e,".toArray(true);\n\n                data[offset] = ").concat(e,"_matrix[0];\n                data[offset+1] = ").concat(e,"_matrix[1];\n                data[offset+2] = ").concat(e,"_matrix[2];\n        \n                data[offset + 4] = ").concat(e,"_matrix[3];\n                data[offset + 5] = ").concat(e,"_matrix[4];\n                data[offset + 6] = ").concat(e,"_matrix[5];\n        \n                data[offset + 8] = ").concat(e,"_matrix[6];\n                data[offset + 9] = ").concat(e,"_matrix[7];\n                data[offset + 10] = ").concat(e,"_matrix[8];\n            ")}},{test:function(e,t){return"vec2"===e.type&&1===e.size&&!e.isArray&&void 0!==t.x},code:function(e){return'\n                cv = ud["'.concat(e,'"].value;\n                v = uv["').concat(e,'"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    gl.uniform2f(ud["').concat(e,'"].location, v.x, v.y);\n                }')},codeUbo:function(e){return"\n                v = uv.".concat(e,";\n\n                data[offset] = v.x;\n                data[offset+1] = v.y;\n            ")}},{test:function(e){return"vec2"===e.type&&1===e.size&&!e.isArray},code:function(e){return'\n                cv = ud["'.concat(e,'"].value;\n                v = uv["').concat(e,'"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    gl.uniform2f(ud["').concat(e,'"].location, v[0], v[1]);\n                }\n            ')}},{test:function(e,t){return"vec4"===e.type&&1===e.size&&!e.isArray&&void 0!==t.width},code:function(e){return'\n                cv = ud["'.concat(e,'"].value;\n                v = uv["').concat(e,'"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    cv[2] = v.width;\n                    cv[3] = v.height;\n                    gl.uniform4f(ud["').concat(e,'"].location, v.x, v.y, v.width, v.height)\n                }')},codeUbo:function(e){return"\n                    v = uv.".concat(e,";\n\n                    data[offset] = v.x;\n                    data[offset+1] = v.y;\n                    data[offset+2] = v.width;\n                    data[offset+3] = v.height;\n                ")}},{test:function(e,t){return"vec4"===e.type&&1===e.size&&!e.isArray&&void 0!==t.red},code:function(e){return'\n                cv = ud["'.concat(e,'"].value;\n                v = uv["').concat(e,'"];\n\n                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.alpha)\n                {\n                    cv[0] = v.red;\n                    cv[1] = v.green;\n                    cv[2] = v.blue;\n                    cv[3] = v.alpha;\n                    gl.uniform4f(ud["').concat(e,'"].location, v.red, v.green, v.blue, v.alpha)\n                }')},codeUbo:function(e){return"\n                    v = uv.".concat(e,";\n\n                    data[offset] = v.red;\n                    data[offset+1] = v.green;\n                    data[offset+2] = v.blue;\n                    data[offset+3] = v.alpha;\n                ")}},{test:function(e,t){return"vec3"===e.type&&1===e.size&&!e.isArray&&void 0!==t.red},code:function(e){return'\n                cv = ud["'.concat(e,'"].value;\n                v = uv["').concat(e,'"];\n\n                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.a)\n                {\n                    cv[0] = v.red;\n                    cv[1] = v.green;\n                    cv[2] = v.blue;\n    \n                    gl.uniform3f(ud["').concat(e,'"].location, v.red, v.green, v.blue)\n                }')},codeUbo:function(e){return"\n                    v = uv.".concat(e,";\n\n                    data[offset] = v.red;\n                    data[offset+1] = v.green;\n                    data[offset+2] = v.blue;\n                ")}},{test:function(e){return"vec4"===e.type&&1===e.size&&!e.isArray},code:function(e){return'\n                cv = ud["'.concat(e,'"].value;\n                v = uv["').concat(e,'"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    cv[2] = v[2];\n                    cv[3] = v[3];\n\n                    gl.uniform4f(ud["').concat(e,'"].location, v[0], v[1], v[2], v[3])\n                }')}}]},64638:function(e,t){"use strict";var a;t.unsafeEvalSupported=function(){if("boolean"==typeof a)return a;try{a=!0===new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")}catch(e){a=!1}return a}},83280:function(e,t,a){"use strict";var i=a(56690).default,n=a(89728).default,r=a(59727),s=function(){function e(t){i(this,e),this.renderer=t}return n(e,[{key:"run",value:function(e){var t=this.renderer;t.runners.init.emit(t.options),e.hello&&console.log("PixiJS 7.4.2 - ".concat(t.rendererLogId," - https://pixijs.com")),t.resize(t.screen.width,t.screen.height)}},{key:"destroy",value:function(){}}]),e}();s.defaultOptions={hello:!1},s.extension={type:[r.ExtensionType.RendererSystem,r.ExtensionType.CanvasRendererSystem],name:"startup"},r.extensions.add(s),t.StartupSystem=s},25078:function(e,t,a){"use strict";var i=a(56690).default,n=a(89728).default,r=a(64211),s=function(){function e(){i(this,e),this.data=0,this.blendMode=r.BLEND_MODES.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}return n(e,[{key:"blend",get:function(){return!!(1&this.data)},set:function(e){!!(1&this.data)!==e&&(this.data^=1)}},{key:"offsets",get:function(){return!!(2&this.data)},set:function(e){!!(2&this.data)!==e&&(this.data^=2)}},{key:"culling",get:function(){return!!(4&this.data)},set:function(e){!!(4&this.data)!==e&&(this.data^=4)}},{key:"depthTest",get:function(){return!!(8&this.data)},set:function(e){!!(8&this.data)!==e&&(this.data^=8)}},{key:"depthMask",get:function(){return!!(32&this.data)},set:function(e){!!(32&this.data)!==e&&(this.data^=32)}},{key:"clockwiseFrontFace",get:function(){return!!(16&this.data)},set:function(e){!!(16&this.data)!==e&&(this.data^=16)}},{key:"blendMode",get:function(){return this._blendMode},set:function(e){this.blend=e!==r.BLEND_MODES.NONE,this._blendMode=e}},{key:"polygonOffset",get:function(){return this._polygonOffset},set:function(e){this.offsets=!!e,this._polygonOffset=e}}],[{key:"for2d",value:function(){var t=new e;return t.depthTest=!1,t.blend=!0,t}}]),e}();s.prototype.toString=function(){return"[@pixi/core:State blendMode=".concat(this.blendMode," clockwiseFrontFace=").concat(this.clockwiseFrontFace," culling=").concat(this.culling," depthMask=").concat(this.depthMask," polygonOffset=").concat(this.polygonOffset,"]")},t.State=s},58845:function(e,t,a){"use strict";var i=a(56690).default,n=a(89728).default,r=a(64211),s=a(59727),o=a(25078),l=a(96443),d=function(){function e(){i(this,e),this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=r.BLEND_MODES.NONE,this._blendEq=!1,this.map=[],this.map[0]=this.setBlend,this.map[1]=this.setOffset,this.map[2]=this.setCullFace,this.map[3]=this.setDepthTest,this.map[4]=this.setFrontFace,this.map[5]=this.setDepthMask,this.checks=[],this.defaultState=new o.State,this.defaultState.blend=!0}return n(e,[{key:"contextChange",value:function(e){this.gl=e,this.blendModes=l.mapWebGLBlendModesToPixi(e),this.set(this.defaultState),this.reset()}},{key:"set",value:function(e){if(e=e||this.defaultState,this.stateId!==e.data){for(var t=this.stateId^e.data,a=0;t;)1&t&&this.map[a].call(this,!!(e.data&1<<a)),t>>=1,a++;this.stateId=e.data}for(var i=0;i<this.checks.length;i++)this.checks[i](this,e)}},{key:"forceState",value:function(e){e=e||this.defaultState;for(var t=0;t<this.map.length;t++)this.map[t].call(this,!!(e.data&1<<t));for(var a=0;a<this.checks.length;a++)this.checks[a](this,e);this.stateId=e.data}},{key:"setBlend",value:function(t){this.updateCheck(e.checkBlendMode,t),this.gl[t?"enable":"disable"](this.gl.BLEND)}},{key:"setOffset",value:function(t){this.updateCheck(e.checkPolygonOffset,t),this.gl[t?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)}},{key:"setDepthTest",value:function(e){this.gl[e?"enable":"disable"](this.gl.DEPTH_TEST)}},{key:"setDepthMask",value:function(e){this.gl.depthMask(e)}},{key:"setCullFace",value:function(e){this.gl[e?"enable":"disable"](this.gl.CULL_FACE)}},{key:"setFrontFace",value:function(e){this.gl.frontFace(this.gl[e?"CW":"CCW"])}},{key:"setBlendMode",value:function(e){if(e!==this.blendMode){this.blendMode=e;var t=this.blendModes[e],a=this.gl;2===t.length?a.blendFunc(t[0],t[1]):a.blendFuncSeparate(t[0],t[1],t[2],t[3]),6===t.length?(this._blendEq=!0,a.blendEquationSeparate(t[4],t[5])):this._blendEq&&(this._blendEq=!1,a.blendEquationSeparate(a.FUNC_ADD,a.FUNC_ADD))}}},{key:"setPolygonOffset",value:function(e,t){this.gl.polygonOffset(e,t)}},{key:"reset",value:function(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)}},{key:"updateCheck",value:function(e,t){var a=this.checks.indexOf(e);t&&-1===a?this.checks.push(e):!t&&-1!==a&&this.checks.splice(a,1)}},{key:"destroy",value:function(){this.gl=null}}],[{key:"checkBlendMode",value:function(e,t){e.setBlendMode(t.blendMode)}},{key:"checkPolygonOffset",value:function(e,t){e.setPolygonOffset(1,t.polygonOffset)}}]),e}();d.extension={type:s.ExtensionType.RendererSystem,name:"state"};var c=d;s.extensions.add(c),t.StateSystem=c},96443:function(e,t,a){"use strict";var i=a(64211);t.mapWebGLBlendModesToPixi=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t[i.BLEND_MODES.NORMAL]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[i.BLEND_MODES.ADD]=[e.ONE,e.ONE],t[i.BLEND_MODES.MULTIPLY]=[e.DST_COLOR,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[i.BLEND_MODES.SCREEN]=[e.ONE,e.ONE_MINUS_SRC_COLOR,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[i.BLEND_MODES.OVERLAY]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[i.BLEND_MODES.DARKEN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[i.BLEND_MODES.LIGHTEN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[i.BLEND_MODES.COLOR_DODGE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[i.BLEND_MODES.COLOR_BURN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[i.BLEND_MODES.HARD_LIGHT]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[i.BLEND_MODES.SOFT_LIGHT]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[i.BLEND_MODES.DIFFERENCE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[i.BLEND_MODES.EXCLUSION]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[i.BLEND_MODES.HUE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[i.BLEND_MODES.SATURATION]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[i.BLEND_MODES.COLOR]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[i.BLEND_MODES.LUMINOSITY]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[i.BLEND_MODES.NONE]=[0,0],t[i.BLEND_MODES.NORMAL_NPM]=[e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[i.BLEND_MODES.ADD_NPM]=[e.SRC_ALPHA,e.ONE,e.ONE,e.ONE],t[i.BLEND_MODES.SCREEN_NPM]=[e.SRC_ALPHA,e.ONE_MINUS_SRC_COLOR,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[i.BLEND_MODES.SRC_IN]=[e.DST_ALPHA,e.ZERO],t[i.BLEND_MODES.SRC_OUT]=[e.ONE_MINUS_DST_ALPHA,e.ZERO],t[i.BLEND_MODES.SRC_ATOP]=[e.DST_ALPHA,e.ONE_MINUS_SRC_ALPHA],t[i.BLEND_MODES.DST_OVER]=[e.ONE_MINUS_DST_ALPHA,e.ONE],t[i.BLEND_MODES.DST_IN]=[e.ZERO,e.SRC_ALPHA],t[i.BLEND_MODES.DST_OUT]=[e.ZERO,e.ONE_MINUS_SRC_ALPHA],t[i.BLEND_MODES.DST_ATOP]=[e.ONE_MINUS_DST_ALPHA,e.SRC_ALPHA],t[i.BLEND_MODES.XOR]=[e.ONE_MINUS_DST_ALPHA,e.ONE_MINUS_SRC_ALPHA],t[i.BLEND_MODES.SUBTRACT]=[e.ONE,e.ONE,e.ONE,e.ONE,e.FUNC_REVERSE_SUBTRACT,e.FUNC_ADD],t}},97784:function(){},16371:function(e,t,a){"use strict";var i=a(74704).default,n=a(861).default,r=a(56690).default,s=a(89728).default,o=a(61655).default,l=a(26389).default,d=a(35491),c=function(e){o(a,e);var t=l(a);function a(){var e;return r(this,a),(e=t.apply(this,arguments)).runners={},e._systemsHash={},e}return s(a,[{key:"setup",value:function(e){var t;this.addRunners.apply(this,n(e.runners));var a,r=(null!==(t=e.priority)&&void 0!==t?t:[]).filter((function(t){return e.systems[t]})),s=[].concat(n(r),n(Object.keys(e.systems).filter((function(e){return!r.includes(e)})))),o=i(s);try{for(o.s();!(a=o.n()).done;){var l=a.value;this.addSystem(e.systems[l],l)}}catch(d){o.e(d)}finally{o.f()}}},{key:"addRunners",value:function(){for(var e=this,t=arguments.length,a=new Array(t),i=0;i<t;i++)a[i]=arguments[i];a.forEach((function(t){e.runners[t]=new d.Runner(t)}))}},{key:"addSystem",value:function(e,t){var a=new e(this);if(this[t])throw new Error('Whoops! The name "'.concat(t,'" is already in use'));for(var i in this[t]=a,this._systemsHash[t]=a,this.runners)this.runners[i].add(a);return this}},{key:"emitWithCustomOptions",value:function(e,t){var a=this,i=Object.keys(this._systemsHash);e.items.forEach((function(n){var r=i.find((function(e){return a._systemsHash[e]===n}));n[e.name](t[r])}))}},{key:"destroy",value:function(){Object.values(this.runners).forEach((function(e){e.destroy()})),this._systemsHash={}}}]),a}(a(82124).EventEmitter);t.SystemManager=c},28269:function(e,t,a){"use strict";var i=a(69296),n=a(36402),r=a(36105),s=a(16184),o=a(74346),l=a(11837),d=a(46652),c=a(753),u=a(68378),h=a(9423),f=a(70727),p=a(1343),m=a(3748),g=a(82398),v=a(83280),b=a(58845),y=a(16371),x=a(59117),_=a(38811),P=a(99166),A=a(67748);t.BackgroundSystem=i.BackgroundSystem,t.BatchSystem=n.BatchSystem,t.ContextSystem=r.ContextSystem,t.FilterSystem=s.FilterSystem,t.FramebufferSystem=o.FramebufferSystem,t.GeometrySystem=l.GeometrySystem,t.MaskSystem=d.MaskSystem,t.ScissorSystem=c.ScissorSystem,t.StencilSystem=u.StencilSystem,t.PluginSystem=h.PluginSystem,t.ProjectionSystem=f.ProjectionSystem,t.GenerateTextureSystem=p.GenerateTextureSystem,t.RenderTextureSystem=m.RenderTextureSystem,t.ShaderSystem=g.ShaderSystem,t.StartupSystem=v.StartupSystem,t.StateSystem=b.StateSystem,t.SystemManager=y.SystemManager,t.TextureGCSystem=x.TextureGCSystem,t.TextureSystem=_.TextureSystem,t.TransformFeedbackSystem=P.TransformFeedbackSystem,t.ViewSystem=A.ViewSystem},18545:function(e,t,a){"use strict";var i=a(42122).default,n=a(56690).default,r=a(89728).default,s=a(61655).default,o=a(26389).default,l=a(64211),d=a(5884),c=a(82124),u=a(50282),h=a(10930),f=a(32728),p={scaleMode:l.SCALE_MODES.NEAREST,alphaMode:l.ALPHA_MODES.NPM},m=function(e){s(a,e);var t=o(a);function a(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;n(this,a),e=t.call(this);var s=r=Object.assign({},a.defaultOptions,r),o=s.alphaMode,l=s.mipmap,h=s.anisotropicLevel,p=s.scaleMode,m=s.width,g=s.height,v=s.wrapMode,b=s.format,y=s.type,x=s.target,_=s.resolution,P=s.resourceOptions;return i&&!(i instanceof f.Resource)&&((i=u.autoDetectResource(i,P)).internal=!0),e.resolution=_||d.settings.RESOLUTION,e.width=Math.round((m||0)*e.resolution)/e.resolution,e.height=Math.round((g||0)*e.resolution)/e.resolution,e._mipmap=l,e.anisotropicLevel=h,e._wrapMode=v,e._scaleMode=p,e.format=b,e.type=y,e.target=x,e.alphaMode=o,e.uid=c.uid(),e.touched=0,e.isPowerOfTwo=!1,e._refreshPOT(),e._glTextures={},e.dirtyId=0,e.dirtyStyleId=0,e.cacheId=null,e.valid=m>0&&g>0,e.textureCacheIds=[],e.destroyed=!1,e.resource=null,e._batchEnabled=0,e._batchLocation=0,e.parentTextureArray=null,e.setResource(i),e}return r(a,[{key:"realWidth",get:function(){return Math.round(this.width*this.resolution)}},{key:"realHeight",get:function(){return Math.round(this.height*this.resolution)}},{key:"mipmap",get:function(){return this._mipmap},set:function(e){this._mipmap!==e&&(this._mipmap=e,this.dirtyStyleId++)}},{key:"scaleMode",get:function(){return this._scaleMode},set:function(e){this._scaleMode!==e&&(this._scaleMode=e,this.dirtyStyleId++)}},{key:"wrapMode",get:function(){return this._wrapMode},set:function(e){this._wrapMode!==e&&(this._wrapMode=e,this.dirtyStyleId++)}},{key:"setStyle",value:function(e,t){var a;return void 0!==e&&e!==this.scaleMode&&(this.scaleMode=e,a=!0),void 0!==t&&t!==this.mipmap&&(this.mipmap=t,a=!0),a&&this.dirtyStyleId++,this}},{key:"setSize",value:function(e,t,a){return a=a||this.resolution,this.setRealSize(e*a,t*a,a)}},{key:"setRealSize",value:function(e,t,a){return this.resolution=a||this.resolution,this.width=Math.round(e)/this.resolution,this.height=Math.round(t)/this.resolution,this._refreshPOT(),this.update(),this}},{key:"_refreshPOT",value:function(){this.isPowerOfTwo=c.isPow2(this.realWidth)&&c.isPow2(this.realHeight)}},{key:"setResolution",value:function(e){var t=this.resolution;return t===e||(this.resolution=e,this.valid&&(this.width=Math.round(this.width*t)/e,this.height=Math.round(this.height*t)/e,this.emit("update",this)),this._refreshPOT()),this}},{key:"setResource",value:function(e){if(this.resource===e)return this;if(this.resource)throw new Error("Resource can be set only once");return e.bind(this),this.resource=e,this}},{key:"update",value:function(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))}},{key:"onError",value:function(e){this.emit("error",this,e)}},{key:"destroy",value:function(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete c.BaseTextureCache[this.cacheId],delete c.TextureCache[this.cacheId],this.cacheId=null),this.valid=!1,this.dispose(),a.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0,this.emit("destroyed",this),this.removeAllListeners()}},{key:"dispose",value:function(){this.emit("dispose",this)}},{key:"castToBaseTexture",value:function(){return this}}],[{key:"from",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:d.settings.STRICT_TEXTURE_CACHE,n="string"==typeof e,r=null;if(n)r=e;else{if(!e._pixiId){var s=(null===t||void 0===t?void 0:t.pixiIdPrefix)||"pixiid";e._pixiId="".concat(s,"_").concat(c.uid())}r=e._pixiId}var o=c.BaseTextureCache[r];if(n&&i&&!o)throw new Error('The cacheId "'.concat(r,'" does not exist in BaseTextureCache.'));return o||((o=new a(e,t)).cacheId=r,a.addToCache(o,r)),o}},{key:"fromBuffer",value:function(e,t,n,r){e=e||new Float32Array(t*n*4);var s,o,d=new h.BufferResource(e,i({width:t,height:n},null===r||void 0===r?void 0:r.resourceOptions));return e instanceof Float32Array?(s=l.FORMATS.RGBA,o=l.TYPES.FLOAT):e instanceof Int32Array?(s=l.FORMATS.RGBA_INTEGER,o=l.TYPES.INT):e instanceof Uint32Array?(s=l.FORMATS.RGBA_INTEGER,o=l.TYPES.UNSIGNED_INT):e instanceof Int16Array?(s=l.FORMATS.RGBA_INTEGER,o=l.TYPES.SHORT):e instanceof Uint16Array?(s=l.FORMATS.RGBA_INTEGER,o=l.TYPES.UNSIGNED_SHORT):e instanceof Int8Array?(s=l.FORMATS.RGBA,o=l.TYPES.BYTE):(s=l.FORMATS.RGBA,o=l.TYPES.UNSIGNED_BYTE),d.internal=!0,new a(d,Object.assign({},p,{type:o,format:s},r))}},{key:"addToCache",value:function(e,t){t&&(e.textureCacheIds.includes(t)||e.textureCacheIds.push(t),c.BaseTextureCache[t]&&c.BaseTextureCache[t]!==e&&console.warn("BaseTexture added to the cache with an id [".concat(t,"] that already had an entry")),c.BaseTextureCache[t]=e)}},{key:"removeFromCache",value:function(e){if("string"==typeof e){var t=c.BaseTextureCache[e];if(t){var a=t.textureCacheIds.indexOf(e);return a>-1&&t.textureCacheIds.splice(a,1),delete c.BaseTextureCache[e],t}}else if(null!==e&&void 0!==e&&e.textureCacheIds){for(var i=0;i<e.textureCacheIds.length;++i)delete c.BaseTextureCache[e.textureCacheIds[i]];return e.textureCacheIds.length=0,e}return null}}]),a}(c.EventEmitter);m.defaultOptions={mipmap:l.MIPMAP_MODES.POW2,anisotropicLevel:0,scaleMode:l.SCALE_MODES.LINEAR,wrapMode:l.WRAP_MODES.CLAMP,alphaMode:l.ALPHA_MODES.UNPACK,target:l.TARGETS.TEXTURE_2D,format:l.FORMATS.RGBA,type:l.TYPES.UNSIGNED_BYTE},m._globalBatch=0;var g=m;t.BaseTexture=g},46185:function(e,t,a){"use strict";var i=a(89728).default,n=a(56690).default,r=a(64211),s=i((function e(t){n(this,e),this.texture=t,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=r.TYPES.UNSIGNED_BYTE,this.internalFormat=r.FORMATS.RGBA,this.samplerType=0}));t.GLTexture=s},57008:function(e,t,a){"use strict";var i=a(56690).default,n=a(89728).default,r=a(94993).default,s=a(66115).default,o=a(61655).default,l=a(26389).default,d=a(57223),c=a(5884),u=a(82124),h=a(18545),f=a(17872),p=a(64599),m=new p.TextureUvs;function g(e){e.destroy=function(){},e.on=function(){},e.once=function(){},e.emit=function(){}}var v=function(e){o(a,e);var t=l(a);function a(e,n,o,l,c,u,h){var f;if(i(this,a),(f=t.call(this)).noFrame=!1,n||(f.noFrame=!0,n=new d.Rectangle(0,0,1,1)),e instanceof a&&(e=e.baseTexture),f.baseTexture=e,f._frame=n,f.trim=l,f.valid=!1,f.destroyed=!1,f._uvs=m,f.uvMatrix=null,f.orig=o||n,f._rotate=Number(c||0),!0===c)f._rotate=2;else if(f._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return f.defaultAnchor=u?new d.Point(u.x,u.y):new d.Point(0,0),f.defaultBorders=h,f._updateID=0,f.textureCacheIds=[],e.valid?f.noFrame?e.valid&&f.onBaseTextureUpdated(e):f.frame=n:e.once("loaded",f.onBaseTextureUpdated,s(f)),f.noFrame&&e.on("update",f.onBaseTextureUpdated,s(f)),r(f)}return n(a,[{key:"update",value:function(){this.baseTexture.resource&&this.baseTexture.resource.update()}},{key:"onBaseTextureUpdated",value:function(e){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=e.width,this._frame.height=e.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)}},{key:"destroy",value:function(e){if(this.baseTexture){if(e){var t=this.baseTexture.resource;null!==t&&void 0!==t&&t.url&&u.TextureCache[t.url]&&a.removeFromCache(t.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,a.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0,this.emit("destroyed",this),this.removeAllListeners()}},{key:"clone",value:function(){var e,t=this._frame.clone(),i=this._frame===this.orig?t:this.orig.clone(),n=new a(this.baseTexture,!this.noFrame&&t,i,null===(e=this.trim)||void 0===e?void 0:e.clone(),this.rotate,this.defaultAnchor,this.defaultBorders);return this.noFrame&&(n._frame=t),n}},{key:"updateUvs",value:function(){this._uvs===m&&(this._uvs=new p.TextureUvs),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++}},{key:"resolution",get:function(){return this.baseTexture.resolution}},{key:"frame",get:function(){return this._frame},set:function(e){this._frame=e,this.noFrame=!1;var t=e.x,a=e.y,i=e.width,n=e.height,r=t+i>this.baseTexture.width,s=a+n>this.baseTexture.height;if(r||s){var o=r&&s?"and":"or",l="X: ".concat(t," + ").concat(i," = ").concat(t+i," > ").concat(this.baseTexture.width),d="Y: ".concat(a," + ").concat(n," = ").concat(a+n," > ").concat(this.baseTexture.height);throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: ".concat(l," ").concat(o," ").concat(d))}this.valid=i&&n&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=e),this.valid&&this.updateUvs()}},{key:"rotate",get:function(){return this._rotate},set:function(e){this._rotate=e,this.valid&&this.updateUvs()}},{key:"width",get:function(){return this.orig.width}},{key:"height",get:function(){return this.orig.height}},{key:"castToBaseTexture",value:function(){return this.baseTexture}}],[{key:"from",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c.settings.STRICT_TEXTURE_CACHE,n="string"==typeof e,r=null;if(n)r=e;else if(e instanceof h.BaseTexture){if(!e.cacheId){var s=(null===t||void 0===t?void 0:t.pixiIdPrefix)||"pixiid";e.cacheId="".concat(s,"-").concat(u.uid()),h.BaseTexture.addToCache(e,e.cacheId)}r=e.cacheId}else{if(!e._pixiId){var o=(null===t||void 0===t?void 0:t.pixiIdPrefix)||"pixiid";e._pixiId="".concat(o,"_").concat(u.uid())}r=e._pixiId}var l=u.TextureCache[r];if(n&&i&&!l)throw new Error('The cacheId "'.concat(r,'" does not exist in TextureCache.'));return l||e instanceof h.BaseTexture?!l&&e instanceof h.BaseTexture&&(l=new a(e),a.addToCache(l,r)):(t.resolution||(t.resolution=u.getResolutionOfUrl(e)),(l=new a(new h.BaseTexture(e,t))).baseTexture.cacheId=r,h.BaseTexture.addToCache(l.baseTexture,r),a.addToCache(l,r)),l}},{key:"fromURL",value:function(e,t){var i=Object.assign({autoLoad:!1},null===t||void 0===t?void 0:t.resourceOptions),n=a.from(e,Object.assign({resourceOptions:i},t),!1),r=n.baseTexture.resource;return n.baseTexture.valid?Promise.resolve(n):r.load().then((function(){return Promise.resolve(n)}))}},{key:"fromBuffer",value:function(e,t,i,n){return new a(h.BaseTexture.fromBuffer(e,t,i,n))}},{key:"fromLoader",value:function(e,t,i,n){var r=new h.BaseTexture(e,Object.assign({scaleMode:h.BaseTexture.defaultOptions.scaleMode,resolution:u.getResolutionOfUrl(t)},n)),s=r.resource;s instanceof f.ImageResource&&(s.url=t);var o=new a(r);return i||(i=t),h.BaseTexture.addToCache(o.baseTexture,i),a.addToCache(o,i),i!==t&&(h.BaseTexture.addToCache(o.baseTexture,t),a.addToCache(o,t)),o.baseTexture.valid?Promise.resolve(o):new Promise((function(e){o.baseTexture.once("loaded",(function(){return e(o)}))}))}},{key:"addToCache",value:function(e,t){t&&(e.textureCacheIds.includes(t)||e.textureCacheIds.push(t),u.TextureCache[t]&&u.TextureCache[t]!==e&&console.warn("Texture added to the cache with an id [".concat(t,"] that already had an entry")),u.TextureCache[t]=e)}},{key:"removeFromCache",value:function(e){if("string"==typeof e){var t=u.TextureCache[e];if(t){var a=t.textureCacheIds.indexOf(e);return a>-1&&t.textureCacheIds.splice(a,1),delete u.TextureCache[e],t}}else if(null!==e&&void 0!==e&&e.textureCacheIds){for(var i=0;i<e.textureCacheIds.length;++i)u.TextureCache[e.textureCacheIds[i]]===e&&delete u.TextureCache[e.textureCacheIds[i]];return e.textureCacheIds.length=0,e}return null}},{key:"EMPTY",get:function(){return a._EMPTY||(a._EMPTY=new a(new h.BaseTexture),g(a._EMPTY),g(a._EMPTY.baseTexture)),a._EMPTY}},{key:"WHITE",get:function(){if(!a._WHITE){var e=c.settings.ADAPTER.createCanvas(16,16),t=e.getContext("2d");e.width=16,e.height=16,t.fillStyle="white",t.fillRect(0,0,16,16),a._WHITE=new a(h.BaseTexture.from(e)),g(a._WHITE),g(a._WHITE.baseTexture)}return a._WHITE}}]),a}(u.EventEmitter);t.Texture=v},59117:function(e,t,a){"use strict";var i=a(56690).default,n=a(89728).default,r=a(64211),s=a(59727),o=function(){function e(t){i(this,e),this.renderer=t,this.count=0,this.checkCount=0,this.maxIdle=e.defaultMaxIdle,this.checkCountMax=e.defaultCheckCountMax,this.mode=e.defaultMode}return n(e,[{key:"postrender",value:function(){this.renderer.objectRenderer.renderingToScreen&&(this.count++,this.mode!==r.GC_MODES.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))}},{key:"run",value:function(){for(var e=this.renderer.texture,t=e.managedTextures,a=!1,i=0;i<t.length;i++){var n=t[i];n.resource&&this.count-n.touched>this.maxIdle&&(e.destroyTexture(n,!0),t[i]=null,a=!0)}if(a){for(var r=0,s=0;s<t.length;s++)null!==t[s]&&(t[r++]=t[s]);t.length=r}}},{key:"unload",value:function(e){var t=this.renderer.texture,a=e._texture;a&&!a.framebuffer&&t.destroyTexture(a);for(var i=e.children.length-1;i>=0;i--)this.unload(e.children[i])}},{key:"destroy",value:function(){this.renderer=null}}]),e}();o.defaultMode=r.GC_MODES.AUTO,o.defaultMaxIdle=3600,o.defaultCheckCountMax=600,o.extension={type:s.ExtensionType.RendererSystem,name:"textureGC"};var l=o;s.extensions.add(l),t.TextureGCSystem=l},86002:function(e,t,a){"use strict";var i=a(56690).default,n=a(89728).default,r=a(57223),s=new r.Matrix,o=function(){function e(t,a){i(this,e),this._texture=t,this.mapCoord=new r.Matrix,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof a>"u"?.5:a,this.isSimple=!1}return n(e,[{key:"texture",get:function(){return this._texture},set:function(e){this._texture=e,this._textureID=-1}},{key:"multiplyUvs",value:function(e,t){void 0===t&&(t=e);for(var a=this.mapCoord,i=0;i<e.length;i+=2){var n=e[i],r=e[i+1];t[i]=n*a.a+r*a.c+a.tx,t[i+1]=n*a.b+r*a.d+a.ty}return t}},{key:"update",value:function(e){var t=this._texture;if(!t||!t.valid||!e&&this._textureID===t._updateID)return!1;this._textureID=t._updateID,this._updateID++;var a=t._uvs;this.mapCoord.set(a.x1-a.x0,a.y1-a.y0,a.x3-a.x0,a.y3-a.y0,a.x0,a.y0);var i=t.orig,n=t.trim;n&&(s.set(i.width/n.width,0,0,i.height/n.height,-n.x/n.width,-n.y/n.height),this.mapCoord.append(s));var r=t.baseTexture,o=this.uClampFrame,l=this.clampMargin/r.resolution,d=this.clampOffset;return o[0]=(t._frame.x+l+d)/r.width,o[1]=(t._frame.y+l+d)/r.height,o[2]=(t._frame.x+t._frame.width-l+d)/r.width,o[3]=(t._frame.y+t._frame.height-l+d)/r.height,this.uClampOffset[0]=d/r.realWidth,this.uClampOffset[1]=d/r.realHeight,this.isSimple=t._frame.width===r.width&&t._frame.height===r.height&&0===t.rotate,!0}}]),e}();t.TextureMatrix=o},38811:function(e,t,a){"use strict";var i=a(56690).default,n=a(89728).default,r=a(64211),s=a(59727),o=a(82124),l=a(18545),d=a(46185),c=a(81331),u=a(12072),h=function(){function e(t){i(this,e),this.renderer=t,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new l.BaseTexture,this.hasIntegerTextures=!1}return n(e,[{key:"contextChange",value:function(){var e=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=u.mapTypeAndFormatToInternalFormat(e),this.samplerTypes=c.mapInternalFormatToSamplerType(e);var t=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=t;for(var a=0;a<t;a++)this.boundTextures[a]=null;this.emptyTextures={};var i=new d.GLTexture(e.createTexture());e.bindTexture(e.TEXTURE_2D,i.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[e.TEXTURE_2D]=i,this.emptyTextures[e.TEXTURE_CUBE_MAP]=new d.GLTexture(e.createTexture()),e.bindTexture(e.TEXTURE_CUBE_MAP,this.emptyTextures[e.TEXTURE_CUBE_MAP].texture);for(var n=0;n<6;n++)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+n,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,null);e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,e.LINEAR);for(var r=0;r<this.boundTextures.length;r++)this.bind(null,r)}},{key:"bind",value:function(e){var t,a,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.gl;if(null!==(a=e=null===(t=e)||void 0===t?void 0:t.castToBaseTexture())&&void 0!==a&&a.valid&&!e.parentTextureArray){e.touched=this.renderer.textureGC.count;var r=e._glTextures[this.CONTEXT_UID]||this.initTexture(e);this.boundTextures[i]!==e&&(this.currentLocation!==i&&(this.currentLocation=i,n.activeTexture(n.TEXTURE0+i)),n.bindTexture(e.target,r.texture)),r.dirtyId!==e.dirtyId?(this.currentLocation!==i&&(this.currentLocation=i,n.activeTexture(n.TEXTURE0+i)),this.updateTexture(e)):r.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(e),this.boundTextures[i]=e}else this.currentLocation!==i&&(this.currentLocation=i,n.activeTexture(n.TEXTURE0+i)),n.bindTexture(n.TEXTURE_2D,this.emptyTextures[n.TEXTURE_2D].texture),this.boundTextures[i]=null}},{key:"reset",value:function(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(var e=0;e<this.boundTextures.length;e++)this.boundTextures[e]=this.unknownTexture}},{key:"unbind",value:function(e){var t=this.gl,a=this.boundTextures;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(var i=0;i<a.length;i++)a[i]===this.unknownTexture&&this.bind(null,i)}for(var n=0;n<a.length;n++)a[n]===e&&(this.currentLocation!==n&&(t.activeTexture(t.TEXTURE0+n),this.currentLocation=n),t.bindTexture(e.target,this.emptyTextures[e.target].texture),a[n]=null)}},{key:"ensureSamplerType",value:function(e){var t=this.boundTextures,a=this.hasIntegerTextures,i=this.CONTEXT_UID;if(a)for(var n=e-1;n>=0;--n){var s=t[n];s&&s._glTextures[i].samplerType!==r.SAMPLER_TYPES.FLOAT&&this.renderer.texture.unbind(s)}}},{key:"initTexture",value:function(e){var t=new d.GLTexture(this.gl.createTexture());return t.dirtyId=-1,e._glTextures[this.CONTEXT_UID]=t,this.managedTextures.push(e),e.on("dispose",this.destroyTexture,this),t}},{key:"initTextureType",value:function(e,t){var a,i,n;t.internalFormat=null!==(a=null===(i=this.internalFormats[e.type])||void 0===i?void 0:i[e.format])&&void 0!==a?a:e.format,t.samplerType=null!==(n=this.samplerTypes[t.internalFormat])&&void 0!==n?n:r.SAMPLER_TYPES.FLOAT,2===this.webGLVersion&&e.type===r.TYPES.HALF_FLOAT?t.type=this.gl.HALF_FLOAT:t.type=e.type}},{key:"updateTexture",value:function(e){var t,a=e._glTextures[this.CONTEXT_UID];if(a){var i=this.renderer;if(this.initTextureType(e,a),null!==(t=e.resource)&&void 0!==t&&t.upload(i,e,a))a.samplerType!==r.SAMPLER_TYPES.FLOAT&&(this.hasIntegerTextures=!0);else{var n=e.realWidth,s=e.realHeight,o=i.gl;(a.width!==n||a.height!==s||a.dirtyId<0)&&(a.width=n,a.height=s,o.texImage2D(e.target,0,a.internalFormat,n,s,0,e.format,a.type,null))}e.dirtyStyleId!==a.dirtyStyleId&&this.updateTextureStyle(e),a.dirtyId=e.dirtyId}}},{key:"destroyTexture",value:function(e,t){var a=this.gl;if((e=e.castToBaseTexture())._glTextures[this.CONTEXT_UID]&&(this.unbind(e),a.deleteTexture(e._glTextures[this.CONTEXT_UID].texture),e.off("dispose",this.destroyTexture,this),delete e._glTextures[this.CONTEXT_UID],!t)){var i=this.managedTextures.indexOf(e);-1!==i&&o.removeItems(this.managedTextures,i,1)}}},{key:"updateTextureStyle",value:function(e){var t,a=e._glTextures[this.CONTEXT_UID];a&&(e.mipmap!==r.MIPMAP_MODES.POW2&&2===this.webGLVersion||e.isPowerOfTwo?a.mipmap=e.mipmap>=1:a.mipmap=!1,2===this.webGLVersion||e.isPowerOfTwo?a.wrapMode=e.wrapMode:a.wrapMode=r.WRAP_MODES.CLAMP,null!==(t=e.resource)&&void 0!==t&&t.style(this.renderer,e,a)||this.setStyle(e,a),a.dirtyStyleId=e.dirtyStyleId)}},{key:"setStyle",value:function(e,t){var a=this.gl;if(t.mipmap&&e.mipmap!==r.MIPMAP_MODES.ON_MANUAL&&a.generateMipmap(e.target),a.texParameteri(e.target,a.TEXTURE_WRAP_S,t.wrapMode),a.texParameteri(e.target,a.TEXTURE_WRAP_T,t.wrapMode),t.mipmap){a.texParameteri(e.target,a.TEXTURE_MIN_FILTER,e.scaleMode===r.SCALE_MODES.LINEAR?a.LINEAR_MIPMAP_LINEAR:a.NEAREST_MIPMAP_NEAREST);var i=this.renderer.context.extensions.anisotropicFiltering;if(i&&e.anisotropicLevel>0&&e.scaleMode===r.SCALE_MODES.LINEAR){var n=Math.min(e.anisotropicLevel,a.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY_EXT));a.texParameterf(e.target,i.TEXTURE_MAX_ANISOTROPY_EXT,n)}}else a.texParameteri(e.target,a.TEXTURE_MIN_FILTER,e.scaleMode===r.SCALE_MODES.LINEAR?a.LINEAR:a.NEAREST);a.texParameteri(e.target,a.TEXTURE_MAG_FILTER,e.scaleMode===r.SCALE_MODES.LINEAR?a.LINEAR:a.NEAREST)}},{key:"destroy",value:function(){this.renderer=null}}]),e}();h.extension={type:s.ExtensionType.RendererSystem,name:"texture"},s.extensions.add(h),t.TextureSystem=h},64599:function(e,t,a){"use strict";var i=a(56690).default,n=a(89728).default,r=a(57223),s=function(){function e(){i(this,e),this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}return n(e,[{key:"set",value:function(e,t,a){var i=t.width,n=t.height;if(a){var s=e.width/2/i,o=e.height/2/n,l=e.x/i+s,d=e.y/n+o;a=r.groupD8.add(a,r.groupD8.NW),this.x0=l+s*r.groupD8.uX(a),this.y0=d+o*r.groupD8.uY(a),a=r.groupD8.add(a,2),this.x1=l+s*r.groupD8.uX(a),this.y1=d+o*r.groupD8.uY(a),a=r.groupD8.add(a,2),this.x2=l+s*r.groupD8.uX(a),this.y2=d+o*r.groupD8.uY(a),a=r.groupD8.add(a,2),this.x3=l+s*r.groupD8.uX(a),this.y3=d+o*r.groupD8.uY(a)}else this.x0=e.x/i,this.y0=e.y/n,this.x1=(e.x+e.width)/i,this.y1=e.y/n,this.x2=(e.x+e.width)/i,this.y2=(e.y+e.height)/n,this.x3=e.x/i,this.y3=(e.y+e.height)/n;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3}}]),e}();s.prototype.toString=function(){return"[@pixi/core:TextureUvs x0=".concat(this.x0," y0=").concat(this.y0," x1=").concat(this.x1," y1=").concat(this.y1," x2=").concat(this.x2," y2=").concat(this.y2," x3=").concat(this.x3," y3=").concat(this.y3,"]")},t.TextureUvs=s},46954:function(e,t,a){"use strict";var i=a(56690).default,n=a(89728).default,r=a(41588).default,s=a(73808).default,o=a(61655).default,l=a(26389).default,d=a(18545),c=a(50282),u=a(32728),h=function(e){o(a,e);var t=l(a);function a(e,n){var r;i(this,a);var s=n||{},o=s.width,l=s.height;(r=t.call(this,o,l)).items=[],r.itemDirtyIds=[];for(var c=0;c<e;c++){var u=new d.BaseTexture;r.items.push(u),r.itemDirtyIds.push(-2)}return r.length=e,r._load=null,r.baseTexture=null,r}return n(a,[{key:"initFromArray",value:function(e,t){for(var a=0;a<this.length;a++)e[a]&&(e[a].castToBaseTexture?this.addBaseTextureAt(e[a].castToBaseTexture(),a):e[a]instanceof u.Resource?this.addResourceAt(e[a],a):this.addResourceAt(c.autoDetectResource(e[a],t),a))}},{key:"dispose",value:function(){for(var e=0,t=this.length;e<t;e++)this.items[e].destroy();this.items=null,this.itemDirtyIds=null,this._load=null}},{key:"addResourceAt",value:function(e,t){if(!this.items[t])throw new Error("Index ".concat(t," is out of bounds"));return e.valid&&!this.valid&&this.resize(e.width,e.height),this.items[t].setResource(e),this}},{key:"bind",value:function(e){if(null!==this.baseTexture)throw new Error("Only one base texture per TextureArray is allowed");r(s(a.prototype),"bind",this).call(this,e);for(var t=0;t<this.length;t++)this.items[t].parentTextureArray=e,this.items[t].on("update",e.update,e)}},{key:"unbind",value:function(e){r(s(a.prototype),"unbind",this).call(this,e);for(var t=0;t<this.length;t++)this.items[t].parentTextureArray=null,this.items[t].off("update",e.update,e)}},{key:"load",value:function(){var e=this;if(this._load)return this._load;var t=this.items.map((function(e){return e.resource})).filter((function(e){return e})).map((function(e){return e.load()}));return this._load=Promise.all(t).then((function(){var t=e.items[0],a=t.realWidth,i=t.realHeight;return e.resize(a,i),e.update(),Promise.resolve(e)})),this._load}}]),a}(u.Resource);t.AbstractMultiResource=h},2787:function(e,t,a){"use strict";var i=a(56690).default,n=a(89728).default,r=a(41588).default,s=a(73808).default,o=a(61655).default,l=a(26389).default,d=a(64211),c=function(e){o(a,e);var t=l(a);function a(e,n){var r;i(this,a);var s,o,l=n||{},d=l.width,c=l.height;return Array.isArray(e)?(s=e,o=e.length):o=e,r=t.call(this,o,{width:d,height:c}),s&&r.initFromArray(s,n),r}return n(a,[{key:"addBaseTextureAt",value:function(e,t){if(!e.resource)throw new Error("ArrayResource does not support RenderTexture");return this.addResourceAt(e.resource,t),this}},{key:"bind",value:function(e){r(s(a.prototype),"bind",this).call(this,e),e.target=d.TARGETS.TEXTURE_2D_ARRAY}},{key:"upload",value:function(e,t,a){var i=this.length,n=this.itemDirtyIds,r=this.items,s=e.gl;a.dirtyId<0&&s.texImage3D(s.TEXTURE_2D_ARRAY,0,a.internalFormat,this._width,this._height,i,0,t.format,a.type,null);for(var o=0;o<i;o++){var l=r[o];n[o]<l.dirtyId&&(n[o]=l.dirtyId,l.valid&&s.texSubImage3D(s.TEXTURE_2D_ARRAY,0,0,0,o,l.resource.width,l.resource.height,1,t.format,a.type,l.resource.source))}return!0}}]),a}(a(46954).AbstractMultiResource);t.ArrayResource=c},89681:function(e,t,a){"use strict";var i=a(56690).default,n=a(89728).default,r=a(41588).default,s=a(73808).default,o=a(61655).default,l=a(26389).default,d=a(64211),c=a(82124),u=function(e){o(a,e);var t=l(a);function a(e){var n;i(this,a);var r=e,s=r.naturalWidth||r.videoWidth||r.displayWidth||r.width,o=r.naturalHeight||r.videoHeight||r.displayHeight||r.height;return(n=t.call(this,s,o)).source=e,n.noSubImage=!1,n}return n(a,[{key:"upload",value:function(e,t,a,i){var n=e.gl,r=t.realWidth,s=t.realHeight;if(i=i||this.source,typeof HTMLImageElement<"u"&&i instanceof HTMLImageElement){if(!i.complete||0===i.naturalWidth)return!1}else if(typeof HTMLVideoElement<"u"&&i instanceof HTMLVideoElement&&i.readyState<=1)return!1;return n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.alphaMode===d.ALPHA_MODES.UNPACK),this.noSubImage||t.target!==n.TEXTURE_2D||a.width!==r||a.height!==s?(a.width=r,a.height=s,n.texImage2D(t.target,0,a.internalFormat,t.format,a.type,i)):n.texSubImage2D(n.TEXTURE_2D,0,0,0,t.format,a.type,i),!0}},{key:"update",value:function(){if(!this.destroyed){var e=this.source,t=e.naturalWidth||e.videoWidth||e.width,i=e.naturalHeight||e.videoHeight||e.height;this.resize(t,i),r(s(a.prototype),"update",this).call(this)}}},{key:"dispose",value:function(){this.source=null}}],[{key:"crossOrigin",value:function(e,t,a){void 0!==a||t.startsWith("data:")?!1!==a&&(e.crossOrigin="string"==typeof a?a:"anonymous"):e.crossOrigin=c.determineCrossOrigin(t)}}]),a}(a(32728).Resource);t.BaseImageResource=u},10930:function(e,t,a){"use strict";var i=a(56690).default,n=a(89728).default,r=a(61655).default,s=a(26389).default,o=a(64211),l=function(e){r(a,e);var t=s(a);function a(e,n){var r,s;i(this,a);var o=n||{},l=o.width,d=o.height;if(!l||!d)throw new Error("BufferResource width or height invalid");return(s=t.call(this,l,d)).data=e,s.unpackAlignment=null!==(r=n.unpackAlignment)&&void 0!==r?r:4,s}return n(a,[{key:"upload",value:function(e,t,a){var i=e.gl;i.pixelStorei(i.UNPACK_ALIGNMENT,this.unpackAlignment),i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.alphaMode===o.ALPHA_MODES.UNPACK);var n=t.realWidth,r=t.realHeight;return a.width===n&&a.height===r?i.texSubImage2D(t.target,0,0,0,n,r,t.format,a.type,this.data):(a.width=n,a.height=r,i.texImage2D(t.target,0,a.internalFormat,n,r,0,t.format,a.type,this.data)),!0}},{key:"dispose",value:function(){this.data=null}}],[{key:"test",value:function(e){return null===e||e instanceof Int8Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array}}]),a}(a(32728).Resource);t.BufferResource=l},95648:function(e,t,a){"use strict";var i=a(56690).default,n=a(89728).default,r=a(61655).default,s=a(26389).default,o=function(e){r(a,e);var t=s(a);function a(e){return i(this,a),t.call(this,e)}return n(a,null,[{key:"test",value:function(e){var t=globalThis.OffscreenCanvas;return!!(t&&e instanceof t)||globalThis.HTMLCanvasElement&&e instanceof HTMLCanvasElement}}]),a}(a(89681).BaseImageResource);t.CanvasResource=o},8704:function(e,t,a){"use strict";var i=a(56690).default,n=a(89728).default,r=a(41588).default,s=a(73808).default,o=a(61655).default,l=a(26389).default,d=a(64211),c=function(e){o(a,e);var t=l(a);function a(e,n){var r;i(this,a);var s=n||{},o=s.width,l=s.height,c=s.autoLoad,u=s.linkBaseTexture;if(e&&e.length!==a.SIDES)throw new Error("Invalid length. Got ".concat(e.length,", expected 6"));r=t.call(this,6,{width:o,height:l});for(var h=0;h<a.SIDES;h++)r.items[h].target=d.TARGETS.TEXTURE_CUBE_MAP_POSITIVE_X+h;return r.linkBaseTexture=!1!==u,e&&r.initFromArray(e,n),!1!==c&&r.load(),r}return n(a,[{key:"bind",value:function(e){r(s(a.prototype),"bind",this).call(this,e),e.target=d.TARGETS.TEXTURE_CUBE_MAP}},{key:"addBaseTextureAt",value:function(e,t,a){if(void 0===a&&(a=this.linkBaseTexture),!this.items[t])throw new Error("Index ".concat(t," is out of bounds"));if(!this.linkBaseTexture||e.parentTextureArray||Object.keys(e._glTextures).length>0){if(!e.resource)throw new Error("CubeResource does not support copying of renderTexture.");this.addResourceAt(e.resource,t)}else e.target=d.TARGETS.TEXTURE_CUBE_MAP_POSITIVE_X+t,e.parentTextureArray=this.baseTexture,this.items[t]=e;return e.valid&&!this.valid&&this.resize(e.realWidth,e.realHeight),this.items[t]=e,this}},{key:"upload",value:function(e,t,i){for(var n=this.itemDirtyIds,r=0;r<a.SIDES;r++){var s=this.items[r];(n[r]<s.dirtyId||i.dirtyId<t.dirtyId)&&(s.valid&&s.resource?(s.resource.upload(e,s,i),n[r]=s.dirtyId):n[r]<-1&&(e.gl.texImage2D(s.target,0,i.internalFormat,t.realWidth,t.realHeight,0,t.format,i.type,null),n[r]=-1))}return!0}}],[{key:"test",value:function(e){return Array.isArray(e)&&e.length===a.SIDES}}]),a}(a(46954).AbstractMultiResource);c.SIDES=6;var u=c;t.CubeResource=u},75319:function(e,t,a){"use strict";var i=a(17061).default,n=a(17156).default,r=a(56690).default,s=a(89728).default,o=a(41588).default,l=a(73808).default,d=a(61655).default,c=a(26389).default,u=a(64211),h=a(5884),f=function(e){d(a,e);var t=c(a);function a(e,i){var n,s,o,l,d,c;return r(this,a),i=i||{},"string"==typeof e?(l=a.EMPTY,d=e,c=!0):(l=e,d=null,c=!1),(o=t.call(this,l)).url=d,o.crossOrigin=null===(n=i.crossOrigin)||void 0===n||n,o.alphaMode="number"==typeof i.alphaMode?i.alphaMode:null,o.ownsImageBitmap=null!==(s=i.ownsImageBitmap)&&void 0!==s?s:c,o._load=null,!1!==i.autoLoad&&o.load(),o}return s(a,[{key:"load",value:function(){var e=this;return this._load||(this._load=new Promise(function(){var t=n(i().mark((function t(a,n){var r,s,o;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!==e.url){t.next=3;break}return a(e),t.abrupt("return");case 3:return t.prev=3,t.next=6,h.settings.ADAPTER.fetch(e.url,{mode:e.crossOrigin?"cors":"no-cors"});case 6:if(r=t.sent,!e.destroyed){t.next=9;break}return t.abrupt("return");case 9:return t.next=11,r.blob();case 11:if(s=t.sent,!e.destroyed){t.next=14;break}return t.abrupt("return");case 14:return t.next=16,createImageBitmap(s,{premultiplyAlpha:null===e.alphaMode||e.alphaMode===u.ALPHA_MODES.UNPACK?"premultiply":"none"});case 16:if(o=t.sent,!e.destroyed){t.next=20;break}return o.close(),t.abrupt("return");case 20:e.source=o,e.update(),a(e),t.next=28;break;case 23:if(t.prev=23,t.t0=t.catch(3),!e.destroyed){t.next=27;break}return t.abrupt("return");case 27:n(t.t0),e.onError.emit(t.t0);case 28:case"end":return t.stop()}}),t,null,[[3,23]])})));return function(e,a){return t.apply(this,arguments)}}())),this._load}},{key:"upload",value:function(e,t,i){return this.source instanceof ImageBitmap?("number"==typeof this.alphaMode&&(t.alphaMode=this.alphaMode),o(l(a.prototype),"upload",this).call(this,e,t,i)):(this.load(),!1)}},{key:"dispose",value:function(){this.ownsImageBitmap&&this.source instanceof ImageBitmap&&this.source.close(),o(l(a.prototype),"dispose",this).call(this),this._load=null}}],[{key:"test",value:function(e){return!!globalThis.createImageBitmap&&typeof ImageBitmap<"u"&&("string"==typeof e||e instanceof ImageBitmap)}},{key:"EMPTY",get:function(){var e;return a._EMPTY=null!==(e=a._EMPTY)&&void 0!==e?e:h.settings.ADAPTER.createCanvas(0,0),a._EMPTY}}]),a}(a(89681).BaseImageResource);t.ImageBitmapResource=f},17872:function(e,t,a){"use strict";var i=a(56690).default,n=a(89728).default,r=a(41588).default,s=a(73808).default,o=a(61655).default,l=a(26389).default,d=a(64211),c=a(5884),u=a(89681),h=function(e){o(a,e);var t=l(a);function a(e,n){var r,s;if(i(this,a),n=n||{},"string"==typeof e){var o=new Image;u.BaseImageResource.crossOrigin(o,e,n.crossorigin),o.src=e,e=o}return s=t.call(this,e),!e.complete&&s._width&&s._height&&(s._width=0,s._height=0),s.url=e.src,s._process=null,s.preserveBitmap=!1,s.createBitmap=(null!==(r=n.createBitmap)&&void 0!==r?r:c.settings.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,s.alphaMode="number"==typeof n.alphaMode?n.alphaMode:null,s.bitmap=null,s._load=null,!1!==n.autoLoad&&s.load(),s}return n(a,[{key:"load",value:function(e){var t=this;return this._load||(void 0!==e&&(this.createBitmap=e),this._load=new Promise((function(e,a){var i=t.source;t.url=i.src;var n=function(){t.destroyed||(i.onload=null,i.onerror=null,t.update(),t._load=null,t.createBitmap?e(t.process()):e(t))};i.complete&&i.src?n():(i.onload=n,i.onerror=function(e){a(e),t.onError.emit(e)})}))),this._load}},{key:"process",value:function(){var e=this,t=this.source;if(null!==this._process)return this._process;if(null!==this.bitmap||!globalThis.createImageBitmap)return Promise.resolve(this);var a=globalThis.createImageBitmap,i=!t.crossOrigin||"anonymous"===t.crossOrigin;return this._process=fetch(t.src,{mode:i?"cors":"no-cors"}).then((function(e){return e.blob()})).then((function(i){return a(i,0,0,t.width,t.height,{premultiplyAlpha:null===e.alphaMode||e.alphaMode===d.ALPHA_MODES.UNPACK?"premultiply":"none"})})).then((function(t){return e.destroyed?Promise.reject():(e.bitmap=t,e.update(),e._process=null,Promise.resolve(e))})),this._process}},{key:"upload",value:function(e,t,i){if("number"==typeof this.alphaMode&&(t.alphaMode=this.alphaMode),!this.createBitmap)return r(s(a.prototype),"upload",this).call(this,e,t,i);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(r(s(a.prototype),"upload",this).call(this,e,t,i,this.bitmap),!this.preserveBitmap){var n=!0,o=t._glTextures;for(var l in o){var d=o[l];if(d!==i&&d.dirtyId!==t.dirtyId){n=!1;break}}n&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0}},{key:"dispose",value:function(){this.source.onload=null,this.source.onerror=null,r(s(a.prototype),"dispose",this).call(this),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null}}],[{key:"test",value:function(e){return typeof HTMLImageElement<"u"&&("string"==typeof e||e instanceof HTMLImageElement)}}]),a}(u.BaseImageResource);t.ImageResource=h},32728:function(e,t,a){"use strict";var i=a(56690).default,n=a(89728).default,r=a(35491),s=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;i(this,e),this._width=t,this._height=a,this.destroyed=!1,this.internal=!1,this.onResize=new r.Runner("setRealSize"),this.onUpdate=new r.Runner("update"),this.onError=new r.Runner("onError")}return n(e,[{key:"bind",value:function(e){this.onResize.add(e),this.onUpdate.add(e),this.onError.add(e),(this._width||this._height)&&this.onResize.emit(this._width,this._height)}},{key:"unbind",value:function(e){this.onResize.remove(e),this.onUpdate.remove(e),this.onError.remove(e)}},{key:"resize",value:function(e,t){(e!==this._width||t!==this._height)&&(this._width=e,this._height=t,this.onResize.emit(e,t))}},{key:"valid",get:function(){return!!this._width&&!!this._height}},{key:"update",value:function(){this.destroyed||this.onUpdate.emit()}},{key:"load",value:function(){return Promise.resolve(this)}},{key:"width",get:function(){return this._width}},{key:"height",get:function(){return this._height}},{key:"style",value:function(e,t,a){return!1}},{key:"dispose",value:function(){}},{key:"destroy",value:function(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)}}],[{key:"test",value:function(e,t){return!1}}]),e}();t.Resource=s},89576:function(e,t,a){"use strict";var i=a(56690).default,n=a(89728).default,r=a(41588).default,s=a(73808).default,o=a(61655).default,l=a(26389).default,d=a(5884),c=a(82124),u=a(89681),h=function(e){o(a,e);var t=l(a);function a(e,n){var r;return i(this,a),n=n||{},(r=t.call(this,d.settings.ADAPTER.createCanvas()))._width=0,r._height=0,r.svg=e,r.scale=n.scale||1,r._overrideWidth=n.width,r._overrideHeight=n.height,r._resolve=null,r._crossorigin=n.crossorigin,r._load=null,!1!==n.autoLoad&&r.load(),r}return n(a,[{key:"load",value:function(){var e=this;return this._load||(this._load=new Promise((function(t){if(e._resolve=function(){e.update(),t(e)},a.SVG_XML.test(e.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");e.svg="data:image/svg+xml;base64,".concat(btoa(unescape(encodeURIComponent(e.svg))))}e._loadSvg()}))),this._load}},{key:"_loadSvg",value:function(){var e=this,t=new Image;u.BaseImageResource.crossOrigin(t,this.svg,this._crossorigin),t.src=this.svg,t.onerror=function(a){e._resolve&&(t.onerror=null,e.onError.emit(a))},t.onload=function(){if(e._resolve){var a=t.width,i=t.height;if(!a||!i)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");var n=a*e.scale,r=i*e.scale;(e._overrideWidth||e._overrideHeight)&&(n=e._overrideWidth||e._overrideHeight/i*a,r=e._overrideHeight||e._overrideWidth/a*i),n=Math.round(n),r=Math.round(r);var s=e.source;s.width=n,s.height=r,s._pixiId="canvas_".concat(c.uid()),s.getContext("2d").drawImage(t,0,0,a,i,0,0,n,r),e._resolve(),e._resolve=null}}}},{key:"dispose",value:function(){r(s(a.prototype),"dispose",this).call(this),this._resolve=null,this._crossorigin=null}}],[{key:"getSize",value:function(e){var t=a.SVG_SIZE.exec(e),i={};return t&&(i[t[1]]=Math.round(parseFloat(t[3])),i[t[5]]=Math.round(parseFloat(t[7]))),i}},{key:"test",value:function(e,t){return"svg"===t||"string"==typeof e&&e.startsWith("data:image/svg+xml")||"string"==typeof e&&a.SVG_XML.test(e)}}]),a}(u.BaseImageResource);h.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m,h.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i;var f=h;t.SVGResource=f},27538:function(e,t,a){"use strict";var i=a(56690).default,n=a(89728).default,r=a(61655).default,s=a(26389).default,o=function(e){r(a,e);var t=s(a);function a(e){return i(this,a),t.call(this,e)}return n(a,null,[{key:"test",value:function(e){return!!globalThis.VideoFrame&&e instanceof globalThis.VideoFrame}}]),a}(a(89681).BaseImageResource);t.VideoFrameResource=o},62556:function(e,t,a){"use strict";var i=a(56690).default,n=a(89728).default,r=a(66115).default,s=a(41588).default,o=a(73808).default,l=a(61655).default,d=a(26389).default,c=a(53797),u=a(89681),h=function(e){l(a,e);var t=d(a);function a(e,n){var s;if(i(this,a),n=n||{},!(e instanceof HTMLVideoElement)){var o=document.createElement("video");!1!==n.autoLoad&&o.setAttribute("preload","auto"),!1!==n.playsinline&&(o.setAttribute("webkit-playsinline",""),o.setAttribute("playsinline","")),!0===n.muted&&(o.setAttribute("muted",""),o.muted=!0),!0===n.loop&&o.setAttribute("loop",""),!1!==n.autoPlay&&o.setAttribute("autoplay",""),"string"==typeof e&&(e=[e]);var l=e[0].src||e[0];u.BaseImageResource.crossOrigin(o,l,n.crossorigin);for(var d=0;d<e.length;++d){var c=document.createElement("source"),h=e[d],f=h.src,p=h.mime;if((f=f||e[d]).startsWith("data:"))p=f.slice(5,f.indexOf(";"));else if(!f.startsWith("blob:")){var m=f.split("?").shift().toLowerCase(),g=m.slice(m.lastIndexOf(".")+1);p=p||a.MIME_TYPES[g]||"video/".concat(g)}c.src=f,p&&(c.type=p),o.appendChild(c)}e=o}return(s=t.call(this,e)).noSubImage=!0,s._autoUpdate=!0,s._isConnectedToTicker=!1,s._updateFPS=n.updateFPS||0,s._msToNextUpdate=0,s.autoPlay=!1!==n.autoPlay,s._videoFrameRequestCallback=s._videoFrameRequestCallback.bind(r(s)),s._videoFrameRequestCallbackHandle=null,s._load=null,s._resolve=null,s._reject=null,s._onCanPlay=s._onCanPlay.bind(r(s)),s._onError=s._onError.bind(r(s)),s._onPlayStart=s._onPlayStart.bind(r(s)),s._onPlayStop=s._onPlayStop.bind(r(s)),s._onSeeked=s._onSeeked.bind(r(s)),!1!==n.autoLoad&&s.load(),s}return n(a,[{key:"update",value:function(){if(!this.destroyed){if(this._updateFPS){var e=c.Ticker.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-e)}(!this._updateFPS||this._msToNextUpdate<=0)&&(s(o(a.prototype),"update",this).call(this),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}}},{key:"_videoFrameRequestCallback",value:function(){this.update(),this.destroyed?this._videoFrameRequestCallbackHandle=null:this._videoFrameRequestCallbackHandle=this.source.requestVideoFrameCallback(this._videoFrameRequestCallback)}},{key:"load",value:function(){var e=this;if(this._load)return this._load;var t=this.source;return(t.readyState===t.HAVE_ENOUGH_DATA||t.readyState===t.HAVE_FUTURE_DATA)&&t.width&&t.height&&(t.complete=!0),t.addEventListener("play",this._onPlayStart),t.addEventListener("pause",this._onPlayStop),t.addEventListener("seeked",this._onSeeked),this._isSourceReady()?this._onCanPlay():(t.addEventListener("canplay",this._onCanPlay),t.addEventListener("canplaythrough",this._onCanPlay),t.addEventListener("error",this._onError,!0)),this._load=new Promise((function(a,i){e.valid?a(e):(e._resolve=a,e._reject=i,t.load())})),this._load}},{key:"_onError",value:function(e){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(e),this._reject&&(this._reject(e),this._reject=null,this._resolve=null)}},{key:"_isSourcePlaying",value:function(){var e=this.source;return!e.paused&&!e.ended}},{key:"_isSourceReady",value:function(){return this.source.readyState>2}},{key:"_onPlayStart",value:function(){this.valid||this._onCanPlay(),this._configureAutoUpdate()}},{key:"_onPlayStop",value:function(){this._configureAutoUpdate()}},{key:"_onSeeked",value:function(){this._autoUpdate&&!this._isSourcePlaying()&&(this._msToNextUpdate=0,this.update(),this._msToNextUpdate=0)}},{key:"_onCanPlay",value:function(){var e=this.source;e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay);var t=this.valid;this._msToNextUpdate=0,this.update(),this._msToNextUpdate=0,!t&&this._resolve&&(this._resolve(this),this._resolve=null,this._reject=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&e.play()}},{key:"dispose",value:function(){this._configureAutoUpdate();var e=this.source;e&&(e.removeEventListener("play",this._onPlayStart),e.removeEventListener("pause",this._onPlayStop),e.removeEventListener("seeked",this._onSeeked),e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay),e.removeEventListener("error",this._onError,!0),e.pause(),e.src="",e.load()),s(o(a.prototype),"dispose",this).call(this)}},{key:"autoUpdate",get:function(){return this._autoUpdate},set:function(e){e!==this._autoUpdate&&(this._autoUpdate=e,this._configureAutoUpdate())}},{key:"updateFPS",get:function(){return this._updateFPS},set:function(e){e!==this._updateFPS&&(this._updateFPS=e,this._configureAutoUpdate())}},{key:"_configureAutoUpdate",value:function(){this._autoUpdate&&this._isSourcePlaying()?!this._updateFPS&&this.source.requestVideoFrameCallback?(this._isConnectedToTicker&&(c.Ticker.shared.remove(this.update,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0),null===this._videoFrameRequestCallbackHandle&&(this._videoFrameRequestCallbackHandle=this.source.requestVideoFrameCallback(this._videoFrameRequestCallback))):(null!==this._videoFrameRequestCallbackHandle&&(this.source.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker||(c.Ticker.shared.add(this.update,this),this._isConnectedToTicker=!0,this._msToNextUpdate=0)):(null!==this._videoFrameRequestCallbackHandle&&(this.source.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker&&(c.Ticker.shared.remove(this.update,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0))}}],[{key:"test",value:function(e,t){return globalThis.HTMLVideoElement&&e instanceof HTMLVideoElement||a.TYPES.includes(t)}}]),a}(u.BaseImageResource);h.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],h.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};var f=h;t.VideoResource=f},50282:function(e,t){"use strict";var a=[];t.INSTALLED=a,t.autoDetectResource=function(e,t){if(!e)return null;var i="";if("string"==typeof e){var n=/\.(\w{3,4})(?:$|\?|#)/i.exec(e);n&&(i=n[1].toLowerCase())}for(var r=a.length-1;r>=0;--r){var s=a[r];if(s.test&&s.test(e,i))return new s(e,t)}throw new Error("Unrecognized source type to auto-detect Resource")}},58113:function(e,t,a){"use strict";var i=a(2787),n=a(50282),r=a(10930),s=a(95648),o=a(8704),l=a(75319),d=a(17872),c=a(89576),u=a(27538),h=a(62556),f=a(89681),p=a(32728),m=a(46954);n.INSTALLED.push(l.ImageBitmapResource,d.ImageResource,s.CanvasResource,h.VideoResource,u.VideoFrameResource,c.SVGResource,r.BufferResource,o.CubeResource,i.ArrayResource),t.ArrayResource=i.ArrayResource,t.INSTALLED=n.INSTALLED,t.autoDetectResource=n.autoDetectResource,t.BufferResource=r.BufferResource,t.CanvasResource=s.CanvasResource,t.CubeResource=o.CubeResource,t.ImageBitmapResource=l.ImageBitmapResource,t.ImageResource=d.ImageResource,t.SVGResource=c.SVGResource,t.VideoResource=h.VideoResource,t.BaseImageResource=f.BaseImageResource,t.Resource=p.Resource,t.AbstractMultiResource=m.AbstractMultiResource},81331:function(e,t,a){"use strict";var i=a(38416).default,n=a(64211);t.mapInternalFormatToSamplerType=function(e){var t,a,r;return"WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext?(i(t={},e.RGB,n.SAMPLER_TYPES.FLOAT),i(t,e.RGBA,n.SAMPLER_TYPES.FLOAT),i(t,e.ALPHA,n.SAMPLER_TYPES.FLOAT),i(t,e.LUMINANCE,n.SAMPLER_TYPES.FLOAT),i(t,e.LUMINANCE_ALPHA,n.SAMPLER_TYPES.FLOAT),i(t,e.R8,n.SAMPLER_TYPES.FLOAT),i(t,e.R8_SNORM,n.SAMPLER_TYPES.FLOAT),i(t,e.RG8,n.SAMPLER_TYPES.FLOAT),i(t,e.RG8_SNORM,n.SAMPLER_TYPES.FLOAT),i(t,e.RGB8,n.SAMPLER_TYPES.FLOAT),i(t,e.RGB8_SNORM,n.SAMPLER_TYPES.FLOAT),i(t,e.RGB565,n.SAMPLER_TYPES.FLOAT),i(t,e.RGBA4,n.SAMPLER_TYPES.FLOAT),i(t,e.RGB5_A1,n.SAMPLER_TYPES.FLOAT),i(t,e.RGBA8,n.SAMPLER_TYPES.FLOAT),i(t,e.RGBA8_SNORM,n.SAMPLER_TYPES.FLOAT),i(t,e.RGB10_A2,n.SAMPLER_TYPES.FLOAT),i(t,e.RGB10_A2UI,n.SAMPLER_TYPES.FLOAT),i(t,e.SRGB8,n.SAMPLER_TYPES.FLOAT),i(t,e.SRGB8_ALPHA8,n.SAMPLER_TYPES.FLOAT),i(t,e.R16F,n.SAMPLER_TYPES.FLOAT),i(t,e.RG16F,n.SAMPLER_TYPES.FLOAT),i(t,e.RGB16F,n.SAMPLER_TYPES.FLOAT),i(t,e.RGBA16F,n.SAMPLER_TYPES.FLOAT),i(t,e.R32F,n.SAMPLER_TYPES.FLOAT),i(t,e.RG32F,n.SAMPLER_TYPES.FLOAT),i(t,e.RGB32F,n.SAMPLER_TYPES.FLOAT),i(t,e.RGBA32F,n.SAMPLER_TYPES.FLOAT),i(t,e.R11F_G11F_B10F,n.SAMPLER_TYPES.FLOAT),i(t,e.RGB9_E5,n.SAMPLER_TYPES.FLOAT),i(t,e.R8I,n.SAMPLER_TYPES.INT),i(t,e.R8UI,n.SAMPLER_TYPES.UINT),i(t,e.R16I,n.SAMPLER_TYPES.INT),i(t,e.R16UI,n.SAMPLER_TYPES.UINT),i(t,e.R32I,n.SAMPLER_TYPES.INT),i(t,e.R32UI,n.SAMPLER_TYPES.UINT),i(t,e.RG8I,n.SAMPLER_TYPES.INT),i(t,e.RG8UI,n.SAMPLER_TYPES.UINT),i(t,e.RG16I,n.SAMPLER_TYPES.INT),i(t,e.RG16UI,n.SAMPLER_TYPES.UINT),i(t,e.RG32I,n.SAMPLER_TYPES.INT),i(t,e.RG32UI,n.SAMPLER_TYPES.UINT),i(t,e.RGB8I,n.SAMPLER_TYPES.INT),i(t,e.RGB8UI,n.SAMPLER_TYPES.UINT),i(t,e.RGB16I,n.SAMPLER_TYPES.INT),i(t,e.RGB16UI,n.SAMPLER_TYPES.UINT),i(t,e.RGB32I,n.SAMPLER_TYPES.INT),i(t,e.RGB32UI,n.SAMPLER_TYPES.UINT),i(t,e.RGBA8I,n.SAMPLER_TYPES.INT),i(t,e.RGBA8UI,n.SAMPLER_TYPES.UINT),i(t,e.RGBA16I,n.SAMPLER_TYPES.INT),i(t,e.RGBA16UI,n.SAMPLER_TYPES.UINT),i(t,e.RGBA32I,n.SAMPLER_TYPES.INT),i(t,e.RGBA32UI,n.SAMPLER_TYPES.UINT),i(t,e.DEPTH_COMPONENT16,n.SAMPLER_TYPES.FLOAT),i(t,e.DEPTH_COMPONENT24,n.SAMPLER_TYPES.FLOAT),i(t,e.DEPTH_COMPONENT32F,n.SAMPLER_TYPES.FLOAT),i(t,e.DEPTH_STENCIL,n.SAMPLER_TYPES.FLOAT),i(t,e.DEPTH24_STENCIL8,n.SAMPLER_TYPES.FLOAT),i(t,e.DEPTH32F_STENCIL8,n.SAMPLER_TYPES.FLOAT),r=t):(i(a={},e.RGB,n.SAMPLER_TYPES.FLOAT),i(a,e.RGBA,n.SAMPLER_TYPES.FLOAT),i(a,e.ALPHA,n.SAMPLER_TYPES.FLOAT),i(a,e.LUMINANCE,n.SAMPLER_TYPES.FLOAT),i(a,e.LUMINANCE_ALPHA,n.SAMPLER_TYPES.FLOAT),i(a,e.DEPTH_STENCIL,n.SAMPLER_TYPES.FLOAT),r=a),r}},12072:function(e,t,a){"use strict";var i=a(38416).default,n=a(64211);t.mapTypeAndFormatToInternalFormat=function(e){var t,a,r,s,o,l,d,c,u,h,f,p,m;return"WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext?(i(h={},n.TYPES.UNSIGNED_BYTE,(i(t={},n.FORMATS.RGBA,e.RGBA8),i(t,n.FORMATS.RGB,e.RGB8),i(t,n.FORMATS.RG,e.RG8),i(t,n.FORMATS.RED,e.R8),i(t,n.FORMATS.RGBA_INTEGER,e.RGBA8UI),i(t,n.FORMATS.RGB_INTEGER,e.RGB8UI),i(t,n.FORMATS.RG_INTEGER,e.RG8UI),i(t,n.FORMATS.RED_INTEGER,e.R8UI),i(t,n.FORMATS.ALPHA,e.ALPHA),i(t,n.FORMATS.LUMINANCE,e.LUMINANCE),i(t,n.FORMATS.LUMINANCE_ALPHA,e.LUMINANCE_ALPHA),t)),i(h,n.TYPES.BYTE,(i(a={},n.FORMATS.RGBA,e.RGBA8_SNORM),i(a,n.FORMATS.RGB,e.RGB8_SNORM),i(a,n.FORMATS.RG,e.RG8_SNORM),i(a,n.FORMATS.RED,e.R8_SNORM),i(a,n.FORMATS.RGBA_INTEGER,e.RGBA8I),i(a,n.FORMATS.RGB_INTEGER,e.RGB8I),i(a,n.FORMATS.RG_INTEGER,e.RG8I),i(a,n.FORMATS.RED_INTEGER,e.R8I),a)),i(h,n.TYPES.UNSIGNED_SHORT,(i(r={},n.FORMATS.RGBA_INTEGER,e.RGBA16UI),i(r,n.FORMATS.RGB_INTEGER,e.RGB16UI),i(r,n.FORMATS.RG_INTEGER,e.RG16UI),i(r,n.FORMATS.RED_INTEGER,e.R16UI),i(r,n.FORMATS.DEPTH_COMPONENT,e.DEPTH_COMPONENT16),r)),i(h,n.TYPES.SHORT,(i(s={},n.FORMATS.RGBA_INTEGER,e.RGBA16I),i(s,n.FORMATS.RGB_INTEGER,e.RGB16I),i(s,n.FORMATS.RG_INTEGER,e.RG16I),i(s,n.FORMATS.RED_INTEGER,e.R16I),s)),i(h,n.TYPES.UNSIGNED_INT,(i(o={},n.FORMATS.RGBA_INTEGER,e.RGBA32UI),i(o,n.FORMATS.RGB_INTEGER,e.RGB32UI),i(o,n.FORMATS.RG_INTEGER,e.RG32UI),i(o,n.FORMATS.RED_INTEGER,e.R32UI),i(o,n.FORMATS.DEPTH_COMPONENT,e.DEPTH_COMPONENT24),o)),i(h,n.TYPES.INT,(i(l={},n.FORMATS.RGBA_INTEGER,e.RGBA32I),i(l,n.FORMATS.RGB_INTEGER,e.RGB32I),i(l,n.FORMATS.RG_INTEGER,e.RG32I),i(l,n.FORMATS.RED_INTEGER,e.R32I),l)),i(h,n.TYPES.FLOAT,(i(d={},n.FORMATS.RGBA,e.RGBA32F),i(d,n.FORMATS.RGB,e.RGB32F),i(d,n.FORMATS.RG,e.RG32F),i(d,n.FORMATS.RED,e.R32F),i(d,n.FORMATS.DEPTH_COMPONENT,e.DEPTH_COMPONENT32F),d)),i(h,n.TYPES.HALF_FLOAT,(i(c={},n.FORMATS.RGBA,e.RGBA16F),i(c,n.FORMATS.RGB,e.RGB16F),i(c,n.FORMATS.RG,e.RG16F),i(c,n.FORMATS.RED,e.R16F),c)),i(h,n.TYPES.UNSIGNED_SHORT_5_6_5,i({},n.FORMATS.RGB,e.RGB565)),i(h,n.TYPES.UNSIGNED_SHORT_4_4_4_4,i({},n.FORMATS.RGBA,e.RGBA4)),i(h,n.TYPES.UNSIGNED_SHORT_5_5_5_1,i({},n.FORMATS.RGBA,e.RGB5_A1)),i(h,n.TYPES.UNSIGNED_INT_2_10_10_10_REV,(i(u={},n.FORMATS.RGBA,e.RGB10_A2),i(u,n.FORMATS.RGBA_INTEGER,e.RGB10_A2UI),u)),i(h,n.TYPES.UNSIGNED_INT_10F_11F_11F_REV,i({},n.FORMATS.RGB,e.R11F_G11F_B10F)),i(h,n.TYPES.UNSIGNED_INT_5_9_9_9_REV,i({},n.FORMATS.RGB,e.RGB9_E5)),i(h,n.TYPES.UNSIGNED_INT_24_8,i({},n.FORMATS.DEPTH_STENCIL,e.DEPTH24_STENCIL8)),i(h,n.TYPES.FLOAT_32_UNSIGNED_INT_24_8_REV,i({},n.FORMATS.DEPTH_STENCIL,e.DEPTH32F_STENCIL8)),m=h):(i(p={},n.TYPES.UNSIGNED_BYTE,(i(f={},n.FORMATS.RGBA,e.RGBA),i(f,n.FORMATS.RGB,e.RGB),i(f,n.FORMATS.ALPHA,e.ALPHA),i(f,n.FORMATS.LUMINANCE,e.LUMINANCE),i(f,n.FORMATS.LUMINANCE_ALPHA,e.LUMINANCE_ALPHA),f)),i(p,n.TYPES.UNSIGNED_SHORT_5_6_5,i({},n.FORMATS.RGB,e.RGB)),i(p,n.TYPES.UNSIGNED_SHORT_4_4_4_4,i({},n.FORMATS.RGBA,e.RGBA)),i(p,n.TYPES.UNSIGNED_SHORT_5_5_5_1,i({},n.FORMATS.RGBA,e.RGBA)),m=p),m}},64162:function(e,t,a){"use strict";var i=a(56690).default,n=a(89728).default,r=a(35491),s=function(){function e(){i(this,e),this._glTransformFeedbacks={},this.buffers=[],this.disposeRunner=new r.Runner("disposeTransformFeedback")}return n(e,[{key:"bindBuffer",value:function(e,t){this.buffers[e]=t}},{key:"destroy",value:function(){this.disposeRunner.emit(this,!1)}}]),e}();t.TransformFeedback=s},99166:function(e,t,a){"use strict";var i=a(56690).default,n=a(89728).default,r=a(59727),s=function(){function e(t){i(this,e),this.renderer=t}return n(e,[{key:"contextChange",value:function(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}},{key:"bind",value:function(e){var t=this.gl,a=this.CONTEXT_UID,i=e._glTransformFeedbacks[a]||this.createGLTransformFeedback(e);t.bindTransformFeedback(t.TRANSFORM_FEEDBACK,i)}},{key:"unbind",value:function(){var e=this.gl;e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,null)}},{key:"beginTransformFeedback",value:function(e,t){var a=this.gl,i=this.renderer;t&&i.shader.bind(t),a.beginTransformFeedback(e)}},{key:"endTransformFeedback",value:function(){this.gl.endTransformFeedback()}},{key:"createGLTransformFeedback",value:function(e){var t=this.gl,a=this.renderer,i=this.CONTEXT_UID,n=t.createTransformFeedback();e._glTransformFeedbacks[i]=n,t.bindTransformFeedback(t.TRANSFORM_FEEDBACK,n);for(var r=0;r<e.buffers.length;r++){var s=e.buffers[r];s&&(a.buffer.update(s),s._glBuffers[i].refCount++,t.bindBufferBase(t.TRANSFORM_FEEDBACK_BUFFER,r,s._glBuffers[i].buffer||null))}return t.bindTransformFeedback(t.TRANSFORM_FEEDBACK,null),e.disposeRunner.add(this),n}},{key:"disposeTransformFeedback",value:function(e,t){var a=e._glTransformFeedbacks[this.CONTEXT_UID],i=this.gl;e.disposeRunner.remove(this);var n=this.renderer.buffer;if(n)for(var r=0;r<e.buffers.length;r++){var s=e.buffers[r];if(s){var o=s._glBuffers[this.CONTEXT_UID];o&&(o.refCount--,0===o.refCount&&!t&&n.dispose(s,t))}}a&&(t||i.deleteTransformFeedback(a),delete e._glTransformFeedbacks[this.CONTEXT_UID])}},{key:"destroy",value:function(){this.renderer=null}}]),e}();s.extension={type:r.ExtensionType.RendererSystem,name:"transformFeedback"},r.extensions.add(s),t.TransformFeedbackSystem=s},65993:function(e,t,a){"use strict";var i=a(89728).default,n=a(56690).default,r=a(61655).default,s=a(26389).default,o=function(e){r(a,e);var t=s(a);function a(){var e;return n(this,a),(e=t.call(this)).addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2]),e}return i(a)}(a(35972).Geometry);t.Quad=o},35255:function(e,t,a){"use strict";var i=a(56690).default,n=a(89728).default,r=a(61655).default,s=a(26389).default,o=a(3297),l=function(e){r(a,e);var t=s(a);function a(){var e;return i(this,a),(e=t.call(this)).vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),e.uvs=new Float32Array([0,0,1,0,1,1,0,1]),e.vertexBuffer=new o.Buffer(e.vertices),e.uvBuffer=new o.Buffer(e.uvs),e.addAttribute("aVertexPosition",e.vertexBuffer).addAttribute("aTextureCoord",e.uvBuffer).addIndex([0,1,2,0,2,3]),e}return n(a,[{key:"map",value:function(e,t){var a=0,i=0;return this.uvs[0]=a,this.uvs[1]=i,this.uvs[2]=a+t.width/e.width,this.uvs[3]=i,this.uvs[4]=a+t.width/e.width,this.uvs[5]=i+t.height/e.height,this.uvs[6]=a,this.uvs[7]=i+t.height/e.height,a=t.x,i=t.y,this.vertices[0]=a,this.vertices[1]=i,this.vertices[2]=a+t.width,this.vertices[3]=i,this.vertices[4]=a+t.width,this.vertices[5]=i+t.height,this.vertices[6]=a,this.vertices[7]=i+t.height,this.invalidate(),this}},{key:"invalidate",value:function(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this}}]),a}(a(35972).Geometry);t.QuadUv=l},67748:function(e,t,a){"use strict";var i=a(56690).default,n=a(89728).default,r=a(59727),s=a(57223),o=a(5884),l=function(){function e(t){i(this,e),this.renderer=t}return n(e,[{key:"init",value:function(e){this.screen=new s.Rectangle(0,0,e.width,e.height),this.element=e.view||o.settings.ADAPTER.createCanvas(),this.resolution=e.resolution||o.settings.RESOLUTION,this.autoDensity=!!e.autoDensity}},{key:"resizeView",value:function(e,t){this.element.width=Math.round(e*this.resolution),this.element.height=Math.round(t*this.resolution);var a=this.element.width/this.resolution,i=this.element.height/this.resolution;this.screen.width=a,this.screen.height=i,this.autoDensity&&(this.element.style.width="".concat(a,"px"),this.element.style.height="".concat(i,"px")),this.renderer.emit("resize",a,i),this.renderer.runners.resize.emit(this.screen.width,this.screen.height)}},{key:"destroy",value:function(e){var t;e&&null!==(t=this.element.parentNode)&&void 0!==t&&t.removeChild(this.element),this.renderer=null,this.element=null,this.screen=null}}]),e}();l.defaultOptions={width:800,height:600,resolution:void 0,autoDensity:!1},l.extension={type:[r.ExtensionType.RendererSystem,r.ExtensionType.CanvasRendererSystem],name:"_view"},r.extensions.add(l),t.ViewSystem=l},17254:function(e,t,a){"use strict";var i=a(56690).default,n=a(89728).default,r=a(73629),s=function(){function e(){i(this,e),this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}return n(e,[{key:"isEmpty",value:function(){return this.minX>this.maxX||this.minY>this.maxY}},{key:"clear",value:function(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}},{key:"getRectangle",value:function(e){return this.minX>this.maxX||this.minY>this.maxY?r.Rectangle.EMPTY:((e=e||new r.Rectangle(0,0,1,1)).x=this.minX,e.y=this.minY,e.width=this.maxX-this.minX,e.height=this.maxY-this.minY,e)}},{key:"addPoint",value:function(e){this.minX=Math.min(this.minX,e.x),this.maxX=Math.max(this.maxX,e.x),this.minY=Math.min(this.minY,e.y),this.maxY=Math.max(this.maxY,e.y)}},{key:"addPointMatrix",value:function(e,t){var a=e.a,i=e.b,n=e.c,r=e.d,s=e.tx,o=e.ty,l=a*t.x+n*t.y+s,d=i*t.x+r*t.y+o;this.minX=Math.min(this.minX,l),this.maxX=Math.max(this.maxX,l),this.minY=Math.min(this.minY,d),this.maxY=Math.max(this.maxY,d)}},{key:"addQuad",value:function(e){var t=this.minX,a=this.minY,i=this.maxX,n=this.maxY,r=e[0],s=e[1];t=r<t?r:t,a=s<a?s:a,i=r>i?r:i,n=s>n?s:n,t=(r=e[2])<t?r:t,a=(s=e[3])<a?s:a,i=r>i?r:i,n=s>n?s:n,t=(r=e[4])<t?r:t,a=(s=e[5])<a?s:a,i=r>i?r:i,n=s>n?s:n,t=(r=e[6])<t?r:t,a=(s=e[7])<a?s:a,i=r>i?r:i,n=s>n?s:n,this.minX=t,this.minY=a,this.maxX=i,this.maxY=n}},{key:"addFrame",value:function(e,t,a,i,n){this.addFrameMatrix(e.worldTransform,t,a,i,n)}},{key:"addFrameMatrix",value:function(e,t,a,i,n){var r=e.a,s=e.b,o=e.c,l=e.d,d=e.tx,c=e.ty,u=this.minX,h=this.minY,f=this.maxX,p=this.maxY,m=r*t+o*a+d,g=s*t+l*a+c;u=m<u?m:u,h=g<h?g:h,f=m>f?m:f,p=g>p?g:p,u=(m=r*i+o*a+d)<u?m:u,h=(g=s*i+l*a+c)<h?g:h,f=m>f?m:f,p=g>p?g:p,u=(m=r*t+o*n+d)<u?m:u,h=(g=s*t+l*n+c)<h?g:h,f=m>f?m:f,p=g>p?g:p,u=(m=r*i+o*n+d)<u?m:u,h=(g=s*i+l*n+c)<h?g:h,f=m>f?m:f,p=g>p?g:p,this.minX=u,this.minY=h,this.maxX=f,this.maxY=p}},{key:"addVertexData",value:function(e,t,a){for(var i=this.minX,n=this.minY,r=this.maxX,s=this.maxY,o=t;o<a;o+=2){var l=e[o],d=e[o+1];i=l<i?l:i,n=d<n?d:n,r=l>r?l:r,s=d>s?d:s}this.minX=i,this.minY=n,this.maxX=r,this.maxY=s}},{key:"addVertices",value:function(e,t,a,i){this.addVerticesMatrix(e.worldTransform,t,a,i)}},{key:"addVerticesMatrix",value:function(e,t,a,i){for(var n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:n,s=e.a,o=e.b,l=e.c,d=e.d,c=e.tx,u=e.ty,h=this.minX,f=this.minY,p=this.maxX,m=this.maxY,g=a;g<i;g+=2){var v=t[g],b=t[g+1],y=s*v+l*b+c,x=d*b+o*v+u;h=Math.min(h,y-n),p=Math.max(p,y+n),f=Math.min(f,x-r),m=Math.max(m,x+r)}this.minX=h,this.minY=f,this.maxX=p,this.maxY=m}},{key:"addBounds",value:function(e){var t=this.minX,a=this.minY,i=this.maxX,n=this.maxY;this.minX=e.minX<t?e.minX:t,this.minY=e.minY<a?e.minY:a,this.maxX=e.maxX>i?e.maxX:i,this.maxY=e.maxY>n?e.maxY:n}},{key:"addBoundsMask",value:function(e,t){var a=e.minX>t.minX?e.minX:t.minX,i=e.minY>t.minY?e.minY:t.minY,n=e.maxX<t.maxX?e.maxX:t.maxX,r=e.maxY<t.maxY?e.maxY:t.maxY;if(a<=n&&i<=r){var s=this.minX,o=this.minY,l=this.maxX,d=this.maxY;this.minX=a<s?a:s,this.minY=i<o?i:o,this.maxX=n>l?n:l,this.maxY=r>d?r:d}}},{key:"addBoundsMatrix",value:function(e,t){this.addFrameMatrix(t,e.minX,e.minY,e.maxX,e.maxY)}},{key:"addBoundsArea",value:function(e,t){var a=e.minX>t.x?e.minX:t.x,i=e.minY>t.y?e.minY:t.y,n=e.maxX<t.x+t.width?e.maxX:t.x+t.width,r=e.maxY<t.y+t.height?e.maxY:t.y+t.height;if(a<=n&&i<=r){var s=this.minX,o=this.minY,l=this.maxX,d=this.maxY;this.minX=a<s?a:s,this.minY=i<o?i:o,this.maxX=n>l?n:l,this.maxY=r>d?r:d}}},{key:"pad",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;this.isEmpty()||(this.minX-=e,this.maxX+=e,this.minY-=t,this.maxY+=t)}},{key:"addFramePad",value:function(e,t,a,i,n,r){e-=n,t-=r,a+=n,i+=r,this.minX=this.minX<e?this.minX:e,this.maxX=this.maxX>a?this.maxX:a,this.minY=this.minY<t?this.minY:t,this.maxY=this.maxY>i?this.maxY:i}}]),e}();t.Bounds=s},44440:function(e,t,a){"use strict";var i=a(56690).default,n=a(89728).default,r=a(41588).default,s=a(73808).default,o=a(61655).default,l=a(26389).default,d=a(73629),c=a(40761),u=new d.Matrix;function h(e,t){return e.zIndex===t.zIndex?e._lastSortedIndex-t._lastSortedIndex:e.zIndex-t.zIndex}var f=function(e){o(a,e);var t=l(a);function a(){var e;return i(this,a),(e=t.call(this)).children=[],e.sortableChildren=a.defaultSortableChildren,e.sortDirty=!1,e}return n(a,[{key:"onChildrenChange",value:function(e){}},{key:"addChild",value:function(){if(arguments.length>1)for(var e=0;e<arguments.length;e++)this.addChild(e<0||arguments.length<=e?void 0:arguments[e]);else{var t=arguments.length<=0?void 0:arguments[0];t.parent&&t.parent.removeChild(t),t.parent=this,this.sortDirty=!0,t.transform._parentID=-1,this.children.push(t),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",t,this,this.children.length-1),t.emit("added",this)}return arguments.length<=0?void 0:arguments[0]}},{key:"addChildAt",value:function(e,t){if(t<0||t>this.children.length)throw new Error("".concat(e,"addChildAt: The index ").concat(t," supplied is out of bounds ").concat(this.children.length));return e.parent&&e.parent.removeChild(e),e.parent=this,this.sortDirty=!0,e.transform._parentID=-1,this.children.splice(t,0,e),this._boundsID++,this.onChildrenChange(t),e.emit("added",this),this.emit("childAdded",e,this,t),e}},{key:"swapChildren",value:function(e,t){if(e!==t){var a=this.getChildIndex(e),i=this.getChildIndex(t);this.children[a]=t,this.children[i]=e,this.onChildrenChange(a<i?a:i)}}},{key:"getChildIndex",value:function(e){var t=this.children.indexOf(e);if(-1===t)throw new Error("The supplied DisplayObject must be a child of the caller");return t}},{key:"setChildIndex",value:function(e,t){if(t<0||t>=this.children.length)throw new Error("The index ".concat(t," supplied is out of bounds ").concat(this.children.length));var a=this.getChildIndex(e);d.utils.removeItems(this.children,a,1),this.children.splice(t,0,e),this.onChildrenChange(t)}},{key:"getChildAt",value:function(e){if(e<0||e>=this.children.length)throw new Error("getChildAt: Index (".concat(e,") does not exist."));return this.children[e]}},{key:"removeChild",value:function(){if(arguments.length>1)for(var e=0;e<arguments.length;e++)this.removeChild(e<0||arguments.length<=e?void 0:arguments[e]);else{var t=arguments.length<=0?void 0:arguments[0],a=this.children.indexOf(t);if(-1===a)return null;t.parent=null,t.transform._parentID=-1,d.utils.removeItems(this.children,a,1),this._boundsID++,this.onChildrenChange(a),t.emit("removed",this),this.emit("childRemoved",t,this,a)}return arguments.length<=0?void 0:arguments[0]}},{key:"removeChildAt",value:function(e){var t=this.getChildAt(e);return t.parent=null,t.transform._parentID=-1,d.utils.removeItems(this.children,e,1),this._boundsID++,this.onChildrenChange(e),t.emit("removed",this),this.emit("childRemoved",t,this,e),t}},{key:"removeChildren",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.children.length,i=t,n=a-i;if(n>0&&n<=a){e=this.children.splice(i,n);for(var r=0;r<e.length;++r)e[r].parent=null,e[r].transform&&(e[r].transform._parentID=-1);this._boundsID++,this.onChildrenChange(t);for(var s=0;s<e.length;++s)e[s].emit("removed",this),this.emit("childRemoved",e[s],this,s);return e}if(0===n&&0===this.children.length)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")}},{key:"sortChildren",value:function(){for(var e=!1,t=0,a=this.children.length;t<a;++t){var i=this.children[t];i._lastSortedIndex=t,!e&&0!==i.zIndex&&(e=!0)}e&&this.children.length>1&&this.children.sort(h),this.sortDirty=!1}},{key:"updateTransform",value:function(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var e=0,t=this.children.length;e<t;++e){var a=this.children[e];a.visible&&a.updateTransform()}}},{key:"calculateBounds",value:function(){this._bounds.clear(),this._calculateBounds();for(var e=0;e<this.children.length;e++){var t=this.children[e];if(t.visible&&t.renderable)if(t.calculateBounds(),t._mask){var a=t._mask.isMaskData?t._mask.maskObject:t._mask;a?(a.calculateBounds(),this._bounds.addBoundsMask(t._bounds,a._bounds)):this._bounds.addBounds(t._bounds)}else t.filterArea?this._bounds.addBoundsArea(t._bounds,t.filterArea):this._bounds.addBounds(t._bounds)}this._bounds.updateID=this._boundsID}},{key:"getLocalBounds",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=r(s(a.prototype),"getLocalBounds",this).call(this,e);if(!t)for(var n=0,o=this.children.length;n<o;++n){var l=this.children[n];l.visible&&l.updateTransform()}return i}},{key:"_calculateBounds",value:function(){}},{key:"_renderWithCulling",value:function(e){var t=e.renderTexture.sourceFrame;if(t.width>0&&t.height>0){var i,n;this.cullArea?(i=this.cullArea,n=this.worldTransform):this._render!==a.prototype._render&&(i=this.getBounds(!0));var r=e.projection.transform;if(r&&(n?(n=u.copyFrom(n)).prepend(r):n=r),i&&t.intersects(i,n))this._render(e);else if(this.cullArea)return;for(var s=0,o=this.children.length;s<o;++s){var l=this.children[s],d=l.cullable;l.cullable=d||!this.cullArea,l.render(e),l.cullable=d}}}},{key:"render",value:function(e){var t;if(this.visible&&!(this.worldAlpha<=0)&&this.renderable)if(this._mask||null!==(t=this.filters)&&void 0!==t&&t.length)this.renderAdvanced(e);else if(this.cullable)this._renderWithCulling(e);else{this._render(e);for(var a=0,i=this.children.length;a<i;++a)this.children[a].render(e)}}},{key:"renderAdvanced",value:function(e){var t,a,i,n=this.filters,r=this._mask;if(n){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var s=0;s<n.length;s++)n[s].enabled&&this._enabledFilters.push(n[s])}var o=n&&(null===(t=this._enabledFilters)||void 0===t?void 0:t.length)||r&&(!r.isMaskData||r.enabled&&(r.autoDetect||r.type!==d.MASK_TYPES.NONE));if(o&&e.batch.flush(),n&&null!==(a=this._enabledFilters)&&void 0!==a&&a.length&&e.filter.push(this,this._enabledFilters),r&&e.mask.push(this,this._mask),this.cullable)this._renderWithCulling(e);else{this._render(e);for(var l=0,c=this.children.length;l<c;++l)this.children[l].render(e)}o&&e.batch.flush(),r&&e.mask.pop(this),n&&(null===(i=this._enabledFilters)||void 0===i?void 0:i.length)&&e.filter.pop()}},{key:"_render",value:function(e){}},{key:"destroy",value:function(e){r(s(a.prototype),"destroy",this).call(this),this.sortDirty=!1;var t="boolean"==typeof e?e:null===e||void 0===e?void 0:e.children,i=this.removeChildren(0,this.children.length);if(t)for(var n=0;n<i.length;++n)i[n].destroy(e)}},{key:"width",get:function(){return this.scale.x*this.getLocalBounds().width},set:function(e){var t=this.getLocalBounds().width;this.scale.x=0!==t?e/t:1,this._width=e}},{key:"height",get:function(){return this.scale.y*this.getLocalBounds().height},set:function(e){var t=this.getLocalBounds().height;this.scale.y=0!==t?e/t:1,this._height=e}}]),a}(c.DisplayObject);f.defaultSortableChildren=!1;var p=f;p.prototype.containerUpdateTransform=p.prototype.updateTransform,t.Container=p},40761:function(e,t,a){"use strict";var i=a(56690).default,n=a(89728).default,r=a(61655).default,s=a(26389).default,o=a(73629),l=a(17254),d=function(e){r(a,e);var t=s(a);function a(){var e;return i(this,a),(e=t.call(this)).tempDisplayObjectParent=null,e.transform=new o.Transform,e.alpha=1,e.visible=!0,e.renderable=!0,e.cullable=!1,e.cullArea=null,e.parent=null,e.worldAlpha=1,e._lastSortedIndex=0,e._zIndex=0,e.filterArea=null,e.filters=null,e._enabledFilters=null,e._bounds=new l.Bounds,e._localBounds=null,e._boundsID=0,e._boundsRect=null,e._localBoundsRect=null,e._mask=null,e._maskRefCount=0,e._destroyed=!1,e.isSprite=!1,e.isMask=!1,e}return n(a,[{key:"destroyed",get:function(){return this._destroyed}},{key:"_recursivePostUpdateTransform",value:function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)}},{key:"updateTransform",value:function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha}},{key:"getBounds",value:function(e,t){return e||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),t||(this._boundsRect||(this._boundsRect=new o.Rectangle),t=this._boundsRect),this._bounds.getRectangle(t)}},{key:"getLocalBounds",value:function(e){var t;e||(this._localBoundsRect||(this._localBoundsRect=new o.Rectangle),e=this._localBoundsRect),this._localBounds||(this._localBounds=new l.Bounds);var a=this.transform,i=this.parent;this.parent=null,this._tempDisplayObjectParent.worldAlpha=null!==(t=null===i||void 0===i?void 0:i.worldAlpha)&&void 0!==t?t:1,this.transform=this._tempDisplayObjectParent.transform;var n=this._bounds,r=this._boundsID;this._bounds=this._localBounds;var s=this.getBounds(!1,e);return this.parent=i,this.transform=a,this._bounds=n,this._bounds.updateID+=this._boundsID-r,s}},{key:"toGlobal",value:function(e,t){return arguments.length>2&&void 0!==arguments[2]&&arguments[2]||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(e,t)}},{key:"toLocal",value:function(e,t,a,i){return t&&(e=t.toGlobal(e,a,i)),i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(e,a)}},{key:"setParent",value:function(e){if(!e||!e.addChild)throw new Error("setParent: Argument must be a Container");return e.addChild(this),e}},{key:"removeFromParent",value:function(){var e;null===(e=this.parent)||void 0===e||e.removeChild(this)}},{key:"setTransform",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0;return this.position.x=e,this.position.y=t,this.scale.x=a||1,this.scale.y=i||1,this.rotation=n,this.skew.x=r,this.skew.y=s,this.pivot.x=o,this.pivot.y=l,this}},{key:"destroy",value:function(e){this.removeFromParent(),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.eventMode="auto",this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()}},{key:"_tempDisplayObjectParent",get:function(){return null===this.tempDisplayObjectParent&&(this.tempDisplayObjectParent=new c),this.tempDisplayObjectParent}},{key:"enableTempParent",value:function(){var e=this.parent;return this.parent=this._tempDisplayObjectParent,e}},{key:"disableTempParent",value:function(e){this.parent=e}},{key:"x",get:function(){return this.position.x},set:function(e){this.transform.position.x=e}},{key:"y",get:function(){return this.position.y},set:function(e){this.transform.position.y=e}},{key:"worldTransform",get:function(){return this.transform.worldTransform}},{key:"localTransform",get:function(){return this.transform.localTransform}},{key:"position",get:function(){return this.transform.position},set:function(e){this.transform.position.copyFrom(e)}},{key:"scale",get:function(){return this.transform.scale},set:function(e){this.transform.scale.copyFrom(e)}},{key:"pivot",get:function(){return this.transform.pivot},set:function(e){this.transform.pivot.copyFrom(e)}},{key:"skew",get:function(){return this.transform.skew},set:function(e){this.transform.skew.copyFrom(e)}},{key:"rotation",get:function(){return this.transform.rotation},set:function(e){this.transform.rotation=e}},{key:"angle",get:function(){return this.transform.rotation*o.RAD_TO_DEG},set:function(e){this.transform.rotation=e*o.DEG_TO_RAD}},{key:"zIndex",get:function(){return this._zIndex},set:function(e){this._zIndex!==e&&(this._zIndex=e,this.parent&&(this.parent.sortDirty=!0))}},{key:"worldVisible",get:function(){var e=this;do{if(!e.visible)return!1;e=e.parent}while(e);return!0}},{key:"mask",get:function(){return this._mask},set:function(e){if(this._mask!==e){if(this._mask){var t=this._mask.isMaskData?this._mask.maskObject:this._mask;t&&(t._maskRefCount--,0===t._maskRefCount&&(t.renderable=!0,t.isMask=!1))}if(this._mask=e,this._mask){var a=this._mask.isMaskData?this._mask.maskObject:this._mask;a&&(0===a._maskRefCount&&(a.renderable=!1,a.isMask=!0),a._maskRefCount++)}}}}],[{key:"mixin",value:function(e){for(var t=Object.keys(e),i=0;i<t.length;++i){var n=t[i];Object.defineProperty(a.prototype,n,Object.getOwnPropertyDescriptor(e,n))}}}]),a}(o.utils.EventEmitter),c=function(e){r(a,e);var t=s(a);function a(){var e;return i(this,a),(e=t.apply(this,arguments)).sortDirty=null,e}return n(a)}(d);d.prototype.displayObjectUpdateTransform=d.prototype.updateTransform,t.DisplayObject=d,t.TemporaryDisplayObject=c},86889:function(e,t,a){"use strict";a(75379);var i=a(17254),n=a(44440),r=a(40761);t.Bounds=i.Bounds,t.Container=n.Container,t.DisplayObject=r.DisplayObject,t.TemporaryDisplayObject=r.TemporaryDisplayObject},75379:function(e,t,a){"use strict";var i=a(73629),n=a(44440);Object.defineProperties(i.settings,{SORTABLE_CHILDREN:{get:function(){return n.Container.defaultSortableChildren},set:function(e){i.utils.deprecation("7.1.0","settings.SORTABLE_CHILDREN is deprecated, use Container.defaultSortableChildren"),n.Container.defaultSortableChildren=e}}}),Object.defineProperty(t,"settings",{enumerable:!0,get:function(){return i.settings}})},7756:function(e,t,a){"use strict";var i=a(56690).default,n=a(89728).default,r=a(73629),s=a(62485),o=a(48336),l=a(84532),d=a(89717),c=new r.Point,u=new r.Point,h=function(){function e(t){i(this,e),this.dispatch=new r.utils.EventEmitter,this.moveOnAll=!1,this.enableGlobalMoveEvents=!0,this.mappingState={trackingData:{}},this.eventPool=new Map,this._allInteractiveElements=[],this._hitElements=[],this._isPointerMoveEvent=!1,this.rootTarget=t,this.hitPruneFn=this.hitPruneFn.bind(this),this.hitTestFn=this.hitTestFn.bind(this),this.mapPointerDown=this.mapPointerDown.bind(this),this.mapPointerMove=this.mapPointerMove.bind(this),this.mapPointerOut=this.mapPointerOut.bind(this),this.mapPointerOver=this.mapPointerOver.bind(this),this.mapPointerUp=this.mapPointerUp.bind(this),this.mapPointerUpOutside=this.mapPointerUpOutside.bind(this),this.mapWheel=this.mapWheel.bind(this),this.mappingTable={},this.addEventMapping("pointerdown",this.mapPointerDown),this.addEventMapping("pointermove",this.mapPointerMove),this.addEventMapping("pointerout",this.mapPointerOut),this.addEventMapping("pointerleave",this.mapPointerOut),this.addEventMapping("pointerover",this.mapPointerOver),this.addEventMapping("pointerup",this.mapPointerUp),this.addEventMapping("pointerupoutside",this.mapPointerUpOutside),this.addEventMapping("wheel",this.mapWheel)}return n(e,[{key:"addEventMapping",value:function(e,t){this.mappingTable[e]||(this.mappingTable[e]=[]),this.mappingTable[e].push({fn:t,priority:0}),this.mappingTable[e].sort((function(e,t){return e.priority-t.priority}))}},{key:"dispatchEvent",value:function(e,t){e.propagationStopped=!1,e.propagationImmediatelyStopped=!1,this.propagate(e,t),this.dispatch.emit(t||e.type,e)}},{key:"mapEvent",value:function(e){if(this.rootTarget){var t=this.mappingTable[e.type];if(t)for(var a=0,i=t.length;a<i;a++)t[a].fn(e);else console.warn("[EventBoundary]: Event mapping not defined for ".concat(e.type))}}},{key:"hitTest",value:function(e,t){s.EventsTicker.pauseUpdate=!0;var a=this[this._isPointerMoveEvent&&this.enableGlobalMoveEvents?"hitTestMoveRecursive":"hitTestRecursive"](this.rootTarget,this.rootTarget.eventMode,c.set(e,t),this.hitTestFn,this.hitPruneFn);return a&&a[0]}},{key:"propagate",value:function(e,t){if(e.target){var a=e.composedPath();e.eventPhase=e.CAPTURING_PHASE;for(var i=0,n=a.length-1;i<n;i++)if(e.currentTarget=a[i],this.notifyTarget(e,t),e.propagationStopped||e.propagationImmediatelyStopped)return;if(e.eventPhase=e.AT_TARGET,e.currentTarget=e.target,this.notifyTarget(e,t),!e.propagationStopped&&!e.propagationImmediatelyStopped){e.eventPhase=e.BUBBLING_PHASE;for(var r=a.length-2;r>=0;r--)if(e.currentTarget=a[r],this.notifyTarget(e,t),e.propagationStopped||e.propagationImmediatelyStopped)return}}}},{key:"all",value:function(e,t){var a=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this._allInteractiveElements;if(0!==i.length){e.eventPhase=e.BUBBLING_PHASE;for(var n=Array.isArray(t)?t:[t],r=function(t){n.forEach((function(n){e.currentTarget=i[t],a.notifyTarget(e,n)}))},s=i.length-1;s>=0;s--)r(s)}}},{key:"propagationPath",value:function(e){for(var t=[e],a=0;a<2048&&e!==this.rootTarget;a++){if(!e.parent)throw new Error("Cannot find propagation path to disconnected target");t.push(e.parent),e=e.parent}return t.reverse(),t}},{key:"hitTestMoveRecursive",value:function(e,t,a,i,n){var r=arguments.length>5&&void 0!==arguments[5]&&arguments[5],o=!1;if(this._interactivePrune(e))return null;if(("dynamic"===e.eventMode||"dynamic"===t)&&(s.EventsTicker.pauseUpdate=!1),e.interactiveChildren&&e.children)for(var l=e.children,d=l.length-1;d>=0;d--){var c=l[d],u=this.hitTestMoveRecursive(c,this._isInteractive(t)?t:c.eventMode,a,i,n,r||n(e,a));if(u){if(u.length>0&&!u[u.length-1].parent)continue;var h=e.isInteractive();(u.length>0||h)&&(h&&this._allInteractiveElements.push(e),u.push(e)),0===this._hitElements.length&&(this._hitElements=u),o=!0}}var f=this._isInteractive(t),p=e.isInteractive();return f&&p&&this._allInteractiveElements.push(e),r||this._hitElements.length>0?null:o?this._hitElements:f&&!n(e,a)&&i(e,a)?p?[e]:[]:null}},{key:"hitTestRecursive",value:function(e,t,a,i,n){if(this._interactivePrune(e)||n(e,a))return null;if(("dynamic"===e.eventMode||"dynamic"===t)&&(s.EventsTicker.pauseUpdate=!1),e.interactiveChildren&&e.children)for(var r=e.children,o=r.length-1;o>=0;o--){var l=r[o],d=this.hitTestRecursive(l,this._isInteractive(t)?t:l.eventMode,a,i,n);if(d){if(d.length>0&&!d[d.length-1].parent)continue;var c=e.isInteractive();return(d.length>0||c)&&d.push(e),d}}var u=this._isInteractive(t),h=e.isInteractive();return u&&i(e,a)?h?[e]:[]:null}},{key:"_isInteractive",value:function(e){return"static"===e||"dynamic"===e}},{key:"_interactivePrune",value:function(e){return!(e&&!e.isMask&&e.visible&&e.renderable&&"none"!==e.eventMode&&("passive"!==e.eventMode||e.interactiveChildren)&&!e.isMask)}},{key:"hitPruneFn",value:function(e,t){if(e.hitArea&&(e.worldTransform.applyInverse(t,u),!e.hitArea.contains(u.x,u.y)))return!0;if(e._mask){var a,i=e._mask.isMaskData?e._mask.maskObject:e._mask;if(i&&(null===(a=i.containsPoint)||void 0===a||!a.call(i,t)))return!0}return!1}},{key:"hitTestFn",value:function(e,t){return"passive"!==e.eventMode&&(!!e.hitArea||!!e.containsPoint&&e.containsPoint(t))}},{key:"notifyTarget",value:function(e,t){var a,i,n;t=null!==(a=t)&&void 0!==a?a:e.type;var r="on".concat(t);null===(i=(n=e.currentTarget)[r])||void 0===i||i.call(n,e);var s=e.eventPhase===e.CAPTURING_PHASE||e.eventPhase===e.AT_TARGET?"".concat(t,"capture"):t;this.notifyListeners(e,s),e.eventPhase===e.AT_TARGET&&this.notifyListeners(e,t)}},{key:"mapPointerDown",value:function(e){if(e instanceof l.FederatedPointerEvent){var t=this.createPointerEvent(e);if(this.dispatchEvent(t,"pointerdown"),"touch"===t.pointerType)this.dispatchEvent(t,"touchstart");else if("mouse"===t.pointerType||"pen"===t.pointerType){var a=2===t.button;this.dispatchEvent(t,a?"rightdown":"mousedown")}this.trackingData(e.pointerId).pressTargetsByButton[e.button]=t.composedPath(),this.freeEvent(t)}else console.warn("EventBoundary cannot map a non-pointer event as a pointer event")}},{key:"mapPointerMove",value:function(e){var t,a,i;if(e instanceof l.FederatedPointerEvent){this._allInteractiveElements.length=0,this._hitElements.length=0,this._isPointerMoveEvent=!0;var n=this.createPointerEvent(e);this._isPointerMoveEvent=!1;var r="mouse"===n.pointerType||"pen"===n.pointerType,s=this.trackingData(e.pointerId),o=this.findMountedTarget(s.overTargets);if((null===(t=s.overTargets)||void 0===t?void 0:t.length)>0&&o!==n.target){var d="mousemove"===e.type?"mouseout":"pointerout",c=this.createPointerEvent(e,d,o);if(this.dispatchEvent(c,"pointerout"),r&&this.dispatchEvent(c,"mouseout"),!n.composedPath().includes(o)){var u=this.createPointerEvent(e,"pointerleave",o);for(u.eventPhase=u.AT_TARGET;u.target&&!n.composedPath().includes(u.target);)u.currentTarget=u.target,this.notifyTarget(u),r&&this.notifyTarget(u,"mouseleave"),u.target=u.target.parent;this.freeEvent(u)}this.freeEvent(c)}if(o!==n.target){var h="mousemove"===e.type?"mouseover":"pointerover",f=this.clonePointerEvent(n,h);this.dispatchEvent(f,"pointerover"),r&&this.dispatchEvent(f,"mouseover");for(var p=null===o||void 0===o?void 0:o.parent;p&&p!==this.rootTarget.parent&&p!==n.target;)p=p.parent;if(!p||p===this.rootTarget.parent){var m=this.clonePointerEvent(n,"pointerenter");for(m.eventPhase=m.AT_TARGET;m.target&&m.target!==o&&m.target!==this.rootTarget.parent;)m.currentTarget=m.target,this.notifyTarget(m),r&&this.notifyTarget(m,"mouseenter"),m.target=m.target.parent;this.freeEvent(m)}this.freeEvent(f)}var g=[],v=null===(a=this.enableGlobalMoveEvents)||void 0===a||a;this.moveOnAll?g.push("pointermove"):this.dispatchEvent(n,"pointermove"),v&&g.push("globalpointermove"),"touch"===n.pointerType&&(this.moveOnAll?g.splice(1,0,"touchmove"):this.dispatchEvent(n,"touchmove"),v&&g.push("globaltouchmove")),r&&(this.moveOnAll?g.splice(1,0,"mousemove"):this.dispatchEvent(n,"mousemove"),v&&g.push("globalmousemove"),this.cursor=null===(i=n.target)||void 0===i?void 0:i.cursor),g.length>0&&this.all(n,g),this._allInteractiveElements.length=0,this._hitElements.length=0,s.overTargets=n.composedPath(),this.freeEvent(n)}else console.warn("EventBoundary cannot map a non-pointer event as a pointer event")}},{key:"mapPointerOver",value:function(e){var t;if(e instanceof l.FederatedPointerEvent){var a=this.trackingData(e.pointerId),i=this.createPointerEvent(e),n="mouse"===i.pointerType||"pen"===i.pointerType;this.dispatchEvent(i,"pointerover"),n&&this.dispatchEvent(i,"mouseover"),"mouse"===i.pointerType&&(this.cursor=null===(t=i.target)||void 0===t?void 0:t.cursor);var r=this.clonePointerEvent(i,"pointerenter");for(r.eventPhase=r.AT_TARGET;r.target&&r.target!==this.rootTarget.parent;)r.currentTarget=r.target,this.notifyTarget(r),n&&this.notifyTarget(r,"mouseenter"),r.target=r.target.parent;a.overTargets=i.composedPath(),this.freeEvent(i),this.freeEvent(r)}else console.warn("EventBoundary cannot map a non-pointer event as a pointer event")}},{key:"mapPointerOut",value:function(e){if(e instanceof l.FederatedPointerEvent){var t=this.trackingData(e.pointerId);if(t.overTargets){var a="mouse"===e.pointerType||"pen"===e.pointerType,i=this.findMountedTarget(t.overTargets),n=this.createPointerEvent(e,"pointerout",i);this.dispatchEvent(n),a&&this.dispatchEvent(n,"mouseout");var r=this.createPointerEvent(e,"pointerleave",i);for(r.eventPhase=r.AT_TARGET;r.target&&r.target!==this.rootTarget.parent;)r.currentTarget=r.target,this.notifyTarget(r),a&&this.notifyTarget(r,"mouseleave"),r.target=r.target.parent;t.overTargets=null,this.freeEvent(n),this.freeEvent(r)}this.cursor=null}else console.warn("EventBoundary cannot map a non-pointer event as a pointer event")}},{key:"mapPointerUp",value:function(e){if(e instanceof l.FederatedPointerEvent){var t=performance.now(),a=this.createPointerEvent(e);if(this.dispatchEvent(a,"pointerup"),"touch"===a.pointerType)this.dispatchEvent(a,"touchend");else if("mouse"===a.pointerType||"pen"===a.pointerType){var i=2===a.button;this.dispatchEvent(a,i?"rightup":"mouseup")}var n=this.trackingData(e.pointerId),r=this.findMountedTarget(n.pressTargetsByButton[e.button]),s=r;if(r&&!a.composedPath().includes(r)){for(var o=r;o&&!a.composedPath().includes(o);){if(a.currentTarget=o,this.notifyTarget(a,"pointerupoutside"),"touch"===a.pointerType)this.notifyTarget(a,"touchendoutside");else if("mouse"===a.pointerType||"pen"===a.pointerType){var d=2===a.button;this.notifyTarget(a,d?"rightupoutside":"mouseupoutside")}o=o.parent}delete n.pressTargetsByButton[e.button],s=o}if(s){var c=this.clonePointerEvent(a,"click");c.target=s,c.path=null,n.clicksByButton[e.button]||(n.clicksByButton[e.button]={clickCount:0,target:c.target,timeStamp:t});var u=n.clicksByButton[e.button];if(u.target===c.target&&t-u.timeStamp<200?++u.clickCount:u.clickCount=1,u.target=c.target,u.timeStamp=t,c.detail=u.clickCount,"mouse"===c.pointerType){var h=2===c.button;this.dispatchEvent(c,h?"rightclick":"click")}else"touch"===c.pointerType&&this.dispatchEvent(c,"tap");this.dispatchEvent(c,"pointertap"),this.freeEvent(c)}this.freeEvent(a)}else console.warn("EventBoundary cannot map a non-pointer event as a pointer event")}},{key:"mapPointerUpOutside",value:function(e){if(e instanceof l.FederatedPointerEvent){var t=this.trackingData(e.pointerId),a=this.findMountedTarget(t.pressTargetsByButton[e.button]),i=this.createPointerEvent(e);if(a){for(var n=a;n;)i.currentTarget=n,this.notifyTarget(i,"pointerupoutside"),"touch"===i.pointerType?this.notifyTarget(i,"touchendoutside"):("mouse"===i.pointerType||"pen"===i.pointerType)&&this.notifyTarget(i,2===i.button?"rightupoutside":"mouseupoutside"),n=n.parent;delete t.pressTargetsByButton[e.button]}this.freeEvent(i)}else console.warn("EventBoundary cannot map a non-pointer event as a pointer event")}},{key:"mapWheel",value:function(e){if(e instanceof d.FederatedWheelEvent){var t=this.createWheelEvent(e);this.dispatchEvent(t),this.freeEvent(t)}else console.warn("EventBoundary cannot map a non-wheel event as a wheel event")}},{key:"findMountedTarget",value:function(e){if(!e)return null;for(var t=e[0],a=1;a<e.length&&e[a].parent===t;a++)t=e[a];return t}},{key:"createPointerEvent",value:function(e,t,a){var i,n=this.allocateEvent(l.FederatedPointerEvent);return this.copyPointerData(e,n),this.copyMouseData(e,n),this.copyData(e,n),n.nativeEvent=e.nativeEvent,n.originalEvent=e,n.target=null!==(i=null!==a&&void 0!==a?a:this.hitTest(n.global.x,n.global.y))&&void 0!==i?i:this._hitElements[0],"string"==typeof t&&(n.type=t),n}},{key:"createWheelEvent",value:function(e){var t=this.allocateEvent(d.FederatedWheelEvent);return this.copyWheelData(e,t),this.copyMouseData(e,t),this.copyData(e,t),t.nativeEvent=e.nativeEvent,t.originalEvent=e,t.target=this.hitTest(t.global.x,t.global.y),t}},{key:"clonePointerEvent",value:function(e,t){var a=this.allocateEvent(l.FederatedPointerEvent);return a.nativeEvent=e.nativeEvent,a.originalEvent=e.originalEvent,this.copyPointerData(e,a),this.copyMouseData(e,a),this.copyData(e,a),a.target=e.target,a.path=e.composedPath().slice(),a.type=null!==t&&void 0!==t?t:a.type,a}},{key:"copyWheelData",value:function(e,t){t.deltaMode=e.deltaMode,t.deltaX=e.deltaX,t.deltaY=e.deltaY,t.deltaZ=e.deltaZ}},{key:"copyPointerData",value:function(e,t){e instanceof l.FederatedPointerEvent&&t instanceof l.FederatedPointerEvent&&(t.pointerId=e.pointerId,t.width=e.width,t.height=e.height,t.isPrimary=e.isPrimary,t.pointerType=e.pointerType,t.pressure=e.pressure,t.tangentialPressure=e.tangentialPressure,t.tiltX=e.tiltX,t.tiltY=e.tiltY,t.twist=e.twist)}},{key:"copyMouseData",value:function(e,t){e instanceof o.FederatedMouseEvent&&t instanceof o.FederatedMouseEvent&&(t.altKey=e.altKey,t.button=e.button,t.buttons=e.buttons,t.client.copyFrom(e.client),t.ctrlKey=e.ctrlKey,t.metaKey=e.metaKey,t.movement.copyFrom(e.movement),t.screen.copyFrom(e.screen),t.shiftKey=e.shiftKey,t.global.copyFrom(e.global))}},{key:"copyData",value:function(e,t){t.isTrusted=e.isTrusted,t.srcElement=e.srcElement,t.timeStamp=performance.now(),t.type=e.type,t.detail=e.detail,t.view=e.view,t.which=e.which,t.layer.copyFrom(e.layer),t.page.copyFrom(e.page)}},{key:"trackingData",value:function(e){return this.mappingState.trackingData[e]||(this.mappingState.trackingData[e]={pressTargetsByButton:{},clicksByButton:{},overTarget:null}),this.mappingState.trackingData[e]}},{key:"allocateEvent",value:function(e){this.eventPool.has(e)||this.eventPool.set(e,[]);var t=this.eventPool.get(e).pop()||new e(this);return t.eventPhase=t.NONE,t.currentTarget=null,t.path=null,t.target=null,t}},{key:"freeEvent",value:function(e){if(e.manager!==this)throw new Error("It is illegal to free an event not managed by this EventBoundary!");var t=e.constructor;this.eventPool.has(t)||this.eventPool.set(t,[]),this.eventPool.get(t).push(e)}},{key:"notifyListeners",value:function(e,t){var a=e.currentTarget._events[t];if(a&&e.currentTarget.isInteractive())if("fn"in a)a.once&&e.currentTarget.removeListener(t,a.fn,void 0,!0),a.fn.call(a.context,e);else for(var i=0,n=a.length;i<n&&!e.propagationImmediatelyStopped;i++)a[i].once&&e.currentTarget.removeListener(t,a[i].fn,void 0,!0),a[i].fn.call(a[i].context,e)}}]),e}();t.EventBoundary=h},32890:function(e,t,a){"use strict";var i=a(42122).default,n=a(56690).default,r=a(89728).default,s=a(73629),o=a(7756),l=a(62485),d=a(84532),c=a(89717),u={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"},h=function(){function e(t){var a=this;n(this,e),this.supportsTouchEvents="ontouchstart"in globalThis,this.supportsPointerEvents=!!globalThis.PointerEvent,this.domElement=null,this.resolution=1,this.renderer=t,this.rootBoundary=new o.EventBoundary(null),l.EventsTicker.init(this),this.autoPreventDefault=!0,this.eventsAdded=!1,this.rootPointerEvent=new d.FederatedPointerEvent(null),this.rootWheelEvent=new c.FederatedWheelEvent(null),this.cursorStyles={default:"inherit",pointer:"pointer"},this.features=new Proxy(i({},e.defaultEventFeatures),{set:function(e,t,i){return"globalMove"===t&&(a.rootBoundary.enableGlobalMoveEvents=i),e[t]=i,!0}}),this.onPointerDown=this.onPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.onPointerOverOut=this.onPointerOverOut.bind(this),this.onWheel=this.onWheel.bind(this)}return r(e,[{key:"init",value:function(t){var a,i,n=this.renderer,r=n.view,s=n.resolution;this.setTargetElement(r),this.resolution=s,e._defaultEventMode=null!==(a=t.eventMode)&&void 0!==a?a:"auto",Object.assign(this.features,null!==(i=t.eventFeatures)&&void 0!==i?i:{}),this.rootBoundary.enableGlobalMoveEvents=this.features.globalMove}},{key:"resolutionChange",value:function(e){this.resolution=e}},{key:"destroy",value:function(){this.setTargetElement(null),this.renderer=null}},{key:"setCursor",value:function(e){e=e||"default";var t=!0;if(globalThis.OffscreenCanvas&&this.domElement instanceof OffscreenCanvas&&(t=!1),this.currentCursor!==e){this.currentCursor=e;var a=this.cursorStyles[e];if(a)switch(typeof a){case"string":t&&(this.domElement.style.cursor=a);break;case"function":a(e);break;case"object":t&&Object.assign(this.domElement.style,a)}else t&&"string"==typeof e&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,e)&&(this.domElement.style.cursor=e)}}},{key:"pointer",get:function(){return this.rootPointerEvent}},{key:"onPointerDown",value:function(e){if(this.features.click){this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;var t=this.normalizeToPointerData(e);this.autoPreventDefault&&t[0].isNormalized&&(e.cancelable||!("cancelable"in e))&&e.preventDefault();for(var a=0,i=t.length;a<i;a++){var n=t[a],r=this.bootstrapEvent(this.rootPointerEvent,n);this.rootBoundary.mapEvent(r)}this.setCursor(this.rootBoundary.cursor)}}},{key:"onPointerMove",value:function(e){if(this.features.move){this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,l.EventsTicker.pointerMoved();for(var t=this.normalizeToPointerData(e),a=0,i=t.length;a<i;a++){var n=this.bootstrapEvent(this.rootPointerEvent,t[a]);this.rootBoundary.mapEvent(n)}this.setCursor(this.rootBoundary.cursor)}}},{key:"onPointerUp",value:function(e){if(this.features.click){this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;var t=e.target;e.composedPath&&e.composedPath().length>0&&(t=e.composedPath()[0]);for(var a=t!==this.domElement?"outside":"",i=this.normalizeToPointerData(e),n=0,r=i.length;n<r;n++){var s=this.bootstrapEvent(this.rootPointerEvent,i[n]);s.type+=a,this.rootBoundary.mapEvent(s)}this.setCursor(this.rootBoundary.cursor)}}},{key:"onPointerOverOut",value:function(e){if(this.features.click){this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;for(var t=this.normalizeToPointerData(e),a=0,i=t.length;a<i;a++){var n=this.bootstrapEvent(this.rootPointerEvent,t[a]);this.rootBoundary.mapEvent(n)}this.setCursor(this.rootBoundary.cursor)}}},{key:"onWheel",value:function(e){if(this.features.wheel){var t=this.normalizeWheelEvent(e);this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.rootBoundary.mapEvent(t)}}},{key:"setTargetElement",value:function(e){this.removeEvents(),this.domElement=e,l.EventsTicker.domElement=e,this.addEvents()}},{key:"addEvents",value:function(){if(!this.eventsAdded&&this.domElement){l.EventsTicker.addTickerListener();var e=this.domElement.style;e&&(globalThis.navigator.msPointerEnabled?(e.msContentZooming="none",e.msTouchAction="none"):this.supportsPointerEvents&&(e.touchAction="none")),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this.onPointerMove,!0),this.domElement.addEventListener("pointerdown",this.onPointerDown,!0),this.domElement.addEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.addEventListener("pointerover",this.onPointerOverOut,!0),globalThis.addEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.addEventListener("mousemove",this.onPointerMove,!0),this.domElement.addEventListener("mousedown",this.onPointerDown,!0),this.domElement.addEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.addEventListener("mouseover",this.onPointerOverOut,!0),globalThis.addEventListener("mouseup",this.onPointerUp,!0),this.supportsTouchEvents&&(this.domElement.addEventListener("touchstart",this.onPointerDown,!0),this.domElement.addEventListener("touchend",this.onPointerUp,!0),this.domElement.addEventListener("touchmove",this.onPointerMove,!0))),this.domElement.addEventListener("wheel",this.onWheel,{passive:!0,capture:!0}),this.eventsAdded=!0}}},{key:"removeEvents",value:function(){if(this.eventsAdded&&this.domElement){l.EventsTicker.removeTickerListener();var e=this.domElement.style;globalThis.navigator.msPointerEnabled?(e.msContentZooming="",e.msTouchAction=""):this.supportsPointerEvents&&(e.touchAction=""),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this.onPointerMove,!0),this.domElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.domElement.removeEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.removeEventListener("pointerover",this.onPointerOverOut,!0),globalThis.removeEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.removeEventListener("mousemove",this.onPointerMove,!0),this.domElement.removeEventListener("mousedown",this.onPointerDown,!0),this.domElement.removeEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.removeEventListener("mouseover",this.onPointerOverOut,!0),globalThis.removeEventListener("mouseup",this.onPointerUp,!0),this.supportsTouchEvents&&(this.domElement.removeEventListener("touchstart",this.onPointerDown,!0),this.domElement.removeEventListener("touchend",this.onPointerUp,!0),this.domElement.removeEventListener("touchmove",this.onPointerMove,!0))),this.domElement.removeEventListener("wheel",this.onWheel,!0),this.domElement=null,this.eventsAdded=!1}}},{key:"mapPositionToPoint",value:function(e,t,a){var i=this.domElement.isConnected?this.domElement.getBoundingClientRect():{x:0,y:0,width:this.domElement.width,height:this.domElement.height,left:0,top:0},n=1/this.resolution;e.x=(t-i.left)*(this.domElement.width/i.width)*n,e.y=(a-i.top)*(this.domElement.height/i.height)*n}},{key:"normalizeToPointerData",value:function(e){var t=[];if(this.supportsTouchEvents&&e instanceof TouchEvent)for(var a=0,i=e.changedTouches.length;a<i;a++){var n=e.changedTouches[a];typeof n.button>"u"&&(n.button=0),typeof n.buttons>"u"&&(n.buttons=1),typeof n.isPrimary>"u"&&(n.isPrimary=1===e.touches.length&&"touchstart"===e.type),typeof n.width>"u"&&(n.width=n.radiusX||1),typeof n.height>"u"&&(n.height=n.radiusY||1),typeof n.tiltX>"u"&&(n.tiltX=0),typeof n.tiltY>"u"&&(n.tiltY=0),typeof n.pointerType>"u"&&(n.pointerType="touch"),typeof n.pointerId>"u"&&(n.pointerId=n.identifier||0),typeof n.pressure>"u"&&(n.pressure=n.force||.5),typeof n.twist>"u"&&(n.twist=0),typeof n.tangentialPressure>"u"&&(n.tangentialPressure=0),typeof n.layerX>"u"&&(n.layerX=n.offsetX=n.clientX),typeof n.layerY>"u"&&(n.layerY=n.offsetY=n.clientY),n.isNormalized=!0,n.type=e.type,t.push(n)}else if(globalThis.MouseEvent&&(!(e instanceof MouseEvent)||this.supportsPointerEvents&&e instanceof globalThis.PointerEvent))t.push(e);else{var r=e;typeof r.isPrimary>"u"&&(r.isPrimary=!0),typeof r.width>"u"&&(r.width=1),typeof r.height>"u"&&(r.height=1),typeof r.tiltX>"u"&&(r.tiltX=0),typeof r.tiltY>"u"&&(r.tiltY=0),typeof r.pointerType>"u"&&(r.pointerType="mouse"),typeof r.pointerId>"u"&&(r.pointerId=1),typeof r.pressure>"u"&&(r.pressure=.5),typeof r.twist>"u"&&(r.twist=0),typeof r.tangentialPressure>"u"&&(r.tangentialPressure=0),r.isNormalized=!0,t.push(r)}return t}},{key:"normalizeWheelEvent",value:function(e){var t=this.rootWheelEvent;return this.transferMouseData(t,e),t.deltaX=e.deltaX,t.deltaY=e.deltaY,t.deltaZ=e.deltaZ,t.deltaMode=e.deltaMode,this.mapPositionToPoint(t.screen,e.clientX,e.clientY),t.global.copyFrom(t.screen),t.offset.copyFrom(t.screen),t.nativeEvent=e,t.type=e.type,t}},{key:"bootstrapEvent",value:function(e,t){return e.originalEvent=null,e.nativeEvent=t,e.pointerId=t.pointerId,e.width=t.width,e.height=t.height,e.isPrimary=t.isPrimary,e.pointerType=t.pointerType,e.pressure=t.pressure,e.tangentialPressure=t.tangentialPressure,e.tiltX=t.tiltX,e.tiltY=t.tiltY,e.twist=t.twist,this.transferMouseData(e,t),this.mapPositionToPoint(e.screen,t.clientX,t.clientY),e.global.copyFrom(e.screen),e.offset.copyFrom(e.screen),e.isTrusted=t.isTrusted,"pointerleave"===e.type&&(e.type="pointerout"),e.type.startsWith("mouse")&&(e.type=e.type.replace("mouse","pointer")),e.type.startsWith("touch")&&(e.type=u[e.type]||e.type),e}},{key:"transferMouseData",value:function(e,t){e.isTrusted=t.isTrusted,e.srcElement=t.srcElement,e.timeStamp=performance.now(),e.type=t.type,e.altKey=t.altKey,e.button=t.button,e.buttons=t.buttons,e.client.x=t.clientX,e.client.y=t.clientY,e.ctrlKey=t.ctrlKey,e.metaKey=t.metaKey,e.movement.x=t.movementX,e.movement.y=t.movementY,e.page.x=t.pageX,e.page.y=t.pageY,e.relatedTarget=null,e.shiftKey=t.shiftKey}}],[{key:"defaultEventMode",get:function(){return this._defaultEventMode}}]),e}();h.extension={name:"events",type:[s.ExtensionType.RendererSystem,s.ExtensionType.CanvasRendererSystem]},h.defaultEventFeatures={move:!0,globalMove:!0,click:!0,wheel:!0};var f=h;s.extensions.add(f),t.EventSystem=f},62485:function(e,t,a){"use strict";var i=a(56690).default,n=a(89728).default,r=a(73629),s=new(function(){function e(){i(this,e),this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}return n(e,[{key:"init",value:function(e){this.removeTickerListener(),this.events=e,this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}},{key:"pauseUpdate",get:function(){return this._pauseUpdate},set:function(e){this._pauseUpdate=e}},{key:"addTickerListener",value:function(){this.tickerAdded||!this.domElement||(r.Ticker.system.add(this.tickerUpdate,this,r.UPDATE_PRIORITY.INTERACTION),this.tickerAdded=!0)}},{key:"removeTickerListener",value:function(){this.tickerAdded&&(r.Ticker.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)}},{key:"pointerMoved",value:function(){this._didMove=!0}},{key:"update",value:function(){if(this.domElement&&!this._pauseUpdate)if(this._didMove)this._didMove=!1;else{var e=this.events.rootPointerEvent;this.events.supportsTouchEvents&&"touch"===e.pointerType||globalThis.document.dispatchEvent(new PointerEvent("pointermove",{clientX:e.clientX,clientY:e.clientY}))}}},{key:"tickerUpdate",value:function(e){this._deltaTime+=e,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.update())}}]),e}());t.EventsTicker=s},74570:function(e,t,a){"use strict";var i=a(56690).default,n=a(89728).default,r=a(73629),s=function(){function e(t){i(this,e),this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.composed=!1,this.defaultPrevented=!1,this.eventPhase=e.prototype.NONE,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer=new r.Point,this.page=new r.Point,this.NONE=0,this.CAPTURING_PHASE=1,this.AT_TARGET=2,this.BUBBLING_PHASE=3,this.manager=t}return n(e,[{key:"layerX",get:function(){return this.layer.x}},{key:"layerY",get:function(){return this.layer.y}},{key:"pageX",get:function(){return this.page.x}},{key:"pageY",get:function(){return this.page.y}},{key:"data",get:function(){return this}},{key:"composedPath",value:function(){return this.manager&&(!this.path||this.path[this.path.length-1]!==this.target)&&(this.path=this.target?this.manager.propagationPath(this.target):[]),this.path}},{key:"initEvent",value:function(e,t,a){throw new Error("initEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}},{key:"initUIEvent",value:function(e,t,a,i,n){throw new Error("initUIEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}},{key:"preventDefault",value:function(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault(),this.defaultPrevented=!0}},{key:"stopImmediatePropagation",value:function(){this.propagationImmediatelyStopped=!0}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}}]),e}();t.FederatedEvent=s},12935:function(){},1102:function(e,t,a){"use strict";var i=a(73629),n=a(86889),r=a(32890),s=a(74570);function o(e){return"dynamic"===e||"static"===e}var l={onclick:null,onmousedown:null,onmouseenter:null,onmouseleave:null,onmousemove:null,onglobalmousemove:null,onmouseout:null,onmouseover:null,onmouseup:null,onmouseupoutside:null,onpointercancel:null,onpointerdown:null,onpointerenter:null,onpointerleave:null,onpointermove:null,onglobalpointermove:null,onpointerout:null,onpointerover:null,onpointertap:null,onpointerup:null,onpointerupoutside:null,onrightclick:null,onrightdown:null,onrightup:null,onrightupoutside:null,ontap:null,ontouchcancel:null,ontouchend:null,ontouchendoutside:null,ontouchmove:null,onglobaltouchmove:null,ontouchstart:null,onwheel:null,_internalInteractive:void 0,get interactive(){var e;return null!==(e=this._internalInteractive)&&void 0!==e?e:o(r.EventSystem.defaultEventMode)},set interactive(e){i.utils.deprecation("7.2.0","Setting interactive is deprecated, use eventMode = 'none'/'passive'/'auto'/'static'/'dynamic' instead."),this._internalInteractive=e,this.eventMode=e?"static":"auto"},_internalEventMode:void 0,get eventMode(){var e;return null!==(e=this._internalEventMode)&&void 0!==e?e:r.EventSystem.defaultEventMode},set eventMode(e){this._internalInteractive=o(e),this._internalEventMode=e},isInteractive:function(){return"static"===this.eventMode||"dynamic"===this.eventMode},interactiveChildren:!0,hitArea:null,addEventListener:function(e,t,a){var i="boolean"==typeof a&&a||"object"==typeof a&&a.capture,n="object"==typeof a?a.signal:void 0,r="object"==typeof a&&!0===a.once,s="function"==typeof t?void 0:t;e=i?"".concat(e,"capture"):e;var o="function"==typeof t?t:t.handleEvent,l=this;n&&n.addEventListener("abort",(function(){l.off(e,o,s)})),r?l.once(e,o,s):l.on(e,o,s)},removeEventListener:function(e,t,a){var i="function"==typeof t?void 0:t;e="boolean"==typeof a&&a||"object"==typeof a&&a.capture?"".concat(e,"capture"):e,t="function"==typeof t?t:t.handleEvent,this.off(e,t,i)},dispatchEvent:function(e){if(!(e instanceof s.FederatedEvent))throw new Error("DisplayObject cannot propagate events outside of the Federated Events API");return e.defaultPrevented=!1,e.path=null,e.target=this,e.manager.dispatchEvent(e),!e.defaultPrevented}};n.DisplayObject.mixin(l),t.FederatedDisplayObject=l},48336:function(e,t,a){"use strict";var i=a(56690).default,n=a(89728).default,r=a(61655).default,s=a(26389).default,o=a(73629),l=function(e){r(a,e);var t=s(a);function a(){var e;return i(this,a),(e=t.apply(this,arguments)).client=new o.Point,e.movement=new o.Point,e.offset=new o.Point,e.global=new o.Point,e.screen=new o.Point,e}return n(a,[{key:"clientX",get:function(){return this.client.x}},{key:"clientY",get:function(){return this.client.y}},{key:"x",get:function(){return this.clientX}},{key:"y",get:function(){return this.clientY}},{key:"movementX",get:function(){return this.movement.x}},{key:"movementY",get:function(){return this.movement.y}},{key:"offsetX",get:function(){return this.offset.x}},{key:"offsetY",get:function(){return this.offset.y}},{key:"globalX",get:function(){return this.global.x}},{key:"globalY",get:function(){return this.global.y}},{key:"screenX",get:function(){return this.screen.x}},{key:"screenY",get:function(){return this.screen.y}},{key:"getLocalPosition",value:function(e,t,a){return e.worldTransform.applyInverse(a||this.global,t)}},{key:"getModifierState",value:function(e){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(e)}},{key:"initMouseEvent",value:function(e,t,a,i,n,r,s,o,l,d,c,u,h,f,p){throw new Error("Method not implemented.")}}]),a}(a(74570).FederatedEvent);t.FederatedMouseEvent=l},84532:function(e,t,a){"use strict";var i=a(56690).default,n=a(89728).default,r=a(61655).default,s=a(26389).default,o=function(e){r(a,e);var t=s(a);function a(){var e;return i(this,a),(e=t.apply(this,arguments)).width=0,e.height=0,e.isPrimary=!1,e}return n(a,[{key:"getCoalescedEvents",value:function(){return"pointermove"===this.type||"mousemove"===this.type||"touchmove"===this.type?[this]:[]}},{key:"getPredictedEvents",value:function(){throw new Error("getPredictedEvents is not supported!")}}]),a}(a(48336).FederatedMouseEvent);t.FederatedPointerEvent=o},89717:function(e,t,a){"use strict";var i=a(89728).default,n=a(56690).default,r=a(61655).default,s=a(26389).default,o=function(e){r(a,e);var t=s(a);function a(){var e;return n(this,a),(e=t.apply(this,arguments)).DOM_DELTA_PIXEL=0,e.DOM_DELTA_LINE=1,e.DOM_DELTA_PAGE=2,e}return i(a)}(a(48336).FederatedMouseEvent);o.DOM_DELTA_PIXEL=0,o.DOM_DELTA_LINE=1,o.DOM_DELTA_PAGE=2,t.FederatedWheelEvent=o},51108:function(e,t,a){"use strict";var i=a(7756),n=a(32890),r=a(74570);a(12935);var s=a(1102),o=a(48336),l=a(84532),d=a(89717);t.EventBoundary=i.EventBoundary,t.EventSystem=n.EventSystem,t.FederatedEvent=r.FederatedEvent,t.FederatedDisplayObject=s.FederatedDisplayObject,t.FederatedMouseEvent=o.FederatedMouseEvent,t.FederatedPointerEvent=l.FederatedPointerEvent,t.FederatedWheelEvent=d.FederatedWheelEvent},59727:function(e,t,a){"use strict";var i=a(42122).default,n=function(e){return e.Renderer="renderer",e.Application="application",e.RendererSystem="renderer-webgl-system",e.RendererPlugin="renderer-webgl-plugin",e.CanvasRendererSystem="renderer-canvas-system",e.CanvasRendererPlugin="renderer-canvas-plugin",e.Asset="asset",e.LoadParser="load-parser",e.ResolveParser="resolve-parser",e.CacheParser="cache-parser",e.DetectionParser="detection-parser",e}(n||{}),r=function(e){if("function"==typeof e||"object"==typeof e&&e.extension){if(!e.extension)throw new Error("Extension class must have an extension object");e=i(i({},"object"!=typeof e.extension?{type:e.extension}:e.extension),{},{ref:e})}if("object"!=typeof e)throw new Error("Invalid extension type");return"string"==typeof(e=i({},e)).type&&(e.type=[e.type]),e},s=function(e,t){var a;return null!==(a=r(e).priority)&&void 0!==a?a:t},o={_addHandlers:{},_removeHandlers:{},_queue:{},remove:function(){for(var e=this,t=arguments.length,a=new Array(t),i=0;i<t;i++)a[i]=arguments[i];return a.map(r).forEach((function(t){t.type.forEach((function(a){var i,n;return null===(i=(n=e._removeHandlers)[a])||void 0===i?void 0:i.call(n,t)}))})),this},add:function(){for(var e=this,t=arguments.length,a=new Array(t),i=0;i<t;i++)a[i]=arguments[i];return a.map(r).forEach((function(t){t.type.forEach((function(a){var i,n,r=e._addHandlers,s=e._queue;r[a]?null===(i=r[a])||void 0===i||i.call(r,t):(s[a]=s[a]||[],null===(n=s[a])||void 0===n||n.push(t))}))})),this},handle:function(e,t,a){var i,n=this._addHandlers,r=this._removeHandlers;if(n[e]||r[e])throw new Error("Extension type ".concat(e," already has a handler"));n[e]=t,r[e]=a;var s=this._queue;return s[e]&&(null!==(i=s[e])&&void 0!==i&&i.forEach((function(e){return t(e)})),delete s[e]),this},handleByMap:function(e,t){return this.handle(e,(function(e){e.name&&(t[e.name]=e.ref)}),(function(e){e.name&&delete t[e.name]}))},handleByList:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;return this.handle(e,(function(e){t.includes(e.ref)||(t.push(e.ref),t.sort((function(e,t){return s(t,a)-s(e,a)})))}),(function(e){var a=t.indexOf(e.ref);-1!==a&&t.splice(a,1)}))}};t.ExtensionType=n,t.extensions=o},11846:function(e,t,a){"use strict";var i=a(17061).default,n=a(17156).default,r=a(56690).default,s=a(89728).default,o=a(73629),l=new o.Rectangle,d=function(){function e(t){r(this,e),this.renderer=t,this._rendererPremultipliedAlpha=!1}return s(e,[{key:"contextChange",value:function(){var e,t=null===(e=this.renderer)||void 0===e?void 0:e.gl.getContextAttributes();this._rendererPremultipliedAlpha=!!(t&&t.alpha&&t.premultipliedAlpha)}},{key:"image",value:function(){var e=n(i().mark((function e(t,a,n,r){var s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=new Image,e.next=3,this.base64(t,a,n,r);case 3:return s.src=e.sent,e.abrupt("return",s);case 5:case"end":return e.stop()}}),e,this)})));return function(t,a,i,n){return e.apply(this,arguments)}}()},{key:"base64",value:function(){var e=n(i().mark((function e(t,a,n,r){var s,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===(s=this.canvas(t,r)).toBlob){e.next=3;break}return e.abrupt("return",new Promise((function(e,t){s.toBlob((function(a){if(a){var i=new FileReader;i.onload=function(){return e(i.result)},i.onerror=t,i.readAsDataURL(a)}else t(new Error("ICanvas.toBlob failed!"))}),a,n)})));case 3:if(void 0===s.toDataURL){e.next=5;break}return e.abrupt("return",s.toDataURL(a,n));case 5:if(void 0===s.convertToBlob){e.next=10;break}return e.next=8,s.convertToBlob({type:a,quality:n});case 8:return o=e.sent,e.abrupt("return",new Promise((function(e,t){var a=new FileReader;a.onload=function(){return e(a.result)},a.onerror=t,a.readAsDataURL(o)})));case 10:throw new Error("Extract.base64() requires ICanvas.toDataURL, ICanvas.toBlob, or ICanvas.convertToBlob to be implemented");case 11:case"end":return e.stop()}}),e,this)})));return function(t,a,i,n){return e.apply(this,arguments)}}()},{key:"canvas",value:function(t,a){var i=this._rawPixels(t,a),n=i.pixels,r=i.width,s=i.height,l=i.flipY,d=i.premultipliedAlpha;l&&e._flipY(n,r,s),d&&e._unpremultiplyAlpha(n);var c=new o.utils.CanvasRenderTarget(r,s,1),u=new ImageData(new Uint8ClampedArray(n.buffer),r,s);return c.context.putImageData(u,0,0),c.canvas}},{key:"pixels",value:function(t,a){var i=this._rawPixels(t,a),n=i.pixels,r=i.width,s=i.height,o=i.flipY,l=i.premultipliedAlpha;return o&&e._flipY(n,r,s),l&&e._unpremultiplyAlpha(n),n}},{key:"_rawPixels",value:function(e,t){var a,i=this.renderer;if(!i)throw new Error("The Extract has already been destroyed");var n,r,s=!1,d=!1,c=!1;e&&(e instanceof o.RenderTexture?r=e:(r=i.generateTexture(e,{region:t,resolution:i.resolution,multisample:i.multisample}),c=!0,t&&(l.width=t.width,l.height=t.height,t=l)));var u,h=i.gl;if(r){if(n=r.baseTexture.resolution,t=null!==(u=t)&&void 0!==u?u:r.frame,s=!1,d=r.baseTexture.alphaMode>0&&r.baseTexture.format===o.FORMATS.RGBA,!c){i.renderTexture.bind(r);var f=r.framebuffer.glFramebuffers[i.CONTEXT_UID];f.blitFramebuffer&&i.framebuffer.bind(f.blitFramebuffer)}}else n=i.resolution,t||((t=l).width=i.width/n,t.height=i.height/n),s=!0,d=this._rendererPremultipliedAlpha,i.renderTexture.bind();var p=Math.max(Math.round(t.width*n),1),m=Math.max(Math.round(t.height*n),1),g=new Uint8Array(4*p*m);return h.readPixels(Math.round(t.x*n),Math.round(t.y*n),p,m,h.RGBA,h.UNSIGNED_BYTE,g),c&&null!==(a=r)&&void 0!==a&&a.destroy(!0),{pixels:g,width:p,height:m,flipY:s,premultipliedAlpha:d}}},{key:"destroy",value:function(){this.renderer=null}}],[{key:"_flipY",value:function(e,t,a){for(var i=t<<2,n=a>>1,r=new Uint8Array(i),s=0;s<n;s++){var o=s*i,l=(a-s-1)*i;r.set(e.subarray(o,o+i)),e.copyWithin(o,l,l+i),e.set(r,l)}}},{key:"_unpremultiplyAlpha",value:function(e){e instanceof Uint8ClampedArray&&(e=new Uint8Array(e.buffer));for(var t=e.length,a=0;a<t;a+=4){var i=e[a+3];if(0!==i){var n=255.001/i;e[a]=e[a]*n+.5,e[a+1]=e[a+1]*n+.5,e[a+2]=e[a+2]*n+.5}}}}]),e}();d.extension={name:"extract",type:o.ExtensionType.RendererSystem};var c=d;o.extensions.add(c),t.Extract=c},68810:function(e,t,a){"use strict";var i=a(11846);t.Extract=i.Extract},57211:function(e,t,a){"use strict";var i=a(56690).default,n=a(89728).default,r=a(61655).default,s=a(26389).default,o=a(73629),l=a(53410),d=function(e){r(a,e);var t=s(a);function a(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return i(this,a),(e=t.call(this,o.defaultVertex,l.default,{uAlpha:1})).alpha=n,e}return n(a,[{key:"alpha",get:function(){return this.uniforms.uAlpha},set:function(e){this.uniforms.uAlpha=e}}]),a}(o.Filter);t.AlphaFilter=d},53410:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default="varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float uAlpha;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;\n}\n"},50955:function(e,t,a){"use strict";var i=a(57211);t.AlphaFilter=i.AlphaFilter},76519:function(e,t,a){"use strict";var i=a(56690).default,n=a(89728).default,r=a(61655).default,s=a(26389).default,o=a(73629),l=a(6166),d=function(e){r(a,e);var t=s(a);function a(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.Filter.defaultResolution,d=arguments.length>3&&void 0!==arguments[3]?arguments[3]:5;return i(this,a),(e=t.call(this))._repeatEdgePixels=!1,e.blurXFilter=new l.BlurFilterPass(!0,n,r,s,d),e.blurYFilter=new l.BlurFilterPass(!1,n,r,s,d),e.resolution=s,e.quality=r,e.blur=n,e.repeatEdgePixels=!1,e}return n(a,[{key:"apply",value:function(e,t,a,i){var n=Math.abs(this.blurXFilter.strength),r=Math.abs(this.blurYFilter.strength);if(n&&r){var s=e.getFilterTexture();this.blurXFilter.apply(e,t,s,o.CLEAR_MODES.CLEAR),this.blurYFilter.apply(e,s,a,i),e.returnFilterTexture(s)}else r?this.blurYFilter.apply(e,t,a,i):this.blurXFilter.apply(e,t,a,i)}},{key:"updatePadding",value:function(){this._repeatEdgePixels?this.padding=0:this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}},{key:"blur",get:function(){return this.blurXFilter.blur},set:function(e){this.blurXFilter.blur=this.blurYFilter.blur=e,this.updatePadding()}},{key:"quality",get:function(){return this.blurXFilter.quality},set:function(e){this.blurXFilter.quality=this.blurYFilter.quality=e}},{key:"blurX",get:function(){return this.blurXFilter.blur},set:function(e){this.blurXFilter.blur=e,this.updatePadding()}},{key:"blurY",get:function(){return this.blurYFilter.blur},set:function(e){this.blurYFilter.blur=e,this.updatePadding()}},{key:"blendMode",get:function(){return this.blurYFilter.blendMode},set:function(e){this.blurYFilter.blendMode=e}},{key:"repeatEdgePixels",get:function(){return this._repeatEdgePixels},set:function(e){this._repeatEdgePixels=e,this.updatePadding()}}]),a}(o.Filter);t.BlurFilter=d},6166:function(e,t,a){"use strict";var i=a(56690).default,n=a(89728).default,r=a(61655).default,s=a(26389).default,o=a(73629),l=a(94677),d=a(56229),c=function(e){r(a,e);var t=s(a);function a(e){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:o.Filter.defaultResolution,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:5;i(this,a);var h=d.generateBlurVertSource(u,e),f=l.generateBlurFragSource(u);return(n=t.call(this,h,f)).horizontal=e,n.resolution=c,n._quality=0,n.quality=s,n.blur=r,n}return n(a,[{key:"apply",value:function(e,t,a,i){if(a?this.horizontal?this.uniforms.strength=1/a.width*(a.width/t.width):this.uniforms.strength=1/a.height*(a.height/t.height):this.horizontal?this.uniforms.strength=1/e.renderer.width*(e.renderer.width/t.width):this.uniforms.strength=1/e.renderer.height*(e.renderer.height/t.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)e.applyFilter(this,t,a,i);else{var n=e.getFilterTexture(),r=e.renderer,s=t,l=n;this.state.blend=!1,e.applyFilter(this,s,l,o.CLEAR_MODES.CLEAR);for(var d=1;d<this.passes-1;d++){e.bindAndClear(s,o.CLEAR_MODES.BLIT),this.uniforms.uSampler=l;var c=l;l=s,s=c,r.shader.bind(this),r.geometry.draw(5)}this.state.blend=!0,e.applyFilter(this,l,a,i),e.returnFilterTexture(n)}}},{key:"blur",get:function(){return this.strength},set:function(e){this.padding=1+2*Math.abs(e),this.strength=e}},{key:"quality",get:function(){return this._quality},set:function(e){this._quality=e,this.passes=e}}]),a}(o.Filter);t.BlurFilterPass=c},94677:function(e,t){"use strict";var a={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},i=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join("\n");t.generateBlurFragSource=function(e){for(var t,n=a[e],r=n.length,s=i,o="",l=0;l<e;l++){var d="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;".replace("%index%",l.toString());t=l,l>=r&&(t=e-l-1),o+=d=d.replace("%value%",n[t].toString()),o+="\n"}return s=(s=s.replace("%blur%",o)).replace("%size%",e.toString())}},56229:function(e,t){"use strict";t.generateBlurVertSource=function(e,t){var a,i=Math.ceil(e/2),n="\n    attribute vec2 aVertexPosition;\n\n    uniform mat3 projectionMatrix;\n\n    uniform float strength;\n\n    varying vec2 vBlurTexCoords[%size%];\n\n    uniform vec4 inputSize;\n    uniform vec4 outputFrame;\n\n    vec4 filterVertexPosition( void )\n    {\n        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n    }\n\n    vec2 filterTextureCoord( void )\n    {\n        return aVertexPosition * (outputFrame.zw * inputSize.zw);\n    }\n\n    void main(void)\n    {\n        gl_Position = filterVertexPosition();\n\n        vec2 textureCoord = filterTextureCoord();\n        %blur%\n    }",r="";a=t?"vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":"vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(var s=0;s<e;s++){var o=a.replace("%index%",s.toString());r+=o=o.replace("%sampleIndex%","".concat(s-(i-1),".0")),r+="\n"}return n=(n=n.replace("%blur%",r)).replace("%size%",e.toString())}},7972:function(e,t,a){"use strict";var i=a(76519),n=a(6166);t.BlurFilter=i.BlurFilter,t.BlurFilterPass=n.BlurFilterPass},60989:function(e,t,a){"use strict";var i=a(27424).default,n=a(56690).default,r=a(89728).default,s=a(61655).default,o=a(26389).default,l=a(73629),d=a(6941),c=function(e){s(a,e);var t=o(a);function a(){var e;n(this,a);var i={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};return(e=t.call(this,l.defaultFilterVertex,d.default,i)).alpha=1,e}return r(a,[{key:"_loadMatrix",value:function(e){var t=e;arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&(this._multiply(t,this.uniforms.m,e),t=this._colorMatrix(t)),this.uniforms.m=t}},{key:"_multiply",value:function(e,t,a){return e[0]=t[0]*a[0]+t[1]*a[5]+t[2]*a[10]+t[3]*a[15],e[1]=t[0]*a[1]+t[1]*a[6]+t[2]*a[11]+t[3]*a[16],e[2]=t[0]*a[2]+t[1]*a[7]+t[2]*a[12]+t[3]*a[17],e[3]=t[0]*a[3]+t[1]*a[8]+t[2]*a[13]+t[3]*a[18],e[4]=t[0]*a[4]+t[1]*a[9]+t[2]*a[14]+t[3]*a[19]+t[4],e[5]=t[5]*a[0]+t[6]*a[5]+t[7]*a[10]+t[8]*a[15],e[6]=t[5]*a[1]+t[6]*a[6]+t[7]*a[11]+t[8]*a[16],e[7]=t[5]*a[2]+t[6]*a[7]+t[7]*a[12]+t[8]*a[17],e[8]=t[5]*a[3]+t[6]*a[8]+t[7]*a[13]+t[8]*a[18],e[9]=t[5]*a[4]+t[6]*a[9]+t[7]*a[14]+t[8]*a[19]+t[9],e[10]=t[10]*a[0]+t[11]*a[5]+t[12]*a[10]+t[13]*a[15],e[11]=t[10]*a[1]+t[11]*a[6]+t[12]*a[11]+t[13]*a[16],e[12]=t[10]*a[2]+t[11]*a[7]+t[12]*a[12]+t[13]*a[17],e[13]=t[10]*a[3]+t[11]*a[8]+t[12]*a[13]+t[13]*a[18],e[14]=t[10]*a[4]+t[11]*a[9]+t[12]*a[14]+t[13]*a[19]+t[14],e[15]=t[15]*a[0]+t[16]*a[5]+t[17]*a[10]+t[18]*a[15],e[16]=t[15]*a[1]+t[16]*a[6]+t[17]*a[11]+t[18]*a[16],e[17]=t[15]*a[2]+t[16]*a[7]+t[17]*a[12]+t[18]*a[17],e[18]=t[15]*a[3]+t[16]*a[8]+t[17]*a[13]+t[18]*a[18],e[19]=t[15]*a[4]+t[16]*a[9]+t[17]*a[14]+t[18]*a[19]+t[19],e}},{key:"_colorMatrix",value:function(e){var t=new Float32Array(e);return t[4]/=255,t[9]/=255,t[14]/=255,t[19]/=255,t}},{key:"brightness",value:function(e,t){var a=[e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0];this._loadMatrix(a,t)}},{key:"tint",value:function(e,t){var a=l.Color.shared.setValue(e).toArray(),n=i(a,3),r=[n[0],0,0,0,0,0,n[1],0,0,0,0,0,n[2],0,0,0,0,0,1,0];this._loadMatrix(r,t)}},{key:"greyscale",value:function(e,t){var a=[e,e,e,0,0,e,e,e,0,0,e,e,e,0,0,0,0,0,1,0];this._loadMatrix(a,t)}},{key:"blackAndWhite",value:function(e){this._loadMatrix([.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],e)}},{key:"hue",value:function(e,t){e=(e||0)/180*Math.PI;var a=Math.cos(e),i=Math.sin(e),n=1/3,r=(0,Math.sqrt)(n),s=[a+(1-a)*n,n*(1-a)-r*i,n*(1-a)+r*i,0,0,n*(1-a)+r*i,a+n*(1-a),n*(1-a)-r*i,0,0,n*(1-a)-r*i,n*(1-a)+r*i,a+n*(1-a),0,0,0,0,0,1,0];this._loadMatrix(s,t)}},{key:"contrast",value:function(e,t){var a=(e||0)+1,i=-.5*(a-1),n=[a,0,0,0,i,0,a,0,0,i,0,0,a,0,i,0,0,0,1,0];this._loadMatrix(n,t)}},{key:"saturate",value:function(){var e=arguments.length>1?arguments[1]:void 0,t=2*(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)/3+1,a=-.5*(t-1),i=[t,a,a,0,0,a,t,a,0,0,a,a,t,0,0,0,0,0,1,0];this._loadMatrix(i,e)}},{key:"desaturate",value:function(){this.saturate(-1)}},{key:"negative",value:function(e){this._loadMatrix([-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],e)}},{key:"sepia",value:function(e){this._loadMatrix([.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],e)}},{key:"technicolor",value:function(e){this._loadMatrix([1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],e)}},{key:"polaroid",value:function(e){this._loadMatrix([1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],e)}},{key:"toBGR",value:function(e){this._loadMatrix([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],e)}},{key:"kodachrome",value:function(e){this._loadMatrix([1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],e)}},{key:"browni",value:function(e){this._loadMatrix([.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],e)}},{key:"vintage",value:function(e){this._loadMatrix([.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],e)}},{key:"colorTone",value:function(e,t,a,n,r){e=e||.2,t=t||.15,a=a||16770432,n=n||3375104;var s=l.Color.shared,o=s.setValue(a).toArray(),d=i(o,3),c=d[0],u=d[1],h=d[2],f=s.setValue(n).toArray(),p=i(f,3),m=p[0],g=p[1],v=p[2],b=[.3,.59,.11,0,0,c,u,h,e,0,m,g,v,t,0,c-m,u-g,h-v,0,0];this._loadMatrix(b,r)}},{key:"night",value:function(e,t){var a=[-2*(e=e||.1),-e,0,0,0,-e,0,e,0,0,0,e,2*e,0,0,0,0,0,1,0];this._loadMatrix(a,t)}},{key:"predator",value:function(e,t){var a=[11.224130630493164*e,-4.794486999511719*e,-2.8746118545532227*e,0*e,.40342438220977783*e,-3.6330697536468506*e,9.193157196044922*e,-2.951810836791992*e,0*e,-1.316135048866272*e,-3.2184197902679443*e,-4.2375030517578125*e,7.476448059082031*e,0*e,.8044459223747253*e,0,0,0,1,0];this._loadMatrix(a,t)}},{key:"lsd",value:function(e){this._loadMatrix([2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],e)}},{key:"reset",value:function(){this._loadMatrix([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],!1)}},{key:"matrix",get:function(){return this.uniforms.m},set:function(e){this.uniforms.m=e}},{key:"alpha",get:function(){return this.uniforms.uAlpha},set:function(e){this.uniforms.uAlpha=e}}]),a}(l.Filter);c.prototype.grayscale=c.prototype.greyscale,t.ColorMatrixFilter=c},6941:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default="varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha == 0.0) {\n        gl_FragColor = c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n\n    vec4 result;\n\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *= result.a;\n\n    gl_FragColor = vec4(rgb, result.a);\n}\n"},55042:function(e,t,a){"use strict";var i=a(60989);t.ColorMatrixFilter=i.ColorMatrixFilter},7136:function(e,t,a){"use strict";var i=a(56690).default,n=a(89728).default,r=a(61655).default,s=a(26389).default,o=a(73629),l=a(48973),d=a(22277),c=function(e){r(a,e);var t=s(a);function a(e,n){var r;i(this,a);var s=new o.Matrix;return e.renderable=!1,(r=t.call(this,d.default,l.default,{mapSampler:e._texture,filterMatrix:s,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])})).maskSprite=e,r.maskMatrix=s,null==n&&(n=20),r.scale=new o.Point(n,n),r}return n(a,[{key:"apply",value:function(e,t,a,i){this.uniforms.filterMatrix=e.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;var n=this.maskSprite.worldTransform,r=Math.sqrt(n.a*n.a+n.b*n.b),s=Math.sqrt(n.c*n.c+n.d*n.d);0!==r&&0!==s&&(this.uniforms.rotation[0]=n.a/r,this.uniforms.rotation[1]=n.b/r,this.uniforms.rotation[2]=n.c/s,this.uniforms.rotation[3]=n.d/s),e.applyFilter(this,t,a,i)}},{key:"map",get:function(){return this.uniforms.mapSampler},set:function(e){this.uniforms.mapSampler=e}}]),a}(o.Filter);t.DisplacementFilter=c},48973:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default="varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\nuniform mat2 rotation;\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform highp vec4 inputSize;\nuniform vec4 inputClamp;\n\nvoid main(void)\n{\n  vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n  map -= 0.5;\n  map.xy = scale * inputSize.zw * (rotation * map.xy);\n\n  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));\n}\n"},22277:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default="attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n\tgl_Position = filterVertexPosition();\n\tvTextureCoord = filterTextureCoord();\n\tvFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;\n}\n"},2235:function(e,t,a){"use strict";var i=a(7136);t.DisplacementFilter=i.DisplacementFilter},54165:function(e,t,a){"use strict";var i=a(89728).default,n=a(56690).default,r=a(61655).default,s=a(26389).default,o=a(73629),l=a(34118),d=a(15713),c=function(e){r(a,e);var t=s(a);function a(){return n(this,a),t.call(this,d.default,l.default)}return i(a)}(o.Filter);t.FXAAFilter=c},34118:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default='varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\nuniform sampler2D uSampler;\nuniform highp vec4 inputSize;\n\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it\'s\n unsupported by WebGL.\n\n --\n\n From:\n https://github.com/mitsuhiko/webgl-meincraft\n\n Copyright (c) 2011 by Armin Ronacher.\n\n Some rights reserved.\n\n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n\n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n\n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n\n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n\n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n\n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n\n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n\n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n\n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n\n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec4 color;\n\n      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n'},15713:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default="\nattribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvoid texcoords(vec2 fragCoord, vec2 inverseVP,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = filterVertexPosition();\n\n   vFragCoord = aVertexPosition * outputFrame.zw;\n\n   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}\n"},32909:function(e,t,a){"use strict";var i=a(54165);t.FXAAFilter=i.FXAAFilter},41034:function(e,t,a){"use strict";var i=a(56690).default,n=a(89728).default,r=a(61655).default,s=a(26389).default,o=a(73629),l=a(90316),d=function(e){r(a,e);var t=s(a);function a(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.5,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Math.random();return i(this,a),(e=t.call(this,o.defaultFilterVertex,l.default,{uNoise:0,uSeed:0})).noise=n,e.seed=r,e}return n(a,[{key:"noise",get:function(){return this.uniforms.uNoise},set:function(e){this.uniforms.uNoise=e}},{key:"seed",get:function(){return this.uniforms.uSeed},set:function(e){this.uniforms.uSeed=e}}]),a}(o.Filter);t.NoiseFilter=d},64609:function(e,t,a){"use strict";var i=a(41034);t.NoiseFilter=i.NoiseFilter},90316:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default="precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float uNoise;\nuniform float uSeed;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\n    float diff = (randomValue - 0.5) * uNoise;\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (color.a > 0.0) {\n        color.rgb /= color.a;\n    }\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    // Premultiply alpha again.\n    color.rgb *= color.a;\n\n    gl_FragColor = color;\n}\n"},69311:function(e,t,a){"use strict";var i=a(56690).default,n=a(89728).default,r=a(41588).default,s=a(73808).default,o=a(61655).default,l=a(26389).default,d=a(73629),c=a(86889),u=a(20086),h=a(70699),f=a(26706),p=a(16191);a(85591);var m=a(5121),g=a(15187),v=a(11464),b={},y=function(e){o(a,e);var t=l(a);function a(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return i(this,a),(e=t.call(this)).shader=null,e.pluginName="batch",e.currentPath=null,e.batches=[],e.batchTint=-1,e.batchDirty=-1,e.vertexData=null,e._fillStyle=new f.FillStyle,e._lineStyle=new p.LineStyle,e._matrix=null,e._holeMode=!1,e.state=d.State.for2d(),e._geometry=n||new h.GraphicsGeometry,e._geometry.refCount++,e._transformID=-1,e._tintColor=new d.Color(16777215),e.blendMode=d.BLEND_MODES.NORMAL,e}return n(a,[{key:"geometry",get:function(){return this._geometry}},{key:"clone",value:function(){return this.finishPoly(),new a(this._geometry)}},{key:"blendMode",get:function(){return this.state.blendMode},set:function(e){this.state.blendMode=e}},{key:"tint",get:function(){return this._tintColor.value},set:function(e){this._tintColor.setValue(e)}},{key:"fill",get:function(){return this._fillStyle}},{key:"line",get:function(){return this._lineStyle}},{key:"lineStyle",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return"number"==typeof e&&(e={width:e,color:arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,alpha:arguments.length>2?arguments[2]:void 0,alignment:arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,native:arguments.length>4&&void 0!==arguments[4]&&arguments[4]}),this.lineTextureStyle(e)}},{key:"lineTextureStyle",value:function(e){var t,a={width:0,texture:d.Texture.WHITE,color:null!==(t=e)&&void 0!==t&&t.texture?16777215:0,matrix:null,alignment:.5,native:!1,cap:u.LINE_CAP.BUTT,join:u.LINE_JOIN.MITER,miterLimit:10};e=Object.assign(a,e),this.normalizeColor(e),this.currentPath&&this.startPoly();var i=e.width>0&&e.alpha>0;return i?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._lineStyle,{visible:i},e)):this._lineStyle.reset(),this}},{key:"startPoly",value:function(){if(this.currentPath){var e=this.currentPath.points,t=this.currentPath.points.length;t>2&&(this.drawShape(this.currentPath),this.currentPath=new d.Polygon,this.currentPath.closeStroke=!1,this.currentPath.points.push(e[t-2],e[t-1]))}else this.currentPath=new d.Polygon,this.currentPath.closeStroke=!1}},{key:"finishPoly",value:function(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)}},{key:"moveTo",value:function(e,t){return this.startPoly(),this.currentPath.points[0]=e,this.currentPath.points[1]=t,this}},{key:"lineTo",value:function(e,t){this.currentPath||this.moveTo(0,0);var a=this.currentPath.points,i=a[a.length-2],n=a[a.length-1];return(i!==e||n!==t)&&a.push(e,t),this}},{key:"_initCurve",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.currentPath?0===this.currentPath.points.length&&(this.currentPath.points=[e,t]):this.moveTo(e,t)}},{key:"quadraticCurveTo",value:function(e,t,a,i){this._initCurve();var n=this.currentPath.points;return 0===n.length&&this.moveTo(0,0),m.QuadraticUtils.curveTo(e,t,a,i,n),this}},{key:"bezierCurveTo",value:function(e,t,a,i,n,r){return this._initCurve(),g.BezierUtils.curveTo(e,t,a,i,n,r,this.currentPath.points),this}},{key:"arcTo",value:function(e,t,a,i,n){this._initCurve(e,t);var r=this.currentPath.points,s=v.ArcUtils.curveTo(e,t,a,i,n,r);if(s){var o=s.cx,l=s.cy,d=s.radius,c=s.startAngle,u=s.endAngle,h=s.anticlockwise;this.arc(o,l,d,c,u,h)}return this}},{key:"arc",value:function(e,t,a,i,n){var r=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(i===n)return this;if(!r&&n<=i?n+=d.PI_2:r&&i<=n&&(i+=d.PI_2),n-i===0)return this;var s=e+Math.cos(i)*a,o=t+Math.sin(i)*a,l=this._geometry.closePointEps,c=this.currentPath?this.currentPath.points:null;if(c){var u=Math.abs(c[c.length-2]-s),h=Math.abs(c[c.length-1]-o);u<l&&h<l||c.push(s,o)}else this.moveTo(s,o),c=this.currentPath.points;return v.ArcUtils.arc(s,o,e,t,a,i,n,r,c),this}},{key:"beginFill",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;return this.beginTextureFill({texture:d.Texture.WHITE,color:e,alpha:t})}},{key:"normalizeColor",value:function(e){var t,a,i=d.Color.shared.setValue(null!==(t=e.color)&&void 0!==t?t:0);e.color=i.toNumber(),null!==(a=e.alpha)&&void 0!==a||(e.alpha=i.alpha)}},{key:"beginTextureFill",value:function(e){var t={texture:d.Texture.WHITE,color:16777215,matrix:null};e=Object.assign(t,e),this.normalizeColor(e),this.currentPath&&this.startPoly();var a=e.alpha>0;return a?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._fillStyle,{visible:a},e)):this._fillStyle.reset(),this}},{key:"endFill",value:function(){return this.finishPoly(),this._fillStyle.reset(),this}},{key:"drawRect",value:function(e,t,a,i){return this.drawShape(new d.Rectangle(e,t,a,i))}},{key:"drawRoundedRect",value:function(e,t,a,i,n){return this.drawShape(new d.RoundedRectangle(e,t,a,i,n))}},{key:"drawCircle",value:function(e,t,a){return this.drawShape(new d.Circle(e,t,a))}},{key:"drawEllipse",value:function(e,t,a,i){return this.drawShape(new d.Ellipse(e,t,a,i))}},{key:"drawPolygon",value:function(){for(var e,t=!0,a=arguments.length,i=new Array(a),n=0;n<a;n++)i[n]=arguments[n];var r=i[0];r.points?(t=r.closeStroke,e=r.points):e=Array.isArray(i[0])?i[0]:i;var s=new d.Polygon(e);return s.closeStroke=t,this.drawShape(s),this}},{key:"drawShape",value:function(e){return this._holeMode?this._geometry.drawHole(e,this._matrix):this._geometry.drawShape(e,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this}},{key:"clear",value:function(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this}},{key:"isFastRect",value:function(){var e=this._geometry.graphicsData;return 1===e.length&&e[0].shape.type===d.SHAPES.RECT&&!e[0].matrix&&!e[0].holes.length&&!(e[0].lineStyle.visible&&e[0].lineStyle.width)}},{key:"_render",value:function(e){this.finishPoly();var t=this._geometry;t.updateBatches(),t.batchable?(this.batchDirty!==t.batchDirty&&this._populateBatches(),this._renderBatched(e)):(e.batch.flush(),this._renderDirect(e))}},{key:"_populateBatches",value:function(){var e=this._geometry,t=this.blendMode,a=e.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=e.batchDirty,this.batches.length=a,this.vertexData=new Float32Array(e.points);for(var i=0;i<a;i++){var n=e.batches[i],r=n.style.color,s=new Float32Array(this.vertexData.buffer,4*n.attribStart*2,2*n.attribSize),o=new Float32Array(e.uvsFloat32.buffer,4*n.attribStart*2,2*n.attribSize),l={vertexData:s,blendMode:t,indices:new Uint16Array(e.indicesUint16.buffer,2*n.start,n.size),uvs:o,_batchRGB:d.Color.shared.setValue(r).toRgbArray(),_tintRGB:r,_texture:n.style.texture,alpha:n.style.alpha,worldAlpha:1};this.batches[i]=l}}},{key:"_renderBatched",value:function(e){if(this.batches.length){e.batch.setObjectRenderer(e.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(var t=0,a=this.batches.length;t<a;t++){var i=this.batches[t];i.worldAlpha=this.worldAlpha*i.alpha,e.plugins[this.pluginName].render(i)}}}},{key:"_renderDirect",value:function(e){var t=this._resolveDirectShader(e),a=this._geometry,i=this.worldAlpha,n=t.uniforms,r=a.drawCalls;n.translationMatrix=this.transform.worldTransform,d.Color.shared.setValue(this._tintColor).premultiply(i).toArray(n.tint),e.shader.bind(t),e.geometry.bind(a,t),e.state.set(this.state);for(var s=0,o=r.length;s<o;s++)this._renderDrawCallDirect(e,a.drawCalls[s])}},{key:"_renderDrawCallDirect",value:function(e,t){for(var a=t.texArray,i=t.type,n=t.size,r=t.start,s=a.count,o=0;o<s;o++)e.texture.bind(a.elements[o],o);e.geometry.draw(i,n,r)}},{key:"_resolveDirectShader",value:function(e){var t=this.shader,a=this.pluginName;if(!t){if(!b[a]){for(var i=e.plugins[a].maxTextures,n=new Int32Array(i),r=0;r<i;r++)n[r]=r;var s={tint:new Float32Array([1,1,1,1]),translationMatrix:new d.Matrix,default:d.UniformGroup.from({uSamplers:n},!0)},o=e.plugins[a]._shader.program;b[a]=new d.Shader(o,s)}t=b[a]}return t}},{key:"_calculateBounds",value:function(){this.finishPoly();var e=this._geometry;if(e.graphicsData.length){var t=e.bounds,a=t.minX,i=t.minY,n=t.maxX,r=t.maxY;this._bounds.addFrame(this.transform,a,i,n,r)}}},{key:"containsPoint",value:function(e){return this.worldTransform.applyInverse(e,a._TEMP_POINT),this._geometry.containsPoint(a._TEMP_POINT)}},{key:"calculateTints",value:function(){if(this.batchTint!==this.tint){this.batchTint=this._tintColor.toNumber();for(var e=0;e<this.batches.length;e++){var t=this.batches[e];t._tintRGB=d.Color.shared.setValue(this._tintColor).multiply(t._batchRGB).toLittleEndianNumber()}}}},{key:"calculateVertices",value:function(){var e=this.transform._worldID;if(this._transformID!==e){this._transformID=e;for(var t=this.transform.worldTransform,a=t.a,i=t.b,n=t.c,r=t.d,s=t.tx,o=t.ty,l=this._geometry.points,d=this.vertexData,c=0,u=0;u<l.length;u+=2){var h=l[u],f=l[u+1];d[c++]=a*h+n*f+s,d[c++]=r*f+i*h+o}}}},{key:"closePath",value:function(){var e=this.currentPath;return e&&(e.closeStroke=!0,this.finishPoly()),this}},{key:"setMatrix",value:function(e){return this._matrix=e,this}},{key:"beginHole",value:function(){return this.finishPoly(),this._holeMode=!0,this}},{key:"endHole",value:function(){return this.finishPoly(),this._holeMode=!1,this}},{key:"destroy",value:function(e){this._geometry.refCount--,0===this._geometry.refCount&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,r(s(a.prototype),"destroy",this).call(this,e)}}]),a}(c.Container);y.curves=u.curves,y._TEMP_POINT=new d.Point;var x=y;t.Graphics=x},48909:function(e,t,a){"use strict";var i=a(56690).default,n=a(89728).default,r=function(){function e(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;i(this,e),this.points=[],this.holes=[],this.shape=t,this.lineStyle=n,this.fillStyle=a,this.matrix=r,this.type=t.type}return n(e,[{key:"clone",value:function(){return new e(this.shape,this.fillStyle,this.lineStyle,this.matrix)}},{key:"destroy",value:function(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null}}]),e}();t.GraphicsData=r},70699:function(e,t,a){"use strict";var i=a(56690).default,n=a(89728).default,r=a(41588).default,s=a(73808).default,o=a(61655).default,l=a(26389).default,d=a(73629),c=a(86889),u=a(48909),h=a(85591),f=a(40212),p=a(62129),m=a(29153),g=new d.Point,v=function(e){o(a,e);var t=l(a);function a(){var e;return i(this,a),(e=t.call(this)).closePointEps=1e-4,e.boundsPadding=0,e.uvsFloat32=null,e.indicesUint16=null,e.batchable=!1,e.points=[],e.colors=[],e.uvs=[],e.indices=[],e.textureIds=[],e.graphicsData=[],e.drawCalls=[],e.batchDirty=-1,e.batches=[],e.dirty=0,e.cacheDirty=-1,e.clearDirty=0,e.shapeIndex=0,e._bounds=new c.Bounds,e.boundsDirty=-1,e}return n(a,[{key:"bounds",get:function(){return this.updateBatches(),this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds}},{key:"invalidate",value:function(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(var e=0;e<this.drawCalls.length;e++)this.drawCalls[e].texArray.clear(),h.DRAW_CALL_POOL.push(this.drawCalls[e]);this.drawCalls.length=0;for(var t=0;t<this.batches.length;t++){var a=this.batches[t];a.reset(),h.BATCH_POOL.push(a)}this.batches.length=0}},{key:"clear",value:function(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this}},{key:"drawShape",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,n=new u.GraphicsData(e,t,a,i);return this.graphicsData.push(n),this.dirty++,this}},{key:"drawHole",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!this.graphicsData.length)return null;var a=new u.GraphicsData(e,null,null,t),i=this.graphicsData[this.graphicsData.length-1];return a.lineStyle=i.lineStyle,i.holes.push(a),this.dirty++,this}},{key:"destroy",value:function(){r(s(a.prototype),"destroy",this).call(this);for(var e=0;e<this.graphicsData.length;++e)this.graphicsData[e].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null}},{key:"containsPoint",value:function(e){for(var t=this.graphicsData,a=0;a<t.length;++a){var i=t[a];if(i.fillStyle.visible&&i.shape&&(i.matrix?i.matrix.applyInverse(e,g):g.copyFrom(e),i.shape.contains(g.x,g.y))){var n=!1;if(i.holes)for(var r=0;r<i.holes.length;r++)if(i.holes[r].shape.contains(g.x,g.y)){n=!0;break}if(!n)return!0}}return!1}},{key:"updateBatches",value:function(){if(this.graphicsData.length){if(this.validateBatching()){this.cacheDirty=this.dirty;var e=this.uvs,t=this.graphicsData,a=null,i=null;this.batches.length>0&&(i=(a=this.batches[this.batches.length-1]).style);for(var n=this.shapeIndex;n<t.length;n++){this.shapeIndex++;var r=t[n],s=r.fillStyle,o=r.lineStyle;h.FILL_COMMANDS[r.type].build(r),r.matrix&&this.transformPoints(r.points,r.matrix),(s.visible||o.visible)&&this.processHoles(r.holes);for(var l=0;l<2;l++){var c=0===l?s:o;if(c.visible){var u=c.texture.baseTexture,p=this.indices.length,m=this.points.length/2;u.wrapMode=d.WRAP_MODES.REPEAT,0===l?this.processFill(r):this.processLine(r);var g=this.points.length/2-m;0!==g&&(a&&!this._compareStyles(i,c)&&(a.end(p,m),a=null),a||((a=h.BATCH_POOL.pop()||new f.BatchPart).begin(c,p,m),this.batches.push(a),i=c),this.addUvs(this.points,e,c.texture,m,g,c.matrix))}}}var v=this.indices.length,b=this.points.length/2;if(a&&a.end(v,b),0!==this.batches.length){var y=b>65535;this.indicesUint16&&this.indices.length===this.indicesUint16.length&&y===this.indicesUint16.BYTES_PER_ELEMENT>2?this.indicesUint16.set(this.indices):this.indicesUint16=y?new Uint32Array(this.indices):new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}else this.batchable=!0}}else this.batchable=!0}},{key:"_compareStyles",value:function(e,t){return!(!e||!t||e.texture.baseTexture!==t.texture.baseTexture||e.color+e.alpha!==t.color+t.alpha||!!e.native!=!!t.native)}},{key:"validateBatching",value:function(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(var e=0,t=this.graphicsData.length;e<t;e++){var a=this.graphicsData[e],i=a.fillStyle,n=a.lineStyle;if(i&&!i.texture.baseTexture.valid||n&&!n.texture.baseTexture.valid)return!1}return!0}},{key:"packBatches",value:function(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);for(var e=this.batches,t=0,a=e.length;t<a;t++)for(var i=e[t],n=0;n<i.size;n++){var r=i.start+n;this.indicesUint16[r]=this.indicesUint16[r]-i.attribStart}}},{key:"isBatchable",value:function(){if(this.points.length>131070)return!1;for(var e=this.batches,t=0;t<e.length;t++)if(e[t].style.native)return!1;return this.points.length<2*a.BATCHABLE_SIZE}},{key:"buildDrawCalls",value:function(){for(var e=++d.BaseTexture._globalBatch,t=0;t<this.drawCalls.length;t++)this.drawCalls[t].texArray.clear(),h.DRAW_CALL_POOL.push(this.drawCalls[t]);this.drawCalls.length=0;var a=this.colors,i=this.textureIds,n=h.DRAW_CALL_POOL.pop();n||((n=new d.BatchDrawCall).texArray=new d.BatchTextureArray),n.texArray.count=0,n.start=0,n.size=0,n.type=d.DRAW_MODES.TRIANGLES;var r=0,s=null,o=0,l=!1,c=d.DRAW_MODES.TRIANGLES,u=0;this.drawCalls.push(n);for(var f=0;f<this.batches.length;f++){var p=this.batches[f],m=p.style,g=m.texture.baseTexture;l!==!!m.native&&(c=(l=!!m.native)?d.DRAW_MODES.LINES:d.DRAW_MODES.TRIANGLES,s=null,r=8,e++),s!==g&&(s=g,g._batchEnabled!==e&&(8===r&&(e++,r=0,n.size>0&&((n=h.DRAW_CALL_POOL.pop())||((n=new d.BatchDrawCall).texArray=new d.BatchTextureArray),this.drawCalls.push(n)),n.start=u,n.size=0,n.texArray.count=0,n.type=c),g.touched=1,g._batchEnabled=e,g._batchLocation=r,g.wrapMode=d.WRAP_MODES.REPEAT,n.texArray.elements[n.texArray.count++]=g,r++)),n.size+=p.size,u+=p.size,o=g._batchLocation,this.addColors(a,m.color,m.alpha,p.attribSize,p.attribStart),this.addTextureIds(i,o,p.attribSize,p.attribStart)}d.BaseTexture._globalBatch=e,this.packAttributes()}},{key:"packAttributes",value:function(){for(var e=this.points,t=this.uvs,a=this.colors,i=this.textureIds,n=new ArrayBuffer(3*e.length*4),r=new Float32Array(n),s=new Uint32Array(n),o=0,l=0;l<e.length/2;l++)r[o++]=e[2*l],r[o++]=e[2*l+1],r[o++]=t[2*l],r[o++]=t[2*l+1],s[o++]=a[l],r[o++]=i[l];this._buffer.update(n),this._indexBuffer.update(this.indicesUint16)}},{key:"processFill",value:function(e){e.holes.length?p.buildPoly.triangulate(e,this):h.FILL_COMMANDS[e.type].triangulate(e,this)}},{key:"processLine",value:function(e){m.buildLine(e,this);for(var t=0;t<e.holes.length;t++)m.buildLine(e.holes[t],this)}},{key:"processHoles",value:function(e){for(var t=0;t<e.length;t++){var a=e[t];h.FILL_COMMANDS[a.type].build(a),a.matrix&&this.transformPoints(a.points,a.matrix)}}},{key:"calculateBounds",value:function(){var e=this._bounds;e.clear(),e.addVertexData(this.points,0,this.points.length),e.pad(this.boundsPadding,this.boundsPadding)}},{key:"transformPoints",value:function(e,t){for(var a=0;a<e.length/2;a++){var i=e[2*a],n=e[2*a+1];e[2*a]=t.a*i+t.c*n+t.tx,e[2*a+1]=t.b*i+t.d*n+t.ty}}},{key:"addColors",value:function(e,t,a,i){var n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,r=d.Color.shared.setValue(t).toLittleEndianNumber(),s=d.Color.shared.setValue(r).toPremultiplied(a);e.length=Math.max(e.length,n+i);for(var o=0;o<i;o++)e[n+o]=s}},{key:"addTextureIds",value:function(e,t,a){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;e.length=Math.max(e.length,i+a);for(var n=0;n<a;n++)e[i+n]=t}},{key:"addUvs",value:function(e,t,a,i,n){for(var r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=0,o=t.length,l=a.frame;s<n;){var d=e[2*(i+s)],c=e[2*(i+s)+1];if(r){var u=r.a*d+r.c*c+r.tx;c=r.b*d+r.d*c+r.ty,d=u}s++,t.push(d/l.width,c/l.height)}var h=a.baseTexture;(l.width<h.width||l.height<h.height)&&this.adjustUvs(t,a,o,n)}},{key:"adjustUvs",value:function(e,t,a,i){for(var n=t.baseTexture,r=1e-6,s=a+2*i,o=t.frame,l=o.width/n.width,d=o.height/n.height,c=o.x/o.width,u=o.y/o.height,h=Math.floor(e[a]+r),f=Math.floor(e[a+1]+r),p=a+2;p<s;p+=2)h=Math.min(h,Math.floor(e[p]+r)),f=Math.min(f,Math.floor(e[p+1]+r));c-=h,u-=f;for(var m=a;m<s;m+=2)e[m]=(e[m]+c)*l,e[m+1]=(e[m+1]+u)*d}}]),a}(d.BatchGeometry);v.BATCHABLE_SIZE=100;var b=v;t.GraphicsGeometry=b},20086:function(e,t){"use strict";var a=function(e){return e.MITER="miter",e.BEVEL="bevel",e.ROUND="round",e}(a||{}),i=function(e){return e.BUTT="butt",e.ROUND="round",e.SQUARE="square",e}(i||{}),n={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;if(!this.adaptive||!e||isNaN(e))return t;var a=Math.ceil(e/this.maxLength);return a<this.minSegments?a=this.minSegments:a>this.maxSegments&&(a=this.maxSegments),a}},r=n;t.GRAPHICS_CURVES=r,t.LINE_CAP=i,t.LINE_JOIN=a,t.curves=n},84112:function(e,t,a){"use strict";var i=a(85591),n=a(20086),r=a(69311),s=a(48909),o=a(70699),l=a(26706),d=a(16191),c=a(62129),u=a(58874),h=a(70037),f=a(56127),p=a(29153),m=a(11464),g=a(15187),v=a(5121),b=a(40212),y={buildPoly:c.buildPoly,buildCircle:u.buildCircle,buildRectangle:h.buildRectangle,buildRoundedRectangle:f.buildRoundedRectangle,buildLine:p.buildLine,ArcUtils:m.ArcUtils,BezierUtils:g.BezierUtils,QuadraticUtils:v.QuadraticUtils,BatchPart:b.BatchPart,FILL_COMMANDS:i.FILL_COMMANDS,BATCH_POOL:i.BATCH_POOL,DRAW_CALL_POOL:i.DRAW_CALL_POOL};t.GRAPHICS_CURVES=n.GRAPHICS_CURVES,t.LINE_CAP=n.LINE_CAP,t.LINE_JOIN=n.LINE_JOIN,t.curves=n.curves,t.Graphics=r.Graphics,t.GraphicsData=s.GraphicsData,t.GraphicsGeometry=o.GraphicsGeometry,t.FillStyle=l.FillStyle,t.LineStyle=d.LineStyle,t.graphicsUtils=y},26706:function(e,t,a){"use strict";var i=a(56690).default,n=a(89728).default,r=a(73629),s=function(){function e(){i(this,e),this.color=16777215,this.alpha=1,this.texture=r.Texture.WHITE,this.matrix=null,this.visible=!1,this.reset()}return n(e,[{key:"clone",value:function(){var t=new e;return t.color=this.color,t.alpha=this.alpha,t.texture=this.texture,t.matrix=this.matrix,t.visible=this.visible,t}},{key:"reset",value:function(){this.color=16777215,this.alpha=1,this.texture=r.Texture.WHITE,this.matrix=null,this.visible=!1}},{key:"destroy",value:function(){this.texture=null,this.matrix=null}}]),e}();t.FillStyle=s},16191:function(e,t,a){"use strict";var i=a(56690).default,n=a(89728).default,r=a(41588).default,s=a(73808).default,o=a(61655).default,l=a(26389).default,d=a(20086),c=function(e){o(a,e);var t=l(a);function a(){var e;return i(this,a),(e=t.apply(this,arguments)).width=0,e.alignment=.5,e.native=!1,e.cap=d.LINE_CAP.BUTT,e.join=d.LINE_JOIN.MITER,e.miterLimit=10,e}return n(a,[{key:"clone",value:function(){var e=new a;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e.width=this.width,e.alignment=this.alignment,e.native=this.native,e.cap=this.cap,e.join=this.join,e.miterLimit=this.miterLimit,e}},{key:"reset",value:function(){r(s(a.prototype),"reset",this).call(this),this.color=0,this.alignment=.5,this.width=0,this.native=!1,this.cap=d.LINE_CAP.BUTT,this.join=d.LINE_JOIN.MITER,this.miterLimit=10}}]),a}(a(26706).FillStyle);t.LineStyle=c},11464:function(e,t,a){"use strict";var i=a(56690).default,n=a(89728).default,r=a(73629),s=a(20086),o=function(){function e(){i(this,e)}return n(e,null,[{key:"curveTo",value:function(e,t,a,i,n,r){var s=r[r.length-2],o=r[r.length-1]-t,l=s-e,d=i-t,c=a-e,u=Math.abs(o*c-l*d);if(u<1e-8||0===n)return(r[r.length-2]!==e||r[r.length-1]!==t)&&r.push(e,t),null;var h=o*o+l*l,f=d*d+c*c,p=o*d+l*c,m=n*Math.sqrt(h)/u,g=n*Math.sqrt(f)/u,v=m*p/h,b=g*p/f,y=m*c+g*l,x=m*d+g*o,_=l*(g+v),P=o*(g+v),A=c*(m+b),E=d*(m+b);return{cx:y+e,cy:x+t,radius:n,startAngle:Math.atan2(P-x,_-y),endAngle:Math.atan2(E-x,A-y),anticlockwise:l*d>c*o}}},{key:"arc",value:function(e,t,a,i,n,o,l,d,c){for(var u=l-o,h=s.curves._segmentsCount(Math.abs(u)*n,40*Math.ceil(Math.abs(u)/r.PI_2)),f=u/(2*h),p=2*f,m=Math.cos(f),g=Math.sin(f),v=h-1,b=v%1/v,y=0;y<=v;++y){var x=f+o+p*(y+b*y),_=Math.cos(x),P=-Math.sin(x);c.push((m*_+g*P)*n+a,(m*-P+g*_)*n+i)}}}]),e}();t.ArcUtils=o},40212:function(e,t,a){"use strict";var i=a(56690).default,n=a(89728).default,r=function(){function e(){i(this,e),this.reset()}return n(e,[{key:"begin",value:function(e,t,a){this.reset(),this.style=e,this.start=t,this.attribStart=a}},{key:"end",value:function(e,t){this.attribSize=t-this.attribStart,this.size=e-this.start}},{key:"reset",value:function(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0}}]),e}();t.BatchPart=r},15187:function(e,t,a){"use strict";var i=a(56690).default,n=a(89728).default,r=a(20086),s=function(){function e(){i(this,e)}return n(e,null,[{key:"curveLength",value:function(e,t,a,i,n,r,s,o){for(var l=0,d=0,c=0,u=0,h=0,f=0,p=0,m=0,g=0,v=0,b=0,y=e,x=t,_=1;_<=10;++_)v=y-(m=(p=(f=(h=1-(d=_/10))*h)*h)*e+3*f*d*a+3*h*(c=d*d)*n+(u=c*d)*s),b=x-(g=p*t+3*f*d*i+3*h*c*r+u*o),y=m,x=g,l+=Math.sqrt(v*v+b*b);return l}},{key:"curveTo",value:function(t,a,i,n,s,o,l){var d=l[l.length-2],c=l[l.length-1];l.length-=2;var u=r.curves._segmentsCount(e.curveLength(d,c,t,a,i,n,s,o)),h=0,f=0,p=0,m=0,g=0;l.push(d,c);for(var v=1,b=0;v<=u;++v)p=(f=(h=1-(b=v/u))*h)*h,g=(m=b*b)*b,l.push(p*d+3*f*b*t+3*h*m*i+g*s,p*c+3*f*b*a+3*h*m*n+g*o)}}]),e}();t.BezierUtils=s},5121:function(e,t,a){"use strict";var i=a(56690).default,n=a(89728).default,r=a(20086),s=function(){function e(){i(this,e)}return n(e,null,[{key:"curveLength",value:function(e,t,a,i,n,r){var s=e-2*a+n,o=t-2*i+r,l=2*a-2*e,d=2*i-2*t,c=4*(s*s+o*o),u=4*(s*l+o*d),h=l*l+d*d,f=2*Math.sqrt(c+u+h),p=Math.sqrt(c),m=2*c*p,g=2*Math.sqrt(h),v=u/p;return(m*f+p*u*(f-g)+(4*h*c-u*u)*Math.log((2*p+v+f)/(v+g)))/(4*m)}},{key:"curveTo",value:function(t,a,i,n,s){for(var o=s[s.length-2],l=s[s.length-1],d=r.curves._segmentsCount(e.curveLength(o,l,t,a,i,n)),c=0,u=0,h=1;h<=d;++h){var f=h/d;c=o+(t-o)*f,u=l+(a-l)*f,s.push(c+(t+(i-t)*f-c)*f,u+(a+(n-a)*f-u)*f)}}}]),e}();t.QuadraticUtils=s},58874:function(e,t,a){"use strict";var i=a(73629),n={build:function(e){var t,a,n,r,s,o,l=e.points;if(e.type===i.SHAPES.CIRC){var d=e.shape;t=d.x,a=d.y,s=o=d.radius,n=r=0}else if(e.type===i.SHAPES.ELIP){var c=e.shape;t=c.x,a=c.y,s=c.width,o=c.height,n=r=0}else{var u=e.shape,h=u.width/2,f=u.height/2;t=u.x+h,a=u.y+f,n=h-(s=o=Math.max(0,Math.min(u.radius,Math.min(h,f)))),r=f-o}if(s>=0&&o>=0&&n>=0&&r>=0){var p=Math.ceil(2.3*Math.sqrt(s+o)),m=8*p+(n?4:0)+(r?4:0);if(l.length=m,0!==m){if(0===p)return l.length=8,l[0]=l[6]=t+n,l[1]=l[3]=a+r,l[2]=l[4]=t-n,void(l[5]=l[7]=a-r);var g=0,v=4*p+(n?2:0)+2,b=v,y=m,x=n+s,_=r,P=t+x,A=t-x,E=a+_;if(l[g++]=P,l[g++]=E,l[--v]=E,l[--v]=A,r){var T=a-_;l[b++]=A,l[b++]=T,l[--y]=T,l[--y]=P}for(var w=1;w<p;w++){var S=Math.PI/2*(w/p),C=n+Math.cos(S)*s,F=r+Math.sin(S)*o,I=t+C,j=t-C,M=a+F,O=a-F;l[g++]=I,l[g++]=M,l[--v]=M,l[--v]=j,l[b++]=j,l[b++]=O,l[--y]=O,l[--y]=I}var R=r+o,k=t+n,D=t-n,B=a+R,N=a-R;l[g++]=k,l[g++]=B,l[--y]=N,l[--y]=k,n&&(l[g++]=D,l[g++]=B,l[--y]=N,l[--y]=D)}}else l.length=0},triangulate:function(e,t){var a=e.points,n=t.points,r=t.indices;if(0!==a.length){var s,o,l=n.length/2,d=l;if(e.type!==i.SHAPES.RREC){var c=e.shape;s=c.x,o=c.y}else{var u=e.shape;s=u.x+u.width/2,o=u.y+u.height/2}var h=e.matrix;n.push(e.matrix?h.a*s+h.c*o+h.tx:s,e.matrix?h.b*s+h.d*o+h.ty:o),l++,n.push(a[0],a[1]);for(var f=2;f<a.length;f+=2)n.push(a[f],a[f+1]),r.push(l++,d,l);r.push(d+1,d,l)}}};t.buildCircle=n},29153:function(e,t,a){"use strict";var i=a(73629),n=a(20086);function r(e,t,a,i,n,r,s,o){var l,d;s?(l=i,d=-a):(l=-i,d=a);var c=e-a*n+l,u=t-i*n+d,h=e+a*r+l,f=t+i*r+d;return o.push(c,u,h,f),2}function s(e,t,a,i,n,r,s,o){var l=a-e,d=i-t,c=Math.atan2(l,d),u=Math.atan2(n-e,r-t);o&&c<u?c+=2*Math.PI:!o&&c>u&&(u+=2*Math.PI);var h=c,f=u-c,p=Math.abs(f),m=Math.sqrt(l*l+d*d),g=1+(15*p*Math.sqrt(m)/Math.PI>>0),v=f/g;if(h+=v,o){s.push(e,t,a,i);for(var b=1,y=h;b<g;b++,y+=v)s.push(e,t,e+Math.sin(y)*m,t+Math.cos(y)*m);s.push(e,t,n,r)}else{s.push(a,i,e,t);for(var x=1,_=h;x<g;x++,_+=v)s.push(e+Math.sin(_)*m,t+Math.cos(_)*m,e,t);s.push(n,r,e,t)}return 2*g}t.buildLine=function(e,t){e.lineStyle.native?function(e,t){var a=0,n=e.shape,r=e.points||n.points,s=n.type!==i.SHAPES.POLY||n.closeStroke;if(0!==r.length){var o=t.points,l=t.indices,d=r.length/2,c=o.length/2,u=c;for(o.push(r[0],r[1]),a=1;a<d;a++)o.push(r[2*a],r[2*a+1]),l.push(u,u+1),u++;s&&l.push(u,c)}}(e,t):function(e,t){var a=e.shape,o=e.points||a.points.slice(),l=t.closePointEps;if(0!==o.length){var d=e.lineStyle,c=new i.Point(o[0],o[1]),u=new i.Point(o[o.length-2],o[o.length-1]),h=a.type!==i.SHAPES.POLY||a.closeStroke,f=Math.abs(c.x-u.x)<l&&Math.abs(c.y-u.y)<l;if(h){o=o.slice(),f&&(o.pop(),o.pop(),u.set(o[o.length-2],o[o.length-1]));var p=.5*(c.x+u.x),m=.5*(u.y+c.y);o.unshift(p,m),o.push(p,m)}var g=t.points,v=o.length/2,b=o.length,y=g.length/2,x=d.width/2,_=x*x,P=d.miterLimit*d.miterLimit,A=o[0],E=o[1],T=o[2],w=o[3],S=0,C=0,F=-(E-w),I=A-T,j=0,M=0,O=Math.sqrt(F*F+I*I);F/=O,I/=O,F*=x,I*=x;var R=d.alignment,k=2*(1-R),D=2*R;h||(d.cap===n.LINE_CAP.ROUND?b+=s(A-F*(k-D)*.5,E-I*(k-D)*.5,A-F*k,E-I*k,A+F*D,E+I*D,g,!0)+2:d.cap===n.LINE_CAP.SQUARE&&(b+=r(A,E,F,I,k,D,!0,g))),g.push(A-F*k,E-I*k,A+F*D,E+I*D);for(var B=1;B<v-1;++B){A=o[2*(B-1)],E=o[2*(B-1)+1],T=o[2*B],w=o[2*B+1],S=o[2*(B+1)],C=o[2*(B+1)+1],F=-(E-w),I=A-T,F/=O=Math.sqrt(F*F+I*I),I/=O,F*=x,I*=x,j=-(w-C),M=T-S,j/=O=Math.sqrt(j*j+M*M),M/=O,j*=x,M*=x;var N=T-A,L=E-w,V=T-S,J=C-w,G=N*V+L*J,U=L*V-J*N,H=U<0;if(Math.abs(U)<.001*Math.abs(G))g.push(T-F*k,w-I*k,T+F*D,w+I*D),G>=0&&(d.join===n.LINE_JOIN.ROUND?b+=s(T,w,T-F*k,w-I*k,T-j*k,w-M*k,g,!1)+4:b+=2,g.push(T-j*D,w-M*D,T+j*k,w+M*k));else{var W=(-F+A)*(-I+w)-(-F+T)*(-I+E),z=(-j+S)*(-M+w)-(-j+T)*(-M+C),X=(N*z-V*W)/U,Y=(J*W-L*z)/U,q=(X-T)*(X-T)+(Y-w)*(Y-w),Z=T+(X-T)*k,Q=w+(Y-w)*k,K=T-(X-T)*D,$=w-(Y-w)*D,ee=H?k:D,te=q<=Math.min(N*N+L*L,V*V+J*J)+ee*ee*_,ae=d.join;if(ae===n.LINE_JOIN.MITER&&q/_>P&&(ae=n.LINE_JOIN.BEVEL),te)switch(ae){case n.LINE_JOIN.MITER:g.push(Z,Q,K,$);break;case n.LINE_JOIN.BEVEL:H?g.push(Z,Q,T+F*D,w+I*D,Z,Q,T+j*D,w+M*D):g.push(T-F*k,w-I*k,K,$,T-j*k,w-M*k,K,$),b+=2;break;case n.LINE_JOIN.ROUND:H?(g.push(Z,Q,T+F*D,w+I*D),b+=s(T,w,T+F*D,w+I*D,T+j*D,w+M*D,g,!0)+4,g.push(Z,Q,T+j*D,w+M*D)):(g.push(T-F*k,w-I*k,K,$),b+=s(T,w,T-F*k,w-I*k,T-j*k,w-M*k,g,!1)+4,g.push(T-j*k,w-M*k,K,$))}else{switch(g.push(T-F*k,w-I*k,T+F*D,w+I*D),ae){case n.LINE_JOIN.MITER:H?g.push(K,$,K,$):g.push(Z,Q,Z,Q),b+=2;break;case n.LINE_JOIN.ROUND:b+=H?s(T,w,T+F*D,w+I*D,T+j*D,w+M*D,g,!0)+2:s(T,w,T-F*k,w-I*k,T-j*k,w-M*k,g,!1)+2}g.push(T-j*k,w-M*k,T+j*D,w+M*D),b+=2}}}A=o[2*(v-2)],E=o[2*(v-2)+1],T=o[2*(v-1)],F=-(E-(w=o[2*(v-1)+1])),I=A-T,F/=O=Math.sqrt(F*F+I*I),I/=O,F*=x,I*=x,g.push(T-F*k,w-I*k,T+F*D,w+I*D),h||(d.cap===n.LINE_CAP.ROUND?b+=s(T-F*(k-D)*.5,w-I*(k-D)*.5,T-F*k,w-I*k,T+F*D,w+I*D,g,!1)+2:d.cap===n.LINE_CAP.SQUARE&&(b+=r(T,w,F,I,k,D,!1,g)));for(var ie=t.indices,ne=n.curves.epsilon*n.curves.epsilon,re=y;re<b+y-2;++re)A=g[2*re],E=g[2*re+1],T=g[2*(re+1)],w=g[2*(re+1)+1],S=g[2*(re+2)],C=g[2*(re+2)+1],!(Math.abs(A*(w-C)+T*(C-E)+S*(E-w))<ne)&&ie.push(re,re+1,re+2)}}(e,t)}},62129:function(e,t,a){"use strict";var i=a(73629);function n(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=e.length;if(!(a<6)){for(var i=0,n=0,r=e[a-2],s=e[a-1];n<a;n+=2){var o=e[n],l=e[n+1];i+=(o-r)*(l+s),r=o,s=l}if(!t&&i>0||t&&i<=0)for(var d=a/2,c=d+d%2;c<a;c+=2){var u,h,f=a-c-2,p=a-c-1,m=c,g=c+1;u=[e[m],e[f]],e[f]=u[0],e[m]=u[1],h=[e[g],e[p]],e[p]=h[0],e[g]=h[1]}}}var r={build:function(e){e.points=e.shape.points.slice()},triangulate:function(e,t){var a=e.points,r=e.holes,s=t.points,o=t.indices;if(a.length>=6){n(a,!1);for(var l=[],d=0;d<r.length;d++){var c=r[d];n(c.points,!0),l.push(a.length/2),a=a.concat(c.points)}var u=i.utils.earcut(a,l,2);if(!u)return;for(var h=s.length/2,f=0;f<u.length;f+=3)o.push(u[f]+h),o.push(u[f+1]+h),o.push(u[f+2]+h);for(var p=0;p<a.length;p++)s.push(a[p])}}};t.buildPoly=r},70037:function(e,t){"use strict";t.buildRectangle={build:function(e){var t=e.shape,a=t.x,i=t.y,n=t.width,r=t.height,s=e.points;s.length=0,n>=0&&r>=0&&s.push(a,i,a+n,i,a+n,i+r,a,i+r)},triangulate:function(e,t){var a=e.points,i=t.points;if(0!==a.length){var n=i.length/2;i.push(a[0],a[1],a[2],a[3],a[6],a[7],a[4],a[5]),t.indices.push(n,n+1,n+2,n+1,n+2,n+3)}}}},56127:function(e,t,a){"use strict";var i=a(58874),n={build:function(e){i.buildCircle.build(e)},triangulate:function(e,t){i.buildCircle.triangulate(e,t)}};t.buildRoundedRectangle=n},85591:function(e,t,a){"use strict";var i,n=a(38416).default,r=a(73629),s=a(58874),o=a(62129),l=a(70037),d=a(56127),c=a(11464),u=a(40212),h=a(15187),f=a(29153),p=a(5121),m=(n(i={},r.SHAPES.POLY,o.buildPoly),n(i,r.SHAPES.CIRC,s.buildCircle),n(i,r.SHAPES.ELIP,s.buildCircle),n(i,r.SHAPES.RECT,l.buildRectangle),n(i,r.SHAPES.RREC,d.buildRoundedRectangle),i);t.buildCircle=s.buildCircle,t.buildPoly=o.buildPoly,t.buildRectangle=l.buildRectangle,t.buildRoundedRectangle=d.buildRoundedRectangle,t.ArcUtils=c.ArcUtils,t.BatchPart=u.BatchPart,t.BezierUtils=h.BezierUtils,t.buildLine=f.buildLine,t.QuadraticUtils=p.QuadraticUtils,t.BATCH_POOL=[],t.DRAW_CALL_POOL=[],t.FILL_COMMANDS=m},93703:function(){},97743:function(){},13283:function(e,t,a){"use strict";var i=a(56690).default,n=a(89728).default,r=a(66805),s=a(52078),o=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;i(this,e),this.array=null,this.a=t,this.b=a,this.c=n,this.d=r,this.tx=s,this.ty=o}return n(e,[{key:"fromArray",value:function(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]}},{key:"set",value:function(e,t,a,i,n,r){return this.a=e,this.b=t,this.c=a,this.d=i,this.tx=n,this.ty=r,this}},{key:"toArray",value:function(e,t){this.array||(this.array=new Float32Array(9));var a=t||this.array;return e?(a[0]=this.a,a[1]=this.b,a[2]=0,a[3]=this.c,a[4]=this.d,a[5]=0,a[6]=this.tx,a[7]=this.ty,a[8]=1):(a[0]=this.a,a[1]=this.c,a[2]=this.tx,a[3]=this.b,a[4]=this.d,a[5]=this.ty,a[6]=0,a[7]=0,a[8]=1),a}},{key:"apply",value:function(e,t){t=t||new s.Point;var a=e.x,i=e.y;return t.x=this.a*a+this.c*i+this.tx,t.y=this.b*a+this.d*i+this.ty,t}},{key:"applyInverse",value:function(e,t){t=t||new s.Point;var a=1/(this.a*this.d+this.c*-this.b),i=e.x,n=e.y;return t.x=this.d*a*i+-this.c*a*n+(this.ty*this.c-this.tx*this.d)*a,t.y=this.a*a*n+-this.b*a*i+(-this.ty*this.a+this.tx*this.b)*a,t}},{key:"translate",value:function(e,t){return this.tx+=e,this.ty+=t,this}},{key:"scale",value:function(e,t){return this.a*=e,this.d*=t,this.c*=e,this.b*=t,this.tx*=e,this.ty*=t,this}},{key:"rotate",value:function(e){var t=Math.cos(e),a=Math.sin(e),i=this.a,n=this.c,r=this.tx;return this.a=i*t-this.b*a,this.b=i*a+this.b*t,this.c=n*t-this.d*a,this.d=n*a+this.d*t,this.tx=r*t-this.ty*a,this.ty=r*a+this.ty*t,this}},{key:"append",value:function(e){var t=this.a,a=this.b,i=this.c,n=this.d;return this.a=e.a*t+e.b*i,this.b=e.a*a+e.b*n,this.c=e.c*t+e.d*i,this.d=e.c*a+e.d*n,this.tx=e.tx*t+e.ty*i+this.tx,this.ty=e.tx*a+e.ty*n+this.ty,this}},{key:"setTransform",value:function(e,t,a,i,n,r,s,o,l){return this.a=Math.cos(s+l)*n,this.b=Math.sin(s+l)*n,this.c=-Math.sin(s-o)*r,this.d=Math.cos(s-o)*r,this.tx=e-(a*this.a+i*this.c),this.ty=t-(a*this.b+i*this.d),this}},{key:"prepend",value:function(e){var t=this.tx;if(1!==e.a||0!==e.b||0!==e.c||1!==e.d){var a=this.a,i=this.c;this.a=a*e.a+this.b*e.c,this.b=a*e.b+this.b*e.d,this.c=i*e.a+this.d*e.c,this.d=i*e.b+this.d*e.d}return this.tx=t*e.a+this.ty*e.c+e.tx,this.ty=t*e.b+this.ty*e.d+e.ty,this}},{key:"decompose",value:function(e){var t=this.a,a=this.b,i=this.c,n=this.d,s=e.pivot,o=-Math.atan2(-i,n),l=Math.atan2(a,t),d=Math.abs(o+l);return d<1e-5||Math.abs(r.PI_2-d)<1e-5?(e.rotation=l,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=o,e.skew.y=l),e.scale.x=Math.sqrt(t*t+a*a),e.scale.y=Math.sqrt(i*i+n*n),e.position.x=this.tx+(s.x*t+s.y*i),e.position.y=this.ty+(s.x*a+s.y*n),e}},{key:"invert",value:function(){var e=this.a,t=this.b,a=this.c,i=this.d,n=this.tx,r=e*i-t*a;return this.a=i/r,this.b=-t/r,this.c=-a/r,this.d=e/r,this.tx=(a*this.ty-i*n)/r,this.ty=-(e*this.ty-t*n)/r,this}},{key:"identity",value:function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}},{key:"clone",value:function(){var t=new e;return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t}},{key:"copyTo",value:function(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}},{key:"copyFrom",value:function(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this}}],[{key:"IDENTITY",get:function(){return new e}},{key:"TEMP_MATRIX",get:function(){return new e}}]),e}();o.prototype.toString=function(){return"[@pixi/math:Matrix a=".concat(this.a," b=").concat(this.b," c=").concat(this.c," d=").concat(this.d," tx=").concat(this.tx," ty=").concat(this.ty,"]")},t.Matrix=o},79367:function(e,t,a){"use strict";var i=a(56690).default,n=a(89728).default,r=function(){function e(t,a){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;i(this,e),this._x=n,this._y=r,this.cb=t,this.scope=a}return n(e,[{key:"clone",value:function(){return new e(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.cb,arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.scope,this._x,this._y)}},{key:"set",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;return(this._x!==e||this._y!==t)&&(this._x=e,this._y=t,this.cb.call(this.scope)),this}},{key:"copyFrom",value:function(e){return(this._x!==e.x||this._y!==e.y)&&(this._x=e.x,this._y=e.y,this.cb.call(this.scope)),this}},{key:"copyTo",value:function(e){return e.set(this._x,this._y),e}},{key:"equals",value:function(e){return e.x===this._x&&e.y===this._y}},{key:"x",get:function(){return this._x},set:function(e){this._x!==e&&(this._x=e,this.cb.call(this.scope))}},{key:"y",get:function(){return this._y},set:function(e){this._y!==e&&(this._y=e,this.cb.call(this.scope))}}]),e}();r.prototype.toString=function(){return"[@pixi/math:ObservablePoint x=".concat(this.x," y=").concat(this.y," scope=").concat(this.scope,"]")},t.ObservablePoint=r},52078:function(e,t,a){"use strict";var i=a(56690).default,n=a(89728).default,r=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;i(this,e),this.x=0,this.y=0,this.x=t,this.y=a}return n(e,[{key:"clone",value:function(){return new e(this.x,this.y)}},{key:"copyFrom",value:function(e){return this.set(e.x,e.y),this}},{key:"copyTo",value:function(e){return e.set(this.x,this.y),e}},{key:"equals",value:function(e){return e.x===this.x&&e.y===this.y}},{key:"set",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;return this.x=e,this.y=t,this}}]),e}();r.prototype.toString=function(){return"[@pixi/math:Point x=".concat(this.x," y=").concat(this.y,"]")},t.Point=r},24775:function(e,t,a){"use strict";var i=a(56690).default,n=a(89728).default,r=a(13283),s=a(79367),o=function(){function e(){i(this,e),this.worldTransform=new r.Matrix,this.localTransform=new r.Matrix,this.position=new s.ObservablePoint(this.onChange,this,0,0),this.scale=new s.ObservablePoint(this.onChange,this,1,1),this.pivot=new s.ObservablePoint(this.onChange,this,0,0),this.skew=new s.ObservablePoint(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}return n(e,[{key:"onChange",value:function(){this._localID++}},{key:"updateSkew",value:function(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++}},{key:"updateLocalTransform",value:function(){var e=this.localTransform;this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1)}},{key:"updateTransform",value:function(e){var t=this.localTransform;if(this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==e._worldID){var a=e.worldTransform,i=this.worldTransform;i.a=t.a*a.a+t.b*a.c,i.b=t.a*a.b+t.b*a.d,i.c=t.c*a.a+t.d*a.c,i.d=t.c*a.b+t.d*a.d,i.tx=t.tx*a.a+t.ty*a.c+a.tx,i.ty=t.tx*a.b+t.ty*a.d+a.ty,this._parentID=e._worldID,this._worldID++}}},{key:"setFromMatrix",value:function(e){e.decompose(this),this._localID++}},{key:"rotation",get:function(){return this._rotation},set:function(e){this._rotation!==e&&(this._rotation=e,this.updateSkew())}}]),e}();o.IDENTITY=new o;var l=o;l.prototype.toString=function(){return"[@pixi/math:Transform position=(".concat(this.position.x,", ").concat(this.position.y,") rotation=").concat(this.rotation," scale=(").concat(this.scale.x,", ").concat(this.scale.y,") skew=(").concat(this.skew.x,", ").concat(this.skew.y,") ]")},t.Transform=l},66805:function(e,t){"use strict";var a=2*Math.PI,i=180/Math.PI,n=Math.PI/180,r=function(e){return e[e.POLY=0]="POLY",e[e.RECT=1]="RECT",e[e.CIRC=2]="CIRC",e[e.ELIP=3]="ELIP",e[e.RREC=4]="RREC",e}(r||{});t.DEG_TO_RAD=n,t.PI_2=a,t.RAD_TO_DEG=i,t.SHAPES=r},72793:function(e,t,a){"use strict";var i=a(13283),n=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],r=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],s=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],o=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],l=[],d=[],c=Math.sign;!function(){for(var e=0;e<16;e++){var t=[];l.push(t);for(var a=0;a<16;a++)for(var u=c(n[e]*n[a]+s[e]*r[a]),h=c(r[e]*n[a]+o[e]*r[a]),f=c(n[e]*s[a]+s[e]*o[a]),p=c(r[e]*s[a]+o[e]*o[a]),m=0;m<16;m++)if(n[m]===u&&r[m]===h&&s[m]===f&&o[m]===p){t.push(m);break}}for(var g=0;g<16;g++){var v=new i.Matrix;v.set(n[g],r[g],s[g],o[g],0,0),d.push(v)}}();var u={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:function(e){return n[e]},uY:function(e){return r[e]},vX:function(e){return s[e]},vY:function(e){return o[e]},inv:function(e){return 8&e?15&e:7&-e},add:function(e,t){return l[e][t]},sub:function(e,t){return l[e][u.inv(t)]},rotate180:function(e){return 4^e},isVertical:function(e){return 2===(3&e)},byDirection:function(e,t){return 2*Math.abs(e)<=Math.abs(t)?t>=0?u.S:u.N:2*Math.abs(t)<=Math.abs(e)?e>0?u.E:u.W:t>0?e>0?u.SE:u.SW:e>0?u.NE:u.NW},matrixAppendRotationInv:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,n=d[u.inv(t)];n.tx=a,n.ty=i,e.append(n)}};t.groupD8=u},57223:function(e,t,a){"use strict";var i=a(79044),n=a(11500),r=a(48731),s=a(80078),o=a(606),l=a(72793);a(93703),a(97743);var d=a(13283),c=a(79367),u=a(52078),h=a(24775),f=a(66805);t.Circle=i.Circle,t.Ellipse=n.Ellipse,t.Polygon=r.Polygon,t.Rectangle=s.Rectangle,t.RoundedRectangle=o.RoundedRectangle,t.groupD8=l.groupD8,t.Matrix=d.Matrix,t.ObservablePoint=c.ObservablePoint,t.Point=u.Point,t.Transform=h.Transform,t.DEG_TO_RAD=f.DEG_TO_RAD,t.PI_2=f.PI_2,t.RAD_TO_DEG=f.RAD_TO_DEG,t.SHAPES=f.SHAPES},79044:function(e,t,a){"use strict";var i=a(56690).default,n=a(89728).default,r=a(66805),s=a(80078),o=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;i(this,e),this.x=t,this.y=a,this.radius=n,this.type=r.SHAPES.CIRC}return n(e,[{key:"clone",value:function(){return new e(this.x,this.y,this.radius)}},{key:"contains",value:function(e,t){if(this.radius<=0)return!1;var a=this.radius*this.radius,i=this.x-e,n=this.y-t;return(i*=i)+(n*=n)<=a}},{key:"getBounds",value:function(){return new s.Rectangle(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)}}]),e}();o.prototype.toString=function(){return"[@pixi/math:Circle x=".concat(this.x," y=").concat(this.y," radius=").concat(this.radius,"]")},t.Circle=o},11500:function(e,t,a){"use strict";var i=a(56690).default,n=a(89728).default,r=a(66805),s=a(80078),o=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;i(this,e),this.x=t,this.y=a,this.width=n,this.height=s,this.type=r.SHAPES.ELIP}return n(e,[{key:"clone",value:function(){return new e(this.x,this.y,this.width,this.height)}},{key:"contains",value:function(e,t){if(this.width<=0||this.height<=0)return!1;var a=(e-this.x)/this.width,i=(t-this.y)/this.height;return(a*=a)+(i*=i)<=1}},{key:"getBounds",value:function(){return new s.Rectangle(this.x-this.width,this.y-this.height,this.width,this.height)}}]),e}();o.prototype.toString=function(){return"[@pixi/math:Ellipse x=".concat(this.x," y=").concat(this.y," width=").concat(this.width," height=").concat(this.height,"]")},t.Ellipse=o},48731:function(e,t,a){"use strict";var i=a(56690).default,n=a(89728).default,r=a(66805),s=function(){function e(){i(this,e);for(var t=arguments.length,a=new Array(t),n=0;n<t;n++)a[n]=arguments[n];var s=Array.isArray(a[0])?a[0]:a;if("number"!=typeof s[0]){for(var o=[],l=0,d=s.length;l<d;l++)o.push(s[l].x,s[l].y);s=o}this.points=s,this.type=r.SHAPES.POLY,this.closeStroke=!0}return n(e,[{key:"clone",value:function(){var t=new e(this.points.slice());return t.closeStroke=this.closeStroke,t}},{key:"contains",value:function(e,t){for(var a=!1,i=this.points.length/2,n=0,r=i-1;n<i;r=n++){var s=this.points[2*n],o=this.points[2*n+1],l=this.points[2*r],d=this.points[2*r+1];o>t!=d>t&&e<(t-o)/(d-o)*(l-s)+s&&(a=!a)}return a}}]),e}();s.prototype.toString=function(){return"[@pixi/math:PolygoncloseStroke=".concat(this.closeStroke,"points=").concat(this.points.reduce((function(e,t){return"".concat(e,", ").concat(t)}),""),"]")},t.Polygon=s},80078:function(e,t,a){"use strict";var i=a(56690).default,n=a(89728).default,r=a(66805),s=a(52078),o=[new s.Point,new s.Point,new s.Point,new s.Point],l=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;i(this,e),this.x=Number(t),this.y=Number(a),this.width=Number(n),this.height=Number(s),this.type=r.SHAPES.RECT}return n(e,[{key:"left",get:function(){return this.x}},{key:"right",get:function(){return this.x+this.width}},{key:"top",get:function(){return this.y}},{key:"bottom",get:function(){return this.y+this.height}},{key:"clone",value:function(){return new e(this.x,this.y,this.width,this.height)}},{key:"copyFrom",value:function(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}},{key:"copyTo",value:function(e){return e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e}},{key:"contains",value:function(e,t){return!(this.width<=0||this.height<=0)&&(e>=this.x&&e<this.x+this.width&&t>=this.y&&t<this.y+this.height)}},{key:"intersects",value:function(e,t){if(!t){var a=this.x<e.x?e.x:this.x;if((this.right>e.right?e.right:this.right)<=a)return!1;var i=this.y<e.y?e.y:this.y;return(this.bottom>e.bottom?e.bottom:this.bottom)>i}var n=this.left,r=this.right,s=this.top,l=this.bottom;if(r<=n||l<=s)return!1;var d=o[0].set(e.left,e.top),c=o[1].set(e.left,e.bottom),u=o[2].set(e.right,e.top),h=o[3].set(e.right,e.bottom);if(u.x<=d.x||c.y<=d.y)return!1;var f=Math.sign(t.a*t.d-t.b*t.c);if(0===f||(t.apply(d,d),t.apply(c,c),t.apply(u,u),t.apply(h,h),Math.max(d.x,c.x,u.x,h.x)<=n||Math.min(d.x,c.x,u.x,h.x)>=r||Math.max(d.y,c.y,u.y,h.y)<=s||Math.min(d.y,c.y,u.y,h.y)>=l))return!1;var p=f*(c.y-d.y),m=f*(d.x-c.x),g=p*n+m*s,v=p*r+m*s,b=p*n+m*l,y=p*r+m*l;if(Math.max(g,v,b,y)<=p*d.x+m*d.y||Math.min(g,v,b,y)>=p*h.x+m*h.y)return!1;var x=f*(d.y-u.y),_=f*(u.x-d.x),P=x*n+_*s,A=x*r+_*s,E=x*n+_*l,T=x*r+_*l;return!(Math.max(P,A,E,T)<=x*d.x+_*d.y||Math.min(P,A,E,T)>=x*h.x+_*h.y)}},{key:"pad",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;return this.x-=e,this.y-=t,this.width+=2*e,this.height+=2*t,this}},{key:"fit",value:function(e){var t=Math.max(this.x,e.x),a=Math.min(this.x+this.width,e.x+e.width),i=Math.max(this.y,e.y),n=Math.min(this.y+this.height,e.y+e.height);return this.x=t,this.width=Math.max(a-t,0),this.y=i,this.height=Math.max(n-i,0),this}},{key:"ceil",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.001,a=Math.ceil((this.x+this.width-t)*e)/e,i=Math.ceil((this.y+this.height-t)*e)/e;return this.x=Math.floor((this.x+t)*e)/e,this.y=Math.floor((this.y+t)*e)/e,this.width=a-this.x,this.height=i-this.y,this}},{key:"enlarge",value:function(e){var t=Math.min(this.x,e.x),a=Math.max(this.x+this.width,e.x+e.width),i=Math.min(this.y,e.y),n=Math.max(this.y+this.height,e.y+e.height);return this.x=t,this.width=a-t,this.y=i,this.height=n-i,this}}],[{key:"EMPTY",get:function(){return new e(0,0,0,0)}}]),e}();l.prototype.toString=function(){return"[@pixi/math:Rectangle x=".concat(this.x," y=").concat(this.y," width=").concat(this.width," height=").concat(this.height,"]")},t.Rectangle=l},606:function(e,t,a){"use strict";var i=a(56690).default,n=a(89728).default,r=a(66805),s=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:20;i(this,e),this.x=t,this.y=a,this.width=n,this.height=s,this.radius=o,this.type=r.SHAPES.RREC}return n(e,[{key:"clone",value:function(){return new e(this.x,this.y,this.width,this.height,this.radius)}},{key:"contains",value:function(e,t){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&t>=this.y&&t<=this.y+this.height){var a=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(t>=this.y+a&&t<=this.y+this.height-a||e>=this.x+a&&e<=this.x+this.width-a)return!0;var i=e-(this.x+a),n=t-(this.y+a),r=a*a;if(i*i+n*n<=r||(i=e-(this.x+this.width-a))*i+n*n<=r||i*i+(n=t-(this.y+this.height-a))*n<=r||(i=e-(this.x+a))*i+n*n<=r)return!0}return!1}}]),e}();s.prototype.toString=function(){return"[@pixi/math:RoundedRectangle x=".concat(this.x," y=").concat(this.y,"width=").concat(this.width," height=").concat(this.height," radius=").concat(this.radius,"]")},t.RoundedRectangle=s},56238:function(e,t,a){"use strict";var i=a(56690).default,n=a(89728).default,r=a(61655).default,s=a(26389).default,o=a(73629),l=a(74569),d=function(e){r(a,e);var t=s(a);function a(e,n,r,s,l){var d,c,u,h,f,p,m,g,v;return i(this,a),(v=t.call(this,o.Texture.WHITE,4,4))._origWidth=e.orig.width,v._origHeight=e.orig.height,v._width=v._origWidth,v._height=v._origHeight,v._leftWidth=null!==(d=null!==n&&void 0!==n?n:null===(c=e.defaultBorders)||void 0===c?void 0:c.left)&&void 0!==d?d:10,v._rightWidth=null!==(u=null!==s&&void 0!==s?s:null===(h=e.defaultBorders)||void 0===h?void 0:h.right)&&void 0!==u?u:10,v._topHeight=null!==(f=null!==r&&void 0!==r?r:null===(p=e.defaultBorders)||void 0===p?void 0:p.top)&&void 0!==f?f:10,v._bottomHeight=null!==(m=null!==l&&void 0!==l?l:null===(g=e.defaultBorders)||void 0===g?void 0:g.bottom)&&void 0!==m?m:10,v.texture=e,v}return n(a,[{key:"textureUpdated",value:function(){this._textureID=this.shader.texture._updateID,this._refresh()}},{key:"vertices",get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(e){this.geometry.getBuffer("aVertexPosition").data=e}},{key:"updateHorizontalVertices",value:function(){var e=this.vertices,t=this._getMinScale();e[9]=e[11]=e[13]=e[15]=this._topHeight*t,e[17]=e[19]=e[21]=e[23]=this._height-this._bottomHeight*t,e[25]=e[27]=e[29]=e[31]=this._height}},{key:"updateVerticalVertices",value:function(){var e=this.vertices,t=this._getMinScale();e[2]=e[10]=e[18]=e[26]=this._leftWidth*t,e[4]=e[12]=e[20]=e[28]=this._width-this._rightWidth*t,e[6]=e[14]=e[22]=e[30]=this._width}},{key:"_getMinScale",value:function(){var e=this._leftWidth+this._rightWidth,t=this._width>e?1:this._width/e,a=this._topHeight+this._bottomHeight,i=this._height>a?1:this._height/a;return Math.min(t,i)}},{key:"width",get:function(){return this._width},set:function(e){this._width=e,this._refresh()}},{key:"height",get:function(){return this._height},set:function(e){this._height=e,this._refresh()}},{key:"leftWidth",get:function(){return this._leftWidth},set:function(e){this._leftWidth=e,this._refresh()}},{key:"rightWidth",get:function(){return this._rightWidth},set:function(e){this._rightWidth=e,this._refresh()}},{key:"topHeight",get:function(){return this._topHeight},set:function(e){this._topHeight=e,this._refresh()}},{key:"bottomHeight",get:function(){return this._bottomHeight},set:function(e){this._bottomHeight=e,this._refresh()}},{key:"_refresh",value:function(){var e=this.texture,t=this.geometry.buffers[1].data;this._origWidth=e.orig.width,this._origHeight=e.orig.height;var a=1/this._origWidth,i=1/this._origHeight;t[0]=t[8]=t[16]=t[24]=0,t[1]=t[3]=t[5]=t[7]=0,t[6]=t[14]=t[22]=t[30]=1,t[25]=t[27]=t[29]=t[31]=1,t[2]=t[10]=t[18]=t[26]=a*this._leftWidth,t[4]=t[12]=t[20]=t[28]=1-a*this._rightWidth,t[9]=t[11]=t[13]=t[15]=i*this._topHeight,t[17]=t[19]=t[21]=t[23]=1-i*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()}}]),a}(l.SimplePlane);t.NineSlicePlane=d},35781:function(e,t,a){"use strict";var i=a(56690).default,n=a(89728).default,r=a(41588).default,s=a(73808).default,o=a(61655).default,l=a(26389).default,d=a(73629),c=a(70374),u=function(e){o(a,e);var t=l(a);function a(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d.Texture.EMPTY,r=arguments.length>1?arguments[1]:void 0,s=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,l=arguments.length>4?arguments[4]:void 0;i(this,a);var u=new c.MeshGeometry(r,s,o);u.getBuffer("aVertexPosition").static=!1;var h=new c.MeshMaterial(n);return(e=t.call(this,u,h,null,l)).autoUpdate=!0,e}return n(a,[{key:"vertices",get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(e){this.geometry.getBuffer("aVertexPosition").data=e}},{key:"_render",value:function(e){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),r(s(a.prototype),"_render",this).call(this,e)}}]),a}(c.Mesh);t.SimpleMesh=u},74569:function(e,t,a){"use strict";var i=a(56690).default,n=a(89728).default,r=a(41588).default,s=a(73808).default,o=a(61655).default,l=a(26389).default,d=a(73629),c=a(70374),u=a(60980),h=function(e){o(a,e);var t=l(a);function a(e,n,r){var s;i(this,a);var o=new u.PlaneGeometry(e.width,e.height,n,r),l=new c.MeshMaterial(d.Texture.WHITE);return(s=t.call(this,o,l)).texture=e,s.autoResize=!0,s}return n(a,[{key:"textureUpdated",value:function(){this._textureID=this.shader.texture._updateID;var e=this.geometry,t=this.shader.texture,a=t.width,i=t.height;this.autoResize&&(e.width!==a||e.height!==i)&&(e.width=this.shader.texture.width,e.height=this.shader.texture.height,e.build())}},{key:"texture",get:function(){return this.shader.texture},set:function(e){this.shader.texture!==e&&(this.shader.texture=e,this._textureID=-1,e.baseTexture.valid?this.textureUpdated():e.once("update",this.textureUpdated,this))}},{key:"_render",value:function(e){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),r(s(a.prototype),"_render",this).call(this,e)}},{key:"destroy",value:function(e){this.shader.texture.off("update",this.textureUpdated,this),r(s(a.prototype),"destroy",this).call(this,e)}}]),a}(c.Mesh);t.SimplePlane=h},7811:function(e,t,a){"use strict";var i=a(56690).default,n=a(89728).default,r=a(41588).default,s=a(73808).default,o=a(61655).default,l=a(26389).default,d=a(73629),c=a(70374),u=a(58699),h=function(e){o(a,e);var t=l(a);function a(e,n){var r,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;i(this,a);var o=new u.RopeGeometry(e.height,n,s),l=new c.MeshMaterial(e);return s>0&&(e.baseTexture.wrapMode=d.WRAP_MODES.REPEAT),(r=t.call(this,o,l)).autoUpdate=!0,r}return n(a,[{key:"_render",value:function(e){var t=this.geometry;(this.autoUpdate||t._width!==this.shader.texture.height)&&(t._width=this.shader.texture.height,t.update()),r(s(a.prototype),"_render",this).call(this,e)}}]),a}(c.Mesh);t.SimpleRope=h},60980:function(e,t,a){"use strict";var i=a(56690).default,n=a(89728).default,r=a(61655).default,s=a(26389).default,o=function(e){r(a,e);var t=s(a);function a(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10;return i(this,a),(e=t.call(this)).segWidth=s,e.segHeight=o,e.width=n,e.height=r,e.build(),e}return n(a,[{key:"build",value:function(){for(var e=this.segWidth*this.segHeight,t=[],a=[],i=[],n=this.segWidth-1,r=this.segHeight-1,s=this.width/n,o=this.height/r,l=0;l<e;l++){var d=l%this.segWidth,c=l/this.segWidth|0;t.push(d*s,c*o),a.push(d/n,c/r)}for(var u=n*r,h=0;h<u;h++){var f=h%n,p=h/n|0,m=p*this.segWidth+f,g=p*this.segWidth+f+1,v=(p+1)*this.segWidth+f,b=(p+1)*this.segWidth+f+1;i.push(m,g,v,g,b,v)}this.buffers[0].data=new Float32Array(t),this.buffers[1].data=new Float32Array(a),this.indexBuffer.data=new Uint16Array(i),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()}}]),a}(a(70374).MeshGeometry);t.PlaneGeometry=o},58699:function(e,t,a){"use strict";var i=a(56690).default,n=a(89728).default,r=a(61655).default,s=a(26389).default,o=function(e){r(a,e);var t=s(a);function a(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:200,r=arguments.length>1?arguments[1]:void 0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return i(this,a),(e=t.call(this,new Float32Array(4*r.length),new Float32Array(4*r.length),new Uint16Array(6*(r.length-1)))).points=r,e._width=n,e.textureScale=s,e.build(),e}return n(a,[{key:"width",get:function(){return this._width}},{key:"build",value:function(){var e=this.points;if(e){var t=this.getBuffer("aVertexPosition"),a=this.getBuffer("aTextureCoord"),i=this.getIndex();if(!(e.length<1)){t.data.length/4!==e.length&&(t.data=new Float32Array(4*e.length),a.data=new Float32Array(4*e.length),i.data=new Uint16Array(6*(e.length-1)));var n=a.data,r=i.data;n[0]=0,n[1]=0,n[2]=0,n[3]=1;for(var s=0,o=e[0],l=this._width*this.textureScale,d=e.length,c=0;c<d;c++){var u=4*c;if(this.textureScale>0){var h=o.x-e[c].x,f=o.y-e[c].y,p=Math.sqrt(h*h+f*f);o=e[c],s+=p/l}else s=c/(d-1);n[u]=s,n[u+1]=0,n[u+2]=s,n[u+3]=1}for(var m=0,g=0;g<d-1;g++){var v=2*g;r[m++]=v,r[m++]=v+1,r[m++]=v+2,r[m++]=v+2,r[m++]=v+1,r[m++]=v+3}a.update(),i.update(),this.updateVertices()}}}},{key:"updateVertices",value:function(){var e=this.points;if(!(e.length<1)){for(var t,a=e[0],i=0,n=0,r=this.buffers[0].data,s=e.length,o=this.textureScale>0?this.textureScale*this._width/2:this._width/2,l=0;l<s;l++){var d=e[l],c=4*l;n=-((t=l<e.length-1?e[l+1]:d).x-a.x),i=t.y-a.y;var u=10*(1-l/(s-1));u>1&&(u=1);var h=Math.sqrt(i*i+n*n);h<1e-6?(i=0,n=0):(i/=h,n/=h,i*=o,n*=o),r[c]=d.x+i,r[c+1]=d.y+n,r[c+2]=d.x-i,r[c+3]=d.y-n,a=d}this.buffers[0].update()}}},{key:"update",value:function(){this.textureScale>0?this.build():this.updateVertices()}}]),a}(a(70374).MeshGeometry);t.RopeGeometry=o},98976:function(e,t,a){"use strict";var i=a(60980),n=a(58699),r=a(56238),s=a(35781),o=a(74569),l=a(7811);t.PlaneGeometry=i.PlaneGeometry,t.RopeGeometry=n.RopeGeometry,t.NineSlicePlane=r.NineSlicePlane,t.SimpleMesh=s.SimpleMesh,t.SimplePlane=o.SimplePlane,t.SimpleRope=l.SimpleRope},69001:function(e,t,a){"use strict";var i=a(56690).default,n=a(89728).default,r=a(41588).default,s=a(73808).default,o=a(61655).default,l=a(26389).default,d=a(73629),c=a(86889),u=a(86478),h=new d.Point,f=new d.Polygon,p=function(e){o(a,e);var t=l(a);function a(e,n,r){var s,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:d.DRAW_MODES.TRIANGLES;return i(this,a),(s=t.call(this)).geometry=e,s.shader=n,s.state=r||d.State.for2d(),s.drawMode=o,s.start=0,s.size=0,s.uvs=null,s.indices=null,s.vertexData=new Float32Array(1),s.vertexDirty=-1,s._transformID=-1,s._roundPixels=d.settings.ROUND_PIXELS,s.batchUvs=null,s}return n(a,[{key:"geometry",get:function(){return this._geometry},set:function(e){this._geometry!==e&&(this._geometry&&(this._geometry.refCount--,0===this._geometry.refCount&&this._geometry.dispose()),this._geometry=e,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)}},{key:"uvBuffer",get:function(){return this.geometry.buffers[1]}},{key:"verticesBuffer",get:function(){return this.geometry.buffers[0]}},{key:"material",get:function(){return this.shader},set:function(e){this.shader=e}},{key:"blendMode",get:function(){return this.state.blendMode},set:function(e){this.state.blendMode=e}},{key:"roundPixels",get:function(){return this._roundPixels},set:function(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e}},{key:"tint",get:function(){return"tint"in this.shader?this.shader.tint:null},set:function(e){this.shader.tint=e}},{key:"tintValue",get:function(){return this.shader.tintValue}},{key:"texture",get:function(){return"texture"in this.shader?this.shader.texture:null},set:function(e){this.shader.texture=e}},{key:"_render",value:function(e){var t=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===d.DRAW_MODES.TRIANGLES&&t.length<2*a.BATCHABLE_SIZE?this._renderToBatch(e):this._renderDefault(e)}},{key:"_renderDefault",value:function(e){var t=this.shader;t.alpha=this.worldAlpha,t.update&&t.update(),e.batch.flush(),t.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),e.shader.bind(t),e.state.set(this.state),e.geometry.bind(this.geometry,t),e.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)}},{key:"_renderToBatch",value:function(e){var t=this.geometry,a=this.shader;a.uvMatrix&&(a.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=t.indexBuffer.data,this._tintRGB=a._tintRGB,this._texture=a.texture;var i=this.material.pluginName;e.batch.setObjectRenderer(e.plugins[i]),e.plugins[i].render(this)}},{key:"calculateVertices",value:function(){var e=this.geometry.buffers[0],t=e.data,a=e._updateID;if(a!==this.vertexDirty||this._transformID!==this.transform._worldID){this._transformID=this.transform._worldID,this.vertexData.length!==t.length&&(this.vertexData=new Float32Array(t.length));for(var i=this.transform.worldTransform,n=i.a,r=i.b,s=i.c,o=i.d,l=i.tx,c=i.ty,u=this.vertexData,h=0;h<u.length/2;h++){var f=t[2*h],p=t[2*h+1];u[2*h]=n*f+s*p+l,u[2*h+1]=r*f+o*p+c}if(this._roundPixels)for(var m=d.settings.RESOLUTION,g=0;g<u.length;++g)u[g]=Math.round(u[g]*m)/m;this.vertexDirty=a}}},{key:"calculateUvs",value:function(){var e=this.geometry.buffers[1],t=this.shader;t.uvMatrix.isSimple?this.uvs=e.data:(this.batchUvs||(this.batchUvs=new u.MeshBatchUvs(e,t.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)}},{key:"_calculateBounds",value:function(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)}},{key:"containsPoint",value:function(e){if(!this.getBounds().contains(e.x,e.y))return!1;this.worldTransform.applyInverse(e,h);for(var t=this.geometry.getBuffer("aVertexPosition").data,a=f.points,i=this.geometry.getIndex().data,n=i.length,r=4===this.drawMode?3:1,s=0;s+2<n;s+=r){var o=2*i[s],l=2*i[s+1],d=2*i[s+2];if(a[0]=t[o],a[1]=t[o+1],a[2]=t[l],a[3]=t[l+1],a[4]=t[d],a[5]=t[d+1],f.contains(h.x,h.y))return!0}return!1}},{key:"destroy",value:function(e){r(s(a.prototype),"destroy",this).call(this,e),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null}}]),a}(c.Container);p.BATCHABLE_SIZE=100;var m=p;t.Mesh=m},86478:function(e,t,a){"use strict";var i=a(56690).default,n=a(89728).default,r=function(){function e(t,a){i(this,e),this.uvBuffer=t,this.uvMatrix=a,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}return n(e,[{key:"update",value:function(e){if(e||this._bufferUpdateId!==this.uvBuffer._updateID||this._textureUpdateId!==this.uvMatrix._updateID){this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;var t=this.uvBuffer.data;(!this.data||this.data.length!==t.length)&&(this.data=new Float32Array(t.length)),this.uvMatrix.multiplyUvs(t,this.data),this._updateID++}}}]),e}();t.MeshBatchUvs=r},85981:function(e,t,a){"use strict";var i=a(56690).default,n=a(89728).default,r=a(61655).default,s=a(26389).default,o=a(73629),l=function(e){r(a,e);var t=s(a);function a(e,n,r){var s;i(this,a),s=t.call(this);var l=new o.Buffer(e),d=new o.Buffer(n,!0),c=new o.Buffer(r,!0,!0);return s.addAttribute("aVertexPosition",l,2,!1,o.TYPES.FLOAT).addAttribute("aTextureCoord",d,2,!1,o.TYPES.FLOAT).addIndex(c),s._updateId=-1,s}return n(a,[{key:"vertexDirtyId",get:function(){return this.buffers[0]._updateID}}]),a}(o.Geometry);t.MeshGeometry=l},51056:function(e,t,a){"use strict";var i=a(56690).default,n=a(89728).default,r=a(61655).default,s=a(26389).default,o=a(73629),l=a(81054),d=a(15585),c=function(e){r(a,e);var t=s(a);function a(e,n){var r;i(this,a);var s={uSampler:e,alpha:1,uTextureMatrix:o.Matrix.IDENTITY,uColor:new Float32Array([1,1,1,1])};return(n=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},n)).uniforms&&Object.assign(s,n.uniforms),(r=t.call(this,n.program||o.Program.from(d.default,l.default),s))._colorDirty=!1,r.uvMatrix=new o.TextureMatrix(e),r.batchable=void 0===n.program,r.pluginName=n.pluginName,r._tintColor=new o.Color(n.tint),r._tintRGB=r._tintColor.toLittleEndianNumber(),r._colorDirty=!0,r.alpha=n.alpha,r}return n(a,[{key:"texture",get:function(){return this.uniforms.uSampler},set:function(e){this.uniforms.uSampler!==e&&(!this.uniforms.uSampler.baseTexture.alphaMode!=!e.baseTexture.alphaMode&&(this._colorDirty=!0),this.uniforms.uSampler=e,this.uvMatrix.texture=e)}},{key:"alpha",get:function(){return this._alpha},set:function(e){e!==this._alpha&&(this._alpha=e,this._colorDirty=!0)}},{key:"tint",get:function(){return this._tintColor.value},set:function(e){e!==this.tint&&(this._tintColor.setValue(e),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0)}},{key:"tintValue",get:function(){return this._tintColor.toNumber()}},{key:"update",value:function(){if(this._colorDirty){this._colorDirty=!1;var e=this.texture.baseTexture.alphaMode;o.Color.shared.setValue(this._tintColor).premultiply(this._alpha,e).toArray(this.uniforms.uColor)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)}}]),a}(o.Shader);t.MeshMaterial=c},70374:function(e,t,a){"use strict";var i=a(69001),n=a(86478),r=a(85981),s=a(51056);t.Mesh=i.Mesh,t.MeshBatchUvs=n.MeshBatchUvs,t.MeshGeometry=r.MeshGeometry,t.MeshMaterial=s.MeshMaterial},81054:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default="varying vec2 vTextureCoord;\nuniform vec4 uColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;\n}\n"},15585:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTextureMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\n}\n"},36344:function(e,t,a){"use strict";var i=a(89728).default,n=a(56690).default,r=a(73629),s=a(86889),o=a(2721),l=new r.Matrix;s.DisplayObject.prototype._cacheAsBitmap=!1,s.DisplayObject.prototype._cacheData=null,s.DisplayObject.prototype._cacheAsBitmapResolution=null,s.DisplayObject.prototype._cacheAsBitmapMultisample=null;var d=i((function e(){n(this,e),this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}));Object.defineProperties(s.DisplayObject.prototype,{cacheAsBitmapResolution:{get:function(){return this._cacheAsBitmapResolution},set:function(e){e!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=e,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get:function(){return this._cacheAsBitmapMultisample},set:function(e){e!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=e,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(e){var t;this._cacheAsBitmap!==e&&(this._cacheAsBitmap=e,e?(this._cacheData||(this._cacheData=new d),(t=this._cacheData).originalRender=this.render,t.originalRenderCanvas=this.renderCanvas,t.originalUpdateTransform=this.updateTransform,t.originalCalculateBounds=this.calculateBounds,t.originalGetLocalBounds=this.getLocalBounds,t.originalDestroy=this.destroy,t.originalContainsPoint=this.containsPoint,t.originalMask=this._mask,t.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):((t=this._cacheData).sprite&&this._destroyCachedDisplayObject(),this.render=t.originalRender,this.renderCanvas=t.originalRenderCanvas,this.calculateBounds=t.originalCalculateBounds,this.getLocalBounds=t.originalGetLocalBounds,this.destroy=t.originalDestroy,this.updateTransform=t.originalUpdateTransform,this.containsPoint=t.originalContainsPoint,this._mask=t.originalMask,this.filterArea=t.originalFilterArea))}}}),s.DisplayObject.prototype._renderCached=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(e),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(e))},s.DisplayObject.prototype._initCachedDisplayObject=function(e){var t,a,i;if(null===(t=this._cacheData)||void 0===t||!t.sprite){var n=this.alpha;this.alpha=1,e.batch.flush();var s=this.getLocalBounds(new r.Rectangle,!0);if(null!==(a=this.filters)&&void 0!==a&&a.length){var d=this.filters[0].padding;s.pad(d)}var c=this.cacheAsBitmapResolution||e.resolution;s.ceil(c),s.width=Math.max(s.width,1/c),s.height=Math.max(s.height,1/c);var u=e.renderTexture.current,h=e.renderTexture.sourceFrame.clone(),f=e.renderTexture.destinationFrame.clone(),p=e.projection.transform,m=r.RenderTexture.create({width:s.width,height:s.height,resolution:c,multisample:null!==(i=this.cacheAsBitmapMultisample)&&void 0!==i?i:e.multisample}),g="cacheAsBitmap_".concat(r.utils.uid());this._cacheData.textureCacheId=g,r.BaseTexture.addToCache(m.baseTexture,g),r.Texture.addToCache(m,g);var v=this.transform.localTransform.copyTo(l).invert().translate(-s.x,-s.y);this.render=this._cacheData.originalRender,e.render(this,{renderTexture:m,clear:!0,transform:v,skipUpdateTransform:!1}),e.framebuffer.blit(),e.projection.transform=p,e.renderTexture.bind(u,h,f),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=n;var b=new o.Sprite(m);b.transform.worldTransform=this.transform.worldTransform,b.anchor.x=-s.x/s.width,b.anchor.y=-s.y/s.height,b.alpha=n,b._bounds=this._bounds,this._cacheData.sprite=b,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=b.containsPoint.bind(b)}},s.DisplayObject.prototype._renderCachedCanvas=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(e),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(e))},s.DisplayObject.prototype._initCachedDisplayObjectCanvas=function(e){var t;if(null===(t=this._cacheData)||void 0===t||!t.sprite){var a=this.getLocalBounds(new r.Rectangle,!0),i=this.alpha;this.alpha=1;var n=e.canvasContext.activeContext,s=e._projTransform,d=this.cacheAsBitmapResolution||e.resolution;a.ceil(d),a.width=Math.max(a.width,1/d),a.height=Math.max(a.height,1/d);var c=r.RenderTexture.create({width:a.width,height:a.height,resolution:d}),u="cacheAsBitmap_".concat(r.utils.uid());this._cacheData.textureCacheId=u,r.BaseTexture.addToCache(c.baseTexture,u),r.Texture.addToCache(c,u);var h=l;this.transform.localTransform.copyTo(h),h.invert(),h.tx-=a.x,h.ty-=a.y,this.renderCanvas=this._cacheData.originalRenderCanvas,e.render(this,{renderTexture:c,clear:!0,transform:h,skipUpdateTransform:!1}),e.canvasContext.activeContext=n,e._projTransform=s,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=i;var f=new o.Sprite(c);f.transform.worldTransform=this.transform.worldTransform,f.anchor.x=-a.x/a.width,f.anchor.y=-a.y/a.height,f.alpha=i,f._bounds=this._bounds,this._cacheData.sprite=f,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=e._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=f.containsPoint.bind(f)}},s.DisplayObject.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID},s.DisplayObject.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)},s.DisplayObject.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,r.BaseTexture.removeFromCache(this._cacheData.textureCacheId),r.Texture.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null},s.DisplayObject.prototype._cacheAsBitmapDestroy=function(e){this.cacheAsBitmap=!1,this.destroy(e)},t.CacheData=d},3046:function(e,t,a){"use strict";var i=a(86889);i.DisplayObject.prototype.name=null,i.Container.prototype.getChildByName=function(e,t){for(var a=0,i=this.children.length;a<i;a++)if(this.children[a].name===e)return this.children[a];if(t)for(var n=0,r=this.children.length;n<r;n++){var s=this.children[n];if(s.getChildByName){var o=s.getChildByName(e,!0);if(o)return o}}return null}},20222:function(e,t,a){"use strict";var i=a(73629);a(86889).DisplayObject.prototype.getGlobalPosition=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new i.Point,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.parent?this.parent.toGlobal(this.position,e,t):(e.x=this.position.x,e.y=this.position.y),e}},29036:function(e,t,a){"use strict";var i=a(56690).default,n=a(89728).default,r=a(73629),s=function(){function e(t,a,n){i(this,e),this.geometry=new r.Geometry,this.indexBuffer=null,this.size=n,this.dynamicProperties=[],this.staticProperties=[];for(var s=0;s<t.length;++s){var o=t[s];o={attributeName:o.attributeName,size:o.size,uploadFunction:o.uploadFunction,type:o.type||r.TYPES.FLOAT,offset:o.offset},a[s]?this.dynamicProperties.push(o):this.staticProperties.push(o)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}return n(e,[{key:"initBuffers",value:function(){var e=this.geometry,t=0;this.indexBuffer=new r.Buffer(r.utils.createIndicesForQuads(this.size),!0,!0),e.addIndex(this.indexBuffer),this.dynamicStride=0;for(var a=0;a<this.dynamicProperties.length;++a){var i=this.dynamicProperties[a];i.offset=t,t+=i.size,this.dynamicStride+=i.size}var n=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(n),this.dynamicDataUint32=new Uint32Array(n),this.dynamicBuffer=new r.Buffer(this.dynamicData,!1,!1);var s=0;this.staticStride=0;for(var o=0;o<this.staticProperties.length;++o){var l=this.staticProperties[o];l.offset=s,s+=l.size,this.staticStride+=l.size}var d=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(d),this.staticDataUint32=new Uint32Array(d),this.staticBuffer=new r.Buffer(this.staticData,!0,!1);for(var c=0;c<this.dynamicProperties.length;++c){var u=this.dynamicProperties[c];e.addAttribute(u.attributeName,this.dynamicBuffer,0,u.type===r.TYPES.UNSIGNED_BYTE,u.type,4*this.dynamicStride,4*u.offset)}for(var h=0;h<this.staticProperties.length;++h){var f=this.staticProperties[h];e.addAttribute(f.attributeName,this.staticBuffer,0,f.type===r.TYPES.UNSIGNED_BYTE,f.type,4*this.staticStride,4*f.offset)}}},{key:"uploadDynamic",value:function(e,t,a){for(var i=0;i<this.dynamicProperties.length;i++){var n=this.dynamicProperties[i];n.uploadFunction(e,t,a,n.type===r.TYPES.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,n.offset)}this.dynamicBuffer._updateID++}},{key:"uploadStatic",value:function(e,t,a){for(var i=0;i<this.staticProperties.length;i++){var n=this.staticProperties[i];n.uploadFunction(e,t,a,n.type===r.TYPES.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,n.offset)}this.staticBuffer._updateID++}},{key:"destroy",value:function(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()}}]),e}();t.ParticleBuffer=s},85413:function(e,t,a){"use strict";var i=a(56690).default,n=a(89728).default,r=a(41588).default,s=a(73808).default,o=a(61655).default,l=a(26389).default,d=a(73629),c=function(e){o(a,e);var t=l(a);function a(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1500,r=arguments.length>1?arguments[1]:void 0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16384,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];i(this,a);return s>16384&&(s=16384),(e=t.call(this))._properties=[!1,!0,!1,!1,!1],e._maxSize=n,e._batchSize=s,e._buffers=null,e._bufferUpdateIDs=[],e._updateID=0,e.interactiveChildren=!1,e.blendMode=d.BLEND_MODES.NORMAL,e.autoResize=o,e.roundPixels=!0,e.baseTexture=null,e.setProperties(r),e._tintColor=new d.Color(0),e.tintRgb=new Float32Array(3),e.tint=16777215,e}return n(a,[{key:"setProperties",value:function(e){e&&(this._properties[0]="vertices"in e||"scale"in e?!!e.vertices||!!e.scale:this._properties[0],this._properties[1]="position"in e?!!e.position:this._properties[1],this._properties[2]="rotation"in e?!!e.rotation:this._properties[2],this._properties[3]="uvs"in e?!!e.uvs:this._properties[3],this._properties[4]="tint"in e||"alpha"in e?!!e.tint||!!e.alpha:this._properties[4])}},{key:"updateTransform",value:function(){this.displayObjectUpdateTransform()}},{key:"tint",get:function(){return this._tintColor.value},set:function(e){this._tintColor.setValue(e),this._tintColor.toRgbArray(this.tintRgb)}},{key:"render",value:function(e){var t=this;!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable||(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",(function(){return t.onChildrenChange(0)}))),e.batch.setObjectRenderer(e.plugins.particle),e.plugins.particle.render(this))}},{key:"onChildrenChange",value:function(e){for(var t=Math.floor(e/this._batchSize);this._bufferUpdateIDs.length<t;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[t]=++this._updateID}},{key:"dispose",value:function(){if(this._buffers){for(var e=0;e<this._buffers.length;++e)this._buffers[e].destroy();this._buffers=null}}},{key:"destroy",value:function(e){r(s(a.prototype),"destroy",this).call(this,e),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null}}]),a}(a(86889).Container);t.ParticleContainer=c},29764:function(e,t,a){"use strict";var i=a(56690).default,n=a(89728).default,r=a(41588).default,s=a(73808).default,o=a(61655).default,l=a(26389).default,d=a(73629),c=a(29036),u=a(18434),h=a(26079),f=function(e){o(a,e);var t=l(a);function a(e){var n;return i(this,a),(n=t.call(this,e)).shader=null,n.properties=null,n.tempMatrix=new d.Matrix,n.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:n.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:n.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:n.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:n.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:d.TYPES.UNSIGNED_BYTE,uploadFunction:n.uploadTint,offset:0}],n.shader=d.Shader.from(h.default,u.default,{}),n.state=d.State.for2d(),n}return n(a,[{key:"render",value:function(e){var t=e.children,a=e._maxSize,i=e._batchSize,n=this.renderer,r=t.length;if(0!==r){r>a&&!e.autoResize&&(r=a);var s=e._buffers;s||(s=e._buffers=this.generateBuffers(e));var o=t[0]._texture.baseTexture,l=o.alphaMode>0;this.state.blendMode=d.utils.correctBlendMode(e.blendMode,l),n.state.set(this.state);var c=n.gl,u=e.worldTransform.copyTo(this.tempMatrix);u.prepend(n.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=u.toArray(!0),this.shader.uniforms.uColor=d.Color.shared.setValue(e.tintRgb).premultiply(e.worldAlpha,l).toArray(this.shader.uniforms.uColor),this.shader.uniforms.uSampler=o,this.renderer.shader.bind(this.shader);for(var h=!1,f=0,p=0;f<r;f+=i,p+=1){var m=r-f;m>i&&(m=i),p>=s.length&&s.push(this._generateOneMoreBuffer(e));var g=s[p];g.uploadDynamic(t,f,m);var v=e._bufferUpdateIDs[p]||0;(h=h||g._updateID<v)&&(g._updateID=e._updateID,g.uploadStatic(t,f,m)),n.geometry.bind(g.geometry),c.drawElements(c.TRIANGLES,6*m,c.UNSIGNED_SHORT,0)}}}},{key:"generateBuffers",value:function(e){for(var t=[],a=e._maxSize,i=e._batchSize,n=e._properties,r=0;r<a;r+=i)t.push(new c.ParticleBuffer(this.properties,n,i));return t}},{key:"_generateOneMoreBuffer",value:function(e){var t=e._batchSize,a=e._properties;return new c.ParticleBuffer(this.properties,a,t)}},{key:"uploadVertices",value:function(e,t,a,i,n,r){for(var s=0,o=0,l=0,d=0,c=0;c<a;++c){var u=e[t+c],h=u._texture,f=u.scale.x,p=u.scale.y,m=h.trim,g=h.orig;m?(s=(o=m.x-u.anchor.x*g.width)+m.width,l=(d=m.y-u.anchor.y*g.height)+m.height):(s=g.width*(1-u.anchor.x),o=g.width*-u.anchor.x,l=g.height*(1-u.anchor.y),d=g.height*-u.anchor.y),i[r]=o*f,i[r+1]=d*p,i[r+n]=s*f,i[r+n+1]=d*p,i[r+2*n]=s*f,i[r+2*n+1]=l*p,i[r+3*n]=o*f,i[r+3*n+1]=l*p,r+=4*n}}},{key:"uploadPosition",value:function(e,t,a,i,n,r){for(var s=0;s<a;s++){var o=e[t+s].position;i[r]=o.x,i[r+1]=o.y,i[r+n]=o.x,i[r+n+1]=o.y,i[r+2*n]=o.x,i[r+2*n+1]=o.y,i[r+3*n]=o.x,i[r+3*n+1]=o.y,r+=4*n}}},{key:"uploadRotation",value:function(e,t,a,i,n,r){for(var s=0;s<a;s++){var o=e[t+s].rotation;i[r]=o,i[r+n]=o,i[r+2*n]=o,i[r+3*n]=o,r+=4*n}}},{key:"uploadUvs",value:function(e,t,a,i,n,r){for(var s=0;s<a;++s){var o=e[t+s]._texture._uvs;o?(i[r]=o.x0,i[r+1]=o.y0,i[r+n]=o.x1,i[r+n+1]=o.y1,i[r+2*n]=o.x2,i[r+2*n+1]=o.y2,i[r+3*n]=o.x3,i[r+3*n+1]=o.y3,r+=4*n):(i[r]=0,i[r+1]=0,i[r+n]=0,i[r+n+1]=0,i[r+2*n]=0,i[r+2*n+1]=0,i[r+3*n]=0,i[r+3*n+1]=0,r+=4*n)}}},{key:"uploadTint",value:function(e,t,a,i,n,r){for(var s=0;s<a;++s){var o=e[t+s],l=d.Color.shared.setValue(o._tintRGB).toPremultiplied(o.alpha,o.texture.baseTexture.alphaMode>0);i[r]=l,i[r+n]=l,i[r+2*n]=l,i[r+3*n]=l,r+=4*n}}},{key:"destroy",value:function(){r(s(a.prototype),"destroy",this).call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null}}]),a}(d.ObjectRenderer);f.extension={name:"particle",type:d.ExtensionType.RendererPlugin},d.extensions.add(f),t.ParticleRenderer=f},61126:function(e,t,a){"use strict";var i=a(85413),n=a(29764);t.ParticleContainer=i.ParticleContainer,t.ParticleRenderer=n.ParticleRenderer},18434:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default="varying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;\n    gl_FragColor = color;\n}"},26079:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nattribute vec2 aPositionCoord;\nattribute float aRotation;\n\nuniform mat3 translationMatrix;\nuniform vec4 uColor;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvoid main(void){\n    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);\n    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);\n\n    vec2 v = vec2(x, y);\n    v = v + aPositionCoord;\n\n    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vColor = aColor * uColor;\n}\n"},97660:function(e,t,a){"use strict";var i=a(56690).default,n=a(89728).default,r=a(73629),s=a(86889),o=a(37224),l=a(96076);function d(e,t){var a,i=!1;if(null!==e&&void 0!==e&&null!==(a=e._textures)&&void 0!==a&&a.length)for(var n=0;n<e._textures.length;n++)if(e._textures[n]instanceof r.Texture){var s=e._textures[n].baseTexture;t.includes(s)||(t.push(s),i=!0)}return i}function c(e,t){if(e.baseTexture instanceof r.BaseTexture){var a=e.baseTexture;return t.includes(a)||t.push(a),!0}return!1}function u(e,t){if(e._texture&&e._texture instanceof r.Texture){var a=e._texture.baseTexture;return t.includes(a)||t.push(a),!0}return!1}function h(e,t){return t instanceof o.Text&&(t.updateText(!0),!0)}function f(e,t){if(t instanceof o.TextStyle){var a=t.toFontString();return o.TextMetrics.measureFont(a),!0}return!1}function p(e,t){if(e instanceof o.Text){t.includes(e.style)||t.push(e.style),t.includes(e)||t.push(e);var a=e._texture.baseTexture;return t.includes(a)||t.push(a),!0}return!1}function m(e,t){return e instanceof o.TextStyle&&(t.includes(e)||t.push(e),!0)}var g=function(){function e(t){var a=this;i(this,e),this.limiter=new l.CountLimiter(e.uploadsPerFrame),this.renderer=t,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){a.queue&&a.prepareItems()},this.registerFindHook(p),this.registerFindHook(m),this.registerFindHook(d),this.registerFindHook(c),this.registerFindHook(u),this.registerUploadHook(h),this.registerUploadHook(f)}return n(e,[{key:"upload",value:function(e){var t=this;return new Promise((function(a){e&&t.add(e),t.queue.length?(t.completes.push(a),t.ticking||(t.ticking=!0,r.Ticker.system.addOnce(t.tick,t,r.UPDATE_PRIORITY.UTILITY))):a()}))}},{key:"tick",value:function(){setTimeout(this.delayedTick,0)}},{key:"prepareItems",value:function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var e=this.queue[0],t=!1;if(e&&!e._destroyed)for(var a=0,i=this.uploadHooks.length;a<i;a++)if(this.uploadHooks[a](this.uploadHookHelper,e)){this.queue.shift(),t=!0;break}t||this.queue.shift()}if(this.queue.length)r.Ticker.system.addOnce(this.tick,this,r.UPDATE_PRIORITY.UTILITY);else{this.ticking=!1;var n=this.completes.slice(0);this.completes.length=0;for(var s=0,o=n.length;s<o;s++)n[s]()}}},{key:"registerFindHook",value:function(e){return e&&this.addHooks.push(e),this}},{key:"registerUploadHook",value:function(e){return e&&this.uploadHooks.push(e),this}},{key:"add",value:function(e){for(var t=0,a=this.addHooks.length;t<a&&!this.addHooks[t](e,this.queue);t++);if(e instanceof s.Container)for(var i=e.children.length-1;i>=0;i--)this.add(e.children[i]);return this}},{key:"destroy",value:function(){this.ticking&&r.Ticker.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null}}]),e}();g.uploadsPerFrame=4;var v=g;t.BasePrepare=v},96076:function(e,t,a){"use strict";var i=a(56690).default,n=a(89728).default,r=function(){function e(t){i(this,e),this.maxItemsPerFrame=t,this.itemsLeft=0}return n(e,[{key:"beginFrame",value:function(){this.itemsLeft=this.maxItemsPerFrame}},{key:"allowedToUpload",value:function(){return this.itemsLeft-- >0}}]),e}();t.CountLimiter=r},48673:function(e,t,a){"use strict";var i=a(89728).default,n=a(56690).default,r=a(61655).default,s=a(26389).default,o=a(73629),l=a(84112);function d(e,t){return t instanceof o.BaseTexture&&(t._glTextures[e.CONTEXT_UID]||e.texture.bind(t),!0)}function c(e,t){if(!(t instanceof l.Graphics))return!1;var a=t.geometry;t.finishPoly(),a.updateBatches();for(var i=a.batches,n=0;n<i.length;n++){var r=i[n].style.texture;r&&d(e,r.baseTexture)}return a.batchable||e.geometry.bind(a,t._resolveDirectShader(e)),!0}function u(e,t){return e instanceof l.Graphics&&(t.push(e),!0)}var h=function(e){r(a,e);var t=s(a);function a(e){var i;return n(this,a),(i=t.call(this,e)).uploadHookHelper=i.renderer,i.registerFindHook(u),i.registerUploadHook(d),i.registerUploadHook(c),i}return i(a)}(a(97660).BasePrepare);h.extension={name:"prepare",type:o.ExtensionType.RendererSystem},o.extensions.add(h),t.Prepare=h},44034:function(e,t,a){"use strict";var i=a(56690).default,n=a(89728).default,r=function(){function e(t){i(this,e),this.maxMilliseconds=t,this.frameStart=0}return n(e,[{key:"beginFrame",value:function(){this.frameStart=Date.now()}},{key:"allowedToUpload",value:function(){return Date.now()-this.frameStart<this.maxMilliseconds}}]),e}();t.TimeLimiter=r},33608:function(e,t,a){"use strict";a(63286);var i=a(97660),n=a(96076),r=a(48673),s=a(44034);t.BasePrepare=i.BasePrepare,t.CountLimiter=n.CountLimiter,t.Prepare=r.Prepare,t.TimeLimiter=s.TimeLimiter},63286:function(e,t,a){"use strict";var i=a(73629),n=a(97660);Object.defineProperties(i.settings,{UPLOADS_PER_FRAME:{get:function(){return n.BasePrepare.uploadsPerFrame},set:function(e){i.utils.deprecation("7.1.0","settings.UPLOADS_PER_FRAME is deprecated, use prepare.BasePrepare.uploadsPerFrame"),n.BasePrepare.uploadsPerFrame=e}}}),Object.defineProperty(t,"settings",{enumerable:!0,get:function(){return i.settings}})},84578:function(e,t,a){"use strict";var i=a(56690).default,n=a(89728).default,r=function(){function e(t){i(this,e),this.items=[],this._name=t,this._aliasCount=0}return n(e,[{key:"emit",value:function(e,t,a,i,n,r,s,o){if(arguments.length>8)throw new Error("max arguments reached");var l=this.name,d=this.items;this._aliasCount++;for(var c=0,u=d.length;c<u;c++)d[c][l](e,t,a,i,n,r,s,o);return d===this.items&&this._aliasCount--,this}},{key:"ensureNonAliasedItems",value:function(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))}},{key:"add",value:function(e){return e[this._name]&&(this.ensureNonAliasedItems(),this.remove(e),this.items.push(e)),this}},{key:"remove",value:function(e){var t=this.items.indexOf(e);return-1!==t&&(this.ensureNonAliasedItems(),this.items.splice(t,1)),this}},{key:"contains",value:function(e){return this.items.includes(e)}},{key:"removeAll",value:function(){return this.ensureNonAliasedItems(),this.items.length=0,this}},{key:"destroy",value:function(){this.removeAll(),this.items.length=0,this._name=""}},{key:"empty",get:function(){return 0===this.items.length}},{key:"name",get:function(){return this._name}}]),e}();Object.defineProperties(r.prototype,{dispatch:{value:r.prototype.emit},run:{value:r.prototype.emit}}),t.Runner=r},35491:function(e,t,a){"use strict";var i=a(84578);t.Runner=i.Runner},80065:function(){},61611:function(){},16789:function(e,t){"use strict";var a={createCanvas:function(e,t){var a=document.createElement("canvas");return a.width=e,a.height=t,a},getCanvasRenderingContext2D:function(){return CanvasRenderingContext2D},getWebGLRenderingContext:function(){return WebGLRenderingContext},getNavigator:function(){return navigator},getBaseUrl:function(){var e;return null!==(e=document.baseURI)&&void 0!==e?e:window.location.href},getFontFaceSet:function(){return document.fonts},fetch:function(e){function t(t,a){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,t){return fetch(e,t)})),parseXML:function(e){return(new DOMParser).parseFromString(e,"text/xml")}};t.BrowserAdapter=a},5884:function(e,t,a){"use strict";var i=a(16789);a(80065),a(61611);var n=a(59879),r=a(12322);t.BrowserAdapter=i.BrowserAdapter,t.settings=n.settings,t.isMobile=r.isMobile},59879:function(e,t,a){"use strict";var i={ADAPTER:a(16789).BrowserAdapter,RESOLUTION:1,CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1};t.settings=i},12322:function(e,t,a){"use strict";var i,n=a(30929),r=(null!==(i=n.default)&&void 0!==i?i:n)(globalThis.navigator);t.isMobile=r},99209:function(e,t,a){"use strict";var i=a(56690).default,n=a(89728).default,r=a(41588).default,s=a(73808).default,o=a(61655).default,l=a(26389).default,d=a(73629),c=function(e){o(a,e);var t=l(a);function a(e){var n,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return i(this,a),(n=t.call(this,e[0]instanceof d.Texture?e[0]:e[0].texture))._textures=null,n._durations=null,n._autoUpdate=r,n._isConnectedToTicker=!1,n.animationSpeed=1,n.loop=!0,n.updateAnchor=!1,n.onComplete=null,n.onFrameChange=null,n.onLoop=null,n._currentTime=0,n._playing=!1,n._previousFrame=null,n.textures=e,n}return n(a,[{key:"stop",value:function(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(d.Ticker.shared.remove(this.update,this),this._isConnectedToTicker=!1))}},{key:"play",value:function(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(d.Ticker.shared.add(this.update,this,d.UPDATE_PRIORITY.HIGH),this._isConnectedToTicker=!0))}},{key:"gotoAndStop",value:function(e){this.stop(),this.currentFrame=e}},{key:"gotoAndPlay",value:function(e){this.currentFrame=e,this.play()}},{key:"update",value:function(e){if(this._playing){var t=this.animationSpeed*e,a=this.currentFrame;if(null!==this._durations){var i=this._currentTime%1*this._durations[this.currentFrame];for(i+=t/60*1e3;i<0;)this._currentTime--,i+=this._durations[this.currentFrame];var n=Math.sign(this.animationSpeed*e);for(this._currentTime=Math.floor(this._currentTime);i>=this._durations[this.currentFrame];)i-=this._durations[this.currentFrame]*n,this._currentTime+=n;this._currentTime+=i/this._durations[this.currentFrame]}else this._currentTime+=t;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):a!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<a||this.animationSpeed<0&&this.currentFrame>a)&&this.onLoop(),this.updateTexture())}}},{key:"updateTexture",value:function(){var e=this.currentFrame;this._previousFrame!==e&&(this._previousFrame=e,this._texture=this._textures[e],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))}},{key:"destroy",value:function(e){this.stop(),r(s(a.prototype),"destroy",this).call(this,e),this.onComplete=null,this.onFrameChange=null,this.onLoop=null}},{key:"totalFrames",get:function(){return this._textures.length}},{key:"textures",get:function(){return this._textures},set:function(e){if(e[0]instanceof d.Texture)this._textures=e,this._durations=null;else{this._textures=[],this._durations=[];for(var t=0;t<e.length;t++)this._textures.push(e[t].texture),this._durations.push(e[t].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()}},{key:"currentFrame",get:function(){var e=Math.floor(this._currentTime)%this._textures.length;return e<0&&(e+=this._textures.length),e},set:function(e){if(e<0||e>this.totalFrames-1)throw new Error("[AnimatedSprite]: Invalid frame index value ".concat(e,", expected to be between 0 and totalFrames ").concat(this.totalFrames,"."));var t=this.currentFrame;this._currentTime=e,t!==this.currentFrame&&this.updateTexture()}},{key:"playing",get:function(){return this._playing}},{key:"autoUpdate",get:function(){return this._autoUpdate},set:function(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(d.Ticker.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(d.Ticker.shared.add(this.update,this),this._isConnectedToTicker=!0))}}],[{key:"fromFrames",value:function(e){for(var t=[],i=0;i<e.length;++i)t.push(d.Texture.from(e[i]));return new a(t)}},{key:"fromImages",value:function(e){for(var t=[],i=0;i<e.length;++i)t.push(d.Texture.from(e[i]));return new a(t)}}]),a}(a(2721).Sprite);t.AnimatedSprite=c},61857:function(e,t,a){"use strict";var i=a(99209);t.AnimatedSprite=i.AnimatedSprite},46171:function(e,t,a){"use strict";var i=a(56690).default,n=a(89728).default,r=a(41588).default,s=a(73808).default,o=a(61655).default,l=a(26389).default,d=a(73629),c=a(2721),u=new d.Point,h=function(e){o(a,e);var t=l(a);function a(e){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;return i(this,a),(n=t.call(this,e)).tileTransform=new d.Transform,n._width=r,n._height=s,n.uvMatrix=n.texture.uvMatrix||new d.TextureMatrix(e),n.pluginName="tilingSprite",n.uvRespectAnchor=!1,n}return n(a,[{key:"clampMargin",get:function(){return this.uvMatrix.clampMargin},set:function(e){this.uvMatrix.clampMargin=e,this.uvMatrix.update(!0)}},{key:"tileScale",get:function(){return this.tileTransform.scale},set:function(e){this.tileTransform.scale.copyFrom(e)}},{key:"tilePosition",get:function(){return this.tileTransform.position},set:function(e){this.tileTransform.position.copyFrom(e)}},{key:"_onTextureUpdate",value:function(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215}},{key:"_render",value:function(e){var t=this._texture;!t||!t.valid||(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this))}},{key:"_calculateBounds",value:function(){var e=this._width*-this._anchor._x,t=this._height*-this._anchor._y,a=this._width*(1-this._anchor._x),i=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,e,t,a,i)}},{key:"getLocalBounds",value:function(e){return 0===this.children.length?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new d.Rectangle),e=this._localBoundsRect),this._bounds.getRectangle(e)):r(s(a.prototype),"getLocalBounds",this).call(this,e)}},{key:"containsPoint",value:function(e){this.worldTransform.applyInverse(e,u);var t=this._width,a=this._height,i=-t*this.anchor._x;if(u.x>=i&&u.x<i+t){var n=-a*this.anchor._y;if(u.y>=n&&u.y<n+a)return!0}return!1}},{key:"destroy",value:function(e){r(s(a.prototype),"destroy",this).call(this,e),this.tileTransform=null,this.uvMatrix=null}},{key:"width",get:function(){return this._width},set:function(e){this._width=e}},{key:"height",get:function(){return this._height},set:function(e){this._height=e}}],[{key:"from",value:function(e,t){return new a(e instanceof d.Texture?e:d.Texture.from(e,t),t.width,t.height)}}]),a}(c.Sprite);t.TilingSprite=h},48824:function(e,t,a){"use strict";var i=a(56690).default,n=a(89728).default,r=a(66115).default,s=a(61655).default,o=a(26389).default,l=a(73629),d=a(81924),c=a(98894),u=a(26803),h=a(683),f=a(31596),p=new l.Matrix,m=function(e){s(a,e);var t=o(a);function a(e){var n;return i(this,a),n=t.call(this,e),e.runners.contextChange.add(r(n)),n.quad=new l.QuadUv,n.state=l.State.for2d(),n}return n(a,[{key:"contextChange",value:function(){var e=this.renderer,t={globals:e.globalUniforms};this.simpleShader=l.Shader.from(h.default,f.default,t),this.shader=e.context.webGLVersion>1?l.Shader.from(c.default,d.default,t):l.Shader.from(h.default,u.default,t)}},{key:"render",value:function(e){var t=this.renderer,a=this.quad,i=a.vertices;i[0]=i[6]=e._width*-e.anchor.x,i[1]=i[3]=e._height*-e.anchor.y,i[2]=i[4]=e._width*(1-e.anchor.x),i[5]=i[7]=e._height*(1-e.anchor.y);var n=e.uvRespectAnchor?e.anchor.x:0,r=e.uvRespectAnchor?e.anchor.y:0;(i=a.uvs)[0]=i[6]=-n,i[1]=i[3]=-r,i[2]=i[4]=1-n,i[5]=i[7]=1-r,a.invalidate();var s=e._texture,o=s.baseTexture,d=o.alphaMode>0,c=e.tileTransform.localTransform,u=e.uvMatrix,h=o.isPowerOfTwo&&s.frame.width===o.width&&s.frame.height===o.height;h&&(o._glTextures[t.CONTEXT_UID]?h=o.wrapMode!==l.WRAP_MODES.CLAMP:o.wrapMode===l.WRAP_MODES.CLAMP&&(o.wrapMode=l.WRAP_MODES.REPEAT));var f=h?this.simpleShader:this.shader,m=s.width,g=s.height,v=e._width,b=e._height;p.set(c.a*m/v,c.b*m/b,c.c*g/v,c.d*g/b,c.tx/v,c.ty/b),p.invert(),h?p.prepend(u.mapCoord):(f.uniforms.uMapCoord=u.mapCoord.toArray(!0),f.uniforms.uClampFrame=u.uClampFrame,f.uniforms.uClampOffset=u.uClampOffset),f.uniforms.uTransform=p.toArray(!0),f.uniforms.uColor=l.Color.shared.setValue(e.tint).premultiply(e.worldAlpha,d).toArray(f.uniforms.uColor),f.uniforms.translationMatrix=e.transform.worldTransform.toArray(!0),f.uniforms.uSampler=s,t.shader.bind(f),t.geometry.bind(a),this.state.blendMode=l.utils.correctBlendMode(e.blendMode,d),t.state.set(this.state),t.geometry.draw(this.renderer.gl.TRIANGLES,6,0)}}]),a}(l.ObjectRenderer);m.extension={name:"tilingSprite",type:l.ExtensionType.RendererPlugin},l.extensions.add(m),t.TilingSpriteRenderer=m},81158:function(e,t,a){"use strict";var i=a(46171),n=a(48824);t.TilingSprite=i.TilingSprite,t.TilingSpriteRenderer=n.TilingSpriteRenderer},26803:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default="#version 100\n#ifdef GL_EXT_shader_texture_lod\n    #extension GL_EXT_shader_texture_lod : enable\n#endif\n#define SHADER_NAME Tiling-Sprite-100\n\nprecision lowp float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    vec2 unclamped = coord;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    #ifdef GL_EXT_shader_texture_lod\n        vec4 texSample = unclamped == coord\n            ? texture2D(uSampler, coord) \n            : texture2DLodEXT(uSampler, coord, 0);\n    #else\n        vec4 texSample = texture2D(uSampler, coord);\n    #endif\n\n    gl_FragColor = texSample * uColor;\n}\n"},683:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default="#version 100\n#define SHADER_NAME Tiling-Sprite-100\n\nprecision lowp float;\n\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n"},31596:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default="#version 100\n#define SHADER_NAME Tiling-Sprite-Simple-100\n\nprecision lowp float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 texSample = texture2D(uSampler, vTextureCoord);\n    gl_FragColor = texSample * uColor;\n}\n"},81924:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default="#version 300 es\n#define SHADER_NAME Tiling-Sprite-100\n\nprecision lowp float;\n\nin vec2 vTextureCoord;\n\nout vec4 fragmentColor;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    vec2 unclamped = coord;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0\n\n    fragmentColor = texSample * uColor;\n}\n"},98894:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default="#version 300 es\n#define SHADER_NAME Tiling-Sprite-300\n\nprecision lowp float;\n\nin vec2 aVertexPosition;\nin vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nout vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n"},63214:function(e,t,a){"use strict";var i=a(56690).default,n=a(89728).default,r=a(66115).default,s=a(41588).default,o=a(73808).default,l=a(61655).default,d=a(26389).default,c=a(73629),u=a(86889),h=new c.Point,f=new Uint16Array([0,1,2,0,2,3]),p=function(e){l(a,e);var t=d(a);function a(e){var n;return i(this,a),(n=t.call(this))._anchor=new c.ObservablePoint(n._onAnchorUpdate,r(n),e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),n._texture=null,n._width=0,n._height=0,n._tintColor=new c.Color(16777215),n._tintRGB=null,n.tint=16777215,n.blendMode=c.BLEND_MODES.NORMAL,n._cachedTint=16777215,n.uvs=null,n.texture=e||c.Texture.EMPTY,n.vertexData=new Float32Array(8),n.vertexTrimmedData=null,n._transformID=-1,n._textureID=-1,n._transformTrimmedID=-1,n._textureTrimmedID=-1,n.indices=f,n.pluginName="batch",n.isSprite=!0,n._roundPixels=c.settings.ROUND_PIXELS,n}return n(a,[{key:"_onTextureUpdate",value:function(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=c.utils.sign(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=c.utils.sign(this.scale.y)*this._height/this._texture.orig.height)}},{key:"_onAnchorUpdate",value:function(){this._transformID=-1,this._transformTrimmedID=-1}},{key:"calculateVertices",value:function(){var e=this._texture;if(this._transformID!==this.transform._worldID||this._textureID!==e._updateID){this._textureID!==e._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=e._updateID;var t=this.transform.worldTransform,a=t.a,i=t.b,n=t.c,r=t.d,s=t.tx,o=t.ty,l=this.vertexData,d=e.trim,u=e.orig,h=this._anchor,f=0,p=0,m=0,g=0;if(d?(f=(p=d.x-h._x*u.width)+d.width,m=(g=d.y-h._y*u.height)+d.height):(f=(p=-h._x*u.width)+u.width,m=(g=-h._y*u.height)+u.height),l[0]=a*p+n*g+s,l[1]=r*g+i*p+o,l[2]=a*f+n*g+s,l[3]=r*g+i*f+o,l[4]=a*f+n*m+s,l[5]=r*m+i*f+o,l[6]=a*p+n*m+s,l[7]=r*m+i*p+o,this._roundPixels)for(var v=c.settings.RESOLUTION,b=0;b<l.length;++b)l[b]=Math.round(l[b]*v)/v}}},{key:"calculateTrimmedVertices",value:function(){if(this.vertexTrimmedData){if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return}else this.vertexTrimmedData=new Float32Array(8);this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var e=this._texture,t=this.vertexTrimmedData,a=e.orig,i=this._anchor,n=this.transform.worldTransform,r=n.a,s=n.b,o=n.c,l=n.d,d=n.tx,u=n.ty,h=-i._x*a.width,f=h+a.width,p=-i._y*a.height,m=p+a.height;if(t[0]=r*h+o*p+d,t[1]=l*p+s*h+u,t[2]=r*f+o*p+d,t[3]=l*p+s*f+u,t[4]=r*f+o*m+d,t[5]=l*m+s*f+u,t[6]=r*h+o*m+d,t[7]=l*m+s*h+u,this._roundPixels)for(var g=c.settings.RESOLUTION,v=0;v<t.length;++v)t[v]=Math.round(t[v]*g)/g}},{key:"_render",value:function(e){this.calculateVertices(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this)}},{key:"_calculateBounds",value:function(){var e=this._texture.trim,t=this._texture.orig;!e||e.width===t.width&&e.height===t.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))}},{key:"getLocalBounds",value:function(e){return 0===this.children.length?(this._localBounds||(this._localBounds=new u.Bounds),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new c.Rectangle),e=this._localBoundsRect),this._localBounds.getRectangle(e)):s(o(a.prototype),"getLocalBounds",this).call(this,e)}},{key:"containsPoint",value:function(e){this.worldTransform.applyInverse(e,h);var t=this._texture.orig.width,a=this._texture.orig.height,i=-t*this.anchor.x,n=0;return h.x>=i&&h.x<i+t&&(n=-a*this.anchor.y,h.y>=n&&h.y<n+a)}},{key:"destroy",value:function(e){if(s(o(a.prototype),"destroy",this).call(this,e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,"boolean"==typeof e?e:null===e||void 0===e?void 0:e.texture){var t="boolean"==typeof e?e:null===e||void 0===e?void 0:e.baseTexture;this._texture.destroy(!!t)}this._texture=null}},{key:"roundPixels",get:function(){return this._roundPixels},set:function(e){this._roundPixels!==e&&(this._transformID=-1,this._transformTrimmedID=-1),this._roundPixels=e}},{key:"width",get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(e){var t=c.utils.sign(this.scale.x)||1;this.scale.x=t*e/this._texture.orig.width,this._width=e}},{key:"height",get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(e){var t=c.utils.sign(this.scale.y)||1;this.scale.y=t*e/this._texture.orig.height,this._height=e}},{key:"anchor",get:function(){return this._anchor},set:function(e){this._anchor.copyFrom(e)}},{key:"tint",get:function(){return this._tintColor.value},set:function(e){this._tintColor.setValue(e),this._tintRGB=this._tintColor.toLittleEndianNumber()}},{key:"tintValue",get:function(){return this._tintColor.toNumber()}},{key:"texture",get:function(){return this._texture},set:function(e){this._texture!==e&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=e||c.Texture.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,e&&(e.baseTexture.valid?this._onTextureUpdate():e.once("update",this._onTextureUpdate,this)))}}],[{key:"from",value:function(e,t){return new a(e instanceof c.Texture?e:c.Texture.from(e,t))}}]),a}(u.Container);t.Sprite=p},2721:function(e,t,a){"use strict";var i=a(63214);t.Sprite=i.Sprite},57620:function(e,t,a){"use strict";var i=a(56690).default,n=a(89728).default,r=a(73629),s=function(){function e(t,a,n){i(this,e),this.linkedSheets=[],(t instanceof r.BaseTexture||t instanceof r.Texture)&&(t={texture:t,data:a,resolutionFilename:n});var s=t,o=s.texture,l=s.data,d=s.resolutionFilename,c=void 0===d?null:d,u=s.cachePrefix,h=void 0===u?"":u;this.cachePrefix=h,this._texture=o instanceof r.Texture?o:null,this.baseTexture=o instanceof r.BaseTexture?o:this._texture.baseTexture,this.textures={},this.animations={},this.data=l;var f=this.baseTexture.resource;this.resolution=this._updateResolution(c||(f?f.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}return n(e,[{key:"_updateResolution",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this.data.meta.scale,a=r.utils.getResolutionOfUrl(e,null);return null===a&&(a="number"==typeof t?t:parseFloat(null!==t&&void 0!==t?t:"1")),1!==a&&this.baseTexture.setResolution(a),a}},{key:"parse",value:function(){var t=this;return new Promise((function(a){t._callback=a,t._batchIndex=0,t._frameKeys.length<=e.BATCH_SIZE?(t._processFrames(0),t._processAnimations(),t._parseComplete()):t._nextBatch()}))}},{key:"_processFrames",value:function(t){for(var a=t,i=e.BATCH_SIZE;a-t<i&&a<this._frameKeys.length;){var n=this._frameKeys[a],s=this._frames[n],o=s.frame;if(o){var l=null,d=null,c=!1!==s.trimmed&&s.sourceSize?s.sourceSize:s.frame,u=new r.Rectangle(0,0,Math.floor(c.w)/this.resolution,Math.floor(c.h)/this.resolution);l=s.rotated?new r.Rectangle(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.h)/this.resolution,Math.floor(o.w)/this.resolution):new r.Rectangle(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution),!1!==s.trimmed&&s.spriteSourceSize&&(d=new r.Rectangle(Math.floor(s.spriteSourceSize.x)/this.resolution,Math.floor(s.spriteSourceSize.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution)),this.textures[n]=new r.Texture(this.baseTexture,l,u,d,s.rotated?2:0,s.anchor,s.borders),r.Texture.addToCache(this.textures[n],this.cachePrefix+n.toString())}a++}}},{key:"_processAnimations",value:function(){var e=this.data.animations||{};for(var t in e){this.animations[t]=[];for(var a=0;a<e[t].length;a++){var i=e[t][a];this.animations[t].push(this.textures[i])}}}},{key:"_parseComplete",value:function(){var e=this._callback;this._callback=null,this._batchIndex=0,e.call(this,this.textures)}},{key:"_nextBatch",value:function(){var t=this;this._processFrames(this._batchIndex*e.BATCH_SIZE),this._batchIndex++,setTimeout((function(){t._batchIndex*e.BATCH_SIZE<t._frameKeys.length?t._nextBatch():(t._processAnimations(),t._parseComplete())}),0)}},{key:"destroy",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];for(var a in this.textures)this.textures[a].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&(null!==(e=this._texture)&&void 0!==e&&e.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null,this.linkedSheets=[]}}]),e}();s.BATCH_SIZE=1e3;var o=s;t.Spritesheet=o},12574:function(e,t,a){"use strict";var i=a(57620),n=a(1750);t.Spritesheet=i.Spritesheet,t.spritesheetAsset=n.spritesheetAsset},1750:function(e,t,a){"use strict";var i=a(74704).default,n=a(17061).default,r=a(17156).default,s=a(51743),o=a(73629),l=a(57620),d=["jpg","png","jpeg","avif","webp","s3tc","s3tc_sRGB","etc","etc1","pvrtc","atc","astc","bptc"];function c(e,t,a){var i={};if(e.forEach((function(e){i[e]=t})),Object.keys(t.textures).forEach((function(e){i["".concat(t.cachePrefix).concat(e)]=t.textures[e]})),!a){var n=o.utils.path.dirname(e[0]);t.linkedSheets.forEach((function(e,a){Object.assign(i,c(["".concat(n,"/").concat(t.data.meta.related_multi_packs[a])],e,!0))}))}return i}var u={extension:o.ExtensionType.Asset,cache:{test:function(e){return e instanceof l.Spritesheet},getCacheableAssets:function(e,t){return c(e,t,!1)}},resolver:{test:function(e){var t=e.split("?")[0].split("."),a=t.pop(),i=t.pop();return"json"===a&&d.includes(i)},parse:function(e){var t,a,i=e.split(".");return{resolution:parseFloat(null!==(t=null===(a=o.settings.RETINA_PREFIX.exec(e))||void 0===a?void 0:a[1])&&void 0!==t?t:"1"),format:i[i.length-2],src:e}}},loader:{name:"spritesheetLoader",extension:{type:o.ExtensionType.LoadParser,priority:s.LoaderParserPriority.Normal},testParse:function(e,t){return r(n().mark((function a(){return n().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",".json"===o.utils.path.extname(t.src).toLowerCase()&&!!e.frames);case 1:case"end":return a.stop()}}),a)})))()},parse:function(e,t,a){return r(n().mark((function r(){var d,c,u,h,f,p,m,g,v,b,y,x,_,P,A,E,T,w;return n().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(u=null!==(d=null===t||void 0===t?void 0:t.data)&&void 0!==d?d:{},h=u.texture,f=u.imageFilename,p=u.cachePrefix,(m=o.utils.path.dirname(t.src))&&m.lastIndexOf("/")!==m.length-1&&(m+="/"),!h||!h.baseTexture){n.next=7;break}g=h,n.next=12;break;case 7:return v=s.copySearchParams(m+(null!==f&&void 0!==f?f:e.meta.image),t.src),n.next=10,a.load([v]);case 10:n.t0=v,g=n.sent[n.t0];case 12:return b=new l.Spritesheet({texture:g.baseTexture,data:e,resolutionFilename:t.src,cachePrefix:p}),n.next=15,b.parse();case 15:if(y=null===e||void 0===e||null===(c=e.meta)||void 0===c?void 0:c.related_multi_packs,!Array.isArray(y)){n.next=41;break}x=[],_=i(y),n.prev=19,_.s();case 21:if((P=_.n()).done){n.next=29;break}if("string"==typeof(E=P.value)){n.next=25;break}return n.abrupt("continue",27);case 25:T=m+E,(null===(A=t.data)||void 0===A?void 0:A.ignoreMultiPack)||(T=s.copySearchParams(T,t.src),x.push(a.load({src:T,data:{ignoreMultiPack:!0}})));case 27:n.next=21;break;case 29:n.next=34;break;case 31:n.prev=31,n.t1=n.catch(19),_.e(n.t1);case 34:return n.prev=34,_.f(),n.finish(34);case 37:return n.next=39,Promise.all(x);case 39:w=n.sent,b.linkedSheets=w,w.forEach((function(e){e.linkedSheets=[b].concat(b.linkedSheets.filter((function(t){return t!==e})))}));case 41:return n.abrupt("return",b);case 42:case"end":return n.stop()}}),r,null,[[19,31,34,37]])})))()},unload:function(e){e.destroy(!0)}}};o.extensions.add(u),t.spritesheetAsset=u},49577:function(e,t,a){"use strict";var i=a(42122).default,n=a(70215).default,r=a(27424).default,s=a(56690).default,o=a(89728).default,l=["chars","padding","resolution","textureWidth","textureHeight"],d=a(73629),c=a(37224),u=a(75313),h=a(94302);a(71695);var f=a(76784),p=a(68250),m=a(50507),g=function(){function e(t,a,i){var n,o;s(this,e);var l=r(t.info,1)[0],c=r(t.common,1)[0],u=r(t.page,1)[0],h=r(t.distanceField,1)[0],f=d.utils.getResolutionOfUrl(u.file),p={};this._ownsTextures=i,this.font=l.face,this.size=l.size,this.lineHeight=c.lineHeight/f,this.chars={},this.pageTextures=p;for(var m=0;m<t.page.length;m++){var g=t.page[m],v=g.id,b=g.file;p[v]=a instanceof Array?a[m]:a[b],(null===h||void 0===h?void 0:h.fieldType)&&"none"!==h.fieldType&&(p[v].baseTexture.alphaMode=d.ALPHA_MODES.NO_PREMULTIPLIED_ALPHA,p[v].baseTexture.mipmap=d.MIPMAP_MODES.OFF)}for(var y=0;y<t.char.length;y++){var x=t.char[y],_=x.id,P=x.page,A=t.char[y],E=A.x,T=A.y,w=A.width,S=A.height,C=A.xoffset,F=A.yoffset,I=A.xadvance;E/=f,T/=f,w/=f,S/=f,C/=f,F/=f,I/=f;var j=new d.Rectangle(E+p[P].frame.x/f,T+p[P].frame.y/f,w,S);this.chars[_]={xOffset:C,yOffset:F,xAdvance:I,kerning:{},texture:new d.Texture(p[P].baseTexture,j),page:P}}for(var M=0;M<t.kerning.length;M++){var O=t.kerning[M],R=O.first,k=O.second,D=O.amount;R/=f,k/=f,D/=f,this.chars[k]&&(this.chars[k].kerning[R]=D)}this.distanceFieldRange=null===h||void 0===h?void 0:h.distanceRange,this.distanceFieldType=null!==(n=null===h||void 0===h||null===(o=h.fieldType)||void 0===o?void 0:o.toLowerCase())&&void 0!==n?n:"none"}return o(e,[{key:"destroy",value:function(){for(var e in this.chars)this.chars[e].texture.destroy(),this.chars[e].texture=null;for(var t in this.pageTextures)this._ownsTextures&&this.pageTextures[t].destroy(!0),this.pageTextures[t]=null;this.chars=null,this.pageTextures=null}}],[{key:"install",value:function(t,a,i){var n;if(t instanceof u.BitmapFontData)n=t;else{var r=h.autoDetectFormat(t);if(!r)throw new Error("Unrecognized data format for font.");n=r.parse(t)}a instanceof d.Texture&&(a=[a]);var s=new e(n,a,i);return e.available[s.font]=s,s}},{key:"uninstall",value:function(t){var a=e.available[t];if(!a)throw new Error("No font found named '".concat(t,"'"));a.destroy(),delete e.available[t]}},{key:"from",value:function(t,a,r){if(!t)throw new Error("[BitmapFont] Property `name` is required.");var s=Object.assign({},e.defaultOptions,r),o=s.chars,h=s.padding,g=s.resolution,v=s.textureWidth,b=s.textureHeight,y=n(s,l),x=f.resolveCharacters(o),_=a instanceof c.TextStyle?a:new c.TextStyle(a),P=v,A=new u.BitmapFontData;A.info[0]={face:_.fontFamily,size:_.fontSize},A.common[0]={lineHeight:_.fontSize};for(var E,T,w,S=0,C=0,F=0,I=[],j=[],M=0;M<x.length;M++){E||((E=d.settings.ADAPTER.createCanvas()).width=v,E.height=b,T=E.getContext("2d"),w=new d.BaseTexture(E,i({resolution:g},y)),I.push(w),j.push(new d.Texture(w)),A.page.push({id:j.length-1,file:""}));var O=x[M],R=c.TextMetrics.measureText(O,_,!1,E),k=R.width,D=Math.ceil(R.height),B=Math.ceil(("italic"===_.fontStyle?2:1)*k);if(C>=b-D*g){if(0===C)throw new Error("[BitmapFont] textureHeight ".concat(b,"px is too small (fontFamily: '").concat(_.fontFamily,"', fontSize: ").concat(_.fontSize,"px, char: '").concat(O,"')"));--M,E=null,T=null,w=null,C=0,S=0,F=0}else if(F=Math.max(D+R.fontProperties.descent,F),B*g+S>=P){if(0===S)throw new Error("[BitmapFont] textureWidth ".concat(v,"px is too small (fontFamily: '").concat(_.fontFamily,"', fontSize: ").concat(_.fontSize,"px, char: '").concat(O,"')"));--M,C+=F*g,C=Math.ceil(C),S=0,F=0}else{p.drawGlyph(E,T,R,S,C,g,_);var N=m.extractCharCode(R.text);A.char.push({id:N,page:j.length-1,x:S/g,y:C/g,width:B,height:D,xoffset:0,yoffset:0,xadvance:k-(_.dropShadow?_.dropShadowDistance:0)-(_.stroke?_.strokeThickness:0)}),S+=(B+2*h)*g,S=Math.ceil(S)}}if(null===r||void 0===r||!r.skipKerning)for(var L=0,V=x.length;L<V;L++)for(var J=x[L],G=0;G<V;G++){var U=x[G],H=T.measureText(J).width,W=T.measureText(U).width,z=T.measureText(J+U).width-(H+W);z&&A.kerning.push({first:m.extractCharCode(J),second:m.extractCharCode(U),amount:z})}var X=new e(A,j,!0);return void 0!==e.available[t]&&e.uninstall(t),e.available[t]=X,X}}]),e}();g.ALPHA=[["a","z"],["A","Z"]," "],g.NUMERIC=[["0","9"]],g.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],g.ASCII=[[" ","~"]],g.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:g.ALPHANUMERIC},g.available={};var v=g;t.BitmapFont=v},75313:function(e,t,a){"use strict";var i=a(89728).default,n=a(56690).default,r=i((function e(){n(this,e),this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]}));t.BitmapFontData=r},37204:function(e,t,a){"use strict";var i=a(74704).default,n=a(861).default,r=a(56690).default,s=a(89728).default,o=a(66115).default,l=a(41588).default,d=a(73808).default,c=a(61655).default,u=a(26389).default,h=a(73629),f=a(86889),p=a(70374),m=a(49577),g=a(47704),v=a(90125);a(71695);var b=a(42899),y=a(50507),x=[],_=[],P=[],A=function(e){c(a,e);var t=u(a);function a(e){var i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(this,a),i=t.call(this);var s=Object.assign({},a.styleDefaults,n),l=s.align,d=s.tint,c=s.maxWidth,u=s.letterSpacing,f=s.fontName,p=s.fontSize;if(!m.BitmapFont.available[f])throw new Error('Missing BitmapFont "'.concat(f,'"'));return i._activePagesMeshData=[],i._textWidth=0,i._textHeight=0,i._align=l,i._tintColor=new h.Color(d),i._font=void 0,i._fontName=f,i._fontSize=p,i.text=e,i._maxWidth=c,i._maxLineHeight=0,i._letterSpacing=u,i._anchor=new h.ObservablePoint((function(){i.dirty=!0}),o(i),0,0),i._roundPixels=h.settings.ROUND_PIXELS,i.dirty=!0,i._resolution=h.settings.RESOLUTION,i._autoResolution=!0,i._textureCache={},i}return s(a,[{key:"updateText",value:function(){for(var e=m.BitmapFont.available[this._fontName],t=this.fontSize,a=t/e.size,i=new h.Point,r=[],s=[],o=[],l=this._text.replace(/(?:\r\n|\r)/g,"\n")||" ",d=b.splitTextToCharacters(l),c=this._maxWidth*e.size/t,u="none"===e.distanceFieldType?x:_,f=null,A=0,E=0,T=0,w=-1,S=0,C=0,F=0,I=0,j=0;j<d.length;j++){var M=d[j],O=y.extractCharCode(M);if(/(?:\s)/.test(M)&&(w=j,S=A,I++),"\r"!==M&&"\n"!==M){var R=e.chars[O];if(R){f&&R.kerning[f]&&(i.x+=R.kerning[f]);var k=P.pop()||{texture:h.Texture.EMPTY,line:0,charCode:0,prevSpaces:0,position:new h.Point};k.texture=R.texture,k.line=T,k.charCode=O,k.position.x=Math.round(i.x+R.xOffset+this._letterSpacing/2),k.position.y=Math.round(i.y+R.yOffset),k.prevSpaces=I,r.push(k),A=k.position.x+Math.max(R.xAdvance-R.xOffset,R.texture.orig.width),i.x+=R.xAdvance+this._letterSpacing,F=Math.max(F,R.yOffset+R.texture.height),f=O,-1!==w&&c>0&&i.x>c&&(++C,h.utils.removeItems(r,1+w-C,1+j-w),j=w,w=-1,s.push(S),o.push(r.length>0?r[r.length-1].prevSpaces:0),E=Math.max(E,S),T++,i.x=0,i.y+=e.lineHeight,f=null,I=0)}}else s.push(A),o.push(-1),E=Math.max(E,A),++T,++C,i.x=0,i.y+=e.lineHeight,f=null,I=0}var D=d[d.length-1];"\r"!==D&&"\n"!==D&&(/(?:\s)/.test(D)&&(A=S),s.push(A),E=Math.max(E,A),o.push(-1));for(var B=[],N=0;N<=T;N++){var L=0;"right"===this._align?L=E-s[N]:"center"===this._align?L=(E-s[N])/2:"justify"===this._align&&(L=o[N]<0?0:(E-s[N])/o[N]),B.push(L)}var V=r.length,J={},G=[],U=this._activePagesMeshData;u.push.apply(u,n(U));for(var H=0;H<V;H++){var W=r[H].texture,z=W.baseTexture.uid;if(!J[z]){var X=u.pop();if(!X){var Y=new p.MeshGeometry,q=void 0,Z=void 0;"none"===e.distanceFieldType?(q=new p.MeshMaterial(h.Texture.EMPTY),Z=h.BLEND_MODES.NORMAL):(q=new p.MeshMaterial(h.Texture.EMPTY,{program:h.Program.from(v.default,g.default),uniforms:{uFWidth:0}}),Z=h.BLEND_MODES.NORMAL_NPM);var Q=new p.Mesh(Y,q);Q.blendMode=Z,X={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:Q,vertices:null,uvs:null,indices:null}}X.index=0,X.indexCount=0,X.vertexCount=0,X.uvsCount=0,X.total=0;var K=this._textureCache;K[z]=K[z]||new h.Texture(W.baseTexture),X.mesh.texture=K[z],X.mesh.tint=this._tintColor.value,G.push(X),J[z]=X}J[z].total++}for(var $=0;$<U.length;$++)G.includes(U[$])||this.removeChild(U[$].mesh);for(var ee=0;ee<G.length;ee++)G[ee].mesh.parent!==this&&this.addChild(G[ee].mesh);for(var te in this._activePagesMeshData=G,J){var ae,ie=J[te],ne=ie.total;if(!((null===(ae=ie.indices)||void 0===ae?void 0:ae.length)>6*ne)||ie.vertices.length<2*p.Mesh.BATCHABLE_SIZE)ie.vertices=new Float32Array(8*ne),ie.uvs=new Float32Array(8*ne),ie.indices=new Uint16Array(6*ne);else for(var re=ie.total,se=ie.vertices,oe=4*re*2;oe<se.length;oe++)se[oe]=0;ie.mesh.size=6*ne}for(var le=0;le<V;le++){var de=r[le],ce=de.position.x+B[de.line]*("justify"===this._align?de.prevSpaces:1);this._roundPixels&&(ce=Math.round(ce));var ue=ce*a,he=de.position.y*a,fe=de.texture,pe=J[fe.baseTexture.uid],me=fe.frame,ge=fe._uvs,ve=pe.index++;pe.indices[6*ve+0]=0+4*ve,pe.indices[6*ve+1]=1+4*ve,pe.indices[6*ve+2]=2+4*ve,pe.indices[6*ve+3]=0+4*ve,pe.indices[6*ve+4]=2+4*ve,pe.indices[6*ve+5]=3+4*ve,pe.vertices[8*ve+0]=ue,pe.vertices[8*ve+1]=he,pe.vertices[8*ve+2]=ue+me.width*a,pe.vertices[8*ve+3]=he,pe.vertices[8*ve+4]=ue+me.width*a,pe.vertices[8*ve+5]=he+me.height*a,pe.vertices[8*ve+6]=ue,pe.vertices[8*ve+7]=he+me.height*a,pe.uvs[8*ve+0]=ge.x0,pe.uvs[8*ve+1]=ge.y0,pe.uvs[8*ve+2]=ge.x1,pe.uvs[8*ve+3]=ge.y1,pe.uvs[8*ve+4]=ge.x2,pe.uvs[8*ve+5]=ge.y2,pe.uvs[8*ve+6]=ge.x3,pe.uvs[8*ve+7]=ge.y3}for(var be in this._textWidth=E*a,this._textHeight=(i.y+e.lineHeight)*a,J){var ye=J[be];if(0!==this.anchor.x||0!==this.anchor.y)for(var xe=0,_e=this._textWidth*this.anchor.x,Pe=this._textHeight*this.anchor.y,Ae=0;Ae<ye.total;Ae++)ye.vertices[xe++]-=_e,ye.vertices[xe++]-=Pe,ye.vertices[xe++]-=_e,ye.vertices[xe++]-=Pe,ye.vertices[xe++]-=_e,ye.vertices[xe++]-=Pe,ye.vertices[xe++]-=_e,ye.vertices[xe++]-=Pe;this._maxLineHeight=F*a;var Ee=ye.mesh.geometry.getBuffer("aVertexPosition"),Te=ye.mesh.geometry.getBuffer("aTextureCoord"),we=ye.mesh.geometry.getIndex();Ee.data=ye.vertices,Te.data=ye.uvs,we.data=ye.indices,Ee.update(),Te.update(),we.update()}for(var Se=0;Se<r.length;Se++)P.push(r[Se]);this._font=e,this.dirty=!1}},{key:"updateTransform",value:function(){this.validate(),this.containerUpdateTransform()}},{key:"_render",value:function(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0);var t=m.BitmapFont.available[this._fontName],n=t.distanceFieldRange,r=t.distanceFieldType,s=t.size;if("none"!==r){var o,c=this.worldTransform,u=c.a,h=c.b,f=c.c,p=c.d,g=Math.sqrt(u*u+h*h),v=Math.sqrt(f*f+p*p),b=(Math.abs(g)+Math.abs(v))/2,y=this.fontSize/s,x=e._view.resolution,_=i(this._activePagesMeshData);try{for(_.s();!(o=_.n()).done;){o.value.mesh.shader.uniforms.uFWidth=b*n*y*x}}catch(P){_.e(P)}finally{_.f()}}l(d(a.prototype),"_render",this).call(this,e)}},{key:"getLocalBounds",value:function(){return this.validate(),l(d(a.prototype),"getLocalBounds",this).call(this)}},{key:"validate",value:function(){var e=m.BitmapFont.available[this._fontName];if(!e)throw new Error('Missing BitmapFont "'.concat(this._fontName,'"'));this._font!==e&&(this.dirty=!0),this.dirty&&this.updateText()}},{key:"tint",get:function(){return this._tintColor.value},set:function(e){if(this.tint!==e){this._tintColor.setValue(e);for(var t=0;t<this._activePagesMeshData.length;t++)this._activePagesMeshData[t].mesh.tint=e}}},{key:"align",get:function(){return this._align},set:function(e){this._align!==e&&(this._align=e,this.dirty=!0)}},{key:"fontName",get:function(){return this._fontName},set:function(e){if(!m.BitmapFont.available[e])throw new Error('Missing BitmapFont "'.concat(e,'"'));this._fontName!==e&&(this._fontName=e,this.dirty=!0)}},{key:"fontSize",get:function(){var e;return null!==(e=this._fontSize)&&void 0!==e?e:m.BitmapFont.available[this._fontName].size},set:function(e){this._fontSize!==e&&(this._fontSize=e,this.dirty=!0)}},{key:"anchor",get:function(){return this._anchor},set:function(e){"number"==typeof e?this._anchor.set(e):this._anchor.copyFrom(e)}},{key:"text",get:function(){return this._text},set:function(e){var t;e=String(null!==(t=e)&&void 0!==t?t:""),this._text!==e&&(this._text=e,this.dirty=!0)}},{key:"maxWidth",get:function(){return this._maxWidth},set:function(e){this._maxWidth!==e&&(this._maxWidth=e,this.dirty=!0)}},{key:"maxLineHeight",get:function(){return this.validate(),this._maxLineHeight}},{key:"textWidth",get:function(){return this.validate(),this._textWidth}},{key:"letterSpacing",get:function(){return this._letterSpacing},set:function(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.dirty=!0)}},{key:"roundPixels",get:function(){return this._roundPixels},set:function(e){e!==this._roundPixels&&(this._roundPixels=e,this.dirty=!0)}},{key:"textHeight",get:function(){return this.validate(),this._textHeight}},{key:"resolution",get:function(){return this._resolution},set:function(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}},{key:"destroy",value:function(e){var t=this._textureCache,r="none"===m.BitmapFont.available[this._fontName].distanceFieldType?x:_;r.push.apply(r,n(this._activePagesMeshData));var s,o=i(this._activePagesMeshData);try{for(o.s();!(s=o.n()).done;){var c=s.value;this.removeChild(c.mesh)}}catch(f){o.e(f)}finally{o.f()}for(var u in this._activePagesMeshData=[],r.filter((function(e){return t[e.mesh.texture.baseTexture.uid]})).forEach((function(e){e.mesh.texture=h.Texture.EMPTY})),t)t[u].destroy(),delete t[u];this._font=null,this._tintColor=null,this._textureCache=null,l(d(a.prototype),"destroy",this).call(this,e)}}]),a}(f.Container);A.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0};var E=A;t.BitmapText=E},82003:function(){},62827:function(e,t,a){"use strict";var i=a(56690).default,n=a(89728).default,r=a(75313),s=function(){function e(){i(this,e)}return n(e,null,[{key:"test",value:function(e){return"string"==typeof e&&e.startsWith("info face=")}},{key:"parse",value:function(e){var t=e.match(/^[a-z]+\s+.+$/gm),a={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(var i in t){var n=t[i].match(/^[a-z]+/gm)[0],s=t[i].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),o={};for(var l in s){var d=s[l].split("="),c=d[0],u=d[1].replace(/"/gm,""),h=parseFloat(u),f=isNaN(h)?u:h;o[c]=f}a[n].push(o)}var p=new r.BitmapFontData;return a.info.forEach((function(e){return p.info.push({face:e.face,size:parseInt(e.size,10)})})),a.common.forEach((function(e){return p.common.push({lineHeight:parseInt(e.lineHeight,10)})})),a.page.forEach((function(e){return p.page.push({id:parseInt(e.id,10),file:e.file})})),a.char.forEach((function(e){return p.char.push({id:parseInt(e.id,10),page:parseInt(e.page,10),x:parseInt(e.x,10),y:parseInt(e.y,10),width:parseInt(e.width,10),height:parseInt(e.height,10),xoffset:parseInt(e.xoffset,10),yoffset:parseInt(e.yoffset,10),xadvance:parseInt(e.xadvance,10)})})),a.kerning.forEach((function(e){return p.kerning.push({first:parseInt(e.first,10),second:parseInt(e.second,10),amount:parseInt(e.amount,10)})})),a.distanceField.forEach((function(e){return p.distanceField.push({distanceRange:parseInt(e.distanceRange,10),fieldType:e.fieldType})})),p}}]),e}();t.TextFormat=s},29765:function(e,t,a){"use strict";var i=a(56690).default,n=a(89728).default,r=a(75313),s=function(){function e(){i(this,e)}return n(e,null,[{key:"test",value:function(e){var t=e;return"string"!=typeof e&&"getElementsByTagName"in e&&t.getElementsByTagName("page").length&&null!==t.getElementsByTagName("info")[0].getAttribute("face")}},{key:"parse",value:function(e){for(var t=new r.BitmapFontData,a=e.getElementsByTagName("info"),i=e.getElementsByTagName("common"),n=e.getElementsByTagName("page"),s=e.getElementsByTagName("char"),o=e.getElementsByTagName("kerning"),l=e.getElementsByTagName("distanceField"),d=0;d<a.length;d++)t.info.push({face:a[d].getAttribute("face"),size:parseInt(a[d].getAttribute("size"),10)});for(var c=0;c<i.length;c++)t.common.push({lineHeight:parseInt(i[c].getAttribute("lineHeight"),10)});for(var u=0;u<n.length;u++)t.page.push({id:parseInt(n[u].getAttribute("id"),10)||0,file:n[u].getAttribute("file")});for(var h=0;h<s.length;h++){var f=s[h];t.char.push({id:parseInt(f.getAttribute("id"),10),page:parseInt(f.getAttribute("page"),10)||0,x:parseInt(f.getAttribute("x"),10),y:parseInt(f.getAttribute("y"),10),width:parseInt(f.getAttribute("width"),10),height:parseInt(f.getAttribute("height"),10),xoffset:parseInt(f.getAttribute("xoffset"),10),yoffset:parseInt(f.getAttribute("yoffset"),10),xadvance:parseInt(f.getAttribute("xadvance"),10)})}for(var p=0;p<o.length;p++)t.kerning.push({first:parseInt(o[p].getAttribute("first"),10),second:parseInt(o[p].getAttribute("second"),10),amount:parseInt(o[p].getAttribute("amount"),10)});for(var m=0;m<l.length;m++)t.distanceField.push({fieldType:l[m].getAttribute("fieldType"),distanceRange:parseInt(l[m].getAttribute("distanceRange"),10)});return t}}]),e}();t.XMLFormat=s},88257:function(e,t,a){"use strict";var i=a(56690).default,n=a(89728).default,r=a(73629),s=a(29765),o=function(){function e(){i(this,e)}return n(e,null,[{key:"test",value:function(e){return!("string"!=typeof e||!e.includes("<font>"))&&s.XMLFormat.test(r.settings.ADAPTER.parseXML(e))}},{key:"parse",value:function(e){return s.XMLFormat.parse(r.settings.ADAPTER.parseXML(e))}}]),e}();t.XMLStringFormat=o},94302:function(e,t,a){"use strict";var i=a(62827),n=a(29765),r=a(88257),s=[i.TextFormat,n.XMLFormat,r.XMLStringFormat];t.TextFormat=i.TextFormat,t.XMLFormat=n.XMLFormat,t.XMLStringFormat=r.XMLStringFormat,t.autoDetectFormat=function(e){for(var t=0;t<s.length;t++)if(s[t].test(e))return s[t];return null}},95729:function(e,t,a){"use strict";var i=a(49577),n=a(75313),r=a(37204);a(82003);var s=a(94302),o=a(33804),l=a(62827),d=a(29765),c=a(88257);t.BitmapFont=i.BitmapFont,t.BitmapFontData=n.BitmapFontData,t.BitmapText=r.BitmapText,t.autoDetectFormat=s.autoDetectFormat,t.loadBitmapFont=o.loadBitmapFont,t.TextFormat=l.TextFormat,t.XMLFormat=d.XMLFormat,t.XMLStringFormat=c.XMLStringFormat},33804:function(e,t,a){"use strict";var i=a(17061).default,n=a(17156).default,r=a(51743),s=a(73629),o=a(49577);a(94302);var l=a(62827),d=a(88257),c=[".xml",".fnt"],u={extension:{type:s.ExtensionType.LoadParser,priority:r.LoaderParserPriority.Normal},name:"loadBitmapFont",test:function(e){return c.includes(s.utils.path.extname(e).toLowerCase())},testParse:function(e){return n(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",l.TextFormat.test(e)||d.XMLStringFormat.test(e));case 1:case"end":return t.stop()}}),t)})))()},parse:function(e,t,a){return n(i().mark((function n(){var c,u,h,f,p,m,g,v,b;return i().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:for(c=l.TextFormat.test(e)?l.TextFormat.parse(e):d.XMLStringFormat.parse(e),u=t.src,h=c.page,f=[],p=0;p<h.length;++p)m=h[p].file,g=s.utils.path.join(s.utils.path.dirname(u),m),g=r.copySearchParams(g,u),f.push(g);return i.next=4,a.load(f);case 4:return v=i.sent,b=f.map((function(e){return v[e]})),i.abrupt("return",o.BitmapFont.install(c,b,!0));case 7:case"end":return i.stop()}}),n)})))()},load:function(e,t){return n(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.settings.ADAPTER.fetch(e);case 2:return t.abrupt("return",t.sent.text());case 3:case"end":return t.stop()}}),t)})))()},unload:function(e){e.destroy()}};s.extensions.add(u),t.loadBitmapFont=u},47704:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default="// Pixi texture info\r\nvarying vec2 vTextureCoord;\r\nuniform sampler2D uSampler;\r\n\r\n// Tint\r\nuniform vec4 uColor;\r\n\r\n// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r\nuniform float uFWidth;\r\n\r\nvoid main(void) {\r\n\r\n  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r\n  vec4 texColor = texture2D(uSampler, vTextureCoord);\r\n\r\n  // MSDF\r\n  float median = texColor.r + texColor.g + texColor.b -\r\n                  min(texColor.r, min(texColor.g, texColor.b)) -\r\n                  max(texColor.r, max(texColor.g, texColor.b));\r\n  // SDF\r\n  median = min(median, texColor.a);\r\n\r\n  float screenPxDistance = uFWidth * (median - 0.5);\r\n  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r\n  if (median < 0.01) {\r\n    alpha = 0.0;\r\n  } else if (median > 0.99) {\r\n    alpha = 1.0;\r\n  }\r\n\r\n  // Gamma correction for coverage-like alpha\r\n  float luma = dot(uColor.rgb, vec3(0.299, 0.587, 0.114));\r\n  float gamma = mix(1.0, 1.0 / 2.2, luma);\r\n  float coverage = pow(uColor.a * alpha, gamma);  \r\n\r\n  // NPM Textures, NPM outputs\r\n  gl_FragColor = vec4(uColor.rgb, coverage);\r\n}\r\n"},90125:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default="// Mesh material default fragment\r\nattribute vec2 aVertexPosition;\r\nattribute vec2 aTextureCoord;\r\n\r\nuniform mat3 projectionMatrix;\r\nuniform mat3 translationMatrix;\r\nuniform mat3 uTextureMatrix;\r\n\r\nvarying vec2 vTextureCoord;\r\n\r\nvoid main(void)\r\n{\r\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r\n\r\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r\n}\r\n"},68250:function(e,t,a){"use strict";var i=a(73629),n=a(89789);t.drawGlyph=function(e,t,a,r,s,o,l){var d=a.text,c=a.fontProperties;t.translate(r,s),t.scale(o,o);var u=l.strokeThickness/2,h=-l.strokeThickness/2;if(t.font=l.toFontString(),t.lineWidth=l.strokeThickness,t.textBaseline=l.textBaseline,t.lineJoin=l.lineJoin,t.miterLimit=l.miterLimit,t.fillStyle=n.generateFillStyle(e,t,l,o,[d],a),t.strokeStyle=l.stroke,l.dropShadow){var f=l.dropShadowColor,p=l.dropShadowBlur*o,m=l.dropShadowDistance*o;t.shadowColor=i.Color.shared.setValue(f).setAlpha(l.dropShadowAlpha).toRgbaString(),t.shadowBlur=p,t.shadowOffsetX=Math.cos(l.dropShadowAngle)*m,t.shadowOffsetY=Math.sin(l.dropShadowAngle)*m}else t.shadowColor="black",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0;l.stroke&&l.strokeThickness&&t.strokeText(d,u,h+a.lineHeight-c.descent),l.fill&&t.fillText(d,u,h+a.lineHeight-c.descent),t.setTransform(1,0,0,1,0,0),t.fillStyle="rgba(0, 0, 0, 0)"}},50507:function(e,t){"use strict";t.extractCharCode=function(e){return e.codePointAt?e.codePointAt(0):e.charCodeAt(0)}},89789:function(e,t,a){"use strict";var i=a(37224);t.generateFillStyle=function(e,t,a,n,r,s){var o,l=a.fill;if(!Array.isArray(l))return l;if(1===l.length)return l[0];var d=a.dropShadow?a.dropShadowDistance:0,c=a.padding||0,u=e.width/n-d-2*c,h=e.height/n-d-2*c,f=l.slice(),p=a.fillGradientStops.slice();if(!p.length)for(var m=f.length+1,g=1;g<m;++g)p.push(g/m);if(f.unshift(l[0]),p.unshift(0),f.push(l[l.length-1]),p.push(1),a.fillGradientType===i.TEXT_GRADIENT.LINEAR_VERTICAL){o=t.createLinearGradient(u/2,c,u/2,h+c);for(var v=0,b=(s.fontProperties.fontSize+a.strokeThickness)/h,y=0;y<r.length;y++)for(var x=s.lineHeight*y,_=0;_<f.length;_++){var P=x/h+("number"==typeof p[_]?p[_]:_/f.length)*b,A=Math.max(v,P);A=Math.min(A,1),o.addColorStop(A,f[_]),v=A}}else{o=t.createLinearGradient(c,h/2,u+c,h/2);for(var E=f.length+1,T=1,w=0;w<f.length;w++){var S=void 0;S="number"==typeof p[w]?p[w]:T/E,o.addColorStop(S,f[w]),T++}}return o}},71695:function(e,t,a){"use strict";var i=a(68250),n=a(50507),r=a(89789),s=a(76784),o=a(42899);t.drawGlyph=i.drawGlyph,t.extractCharCode=n.extractCharCode,t.generateFillStyle=r.generateFillStyle,t.resolveCharacters=s.resolveCharacters,t.splitTextToCharacters=o.splitTextToCharacters},76784:function(e,t,a){"use strict";var i=a(861).default,n=a(42899);t.resolveCharacters=function(e){"string"==typeof e&&(e=[e]);for(var t=[],a=0,r=e.length;a<r;a++){var s=e[a];if(Array.isArray(s)){if(2!==s.length)throw new Error("[BitmapFont]: Invalid character range length, expecting 2 got ".concat(s.length,"."));var o=s[0].charCodeAt(0),l=s[1].charCodeAt(0);if(l<o)throw new Error("[BitmapFont]: Invalid character range.");for(var d=o,c=l;d<=c;d++)t.push(String.fromCharCode(d))}else t.push.apply(t,i(n.splitTextToCharacters(s)))}if(0===t.length)throw new Error("[BitmapFont]: Empty set when resolving characters.");return t}},42899:function(e,t){"use strict";t.splitTextToCharacters=function(e){return Array.from?Array.from(e):e.split("")}},27530:function(e,t,a){"use strict";var i=a(17061).default,n=a(17156).default,r=a(56690).default,s=a(89728).default,o=a(41588).default,l=a(73808).default,d=a(61655).default,c=a(26389).default,u=a(73629),h=a(2721),f=a(37224),p=a(10342),m=function(e){d(a,e);var t=c(a);function a(){var e,i,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(this,a),(i=t.call(this,u.Texture.EMPTY))._text=null,i._style=null,i._autoResolution=!0,i.localStyleID=-1,i.dirty=!1,i._updateID=0,i.ownsStyle=!1;var o=new Image,l=u.Texture.from(o,{scaleMode:u.settings.SCALE_MODE,resourceOptions:{autoLoad:!1}});l.orig=new u.Rectangle,l.trim=new u.Rectangle,i.texture=l;var d="http://www.w3.org/2000/svg",c="http://www.w3.org/1999/xhtml",h=document.createElementNS(d,"svg"),f=document.createElementNS(d,"foreignObject"),p=document.createElementNS(c,"div"),m=document.createElementNS(c,"style");return f.setAttribute("width","10000"),f.setAttribute("height","10000"),f.style.overflow="hidden",h.appendChild(f),i.maxWidth=a.defaultMaxWidth,i.maxHeight=a.defaultMaxHeight,i._domElement=p,i._styleElement=m,i._svgRoot=h,i._foreignObject=f,i._foreignObject.appendChild(m),i._foreignObject.appendChild(p),i._image=o,i._loadImage=new Image,i._autoResolution=a.defaultAutoResolution,i._resolution=null!==(e=a.defaultResolution)&&void 0!==e?e:u.settings.RESOLUTION,i.text=n,i.style=s,i}return s(a,[{key:"measureText",value:function(e){var t,a,i=Object.assign({text:this._text,style:this._style,resolution:this._resolution},e),n=i.text,r=i.style,s=i.resolution;Object.assign(this._domElement,{innerHTML:n,style:r.toCSS(s)}),this._styleElement.textContent=r.toGlobalCSS(),document.body.appendChild(this._svgRoot);var o=this._domElement.getBoundingClientRect();this._svgRoot.remove();var l=o.width,d=o.height;(l>this.maxWidth||d>this.maxHeight)&&console.warn("[HTMLText] Large expanse of text, increase HTMLText.maxWidth or HTMLText.maxHeight property.");var c=Math.min(this.maxWidth,Math.ceil(l)),u=Math.min(this.maxHeight,Math.ceil(d));return this._svgRoot.setAttribute("width",c.toString()),this._svgRoot.setAttribute("height",u.toString()),n!==this._text&&(this._domElement.innerHTML=this._text),r!==this._style&&(Object.assign(this._domElement,{style:null===(t=this._style)||void 0===t?void 0:t.toCSS(s)}),this._styleElement.textContent=null===(a=this._style)||void 0===a?void 0:a.toGlobalCSS()),{width:c+2*r.padding,height:u+2*r.padding}}},{key:"updateText",value:function(){var e=n(i().mark((function e(){var t,a,r,s,o,l,d,c,u=this,h=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=!(h.length>0&&void 0!==h[0])||h[0],a=this.style,r=this._image,s=this._loadImage,this.localStyleID!==a.styleID&&(this.dirty=!0,this.localStyleID=a.styleID),this.dirty||!t){e.next=4;break}return e.abrupt("return");case 4:return o=this.measureText(),l=o.width,d=o.height,r.width=s.width=Math.ceil(Math.max(1,l)),r.height=s.height=Math.ceil(Math.max(1,d)),this._updateID++,c=this._updateID,e.next=9,new Promise((function(e){s.onload=n(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(c<u._updateID)){t.next=3;break}return e(),t.abrupt("return");case 3:return t.next=5,a.onBeforeDraw();case 5:r.src=s.src,s.onload=null,s.src="",u.updateTexture(),e();case 10:case"end":return t.stop()}}),t)})));var t=(new XMLSerializer).serializeToString(u._svgRoot);s.src="data:image/svg+xml;charset=utf8,".concat(encodeURIComponent(t))}));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"source",get:function(){return this._image}},{key:"updateTexture",value:function(){var e=this.style,t=this.texture,a=this._image,i=this.resolution,n=e.padding,r=t.baseTexture;t.trim.width=t._frame.width=a.width/i,t.trim.height=t._frame.height=a.height/i,t.trim.x=-n,t.trim.y=-n,t.orig.width=t._frame.width-2*n,t.orig.height=t._frame.height-2*n,this._onTextureUpdate(),r.setRealSize(a.width,a.height,i),this.dirty=!1}},{key:"_render",value:function(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),o(l(a.prototype),"_render",this).call(this,e)}},{key:"_renderCanvas",value:function(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),o(l(a.prototype),"_renderCanvas",this).call(this,e)}},{key:"getLocalBounds",value:function(e){return this.updateText(!0),o(l(a.prototype),"getLocalBounds",this).call(this,e)}},{key:"_calculateBounds",value:function(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)}},{key:"_onStyleChange",value:function(){this.dirty=!0}},{key:"destroy",value:function(e){var t,i,n,r,s;"boolean"==typeof e&&(e={children:e}),e=Object.assign({},a.defaultDestroyOptions,e),o(l(a.prototype),"destroy",this).call(this,e);var d=null;this.ownsStyle&&null!==(t=this._style)&&void 0!==t&&t.cleanFonts(),this._style=d,null!==(i=this._svgRoot)&&void 0!==i&&i.remove(),this._svgRoot=d,null!==(n=this._domElement)&&void 0!==n&&n.remove(),this._domElement=d,null!==(r=this._foreignObject)&&void 0!==r&&r.remove(),this._foreignObject=d,null!==(s=this._styleElement)&&void 0!==s&&s.remove(),this._styleElement=d,this._loadImage.src="",this._loadImage.onload=null,this._loadImage=d,this._image.src="",this._image=d}},{key:"width",get:function(){return this.updateText(!0),Math.abs(this.scale.x)*this._image.width/this.resolution},set:function(e){this.updateText(!0);var t=u.utils.sign(this.scale.x)||1;this.scale.x=t*e/this._image.width/this.resolution,this._width=e}},{key:"height",get:function(){return this.updateText(!0),Math.abs(this.scale.y)*this._image.height/this.resolution},set:function(e){this.updateText(!0);var t=u.utils.sign(this.scale.y)||1;this.scale.y=t*e/this._image.height/this.resolution,this._height=e}},{key:"style",get:function(){return this._style},set:function(e){this._style!==e&&((e=e||{})instanceof p.HTMLTextStyle?(this.ownsStyle=!1,this._style=e):e instanceof f.TextStyle?(console.warn("[HTMLText] Cloning TextStyle, if this is not what you want, use HTMLTextStyle"),this.ownsStyle=!0,this._style=p.HTMLTextStyle.from(e)):(this.ownsStyle=!0,this._style=new p.HTMLTextStyle(e)),this.localStyleID=-1,this.dirty=!0)}},{key:"text",get:function(){return this._text},set:function(e){e=String(""===e||null===e||void 0===e?" ":e),e=this.sanitiseText(e),this._text!==e&&(this._text=e,this.dirty=!0)}},{key:"resolution",get:function(){return this._resolution},set:function(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}},{key:"sanitiseText",value:function(e){return e.replace(/<br>/gi,"<br/>").replace(/<hr>/gi,"<hr/>").replace(/&nbsp;/gi,"&#160;")}}]),a}(h.Sprite);m.defaultDestroyOptions={texture:!0,children:!1,baseTexture:!0},m.defaultMaxWidth=2024,m.defaultMaxHeight=2024,m.defaultAutoResolution=!0;var g=m;t.HTMLText=g},10342:function(e,t,a){"use strict";var i=a(38416).default,n=a(42122).default,r=a(861).default,s=a(27424).default,o=a(17061).default,l=a(17156).default,d=a(56690).default,c=a(89728).default,u=a(41588).default,h=a(73808).default,f=a(61655).default,p=a(26389).default,m=a(73629),g=function(e){f(a,e);var t=p(a);function a(){var e;return d(this,a),(e=t.apply(this,arguments))._fonts=[],e._overrides=[],e._stylesheet="",e.fontsDirty=!1,e}return c(a,[{key:"cleanFonts",value:function(){this._fonts.length>0&&(this._fonts.forEach((function(e){URL.revokeObjectURL(e.src),e.refs--,0===e.refs&&(e.fontFace&&document.fonts.delete(e.fontFace),delete a.availableFonts[e.originalUrl])})),this.fontFamily="Arial",this._fonts.length=0,this.styleID++,this.fontsDirty=!0)}},{key:"loadFont",value:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=a.availableFonts;if(n[e]){var r=n[e];return this._fonts.push(r),r.refs++,this.styleID++,this.fontsDirty=!0,Promise.resolve()}return m.settings.ADAPTER.fetch(e).then((function(e){return e.blob()})).then(function(){var e=l(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,a){var i=URL.createObjectURL(t),n=new FileReader;n.onload=function(){return e([i,n.result])},n.onerror=a,n.readAsDataURL(t)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).then(function(){var a=l(o().mark((function a(r){var l,d,c,u,h;return o().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return l=s(r,2),d=l[0],c=l[1],u=Object.assign({family:m.utils.path.basename(e,m.utils.path.extname(e)),weight:"normal",style:"normal",display:"auto",src:d,dataSrc:c,refs:1,originalUrl:e,fontFace:null},i),n[e]=u,t._fonts.push(u),t.styleID++,h=new FontFace(u.family,"url(".concat(u.src,")"),{weight:u.weight,style:u.style,display:u.display}),u.fontFace=h,a.next=7,h.load();case 7:return document.fonts.add(h),a.next=10,document.fonts.ready;case 10:t.styleID++,t.fontsDirty=!0;case 12:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}())}},{key:"addOverride",value:function(){for(var e,t=this,a=arguments.length,i=new Array(a),n=0;n<a;n++)i[n]=arguments[n];var s=i.filter((function(e){return!t._overrides.includes(e)}));s.length>0&&((e=this._overrides).push.apply(e,r(s)),this.styleID++)}},{key:"removeOverride",value:function(){for(var e=this,t=arguments.length,a=new Array(t),i=0;i<t;i++)a[i]=arguments[i];var n=a.filter((function(t){return e._overrides.includes(t)}));n.length>0&&(this._overrides=this._overrides.filter((function(e){return!n.includes(e)})),this.styleID++)}},{key:"toCSS",value:function(e){return["transform: scale(".concat(e,")"),"transform-origin: top left","display: inline-block","color: ".concat(this.normalizeColor(this.fill)),"font-size: ".concat(this.fontSize,"px"),"font-family: ".concat(this.fontFamily),"font-weight: ".concat(this.fontWeight),"font-style: ".concat(this.fontStyle),"font-variant: ".concat(this.fontVariant),"letter-spacing: ".concat(this.letterSpacing,"px"),"text-align: ".concat(this.align),"padding: ".concat(this.padding,"px"),"white-space: ".concat(this.whiteSpace)].concat(r(this.lineHeight?["line-height: ".concat(this.lineHeight,"px")]:[]),r(this.wordWrap?["word-wrap: ".concat(this.breakWords?"break-all":"break-word"),"max-width: ".concat(this.wordWrapWidth,"px")]:[]),r(this.strokeThickness?["-webkit-text-stroke-width: ".concat(this.strokeThickness,"px"),"-webkit-text-stroke-color: ".concat(this.normalizeColor(this.stroke)),"text-stroke-width: ".concat(this.strokeThickness,"px"),"text-stroke-color: ".concat(this.normalizeColor(this.stroke)),"paint-order: stroke"]:[]),r(this.dropShadow?[this.dropShadowToCSS()]:[]),r(this._overrides)).join(";")}},{key:"toGlobalCSS",value:function(){return this._fonts.reduce((function(e,t){return"".concat(e,'\n            @font-face {\n                font-family: "').concat(t.family,"\";\n                src: url('").concat(t.dataSrc,"');\n                font-weight: ").concat(t.weight,";\n                font-style: ").concat(t.style,";\n                font-display: ").concat(t.display,";\n            }")}),this._stylesheet)}},{key:"stylesheet",get:function(){return this._stylesheet},set:function(e){this._stylesheet!==e&&(this._stylesheet=e,this.styleID++)}},{key:"normalizeColor",value:function(e){return Array.isArray(e)&&(e=m.utils.rgb2hex(e)),"number"==typeof e?m.utils.hex2string(e):e}},{key:"dropShadowToCSS",value:function(){var e=this.normalizeColor(this.dropShadowColor),t=this.dropShadowAlpha,a=Math.round(Math.cos(this.dropShadowAngle)*this.dropShadowDistance),i=Math.round(Math.sin(this.dropShadowAngle)*this.dropShadowDistance);e.startsWith("#")&&t<1&&(e+=(255*t|0).toString(16).padStart(2,"0"));var n="".concat(a,"px ").concat(i,"px");return this.dropShadowBlur>0?"text-shadow: ".concat(n," ").concat(this.dropShadowBlur,"px ").concat(e):"text-shadow: ".concat(n," ").concat(e)}},{key:"reset",value:function(){Object.assign(this,a.defaultOptions)}},{key:"onBeforeDraw",value:function(){var e=this.fontsDirty;return this.fontsDirty=!1,this.isSafari&&this._fonts.length>0&&e?new Promise((function(e){return setTimeout(e,100)})):Promise.resolve()}},{key:"isSafari",get:function(){var e=m.settings.ADAPTER.getNavigator().userAgent;return/^((?!chrome|android).)*safari/i.test(e)}},{key:"fillGradientStops",get:function(){return u(h(a.prototype),"fillGradientStops",this)},set:function(e){console.warn("[HTMLTextStyle] fillGradientStops is not supported by HTMLText")}},{key:"fillGradientType",get:function(){return u(h(a.prototype),"fillGradientType",this)},set:function(e){console.warn("[HTMLTextStyle] fillGradientType is not supported by HTMLText")}},{key:"miterLimit",get:function(){return u(h(a.prototype),"miterLimit",this)},set:function(e){console.warn("[HTMLTextStyle] miterLimit is not supported by HTMLText")}},{key:"trim",get:function(){return u(h(a.prototype),"trim",this)},set:function(e){console.warn("[HTMLTextStyle] trim is not supported by HTMLText")}},{key:"textBaseline",get:function(){return u(h(a.prototype),"textBaseline",this)},set:function(e){console.warn("[HTMLTextStyle] textBaseline is not supported by HTMLText")}},{key:"leading",get:function(){return u(h(a.prototype),"leading",this)},set:function(e){console.warn("[HTMLTextStyle] leading is not supported by HTMLText")}},{key:"lineJoin",get:function(){return u(h(a.prototype),"lineJoin",this)},set:function(e){console.warn("[HTMLTextStyle] lineJoin is not supported by HTMLText")}}],[{key:"from",value:function(e){return new a(Object.keys(a.defaultOptions).reduce((function(t,a){return n(n({},t),{},i({},a,e[a]))}),{}))}}]),a}(a(37224).TextStyle);g.availableFonts={},g.defaultOptions={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,padding:0,stroke:"black",strokeThickness:0,whiteSpace:"normal",wordWrap:!1,wordWrapWidth:100};var v=g;t.HTMLTextStyle=v},8638:function(e,t,a){"use strict";var i=a(27530),n=a(10342);t.HTMLText=i.HTMLText,t.HTMLTextStyle=n.HTMLTextStyle},80429:function(e,t,a){"use strict";var i=a(56690).default,n=a(89728).default,r=a(41588).default,s=a(73808).default,o=a(61655).default,l=a(26389).default,d=a(73629),c=a(2721),u=a(54633),h=a(43697),f=a(45416),p={texture:!0,children:!1,baseTexture:!0},m=function(e){o(a,e);var t=l(a);function a(e,n,r){var s,o;i(this,a);var l=!1;r||(r=d.settings.ADAPTER.createCanvas(),l=!0),r.width=3,r.height=3;var c=d.Texture.from(r);return c.orig=new d.Rectangle,c.trim=new d.Rectangle,(o=t.call(this,c))._ownCanvas=l,o.canvas=r,o.context=r.getContext("2d",{willReadFrequently:!0}),o._resolution=null!==(s=a.defaultResolution)&&void 0!==s?s:d.settings.RESOLUTION,o._autoResolution=a.defaultAutoResolution,o._text=null,o._style=null,o._styleListener=null,o._font="",o.text=e,o.style=n,o.localStyleID=-1,o}return n(a,[{key:"updateText",value:function(e){var t=this._style;if(this.localStyleID!==t.styleID&&(this.dirty=!0,this.localStyleID=t.styleID),this.dirty||!e){this._font=this._style.toFontString();var a,i,n=this.context,r=h.TextMetrics.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),s=r.width,o=r.height,l=r.lines,c=r.lineHeight,u=r.lineWidths,f=r.maxLineWidth,p=r.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,s)+2*t.padding)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,o)+2*t.padding)*this._resolution),n.scale(this._resolution,this._resolution),n.clearRect(0,0,this.canvas.width,this.canvas.height),n.font=this._font,n.lineWidth=t.strokeThickness,n.textBaseline=t.textBaseline,n.lineJoin=t.lineJoin,n.miterLimit=t.miterLimit;for(var m=t.dropShadow?2:1,g=0;g<m;++g){var v=t.dropShadow&&0===g,b=v?Math.ceil(Math.max(1,o)+2*t.padding):0,y=b*this._resolution;if(v){n.fillStyle="black",n.strokeStyle="black";var x=t.dropShadowColor,_=t.dropShadowBlur*this._resolution,P=t.dropShadowDistance*this._resolution;n.shadowColor=d.Color.shared.setValue(x).setAlpha(t.dropShadowAlpha).toRgbaString(),n.shadowBlur=_,n.shadowOffsetX=Math.cos(t.dropShadowAngle)*P,n.shadowOffsetY=Math.sin(t.dropShadowAngle)*P+y}else n.fillStyle=this._generateFillStyle(t,l,r),n.strokeStyle=t.stroke,n.shadowColor="black",n.shadowBlur=0,n.shadowOffsetX=0,n.shadowOffsetY=0;var A=(c-p.fontSize)/2;c-p.fontSize<0&&(A=0);for(var E=0;E<l.length;E++)a=t.strokeThickness/2,i=t.strokeThickness/2+E*c+p.ascent+A,"right"===t.align?a+=f-u[E]:"center"===t.align&&(a+=(f-u[E])/2),t.stroke&&t.strokeThickness&&this.drawLetterSpacing(l[E],a+t.padding,i+t.padding-b,!0),t.fill&&this.drawLetterSpacing(l[E],a+t.padding,i+t.padding-b)}this.updateTexture()}}},{key:"drawLetterSpacing",value:function(e,t,a){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],n=this._style.letterSpacing,r=!1;if(h.TextMetrics.experimentalLetterSpacingSupported&&(h.TextMetrics.experimentalLetterSpacing?(this.context.letterSpacing="".concat(n,"px"),this.context.textLetterSpacing="".concat(n,"px"),r=!0):(this.context.letterSpacing="0px",this.context.textLetterSpacing="0px")),0===n||r)i?this.context.strokeText(e,t,a):this.context.fillText(e,t,a);else for(var s=t,o=h.TextMetrics.graphemeSegmenter(e),l=this.context.measureText(e).width,d=0,c=0;c<o.length;++c){var u=o[c];i?this.context.strokeText(u,s,a):this.context.fillText(u,s,a);for(var f="",p=c+1;p<o.length;++p)f+=o[p];s+=l-(d=this.context.measureText(f).width)+n,l=d}}},{key:"updateTexture",value:function(){var e=this.canvas;if(this._style.trim){var t=d.utils.trimCanvas(e);t.data&&(e.width=t.width,e.height=t.height,this.context.putImageData(t.data,0,0))}var a=this._texture,i=this._style,n=i.trim?0:i.padding,r=a.baseTexture;a.trim.width=a._frame.width=e.width/this._resolution,a.trim.height=a._frame.height=e.height/this._resolution,a.trim.x=-n,a.trim.y=-n,a.orig.width=a._frame.width-2*n,a.orig.height=a._frame.height-2*n,this._onTextureUpdate(),r.setRealSize(e.width,e.height,this._resolution),a.updateUvs(),this.dirty=!1}},{key:"_render",value:function(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),r(s(a.prototype),"_render",this).call(this,e)}},{key:"updateTransform",value:function(){this.updateText(!0),r(s(a.prototype),"updateTransform",this).call(this)}},{key:"getBounds",value:function(e,t){return this.updateText(!0),-1===this._textureID&&(e=!1),r(s(a.prototype),"getBounds",this).call(this,e,t)}},{key:"getLocalBounds",value:function(e){return this.updateText(!0),r(s(a.prototype),"getLocalBounds",this).call(this,e)}},{key:"_calculateBounds",value:function(){this.calculateVertices(),this._bounds.addQuad(this.vertexData)}},{key:"_generateFillStyle",value:function(e,t,a){var i,n=e.fill;if(!Array.isArray(n))return n;if(1===n.length)return n[0];var r=e.dropShadow?e.dropShadowDistance:0,s=e.padding||0,o=this.canvas.width/this._resolution-r-2*s,l=this.canvas.height/this._resolution-r-2*s,d=n.slice(),c=e.fillGradientStops.slice();if(!c.length)for(var h=d.length+1,f=1;f<h;++f)c.push(f/h);if(d.unshift(n[0]),c.unshift(0),d.push(n[n.length-1]),c.push(1),e.fillGradientType===u.TEXT_GRADIENT.LINEAR_VERTICAL){i=this.context.createLinearGradient(o/2,s,o/2,l+s);for(var p=a.fontProperties.fontSize+e.strokeThickness,m=0;m<t.length;m++){var g=a.lineHeight*(m-1)+p,v=a.lineHeight*m,b=v;m>0&&g>v&&(b=(v+g)/2);var y=v+p,x=a.lineHeight*(m+1),_=y;m+1<t.length&&x<y&&(_=(y+x)/2);for(var P=(_-b)/l,A=0;A<d.length;A++){var E=0;E="number"==typeof c[A]?c[A]:A/d.length;var T=Math.min(1,Math.max(0,b/l+E*P));T=Number(T.toFixed(5)),i.addColorStop(T,d[A])}}}else{i=this.context.createLinearGradient(s,l/2,o+s,l/2);for(var w=d.length+1,S=1,C=0;C<d.length;C++){var F=void 0;F="number"==typeof c[C]?c[C]:S/w,i.addColorStop(F,d[C]),S++}}return i}},{key:"destroy",value:function(e){"boolean"==typeof e&&(e={children:e}),e=Object.assign({},p,e),r(s(a.prototype),"destroy",this).call(this,e),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null}},{key:"width",get:function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},set:function(e){this.updateText(!0);var t=d.utils.sign(this.scale.x)||1;this.scale.x=t*e/this._texture.orig.width,this._width=e}},{key:"height",get:function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},set:function(e){this.updateText(!0);var t=d.utils.sign(this.scale.y)||1;this.scale.y=t*e/this._texture.orig.height,this._height=e}},{key:"style",get:function(){return this._style},set:function(e){(e=e||{})instanceof f.TextStyle?this._style=e:this._style=new f.TextStyle(e),this.localStyleID=-1,this.dirty=!0}},{key:"text",get:function(){return this._text},set:function(e){var t;e=String(null!==(t=e)&&void 0!==t?t:""),this._text!==e&&(this._text=e,this.dirty=!0)}},{key:"resolution",get:function(){return this._resolution},set:function(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}}],[{key:"experimentalLetterSpacing",get:function(){return h.TextMetrics.experimentalLetterSpacing},set:function(e){d.utils.deprecation("7.1.0","Text.experimentalLetterSpacing is deprecated, use TextMetrics.experimentalLetterSpacing"),h.TextMetrics.experimentalLetterSpacing=e}}]),a}(c.Sprite);m.defaultAutoResolution=!0;var g=m;t.Text=g},43697:function(e,t,a){"use strict";var i=a(861).default,n=a(56690).default,r=a(89728).default,s=a(73629),o={willReadFrequently:!0},l=function(){function e(t,a,i,r,s,o,l,d,c){n(this,e),this.text=t,this.style=a,this.width=i,this.height=r,this.lines=s,this.lineWidths=o,this.lineHeight=l,this.maxLineWidth=d,this.fontProperties=c}return r(e,null,[{key:"experimentalLetterSpacingSupported",get:function(){var t=e._experimentalLetterSpacingSupported;if(void 0!==t){var a=s.settings.ADAPTER.getCanvasRenderingContext2D().prototype;t=e._experimentalLetterSpacingSupported="letterSpacing"in a||"textLetterSpacing"in a}return t}},{key:"measureText",value:function(t,a,i){var n,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e._canvas;i=null!==(n=i)&&void 0!==n?n:a.wordWrap;var s=a.toFontString(),l=e.measureFont(s);0===l.fontSize&&(l.fontSize=a.fontSize,l.ascent=a.fontSize);var d=r.getContext("2d",o);d.font=s;for(var c=(i?e.wordWrap(t,a,r):t).split(/(?:\r\n|\r|\n)/),u=new Array(c.length),h=0,f=0;f<c.length;f++){var p=e._measureText(c[f],a.letterSpacing,d);u[f]=p,h=Math.max(h,p)}var m=h+a.strokeThickness;a.dropShadow&&(m+=a.dropShadowDistance);var g=a.lineHeight||l.fontSize+a.strokeThickness,v=Math.max(g,l.fontSize+2*a.strokeThickness)+a.leading+(c.length-1)*(g+a.leading);return a.dropShadow&&(v+=a.dropShadowDistance),new e(t,a,m,v,c,u,g+a.leading,h,l)}},{key:"_measureText",value:function(t,a,i){var n=!1;e.experimentalLetterSpacingSupported&&(e.experimentalLetterSpacing?(i.letterSpacing="".concat(a,"px"),i.textLetterSpacing="".concat(a,"px"),n=!0):(i.letterSpacing="0px",i.textLetterSpacing="0px"));var r=i.measureText(t).width;return r>0&&(n?r-=a:r+=(e.graphemeSegmenter(t).length-1)*a),r}},{key:"wordWrap",value:function(t,a){for(var i=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:e._canvas).getContext("2d",o),n=0,r="",s="",l=Object.create(null),d=a.letterSpacing,c=a.whiteSpace,u=e.collapseSpaces(c),h=e.collapseNewlines(c),f=!u,p=a.wordWrapWidth+d,m=e.tokenize(t),g=0;g<m.length;g++){var v=m[g];if(e.isNewline(v)){if(!h){s+=e.addLine(r),f=!u,r="",n=0;continue}v=" "}if(u){var b=e.isBreakingSpace(v),y=e.isBreakingSpace(r[r.length-1]);if(b&&y)continue}var x=e.getFromCache(v,d,l,i);if(x>p)if(""!==r&&(s+=e.addLine(r),r="",n=0),e.canBreakWords(v,a.breakWords))for(var _=e.wordWrapSplit(v),P=0;P<_.length;P++){for(var A=_[P],E=A,T=1;_[P+T];){var w=_[P+T];if(e.canBreakChars(E,w,v,P,a.breakWords))break;A+=w,E=w,T++}P+=T-1;var S=e.getFromCache(A,d,l,i);S+n>p&&(s+=e.addLine(r),f=!1,r="",n=0),r+=A,n+=S}else{r.length>0&&(s+=e.addLine(r),r="",n=0);var C=g===m.length-1;s+=e.addLine(v,!C),f=!1,r="",n=0}else x+n>p&&(f=!1,s+=e.addLine(r),r="",n=0),(r.length>0||!e.isBreakingSpace(v)||f)&&(r+=v,n+=x)}return s+=e.addLine(r,!1)}},{key:"addLine",value:function(t){var a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return t=e.trimRight(t),t=a?"".concat(t,"\n"):t}},{key:"getFromCache",value:function(t,a,i,n){var r=i[t];return"number"!=typeof r&&(r=e._measureText(t,a,n)+a,i[t]=r),r}},{key:"collapseSpaces",value:function(e){return"normal"===e||"pre-line"===e}},{key:"collapseNewlines",value:function(e){return"normal"===e}},{key:"trimRight",value:function(t){if("string"!=typeof t)return"";for(var a=t.length-1;a>=0;a--){var i=t[a];if(!e.isBreakingSpace(i))break;t=t.slice(0,-1)}return t}},{key:"isNewline",value:function(t){return"string"==typeof t&&e._newlines.includes(t.charCodeAt(0))}},{key:"isBreakingSpace",value:function(t,a){return"string"==typeof t&&e._breakingSpaces.includes(t.charCodeAt(0))}},{key:"tokenize",value:function(t){var a=[],i="";if("string"!=typeof t)return a;for(var n=0;n<t.length;n++){var r=t[n],s=t[n+1];e.isBreakingSpace(r,s)||e.isNewline(r)?(""!==i&&(a.push(i),i=""),a.push(r)):i+=r}return""!==i&&a.push(i),a}},{key:"canBreakWords",value:function(e,t){return t}},{key:"canBreakChars",value:function(e,t,a,i,n){return!0}},{key:"wordWrapSplit",value:function(t){return e.graphemeSegmenter(t)}},{key:"measureFont",value:function(t){if(e._fonts[t])return e._fonts[t];var a={ascent:0,descent:0,fontSize:0},i=e._canvas,n=e._context;n.font=t;var r=e.METRICS_STRING+e.BASELINE_SYMBOL,s=Math.ceil(n.measureText(r).width),o=Math.ceil(n.measureText(e.BASELINE_SYMBOL).width),l=Math.ceil(e.HEIGHT_MULTIPLIER*o);if(o=o*e.BASELINE_MULTIPLIER|0,0===s||0===l)return e._fonts[t]=a,a;i.width=s,i.height=l,n.fillStyle="#f00",n.fillRect(0,0,s,l),n.font=t,n.textBaseline="alphabetic",n.fillStyle="#000",n.fillText(r,0,o);var d=n.getImageData(0,0,s,l).data,c=d.length,u=4*s,h=0,f=0,p=!1;for(h=0;h<o;++h){for(var m=0;m<u;m+=4)if(255!==d[f+m]){p=!0;break}if(p)break;f+=u}for(a.ascent=o-h,f=c-u,p=!1,h=l;h>o;--h){for(var g=0;g<u;g+=4)if(255!==d[f+g]){p=!0;break}if(p)break;f-=u}return a.descent=h-o,a.fontSize=a.ascent+a.descent,e._fonts[t]=a,a}},{key:"clearMetrics",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";t?delete e._fonts[t]:e._fonts={}}},{key:"_canvas",get:function(){if(!e.__canvas){var t;try{var a,i=new OffscreenCanvas(0,0);if(null!==(a=i.getContext("2d",o))&&void 0!==a&&a.measureText)return e.__canvas=i,i;t=s.settings.ADAPTER.createCanvas()}catch(n){t=s.settings.ADAPTER.createCanvas()}t.width=t.height=10,e.__canvas=t}return e.__canvas}},{key:"_context",get:function(){return e.__context||(e.__context=e._canvas.getContext("2d",o)),e.__context}}]),e}();l.METRICS_STRING="|\xc9q\xc5",l.BASELINE_SYMBOL="M",l.BASELINE_MULTIPLIER=1.4,l.HEIGHT_MULTIPLIER=2,l.graphemeSegmenter=function(e){if("function"==typeof(null===(e=Intl)||void 0===e?void 0:e.Segmenter)){var t=new Intl.Segmenter;return function(e){return i(t.segment(e)).map((function(e){return e.segment}))}}return function(e){return i(e)}}(),l.experimentalLetterSpacing=!1,l._fonts={},l._newlines=[10,13],l._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];var d=l;t.TextMetrics=d},45416:function(e,t,a){"use strict";var i=a(56690).default,n=a(89728).default,r=a(54633),s=a(73629),o=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],l=function(){function e(t){i(this,e),this.styleID=0,this.reset(),u(this,t,t)}return n(e,[{key:"clone",value:function(){var t={};return u(t,this,e.defaultStyle),new e(t)}},{key:"reset",value:function(){u(this,e.defaultStyle,e.defaultStyle)}},{key:"align",get:function(){return this._align},set:function(e){this._align!==e&&(this._align=e,this.styleID++)}},{key:"breakWords",get:function(){return this._breakWords},set:function(e){this._breakWords!==e&&(this._breakWords=e,this.styleID++)}},{key:"dropShadow",get:function(){return this._dropShadow},set:function(e){this._dropShadow!==e&&(this._dropShadow=e,this.styleID++)}},{key:"dropShadowAlpha",get:function(){return this._dropShadowAlpha},set:function(e){this._dropShadowAlpha!==e&&(this._dropShadowAlpha=e,this.styleID++)}},{key:"dropShadowAngle",get:function(){return this._dropShadowAngle},set:function(e){this._dropShadowAngle!==e&&(this._dropShadowAngle=e,this.styleID++)}},{key:"dropShadowBlur",get:function(){return this._dropShadowBlur},set:function(e){this._dropShadowBlur!==e&&(this._dropShadowBlur=e,this.styleID++)}},{key:"dropShadowColor",get:function(){return this._dropShadowColor},set:function(e){var t=c(e);this._dropShadowColor!==t&&(this._dropShadowColor=t,this.styleID++)}},{key:"dropShadowDistance",get:function(){return this._dropShadowDistance},set:function(e){this._dropShadowDistance!==e&&(this._dropShadowDistance=e,this.styleID++)}},{key:"fill",get:function(){return this._fill},set:function(e){var t=c(e);this._fill!==t&&(this._fill=t,this.styleID++)}},{key:"fillGradientType",get:function(){return this._fillGradientType},set:function(e){this._fillGradientType!==e&&(this._fillGradientType=e,this.styleID++)}},{key:"fillGradientStops",get:function(){return this._fillGradientStops},set:function(e){(function(e,t){if(!Array.isArray(e)||!Array.isArray(t)||e.length!==t.length)return!1;for(var a=0;a<e.length;++a)if(e[a]!==t[a])return!1;return!0})(this._fillGradientStops,e)||(this._fillGradientStops=e,this.styleID++)}},{key:"fontFamily",get:function(){return this._fontFamily},set:function(e){this.fontFamily!==e&&(this._fontFamily=e,this.styleID++)}},{key:"fontSize",get:function(){return this._fontSize},set:function(e){this._fontSize!==e&&(this._fontSize=e,this.styleID++)}},{key:"fontStyle",get:function(){return this._fontStyle},set:function(e){this._fontStyle!==e&&(this._fontStyle=e,this.styleID++)}},{key:"fontVariant",get:function(){return this._fontVariant},set:function(e){this._fontVariant!==e&&(this._fontVariant=e,this.styleID++)}},{key:"fontWeight",get:function(){return this._fontWeight},set:function(e){this._fontWeight!==e&&(this._fontWeight=e,this.styleID++)}},{key:"letterSpacing",get:function(){return this._letterSpacing},set:function(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.styleID++)}},{key:"lineHeight",get:function(){return this._lineHeight},set:function(e){this._lineHeight!==e&&(this._lineHeight=e,this.styleID++)}},{key:"leading",get:function(){return this._leading},set:function(e){this._leading!==e&&(this._leading=e,this.styleID++)}},{key:"lineJoin",get:function(){return this._lineJoin},set:function(e){this._lineJoin!==e&&(this._lineJoin=e,this.styleID++)}},{key:"miterLimit",get:function(){return this._miterLimit},set:function(e){this._miterLimit!==e&&(this._miterLimit=e,this.styleID++)}},{key:"padding",get:function(){return this._padding},set:function(e){this._padding!==e&&(this._padding=e,this.styleID++)}},{key:"stroke",get:function(){return this._stroke},set:function(e){var t=c(e);this._stroke!==t&&(this._stroke=t,this.styleID++)}},{key:"strokeThickness",get:function(){return this._strokeThickness},set:function(e){this._strokeThickness!==e&&(this._strokeThickness=e,this.styleID++)}},{key:"textBaseline",get:function(){return this._textBaseline},set:function(e){this._textBaseline!==e&&(this._textBaseline=e,this.styleID++)}},{key:"trim",get:function(){return this._trim},set:function(e){this._trim!==e&&(this._trim=e,this.styleID++)}},{key:"whiteSpace",get:function(){return this._whiteSpace},set:function(e){this._whiteSpace!==e&&(this._whiteSpace=e,this.styleID++)}},{key:"wordWrap",get:function(){return this._wordWrap},set:function(e){this._wordWrap!==e&&(this._wordWrap=e,this.styleID++)}},{key:"wordWrapWidth",get:function(){return this._wordWrapWidth},set:function(e){this._wordWrapWidth!==e&&(this._wordWrapWidth=e,this.styleID++)}},{key:"toFontString",value:function(){var e="number"==typeof this.fontSize?"".concat(this.fontSize,"px"):this.fontSize,t=this.fontFamily;Array.isArray(this.fontFamily)||(t=this.fontFamily.split(","));for(var a=t.length-1;a>=0;a--){var i=t[a].trim();!/([\"\'])[^\'\"]+\1/.test(i)&&!o.includes(i)&&(i='"'.concat(i,'"')),t[a]=i}return"".concat(this.fontStyle," ").concat(this.fontVariant," ").concat(this.fontWeight," ").concat(e," ").concat(t.join(","))}}]),e}();l.defaultStyle={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:r.TEXT_GRADIENT.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};var d=l;function c(e){var t=s.Color.shared,a=function(e){var a=t.setValue(e);return 1===a.alpha?a.toHex():a.toRgbaString()};return Array.isArray(e)?e.map(a):a(e)}function u(e,t,a){for(var i in a)Array.isArray(t[i])?e[i]=t[i].slice():e[i]=t[i]}t.TextStyle=d},54633:function(e,t){"use strict";var a=function(e){return e[e.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",e[e.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL",e}(a||{});t.TEXT_GRADIENT=a},37224:function(e,t,a){"use strict";var i=a(54633),n=a(80429),r=a(43697),s=a(45416);t.TEXT_GRADIENT=i.TEXT_GRADIENT,t.Text=n.Text,t.TextMetrics=r.TextMetrics,t.TextStyle=s.TextStyle},17586:function(e,t,a){"use strict";var i=a(56690).default,n=a(89728).default,r=a(9136),s=a(51358),o=function(){function e(){var t=this;i(this,e),this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new s.TickerListener(null,null,1/0),this.deltaMS=1/e.targetFPMS,this.elapsedMS=1/e.targetFPMS,this._tick=function(e){t._requestId=null,t.started&&(t.update(e),t.started&&null===t._requestId&&t._head.next&&(t._requestId=requestAnimationFrame(t._tick)))}}return n(e,[{key:"_requestIfNeeded",value:function(){null===this._requestId&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}},{key:"_cancelIfNeeded",value:function(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)}},{key:"_startIfPossible",value:function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}},{key:"add",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r.UPDATE_PRIORITY.NORMAL;return this._addListener(new s.TickerListener(e,t,a))}},{key:"addOnce",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r.UPDATE_PRIORITY.NORMAL;return this._addListener(new s.TickerListener(e,t,a,!0))}},{key:"_addListener",value:function(e){var t=this._head.next,a=this._head;if(t){for(;t;){if(e.priority>t.priority){e.connect(a);break}a=t,t=t.next}e.previous||e.connect(a)}else e.connect(a);return this._startIfPossible(),this}},{key:"remove",value:function(e,t){for(var a=this._head.next;a;)a=a.match(e,t)?a.destroy():a.next;return this._head.next||this._cancelIfNeeded(),this}},{key:"count",get:function(){if(!this._head)return 0;for(var e=0,t=this._head;t=t.next;)e++;return e}},{key:"start",value:function(){this.started||(this.started=!0,this._requestIfNeeded())}},{key:"stop",value:function(){this.started&&(this.started=!1,this._cancelIfNeeded())}},{key:"destroy",value:function(){if(!this._protected){this.stop();for(var e=this._head.next;e;)e=e.destroy(!0);this._head.destroy(),this._head=null}}},{key:"update",value:function(){var t,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:performance.now();if(a>this.lastTime){if((t=this.elapsedMS=a-this.lastTime)>this._maxElapsedMS&&(t=this._maxElapsedMS),t*=this.speed,this._minElapsedMS){var i=a-this._lastFrame|0;if(i<this._minElapsedMS)return;this._lastFrame=a-i%this._minElapsedMS}this.deltaMS=t,this.deltaTime=this.deltaMS*e.targetFPMS;for(var n=this._head,r=n.next;r;)r=r.emit(this.deltaTime);n.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=a}},{key:"FPS",get:function(){return 1e3/this.elapsedMS}},{key:"minFPS",get:function(){return 1e3/this._maxElapsedMS},set:function(t){var a=Math.min(this.maxFPS,t),i=Math.min(Math.max(0,a)/1e3,e.targetFPMS);this._maxElapsedMS=1/i}},{key:"maxFPS",get:function(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0},set:function(e){if(0===e)this._minElapsedMS=0;else{var t=Math.max(this.minFPS,e);this._minElapsedMS=1/(t/1e3)}}}],[{key:"shared",get:function(){if(!e._shared){var t=e._shared=new e;t.autoStart=!0,t._protected=!0}return e._shared}},{key:"system",get:function(){if(!e._system){var t=e._system=new e;t.autoStart=!0,t._protected=!0}return e._system}}]),e}();o.targetFPMS=.06;var l=o;t.Ticker=l},51358:function(e,t,a){"use strict";var i=a(56690).default,n=a(89728).default,r=function(){function e(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];i(this,e),this.next=null,this.previous=null,this._destroyed=!1,this.fn=t,this.context=a,this.priority=n,this.once=r}return n(e,[{key:"match",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this.fn===e&&this.context===t}},{key:"emit",value:function(e){this.fn&&(this.context?this.fn.call(this.context,e):this.fn(e));var t=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),t}},{key:"connect",value:function(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this}},{key:"destroy",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var t=this.next;return this.next=e?null:t,this.previous=null,t}}]),e}();t.TickerListener=r},52247:function(e,t,a){"use strict";var i=a(56690).default,n=a(89728).default,r=a(59727),s=a(9136),o=a(17586),l=function(){function e(){i(this,e)}return n(e,null,[{key:"init",value:function(e){var t=this;e=Object.assign({autoStart:!0,sharedTicker:!1},e),Object.defineProperty(this,"ticker",{set:function(e){this._ticker&&this._ticker.remove(this.render,this),this._ticker=e,e&&e.add(this.render,this,s.UPDATE_PRIORITY.LOW)},get:function(){return this._ticker}}),this.stop=function(){t._ticker.stop()},this.start=function(){t._ticker.start()},this._ticker=null,this.ticker=e.sharedTicker?o.Ticker.shared:new o.Ticker,e.autoStart&&this.start()}},{key:"destroy",value:function(){if(this._ticker){var e=this._ticker;this.ticker=null,e.destroy()}}}]),e}();l.extension=r.ExtensionType.Application,r.extensions.add(l),t.TickerPlugin=l},9136:function(e,t){"use strict";var a=function(e){return e[e.INTERACTION=50]="INTERACTION",e[e.HIGH=25]="HIGH",e[e.NORMAL=0]="NORMAL",e[e.LOW=-25]="LOW",e[e.UTILITY=-50]="UTILITY",e}(a||{});t.UPDATE_PRIORITY=a},53797:function(e,t,a){"use strict";a(63741);var i=a(9136),n=a(17586),r=a(52247);t.UPDATE_PRIORITY=i.UPDATE_PRIORITY,t.Ticker=n.Ticker,t.TickerPlugin=r.TickerPlugin},63741:function(e,t,a){"use strict";var i=a(5884),n=a(82124),r=a(17586);Object.defineProperties(i.settings,{TARGET_FPMS:{get:function(){return r.Ticker.targetFPMS},set:function(e){n.deprecation("7.1.0","settings.TARGET_FPMS is deprecated, use Ticker.targetFPMS"),r.Ticker.targetFPMS=e}}}),Object.defineProperty(t,"settings",{enumerable:!0,get:function(){return i.settings}})},32933:function(e,t,a){"use strict";var i,n=a(17061).default,r=a(17156).default,s=a(64211);function o(){return(o=r(n().mark((function e(){var t;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(null!==(t=i)&&void 0!==t||(i=r(n().mark((function e(){var t,a,i,r,o,l;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=document.createElement("canvas").getContext("webgl")){e.next=3;break}return e.abrupt("return",s.ALPHA_MODES.UNPACK);case 3:return e.next=5,new Promise((function(e){var t=document.createElement("video");t.onloadeddata=function(){return e(t)},t.onerror=function(){return e(null)},t.autoplay=!1,t.crossOrigin="anonymous",t.preload="auto",t.src="data:video/webm;base64,GkXfo59ChoEBQveBAULygQRC84EIQoKEd2VibUKHgQJChYECGFOAZwEAAAAAAAHTEU2bdLpNu4tTq4QVSalmU6yBoU27i1OrhBZUrmtTrIHGTbuMU6uEElTDZ1OsggEXTbuMU6uEHFO7a1OsggG97AEAAAAAAABZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmoCrXsYMPQkBNgIRMYXZmV0GETGF2ZkSJiEBEAAAAAAAAFlSua8yuAQAAAAAAAEPXgQFzxYgAAAAAAAAAAZyBACK1nIN1bmSIgQCGhVZfVlA5g4EBI+ODhAJiWgDglLCBArqBApqBAlPAgQFVsIRVuYEBElTDZ9Vzc9JjwItjxYgAAAAAAAAAAWfInEWjh0VOQ09ERVJEh49MYXZjIGxpYnZweC12cDlnyKJFo4hEVVJBVElPTkSHlDAwOjAwOjAwLjA0MDAwMDAwMAAAH0O2dcfngQCgwqGggQAAAIJJg0IAABAAFgA4JBwYSgAAICAAEb///4r+AAB1oZ2mm+6BAaWWgkmDQgAAEAAWADgkHBhKAAAgIABIQBxTu2uRu4+zgQC3iveBAfGCAXHwgQM=",t.load()}));case 5:if(i=e.sent){e.next=8;break}return e.abrupt("return",s.ALPHA_MODES.UNPACK);case 8:return r=a.createTexture(),a.bindTexture(a.TEXTURE_2D,r),o=a.createFramebuffer(),a.bindFramebuffer(a.FRAMEBUFFER,o),a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,r,0),a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),a.pixelStorei(a.UNPACK_COLORSPACE_CONVERSION_WEBGL,a.NONE),a.texImage2D(a.TEXTURE_2D,0,a.RGBA,a.RGBA,a.UNSIGNED_BYTE,i),l=new Uint8Array(4),e.abrupt("return",(a.readPixels(0,0,1,1,a.RGBA,a.UNSIGNED_BYTE,l),a.deleteFramebuffer(o),a.deleteTexture(r),null!==(t=a.getExtension("WEBGL_lose_context"))&&void 0!==t&&t.loseContext(),l[0]<=l[3]?s.ALPHA_MODES.PMA:s.ALPHA_MODES.UNPACK));case 14:case"end":return e.stop()}}),e)})))()),i));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t.detectVideoAlphaMode=function(){return o.apply(this,arguments)}},82996:function(e,t,a){"use strict";var i=a(39268);t.sayHello=function(){i.deprecation("7.0.0",'sayHello is deprecated, please use Renderer\'s "hello" option')},t.skipHello=function(){i.deprecation("7.0.0","skipHello is deprecated, please use settings.RENDER_OPTIONS.hello")}},25417:function(e,t,a){"use strict";a(89213);var i,n=a(5884);t.isWebGLSupported=function(){return typeof i>"u"&&(i=function(){var e={stencil:!0,failIfMajorPerformanceCaveat:n.settings.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{var t;if(!n.settings.ADAPTER.getWebGLRenderingContext())return!1;var a=n.settings.ADAPTER.createCanvas(),i=a.getContext("webgl",e)||a.getContext("experimental-webgl",e),r=!(null===(t=i)||void 0===t||null===(t=t.getContextAttributes())||void 0===t||!t.stencil);if(i){var s=i.getExtension("WEBGL_lose_context");s&&s.loseContext()}return i=null,r}catch(o){return!1}}()),i}},50033:function(e,t,a){"use strict";var i=a(25015),n=a(39268);t.hex2rgb=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return n.deprecation("7.2.0","utils.hex2rgb is deprecated, use Color#toRgbArray instead"),i.Color.shared.setValue(e).toRgbArray(t)},t.hex2string=function(e){return n.deprecation("7.2.0","utils.hex2string is deprecated, use Color#toHex instead"),i.Color.shared.setValue(e).toHex()},t.rgb2hex=function(e){return n.deprecation("7.2.0","utils.rgb2hex is deprecated, use Color#toNumber instead"),i.Color.shared.setValue(e).toNumber()},t.string2hex=function(e){return n.deprecation("7.2.0","utils.string2hex is deprecated, use Color#toNumber instead"),i.Color.shared.setValue(e).toNumber()}},12918:function(e,t,a){"use strict";var i=a(25015),n=a(64211),r=a(39268);var s=function(){for(var e=[],t=[],a=0;a<32;a++)e[a]=a,t[a]=a;e[n.BLEND_MODES.NORMAL_NPM]=n.BLEND_MODES.NORMAL,e[n.BLEND_MODES.ADD_NPM]=n.BLEND_MODES.ADD,e[n.BLEND_MODES.SCREEN_NPM]=n.BLEND_MODES.SCREEN,t[n.BLEND_MODES.NORMAL]=n.BLEND_MODES.NORMAL_NPM,t[n.BLEND_MODES.ADD]=n.BLEND_MODES.ADD_NPM,t[n.BLEND_MODES.SCREEN]=n.BLEND_MODES.SCREEN_NPM;var i=[];return i.push(t),i.push(e),i}();t.correctBlendMode=function(e,t){return s[t?1:0][e]},t.premultiplyBlendMode=s,t.premultiplyRgba=function(e,t,a){var n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return r.deprecation("7.2.0","utils.premultiplyRgba has moved to Color.premultiply"),i.Color.shared.setValue(e).premultiply(t,n).toArray(null!==a&&void 0!==a?a:new Float32Array(4))},t.premultiplyTint=function(e,t){return r.deprecation("7.2.0","utils.premultiplyTint has moved to Color.toPremultiplied"),i.Color.shared.setValue(e).toPremultiplied(t)},t.premultiplyTintToRgba=function(e,t,a){var n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return r.deprecation("7.2.0","utils.premultiplyTintToRgba has moved to Color.premultiply"),i.Color.shared.setValue(e).premultiply(t,n).toArray(null!==a&&void 0!==a?a:new Float32Array(4))}},83415:function(e,t){"use strict";t.DATA_URI=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i},16430:function(e,t){"use strict";t.createIndicesForQuads=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=6*e;if((t=t||new Uint16Array(a)).length!==a)throw new Error("Out buffer length is incorrect, got ".concat(t.length," and expected ").concat(a));for(var i=0,n=0;i<a;i+=6,n+=4)t[i+0]=n+0,t[i+1]=n+1,t[i+2]=n+2,t[i+3]=n+0,t[i+4]=n+2,t[i+5]=n+3;return t}},28939:function(e,t){"use strict";t.getBufferType=function(e){if(4===e.BYTES_PER_ELEMENT)return e instanceof Float32Array?"Float32Array":e instanceof Uint32Array?"Uint32Array":"Int32Array";if(2===e.BYTES_PER_ELEMENT){if(e instanceof Uint16Array)return"Uint16Array"}else if(1===e.BYTES_PER_ELEMENT&&e instanceof Uint8Array)return"Uint8Array";return null}},28356:function(e,t,a){"use strict";var i=a(28939),n={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array};t.interleaveTypedArrays=function(e,t){for(var a=0,r=0,s={},o=0;o<e.length;o++)r+=t[o],a+=e[o].length;for(var l=new ArrayBuffer(4*a),d=null,c=0,u=0;u<e.length;u++){var h=t[u],f=e[u],p=i.getBufferType(f);s[p]||(s[p]=new n[p](l)),d=s[p];for(var m=0;m<f.length;m++){d[(m/h|0)*r+c+m%h]=f[m]}c+=h}return new Float32Array(l)}},86934:function(e,t){"use strict";t.isPow2=function(e){return!(e&e-1)&&!!e},t.log2=function(e){var t=(e>65535?1:0)<<4,a=((e>>>=t)>255?1:0)<<3;return t|=a,t|=a=((e>>>=a)>15?1:0)<<2,(t|=a=((e>>>=a)>3?1:0)<<1)|(e>>>=a)>>1},t.nextPow2=function(e){return e+=0===e?1:0,--e,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,(e|=e>>>16)+1}},99852:function(e,t){"use strict";t.removeItems=function(e,t,a){var i,n=e.length;if(!(t>=n||0===a)){var r=n-(a=t+a>n?n-t:a);for(i=t;i<r;++i)e[i]=e[i+a];e.length=r}}},25653:function(e,t){"use strict";t.sign=function(e){return 0===e?0:e<0?-1:1}},52379:function(e,t){"use strict";var a=0;t.uid=function(){return++a}},82124:function(e,t,a){"use strict";a(89213);var i=a(5884),n=a(15911),r=a(10403),s=a(5757),o=a(46492),l=a(32933),d=a(82996),c=a(25417),u=a(50033),h=a(12918),f=a(83415),p=a(16430),m=a(28939),g=a(28356),v=a(86934),b=a(99852),y=a(25653),x=a(52379),_=a(39268),P=a(19824),A=a(25820),E=a(78929),T=a(16214),w=a(32798),S=a(77539),C=a(92863),F=a(73632);a(22893),Object.defineProperty(t,"isMobile",{enumerable:!0,get:function(){return i.isMobile}}),t.EventEmitter=n,t.earcut=r,t.url=s.url,t.path=o.path,t.detectVideoAlphaMode=l.detectVideoAlphaMode,t.sayHello=d.sayHello,t.skipHello=d.skipHello,t.isWebGLSupported=c.isWebGLSupported,t.hex2rgb=u.hex2rgb,t.hex2string=u.hex2string,t.rgb2hex=u.rgb2hex,t.string2hex=u.string2hex,t.correctBlendMode=h.correctBlendMode,t.premultiplyBlendMode=h.premultiplyBlendMode,t.premultiplyRgba=h.premultiplyRgba,t.premultiplyTint=h.premultiplyTint,t.premultiplyTintToRgba=h.premultiplyTintToRgba,t.DATA_URI=f.DATA_URI,t.createIndicesForQuads=p.createIndicesForQuads,t.getBufferType=m.getBufferType,t.interleaveTypedArrays=g.interleaveTypedArrays,t.isPow2=v.isPow2,t.log2=v.log2,t.nextPow2=v.nextPow2,t.removeItems=b.removeItems,t.sign=y.sign,t.uid=x.uid,t.deprecation=_.deprecation,t.BoundingBox=P.BoundingBox,t.BaseTextureCache=A.BaseTextureCache,t.ProgramCache=A.ProgramCache,t.TextureCache=A.TextureCache,t.clearTextureCache=A.clearTextureCache,t.destroyTextureCache=A.destroyTextureCache,t.CanvasRenderTarget=E.CanvasRenderTarget,t.getCanvasBoundingBox=T.getCanvasBoundingBox,t.trimCanvas=w.trimCanvas,t.decomposeDataUri=S.decomposeDataUri,t.determineCrossOrigin=C.determineCrossOrigin,t.getResolutionOfUrl=F.getResolutionOfUrl},39268:function(e,t){"use strict";var a={};t.deprecation=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3;if(!a[t]){var n=(new Error).stack;typeof n>"u"?console.warn("PixiJS Deprecation Warning: ","".concat(t,"\nDeprecated since v").concat(e)):(n=n.split("\n").splice(i).join("\n"),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6","".concat(t,"\nDeprecated since v").concat(e)),console.warn(n),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ","".concat(t,"\nDeprecated since v").concat(e)),console.warn(n))),a[t]=!0}}},19824:function(e,t,a){"use strict";var i=a(56690).default,n=a(89728).default,r=function(){function e(t,a,n,r){i(this,e),this.left=t,this.top=a,this.right=n,this.bottom=r}return n(e,[{key:"width",get:function(){return this.right-this.left}},{key:"height",get:function(){return this.bottom-this.top}},{key:"isEmpty",value:function(){return this.left===this.right||this.top===this.bottom}}]),e}();r.EMPTY=new r(0,0,0,0);var s=r;t.BoundingBox=s},78929:function(e,t,a){"use strict";var i=a(56690).default,n=a(89728).default,r=a(5884),s=function(){function e(t,a,n){i(this,e),this._canvas=r.settings.ADAPTER.createCanvas(),this._context=this._canvas.getContext("2d"),this.resolution=n||r.settings.RESOLUTION,this.resize(t,a)}return n(e,[{key:"clear",value:function(){this._checkDestroyed(),this._context.setTransform(1,0,0,1,0,0),this._context.clearRect(0,0,this._canvas.width,this._canvas.height)}},{key:"resize",value:function(e,t){this._checkDestroyed(),this._canvas.width=Math.round(e*this.resolution),this._canvas.height=Math.round(t*this.resolution)}},{key:"destroy",value:function(){this._context=null,this._canvas=null}},{key:"width",get:function(){return this._checkDestroyed(),this._canvas.width},set:function(e){this._checkDestroyed(),this._canvas.width=Math.round(e)}},{key:"height",get:function(){return this._checkDestroyed(),this._canvas.height},set:function(e){this._checkDestroyed(),this._canvas.height=Math.round(e)}},{key:"canvas",get:function(){return this._checkDestroyed(),this._canvas}},{key:"context",get:function(){return this._checkDestroyed(),this._context}},{key:"_checkDestroyed",value:function(){if(null===this._canvas)throw new TypeError("The CanvasRenderTarget has already been destroyed")}}]),e}();t.CanvasRenderTarget=s},25820:function(e,t){"use strict";var a=Object.create(null),i=Object.create(null);t.BaseTextureCache=i,t.ProgramCache={},t.TextureCache=a,t.clearTextureCache=function(){var e;for(e in a)delete a[e];for(e in i)delete i[e]},t.destroyTextureCache=function(){var e;for(e in a)a[e].destroy();for(e in i)i[e].destroy()}},16214:function(e,t,a){"use strict";var i=a(19824);function n(e,t,a){for(var i=0,n=4*a*t;i<t;++i,n+=4)if(0!==e[n+3])return!1;return!0}function r(e,t,a,i,n){for(var r=4*t,s=i,o=i*r+4*a;s<=n;++s,o+=r)if(0!==e[o+3])return!1;return!0}t.getCanvasBoundingBox=function(e){var t=e.width,a=e.height,s=e.getContext("2d",{willReadFrequently:!0});if(null===s)throw new TypeError("Failed to get canvas 2D context");for(var o=s.getImageData(0,0,t,a).data,l=0,d=0,c=t-1,u=a-1;d<a&&n(o,t,d);)++d;if(d===a)return i.BoundingBox.EMPTY;for(;n(o,t,u);)--u;for(;r(o,t,l,d,u);)++l;for(;r(o,t,c,d,u);)--c;return++c,++u,new i.BoundingBox(l,d,c,u)}},32798:function(e,t,a){"use strict";var i=a(16214);t.trimCanvas=function(e){var t=i.getCanvasBoundingBox(e),a=t.width,n=t.height,r=null;if(!t.isEmpty()){var s=e.getContext("2d");if(null===s)throw new TypeError("Failed to get canvas 2D context");r=s.getImageData(t.left,t.top,a,n)}return{width:a,height:n,data:r}}},77539:function(e,t,a){"use strict";var i=a(83415);t.decomposeDataUri=function(e){var t=i.DATA_URI.exec(e);if(t)return{mediaType:t[1]?t[1].toLowerCase():void 0,subType:t[2]?t[2].toLowerCase():void 0,charset:t[3]?t[3].toLowerCase():void 0,encoding:t[4]?t[4].toLowerCase():void 0,data:t[5]}}},92863:function(e,t){"use strict";t.determineCrossOrigin=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:globalThis.location;if(e.startsWith("data:"))return"";t=t||globalThis.location;var a=new URL(e,document.baseURI);return a.hostname!==t.hostname||a.port!==t.port||a.protocol!==t.protocol?"anonymous":""}},73632:function(e,t,a){"use strict";a(89213);var i=a(5884);t.getResolutionOfUrl=function(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=null===(t=i.settings.RETINA_PREFIX)||void 0===t?void 0:t.exec(e);return n?parseFloat(n[1]):a}},46492:function(e,t,a){"use strict";var i=a(5884);function n(e){if("string"!=typeof e)throw new TypeError("Path must be a string. Received ".concat(JSON.stringify(e)))}function r(e){return e.split("?")[0].split("#")[0]}var s={toPosix:function(e){return t="\\",a="/",e.replace(new RegExp(t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"g"),a);var t,a},isUrl:function(e){return/^https?:/.test(this.toPosix(e))},isDataUrl:function(e){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(e)},isBlobUrl:function(e){return e.startsWith("blob:")},hasProtocol:function(e){return/^[^/:]+:/.test(this.toPosix(e))},getProtocol:function(e){n(e),e=this.toPosix(e);var t=/^file:\/\/\//.exec(e);if(t)return t[0];var a=/^[^/:]+:\/{0,2}/.exec(e);return a?a[0]:""},toAbsolute:function(e,t,a){if(n(e),this.isDataUrl(e)||this.isBlobUrl(e))return e;var o=r(this.toPosix(null!==t&&void 0!==t?t:i.settings.ADAPTER.getBaseUrl())),l=r(this.toPosix(null!==a&&void 0!==a?a:this.rootname(o)));return(e=this.toPosix(e)).startsWith("/")?s.join(l,e.slice(1)):this.isAbsolute(e)?e:this.join(o,e)},normalize:function(e){if(n(e),0===e.length)return".";if(this.isDataUrl(e)||this.isBlobUrl(e))return e;var t="",a=(e=this.toPosix(e)).startsWith("/");this.hasProtocol(e)&&(t=this.rootname(e),e=e.slice(t.length));var i=e.endsWith("/");return(e=function(e,t){for(var a="",i=0,n=-1,r=0,s=-1,o=0;o<=e.length;++o){if(o<e.length)s=e.charCodeAt(o);else{if(47===s)break;s=47}if(47===s){if(n!==o-1&&1!==r)if(n!==o-1&&2===r){if(a.length<2||2!==i||46!==a.charCodeAt(a.length-1)||46!==a.charCodeAt(a.length-2))if(a.length>2){var l=a.lastIndexOf("/");if(l!==a.length-1){-1===l?(a="",i=0):i=(a=a.slice(0,l)).length-1-a.lastIndexOf("/"),n=o,r=0;continue}}else if(2===a.length||1===a.length){a="",i=0,n=o,r=0;continue}t&&(a.length>0?a+="/..":a="..",i=2)}else a.length>0?a+="/".concat(e.slice(n+1,o)):a=e.slice(n+1,o),i=o-n-1;n=o,r=0}else 46===s&&-1!==r?++r:r=-1}return a}(e,!1)).length>0&&i&&(e+="/"),a?"/".concat(e):t+e},isAbsolute:function(e){return n(e),e=this.toPosix(e),!!this.hasProtocol(e)||e.startsWith("/")},join:function(){if(0===arguments.length)return".";for(var e,t=0;t<arguments.length;++t){var a=t<0||arguments.length<=t?void 0:arguments[t];if(n(a),a.length>0)if(void 0===e)e=a;else{var i,r=null!==(i=t-1<0||arguments.length<=t-1?void 0:arguments[t-1])&&void 0!==i?i:"";this.joinExtensions.includes(this.extname(r).toLowerCase())?e+="/../".concat(a):e+="/".concat(a)}}return void 0===e?".":this.normalize(e)},dirname:function(e){if(n(e),0===e.length)return".";for(var t=(e=this.toPosix(e)).charCodeAt(0),a=47===t,i=-1,r=!0,s=this.getProtocol(e),o=e,l=(e=e.slice(s.length)).length-1;l>=1;--l)if(47===(t=e.charCodeAt(l))){if(!r){i=l;break}}else r=!1;return-1===i?a?"/":this.isUrl(o)?s+e:s:a&&1===i?"//":s+e.slice(0,i)},rootname:function(e){n(e);var t="";if(t=(e=this.toPosix(e)).startsWith("/")?"/":this.getProtocol(e),this.isUrl(e)){var a=e.indexOf("/",t.length);(t=-1!==a?e.slice(0,a):e).endsWith("/")||(t+="/")}return t},basename:function(e,t){n(e),t&&n(t),e=r(this.toPosix(e));var a,i=0,s=-1,o=!0;if(void 0!==t&&t.length>0&&t.length<=e.length){if(t.length===e.length&&t===e)return"";var l=t.length-1,d=-1;for(a=e.length-1;a>=0;--a){var c=e.charCodeAt(a);if(47===c){if(!o){i=a+1;break}}else-1===d&&(o=!1,d=a+1),l>=0&&(c===t.charCodeAt(l)?-1===--l&&(s=a):(l=-1,s=d))}return i===s?s=d:-1===s&&(s=e.length),e.slice(i,s)}for(a=e.length-1;a>=0;--a)if(47===e.charCodeAt(a)){if(!o){i=a+1;break}}else-1===s&&(o=!1,s=a+1);return-1===s?"":e.slice(i,s)},extname:function(e){n(e);for(var t=-1,a=0,i=-1,s=!0,o=0,l=(e=r(this.toPosix(e))).length-1;l>=0;--l){var d=e.charCodeAt(l);if(47!==d)-1===i&&(s=!1,i=l+1),46===d?-1===t?t=l:1!==o&&(o=1):-1!==t&&(o=-1);else if(!s){a=l+1;break}}return-1===t||-1===i||0===o||1===o&&t===i-1&&t===a+1?"":e.slice(t,i)},parse:function(e){n(e);var t={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return t;var a,i=(e=r(this.toPosix(e))).charCodeAt(0),s=this.isAbsolute(e);t.root=this.rootname(e),a=s||this.hasProtocol(e)?1:0;for(var o=-1,l=0,d=-1,c=!0,u=e.length-1,h=0;u>=a;--u)if(47!==(i=e.charCodeAt(u)))-1===d&&(c=!1,d=u+1),46===i?-1===o?o=u:1!==h&&(h=1):-1!==o&&(h=-1);else if(!c){l=u+1;break}return-1===o||-1===d||0===h||1===h&&o===d-1&&o===l+1?-1!==d&&(t.base=t.name=0===l&&s?e.slice(1,d):e.slice(l,d)):(0===l&&s?(t.name=e.slice(1,o),t.base=e.slice(1,d)):(t.name=e.slice(l,o),t.base=e.slice(l,d)),t.ext=e.slice(o,d)),t.dir=this.dirname(e),t},sep:"/",delimiter:":",joinExtensions:[".html"]};t.path=s},89213:function(e,t,a){"use strict";var i=a(5884);i.settings.RETINA_PREFIX=/@([0-9\.]+)x/,i.settings.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1,Object.defineProperty(t,"settings",{enumerable:!0,get:function(){return i.settings}})},22893:function(){},5757:function(e,t,a){"use strict";var i=a(7612),n=a(39268),r={get parse(){return n.deprecation("7.3.0","utils.url.parse is deprecated, use native URL API instead."),i.parse},get format(){return n.deprecation("7.3.0","utils.url.format is deprecated, use native URL API instead."),i.format},get resolve(){return n.deprecation("7.3.0","utils.url.resolve is deprecated, use native URL API instead."),i.resolve}};t.url=r},11050:function(e,t,a){var i=a(861).default,n=a(17061).default,r=a(17156).default,s=a(56690).default,o=a(89728).default,l=a(66115).default,d=a(41588).default,c=a(73808).default,u=a(61655).default,h=a(26389).default,f=a(38416).default,p=a(27424).default;e.exports={createExtension:function(e,t){var a=new t.PlatformExtension;a.setExtensionInformation("Scene3D",e("3D"),e("Support for 3D in GDevelop: this provides 3D objects and the common features for all 3D objects."),"Florian Rival","MIT").setCategory("General"),a.addInstructionOrExpressionGroupMetadata(e("3D")).setIcon("res/conditions/3d_box.svg");var i=a.addBehavior("Base3DBehavior",e("3D capability"),"Object3D",e("Common features for all 3D objects: position in 3D space (including the Z axis, in addition to X and Y), size (including depth, in addition to width and height), rotation (on X and Y axis, in addition to the Z axis), scale (including Z axis, in addition to X and Y), flipping (on Z axis, in addition to horizontal (Y)/vertical (X) flipping)."),"","res/conditions/3d_box.svg","Base3DBehavior",new t.Behavior,new t.BehaviorsSharedData).setHidden().setIncludeFile("Extensions/3D/Base3DBehavior.js");i.addExpressionAndConditionAndAction("number","Z",e("Z (elevation)"),e('the Z position (the "elevation")'),e("the Z position"),e("Position"),"res/conditions/3d_box.svg").addParameter("object",e("3D object"),"",!1).addParameter("behavior",e("Behavior"),"Base3DBehavior").useStandardParameters("number",t.ParameterOptions.makeNewOptions()).setFunctionName("setZ").setGetter("getZ"),i.addExpressionAndConditionAndAction("number","CenterZ",e("Center Z position"),e("the Z position of the center of rotation"),e("the Z position of the center"),e("Position \u276f Center"),"res/conditions/3d_box.svg").addParameter("object",e("3D object"),"",!1).addParameter("behavior",e("Behavior"),"Base3DBehavior").useStandardParameters("number",t.ParameterOptions.makeNewOptions()).setFunctionName("setCenterZInScene").setGetter("getCenterZInScene"),i.addExpressionAndConditionAndAction("number","Depth",e("Depth (size on Z axis)"),e("the depth (size on Z axis)"),e("the depth"),e("Size"),"res/conditions/3d_box.svg").addParameter("object",e("3D object"),"",!1).addParameter("behavior",e("Behavior"),"Base3DBehavior").useStandardParameters("number",t.ParameterOptions.makeNewOptions()).setFunctionName("setDepth").setGetter("getDepth"),i.addExpressionAndConditionAndAction("number","ScaleZ",e("Scale on Z axis"),e("the scale on Z axis of an object (default scale is 1)"),e("the scale on Z axis scale"),e("Size"),"res/conditions/3d_box.svg").addParameter("object",e("3D object"),"",!1).addParameter("behavior",e("Behavior"),"Base3DBehavior").useStandardParameters("number",t.ParameterOptions.makeNewOptions().setDescription(e("Scale (1 by default)"))).markAsAdvanced().setFunctionName("setScaleZ").setGetter("getScaleZ"),i.addScopedAction("FlipZ",e("Flip the object on Z"),e("Flip the object on Z axis"),e("Flip on Z axis _PARAM0_: _PARAM2_"),e("Effects"),"res/conditions/3d_box.svg","res/conditions/3d_box.svg").addParameter("object",e("3D object"),"",!1).addParameter("behavior",e("Behavior"),"Base3DBehavior").addParameter("yesorno",e("Activate flipping")).markAsSimple().setFunctionName("flipZ"),i.addScopedCondition("FlippedZ",e("Flipped on Z"),e("Check if the object is flipped on Z axis"),e("_PARAM0_ is flipped on Z axis"),e("Effects"),"res/conditions/3d_box.svg","res/conditions/3d_box.svg").addParameter("object",e("3D object"),"",!1).addParameter("behavior",e("Behavior"),"Base3DBehavior").setFunctionName("isFlippedZ"),i.addExpressionAndConditionAndAction("number","RotationX",e("Rotation on X axis"),e("the rotation on X axis"),e("the rotation on X axis"),e("Angle"),"res/conditions/3d_box.svg").addParameter("object",e("3D object"),"",!1).addParameter("behavior",e("Behavior"),"Base3DBehavior").useStandardParameters("number",t.ParameterOptions.makeNewOptions().setDescription(e("Angle (in degrees)"))).setFunctionName("setRotationX").setGetter("getRotationX"),i.addExpressionAndConditionAndAction("number","RotationY",e("Rotation on Y axis"),e("the rotation on Y axis"),e("the rotation on Y axis"),e("Angle"),"res/conditions/3d_box.svg").addParameter("object",e("3D object"),"",!1).addParameter("behavior",e("Behavior"),"Base3DBehavior").useStandardParameters("number",t.ParameterOptions.makeNewOptions().setDescription(e("Angle (in degrees)"))).setFunctionName("setRotationY").setGetter("getRotationY"),i.addScopedAction("TurnAroundX",e("Turn around X axis"),e("Turn the object around X axis. This axis doesn't move with the object rotation."),e("Turn _PARAM0_ from _PARAM2_\xb0 around X axis"),e("Angle"),"res/conditions/3d_box.svg","res/conditions/3d_box.svg").addParameter("object",e("3D object"),"",!1).addParameter("behavior",e("Behavior"),"Base3DBehavior").addParameter("number",e("Angle to add (in degrees)"),"",!1).markAsAdvanced().setFunctionName("turnAroundX"),i.addScopedAction("TurnAroundY",e("Turn around Y axis"),e("Turn the object around Y axis. This axis doesn't move with the object rotation."),e("Turn _PARAM0_ from _PARAM2_\xb0 around Y axis"),e("Angle"),"res/conditions/3d_box.svg","res/conditions/3d_box.svg").addParameter("object",e("3D object"),"",!1).addParameter("behavior",e("Behavior"),"Base3DBehavior").addParameter("number",e("Angle to add (in degrees)"),"",!1).markAsAdvanced().setFunctionName("turnAroundY"),i.addScopedAction("TurnAroundZ",e("Turn around Z axis"),e("Turn the object around Z axis. This axis doesn't move with the object rotation."),e("Turn _PARAM0_ from _PARAM2_\xb0 around Z axis"),e("Angle"),"res/conditions/3d_box.svg","res/conditions/3d_box.svg").addParameter("object",e("3D object"),"",!1).addParameter("behavior",e("Behavior"),"Base3DBehavior").addParameter("number",e("Angle to add (in degrees)"),"",!1).markAsAdvanced().setFunctionName("turnAroundZ");var n=a.addObject("Model3DObject",e("3D Model"),e("An animated 3D model, useful for most elements of a 3D game."),"JsPlatform/Extensions/3d_model.svg",new t.Model3DObjectConfiguration).setCategoryFullName(e("General")).addDefaultBehavior("ResizableCapability::ResizableBehavior").addDefaultBehavior("ScalableCapability::ScalableBehavior").addDefaultBehavior("FlippableCapability::FlippableBehavior").addDefaultBehavior("AnimatableCapability::AnimatableBehavior").addDefaultBehavior("Scene3D::Base3DBehavior").markAsRenderedIn3D().setIncludeFile("Extensions/3D/A_RuntimeObject3D.js").addIncludeFile("Extensions/3D/A_RuntimeObject3DRenderer.js").addIncludeFile("Extensions/3D/Model3DRuntimeObject.js").addIncludeFile("Extensions/3D/Model3DRuntimeObject3DRenderer.js");n.addExpressionAndConditionAndAction("number","Z",e("Z (elevation)"),e('the Z position (the "elevation")'),e("the Z position"),e("Position"),"res/conditions/3d_box.svg").addParameter("object",e("3D model"),"Model3DObject",!1).useStandardParameters("number",t.ParameterOptions.makeNewOptions()).setHidden().setFunctionName("setZ").setGetter("getZ"),n.addExpressionAndConditionAndAction("number","Depth",e("Depth (size on Z axis)"),e("the depth (size on Z axis)"),e("the depth"),e("Size"),"res/conditions/3d_box.svg").addParameter("object",e("3D model"),"Model3DObject",!1).useStandardParameters("number",t.ParameterOptions.makeNewOptions()).setHidden().setFunctionName("setDepth").setGetter("getDepth"),n.addScopedAction("SetWidth",e("Width"),e("Change the width of an object."),e("the width"),e("Size"),"res/actions/scaleWidth24_black.png","res/actions/scaleWidth_black.png").addParameter("object",e("3D model"),"Model3DObject",!1).useStandardOperatorParameters("number",t.ParameterOptions.makeNewOptions()).setHidden().markAsAdvanced().setFunctionName("setWidth").setGetter("getWidth"),n.addScopedCondition("Width",e("Width"),e("Compare the width of an object."),e("the width"),e("Size"),"res/actions/scaleWidth24_black.png","res/actions/scaleWidth_black.png").addParameter("object",e("3D model"),"Model3DObject",!1).useStandardRelationalOperatorParameters("number",t.ParameterOptions.makeNewOptions()).setHidden().markAsAdvanced().setFunctionName("getWidth"),n.addScopedAction("SetHeight",e("Height"),e("Change the height of an object."),e("the height"),e("Size"),"res/actions/scaleHeight24_black.png","res/actions/scaleHeight_black.png").addParameter("object",e("3D model"),"Model3DObject",!1).useStandardOperatorParameters("number",t.ParameterOptions.makeNewOptions()).setHidden().markAsAdvanced().setFunctionName("setHeight").setGetter("getHeight"),n.addScopedCondition("Height",e("Height"),e("Compare the height of an object."),e("the height"),e("Size"),"res/actions/scaleHeight24_black.png","res/actions/scaleHeight_black.png").addParameter("object",e("3D model"),"Model3DObject",!1).useStandardRelationalOperatorParameters("number",t.ParameterOptions.makeNewOptions()).setHidden().markAsAdvanced().setFunctionName("getHeight"),n.addExpressionAndConditionAndAction("number","Height",e("Height"),e("the height"),e("the height"),e("Size"),"res/actions/scaleHeight24_black.png").addParameter("object",e("3D model"),"Model3DObject",!1).useStandardParameters("number",t.ParameterOptions.makeNewOptions()).setHidden().setFunctionName("setHeight").setGetter("getHeight"),n.addScopedAction("Scale",e("Scale"),e("Modify the scale of the specified object."),e("the scale"),e("Size"),"res/actions/scale24_black.png","res/actions/scale_black.png").addParameter("object",e("3D model"),"Model3DObject",!1).useStandardOperatorParameters("number",t.ParameterOptions.makeNewOptions().setDescription(e("Scale (1 by default)"))).setHidden().markAsAdvanced().setFunctionName("setScale").setGetter("getScale"),n.addExpressionAndConditionAndAction("number","ScaleX",e("Scale on X axis"),e("the width's scale of an object"),e("the width's scale"),e("Size"),"res/actions/scaleWidth24_black.png").addParameter("object",e("3D model"),"Model3DObject",!1).useStandardParameters("number",t.ParameterOptions.makeNewOptions().setDescription(e("Scale (1 by default)"))).setHidden().markAsAdvanced().setFunctionName("setScaleX").setGetter("getScaleX"),n.addExpressionAndConditionAndAction("number","ScaleY",e("Scale on Y axis"),e("the height's scale of an object"),e("the height's scale"),e("Size"),"res/actions/scaleHeight24_black.png").addParameter("object",e("3D model"),"Model3DObject",!1).useStandardParameters("number",t.ParameterOptions.makeNewOptions().setDescription(e("Scale (1 by default)"))).setHidden().markAsAdvanced().setFunctionName("setScaleY").setGetter("getScaleY"),n.addExpressionAndConditionAndAction("number","ScaleZ",e("Scale on Z axis"),e("the depth's scale of an object"),e("the depth's scale"),e("Size"),"res/conditions/3d_box.svg").addParameter("object",e("3D model"),"Model3DObject",!1).useStandardParameters("number",t.ParameterOptions.makeNewOptions().setDescription(e("Scale (1 by default)"))).markAsAdvanced().setHidden().setFunctionName("setScaleZ").setGetter("getScaleZ"),n.addScopedAction("FlipX",e("Flip the object horizontally"),e("Flip the object horizontally"),e("Flip horizontally _PARAM0_: _PARAM1_"),e("Effects"),"res/actions/flipX24.png","res/actions/flipX.png").addParameter("object",e("3D model"),"Model3DObject",!1).addParameter("yesorno",e("Activate flipping")).setHidden().markAsSimple().setFunctionName("flipX"),n.addScopedAction("FlipY",e("Flip the object vertically"),e("Flip the object vertically"),e("Flip vertically _PARAM0_: _PARAM1_"),e("Effects"),"res/actions/flipY24.png","res/actions/flipY.png").addParameter("object",e("3D model"),"Model3DObject",!1).addParameter("yesorno",e("Activate flipping")).setHidden().markAsSimple().setFunctionName("flipY"),n.addScopedAction("FlipZ",e("Flip the object on Z"),e("Flip the object on Z axis"),e("Flip on Z axis _PARAM0_: _PARAM1_"),e("Effects"),"res/conditions/3d_box.svg","res/conditions/3d_box.svg").addParameter("object",e("3D model"),"Model3DObject",!1).addParameter("yesorno",e("Activate flipping")).markAsSimple().setHidden().setFunctionName("flipZ"),n.addScopedCondition("FlippedX",e("Horizontally flipped"),e("Check if the object is horizontally flipped"),e("_PARAM0_ is horizontally flipped"),e("Effects"),"res/actions/flipX24.png","res/actions/flipX.png").addParameter("object",e("3D model"),"Model3DObject",!1).setHidden().setFunctionName("isFlippedX"),n.addScopedCondition("FlippedY",e("Vertically flipped"),e("Check if the object is vertically flipped"),e("_PARAM0_ is vertically flipped"),e("Effects"),"res/actions/flipY24.png","res/actions/flipY.png").addParameter("object",e("3D model"),"Model3DObject",!1).setHidden().setFunctionName("isFlippedY"),n.addScopedCondition("FlippedZ",e("Flipped on Z"),e("Check if the object is flipped on Z axis"),e("_PARAM0_ is flipped on Z axis"),e("Effects"),"res/conditions/3d_box.svg","res/conditions/3d_box.svg").addParameter("object",e("3D model"),"Model3DObject",!1).setHidden().setFunctionName("isFlippedZ"),n.addExpressionAndConditionAndAction("number","RotationX",e("Rotation on X axis"),e("the rotation on X axis"),e("the rotation on X axis"),e("Angle"),"res/conditions/3d_box.svg").addParameter("object",e("3D model"),"Model3DObject",!1).useStandardParameters("number",t.ParameterOptions.makeNewOptions().setDescription(e("Angle (in degrees)"))).setHidden().setFunctionName("setRotationX").setGetter("getRotationX"),n.addExpressionAndConditionAndAction("number","RotationY",e("Rotation on Y axis"),e("the rotation on Y axis"),e("the rotation on Y axis"),e("Angle"),"res/conditions/3d_box.svg").addParameter("object",e("3D model"),"Model3DObject",!1).useStandardParameters("number",t.ParameterOptions.makeNewOptions().setDescription(e("Angle (in degrees)"))).setHidden().setFunctionName("setRotationY").setGetter("getRotationY"),n.addScopedAction("TurnAroundX",e("Turn around X axis"),e("Turn the object around X axis. This axis doesn't move with the object rotation."),e("Turn _PARAM0_ from _PARAM1_\xb0 around X axis"),e("Angle"),"res/conditions/3d_box.svg","res/conditions/3d_box.svg").addParameter("object",e("3D model"),"Model3DObject",!1).addParameter("number",e("Angle to add (in degrees)"),"",!1).markAsAdvanced().setHidden().setFunctionName("turnAroundX"),n.addScopedAction("TurnAroundY",e("Turn around Y axis"),e("Turn the object around Y axis. This axis doesn't move with the object rotation."),e("Turn _PARAM0_ from _PARAM1_\xb0 around Y axis"),e("Angle"),"res/conditions/3d_box.svg","res/conditions/3d_box.svg").addParameter("object",e("3D model"),"Model3DObject",!1).addParameter("number",e("Angle to add (in degrees)"),"",!1).markAsAdvanced().setHidden().setFunctionName("turnAroundY"),n.addScopedAction("TurnAroundZ",e("Turn around Z axis"),e("Turn the object around Z axis. This axis doesn't move with the object rotation."),e("Turn _PARAM0_ from _PARAM1_\xb0 around Z axis"),e("Angle"),"res/conditions/3d_box.svg","res/conditions/3d_box.svg").addParameter("object",e("3D model"),"Model3DObject",!1).addParameter("number",e("Angle to add (in degrees)"),"",!1).markAsAdvanced().setHidden().setFunctionName("turnAroundZ"),n.addExpressionAndConditionAndAction("number","Animation",e("Animation (by number)"),e("the number of the animation played by the object (the number from the animations list)"),e("the number of the animation"),e("Animations and images"),"res/actions/animation24.png").addParameter("object",e("3D model"),"Model3DObject",!1).useStandardParameters("number",t.ParameterOptions.makeNewOptions()).markAsSimple().setHidden().setFunctionName("setAnimationIndex").setGetter("getAnimationIndex"),n.addExpressionAndConditionAndAction("string","AnimationName",e("Animation (by name)"),e("the animation played by the object"),e("the animation"),e("Animations and images"),"res/actions/animation24.png").addParameter("object",e("3D model"),"Model3DObject",!1).useStandardParameters("objectAnimationName",t.ParameterOptions.makeNewOptions().setDescription(e("Animation name"))).markAsAdvanced().setHidden().setFunctionName("setAnimationName").setGetter("getAnimationName"),n.addAction("PauseAnimation",e("Pause the animation"),e("Pause the animation of the object"),e("Pause the animation of _PARAM0_"),e("Animations and images"),"res/actions/animation24.png","res/actions/animation.png").addParameter("object",e("3D model"),"Model3DObject",!1).markAsSimple().setHidden().setFunctionName("pauseAnimation"),n.addAction("ResumeAnimation",e("Resume the animation"),e("Resume the animation of the object"),e("Resume the animation of _PARAM0_"),e("Animations and images"),"res/actions/animation24.png","res/actions/animation.png").addParameter("object",e("3D model"),"Model3DObject",!1).markAsSimple().setHidden().setFunctionName("resumeAnimation"),n.addExpressionAndConditionAndAction("number","AnimationSpeedScale",e("Animation speed scale"),e("the animation speed scale (1 = the default speed, >1 = faster and <1 = slower)"),e("the animation speed scale"),e("Animations and images"),"res/actions/animation24.png").addParameter("object",e("3D model"),"Model3DObject",!1).useStandardParameters("number",t.ParameterOptions.makeNewOptions().setDescription(e("Speed scale"))).markAsSimple().setHidden().setFunctionName("setAnimationSpeedScale").setGetter("getAnimationSpeedScale"),n.addCondition("IsAnimationPaused",e("Animation paused"),e("Check if the animation of an object is paused."),e("The animation of _PARAM0_ is paused"),e("Animations and images"),"res/conditions/animation24.png","res/conditions/animation.png").addParameter("object",e("3D model"),"Model3DObject",!1).markAsSimple().setHidden().setFunctionName("isAnimationPaused"),n.addCondition("HasAnimationEnded",e("Animation finished"),e("Check if the animation being played by the Sprite object is finished."),e("The animation of _PARAM0_ is finished"),e("Animations and images"),"res/conditions/animation24.png","res/conditions/animation.png").addParameter("object",e("3D model"),"Model3DObject",!1).markAsSimple().setHidden().setFunctionName("hasAnimationEnded"),n.addScopedAction("SetCrossfadeDuration",e("Set crossfade duration"),e("Set the crossfade duration when switching to a new animation."),e("Set crossfade duration of _PARAM0_ to _PARAM1_ seconds"),e("Animations and images"),"res/conditions/animation24.png","res/conditions/animation.png").addParameter("object",e("3D model"),"Model3DObject",!1).addParameter("number",e("Crossfade duration (in seconds)"),"",!1).setFunctionName("setCrossfadeDuration");var r=new t.ObjectJsImplementation;r.updateProperty=function(e,t){var a=this.content;return"width"===e||"height"===e||"depth"===e?(a[e]=parseFloat(t),!0):"frontFaceResourceName"===e||"backFaceResourceName"===e||"leftFaceResourceName"===e||"rightFaceResourceName"===e||"topFaceResourceName"===e||"bottomFaceResourceName"===e||"backFaceUpThroughWhichAxisRotation"===e||"facesOrientation"===e||"materialType"===e||"tint"===e?(a[e]=t,!0):("frontFaceVisible"===e||"backFaceVisible"===e||"leftFaceVisible"===e||"rightFaceVisible"===e||"topFaceVisible"===e||"bottomFaceVisible"===e||"frontFaceResourceRepeat"===e||"backFaceResourceRepeat"===e||"leftFaceResourceRepeat"===e||"rightFaceResourceRepeat"===e||"topFaceResourceRepeat"===e||"bottomFaceResourceRepeat"===e||"enableTextureTransparency"===e||"isCastingShadow"===e||"isReceivingShadow"===e)&&(a[e]="1"===t,!0)},r.getProperties=function(){var a=new t.MapStringPropertyDescriptor,i=this.content;return a.getOrCreate("enableTextureTransparency").setValue(i.enableTextureTransparency?"true":"false").setType("boolean").setLabel(e("Enable texture transparency")).setDescription(e("Enabling texture transparency has an impact on rendering performance.")).setGroup(e("Texture settings")),a.getOrCreate("facesOrientation").setValue(i.facesOrientation||"Y").setType("choice").addChoice("Y","Y").addChoice("Z","Z").setLabel(e("Faces orientation")).setDescription(e("The top of each image can touch the **top face** (Y) or the **front face** (Z).")).setGroup(e("Face orientation")).setAdvanced(!0),a.getOrCreate("width").setValue((i.width||0).toString()).setType("number").setLabel(e("Width")).setMeasurementUnit(t.MeasurementUnit.getPixel()).setGroup(e("Default size")),a.getOrCreate("height").setValue((i.height||0).toString()).setType("number").setLabel(e("Height")).setMeasurementUnit(t.MeasurementUnit.getPixel()).setGroup(e("Default size")),a.getOrCreate("depth").setValue((i.depth||0).toString()).setType("number").setLabel(e("Depth")).setMeasurementUnit(t.MeasurementUnit.getPixel()).setGroup(e("Default size")),a.getOrCreate("tint").setValue(i.tint||"255;255;255").setType("Color").setLabel(e("Tint")).setGroup(e("Texture")),a.getOrCreate("frontFaceResourceName").setValue(i.frontFaceResourceName||"").setType("resource").addExtraInfo("image").setLabel(e("Front face")).setGroup(e("Textures")),a.getOrCreate("backFaceResourceName").setValue(i.backFaceResourceName||"").setType("resource").addExtraInfo("image").setLabel(e("Back face")).setGroup(e("Textures")),a.getOrCreate("backFaceUpThroughWhichAxisRotation").setValue(i.backFaceUpThroughWhichAxisRotation||"X").setType("choice").addChoice("X","X").addChoice("Y","Y").setLabel(e("Back face orientation")).setDescription(e("The top of the image can touch the **top face** (Y) or the **bottom face** (X).")).setGroup(e("Face orientation")).setAdvanced(!0),a.getOrCreate("leftFaceResourceName").setValue(i.leftFaceResourceName||"").setType("resource").addExtraInfo("image").setLabel(e("Left face")).setGroup(e("Textures")),a.getOrCreate("rightFaceResourceName").setValue(i.rightFaceResourceName||"").setType("resource").addExtraInfo("image").setLabel(e("Right face")).setGroup(e("Textures")),a.getOrCreate("topFaceResourceName").setValue(i.topFaceResourceName||"").setType("resource").addExtraInfo("image").setLabel(e("Top face")).setGroup(e("Textures")),a.getOrCreate("bottomFaceResourceName").setValue(i.bottomFaceResourceName||"").setType("resource").addExtraInfo("image").setLabel(e("Bottom face")).setGroup(e("Textures")),a.getOrCreate("frontFaceResourceRepeat").setValue(i.frontFaceResourceRepeat?"true":"false").setType("boolean").setLabel(e("Tile")).setGroup(e("Textures")),a.getOrCreate("backFaceResourceRepeat").setValue(i.backFaceResourceRepeat?"true":"false").setType("boolean").setLabel(e("Tile")).setGroup(e("Textures")),a.getOrCreate("leftFaceResourceRepeat").setValue(i.leftFaceResourceRepeat?"true":"false").setType("boolean").setLabel(e("Tile")).setGroup(e("Textures")),a.getOrCreate("rightFaceResourceRepeat").setValue(i.rightFaceResourceRepeat?"true":"false").setType("boolean").setLabel(e("Tile")).setGroup(e("Textures")),a.getOrCreate("topFaceResourceRepeat").setValue(i.topFaceResourceRepeat?"true":"false").setType("boolean").setLabel(e("Tile")).setGroup(e("Textures")),a.getOrCreate("bottomFaceResourceRepeat").setValue(i.bottomFaceResourceRepeat?"true":"false").setType("boolean").setLabel(e("Tile")).setGroup(e("Textures")),a.getOrCreate("frontFaceVisible").setValue(i.frontFaceVisible?"true":"false").setType("boolean").setLabel(e("Front face")).setGroup(e("Face visibility")).setAdvanced(!0),a.getOrCreate("backFaceVisible").setValue(i.backFaceVisible?"true":"false").setType("boolean").setLabel(e("Back face")).setGroup(e("Face visibility")).setAdvanced(!0),a.getOrCreate("leftFaceVisible").setValue(i.leftFaceVisible?"true":"false").setType("boolean").setLabel(e("Left face")).setGroup(e("Face visibility")).setAdvanced(!0),a.getOrCreate("rightFaceVisible").setValue(i.rightFaceVisible?"true":"false").setType("boolean").setLabel(e("Right face")).setGroup(e("Face visibility")).setAdvanced(!0),a.getOrCreate("topFaceVisible").setValue(i.topFaceVisible?"true":"false").setType("boolean").setLabel(e("Top face")).setGroup(e("Face visibility")).setAdvanced(!0),a.getOrCreate("bottomFaceVisible").setValue(i.bottomFaceVisible?"true":"false").setType("boolean").setLabel(e("Bottom face")).setGroup(e("Face visibility")).setAdvanced(!0),a.getOrCreate("materialType").setValue(i.materialType||"StandardWithoutMetalness").setType("choice").addChoice("Basic",e("Basic (no lighting, no shadows)")).addChoice("StandardWithoutMetalness",e("Standard (without metalness)")).setLabel(e("Material type")).setGroup(e("Lighting")),a.getOrCreate("isCastingShadow").setValue(i.isCastingShadow?"true":"false").setType("boolean").setLabel(e("Shadow casting")).setGroup(e("Lighting")),a.getOrCreate("isReceivingShadow").setValue(i.isReceivingShadow?"true":"false").setType("boolean").setLabel(e("Shadow receiving")).setGroup(e("Lighting")),a},r.content={width:100,height:100,depth:100,enableTextureTransparency:!1,facesOrientation:"Y",frontFaceResourceName:"",backFaceResourceName:"",backFaceUpThroughWhichAxisRotation:"X",leftFaceResourceName:"",rightFaceResourceName:"",topFaceResourceName:"",bottomFaceResourceName:"",frontFaceVisible:!0,backFaceVisible:!0,leftFaceVisible:!0,rightFaceVisible:!0,topFaceVisible:!0,bottomFaceVisible:!0,frontFaceResourceRepeat:!1,backFaceResourceRepeat:!1,leftFaceResourceRepeat:!1,rightFaceResourceRepeat:!1,topFaceResourceRepeat:!1,bottomFaceResourceRepeat:!1,materialType:"StandardWithoutMetalness",tint:"255;255;255",isCastingShadow:!0,isReceivingShadow:!0},r.updateInitialInstanceProperty=function(e,t,a){return!1},r.getInitialInstanceProperties=function(e){return new t.MapStringPropertyDescriptor};var s=a.addObject("Cube3DObject",e("3D Box"),e("A box with images for each face"),"JsPlatform/Extensions/3d_box.svg",r).setCategoryFullName(e("General")).addDefaultBehavior("ResizableCapability::ResizableBehavior").addDefaultBehavior("ScalableCapability::ScalableBehavior").addDefaultBehavior("FlippableCapability::FlippableBehavior").addDefaultBehavior("Scene3D::Base3DBehavior").markAsRenderedIn3D().setIncludeFile("Extensions/3D/A_RuntimeObject3D.js").addIncludeFile("Extensions/3D/A_RuntimeObject3DRenderer.js").addIncludeFile("Extensions/3D/Cube3DRuntimeObject.js").addIncludeFile("Extensions/3D/Cube3DRuntimeObjectPixiRenderer.js");s.addExpressionAndConditionAndAction("number","Z",e("Z (elevation)"),e('the Z position (the "elevation")'),e("the Z position"),e("Position"),"res/conditions/3d_box.svg").addParameter("object",e("3D cube"),"Cube3DObject",!1).useStandardParameters("number",t.ParameterOptions.makeNewOptions()).setHidden().setFunctionName("setZ").setGetter("getZ"),s.addExpressionAndConditionAndAction("number","Depth",e("Depth (size on Z axis)"),e("the depth (size on Z axis)"),e("the depth"),e("Size"),"res/conditions/3d_box.svg").addParameter("object",e("3D cube"),"Cube3DObject",!1).useStandardParameters("number",t.ParameterOptions.makeNewOptions()).setHidden().setFunctionName("setDepth").setGetter("getDepth"),s.addScopedAction("SetWidth",e("Width"),e("Change the width of an object."),e("the width"),e("Size"),"res/actions/scaleWidth24_black.png","res/actions/scaleWidth_black.png").addParameter("object",e("3D cube"),"Cube3DObject",!1).useStandardOperatorParameters("number",t.ParameterOptions.makeNewOptions()).setHidden().markAsAdvanced().setFunctionName("setWidth").setGetter("getWidth"),s.addScopedCondition("Width",e("Width"),e("Compare the width of an object."),e("the width"),e("Size"),"res/actions/scaleWidth24_black.png","res/actions/scaleWidth_black.png").addParameter("object",e("3D cube"),"Cube3DObject",!1).useStandardRelationalOperatorParameters("number",t.ParameterOptions.makeNewOptions()).setHidden().markAsAdvanced().setFunctionName("getWidth"),s.addScopedAction("SetHeight",e("Height"),e("Change the height of an object."),e("the height"),e("Size"),"res/actions/scaleHeight24_black.png","res/actions/scaleHeight_black.png").addParameter("object",e("3D cube"),"Cube3DObject",!1).useStandardOperatorParameters("number",t.ParameterOptions.makeNewOptions()).setHidden().markAsAdvanced().setFunctionName("setHeight").setGetter("getHeight"),s.addScopedCondition("Height",e("Height"),e("Compare the height of an object."),e("the height"),e("Size"),"res/actions/scaleHeight24_black.png","res/actions/scaleHeight_black.png").addParameter("object",e("3D cube"),"Cube3DObject",!1).useStandardRelationalOperatorParameters("number",t.ParameterOptions.makeNewOptions()).setHidden().markAsAdvanced().setFunctionName("getHeight"),s.addScopedAction("Scale",e("Scale"),e("Modify the scale of the specified object."),e("the scale"),e("Size"),"res/actions/scale24_black.png","res/actions/scale_black.png").addParameter("object",e("3D cube"),"Cube3DObject",!1).useStandardOperatorParameters("number",t.ParameterOptions.makeNewOptions().setDescription(e("Scale (1 by default)"))).setHidden().markAsAdvanced().setFunctionName("setScale").setGetter("getScale"),s.addExpressionAndConditionAndAction("number","ScaleX",e("Scale on X axis"),e("the width's scale of an object"),e("the width's scale"),e("Size"),"res/actions/scaleWidth24_black.png").addParameter("object",e("3D cube"),"Cube3DObject",!1).useStandardParameters("number",t.ParameterOptions.makeNewOptions().setDescription(e("Scale (1 by default)"))).setHidden().markAsAdvanced().setFunctionName("setScaleX").setGetter("getScaleX"),s.addExpressionAndConditionAndAction("number","ScaleY",e("Scale on Y axis"),e("the height's scale of an object"),e("the height's scale"),e("Size"),"res/actions/scaleHeight24_black.png").addParameter("object",e("3D cube"),"Cube3DObject",!1).useStandardParameters("number",t.ParameterOptions.makeNewOptions().setDescription(e("Scale (1 by default)"))).setHidden().markAsAdvanced().setFunctionName("setScaleY").setGetter("getScaleY"),s.addExpressionAndConditionAndAction("number","ScaleZ",e("Scale on Z axis"),e("the depth's scale of an object"),e("the depth's scale"),e("Size"),"res/conditions/3d_box.svg").addParameter("object",e("3D cube"),"Cube3DObject",!1).useStandardParameters("number",t.ParameterOptions.makeNewOptions().setDescription(e("Scale (1 by default)"))).markAsAdvanced().setHidden().setFunctionName("setScaleZ").setGetter("getScaleZ"),s.addScopedAction("FlipX",e("Flip the object horizontally"),e("Flip the object horizontally"),e("Flip horizontally _PARAM0_: _PARAM1_"),e("Effects"),"res/actions/flipX24.png","res/actions/flipX.png").addParameter("object",e("3D cube"),"Cube3DObject",!1).addParameter("yesorno",e("Activate flipping")).markAsSimple().setHidden().setFunctionName("flipX"),s.addScopedAction("FlipY",e("Flip the object vertically"),e("Flip the object vertically"),e("Flip vertically _PARAM0_: _PARAM1_"),e("Effects"),"res/actions/flipY24.png","res/actions/flipY.png").addParameter("object",e("3D cube"),"Cube3DObject",!1).addParameter("yesorno",e("Activate flipping")).markAsSimple().setHidden().setFunctionName("flipY"),s.addScopedAction("FlipZ",e("Flip the object on Z"),e("Flip the object on Z axis"),e("Flip on Z axis _PARAM0_: _PARAM1_"),e("Effects"),"res/conditions/3d_box.svg","res/conditions/3d_box.svg").addParameter("object",e("3D cube"),"Cube3DObject",!1).addParameter("yesorno",e("Activate flipping")).markAsSimple().setHidden().setFunctionName("flipZ"),s.addScopedCondition("FlippedX",e("Horizontally flipped"),e("Check if the object is horizontally flipped"),e("_PARAM0_ is horizontally flipped"),e("Effects"),"res/actions/flipX24.png","res/actions/flipX.png").addParameter("object",e("3D cube"),"Cube3DObject",!1).setHidden().setFunctionName("isFlippedX"),s.addScopedCondition("FlippedY",e("Vertically flipped"),e("Check if the object is vertically flipped"),e("_PARAM0_ is vertically flipped"),e("Effects"),"res/actions/flipY24.png","res/actions/flipY.png").addParameter("object",e("3D cube"),"Cube3DObject",!1).setHidden().setFunctionName("isFlippedY"),s.addScopedCondition("FlippedZ",e("Flipped on Z"),e("Check if the object is flipped on Z axis"),e("_PARAM0_ is flipped on Z axis"),e("Effects"),"res/conditions/3d_box.svg","res/conditions/3d_box.svg").addParameter("object",e("3D cube"),"Cube3DObject",!1).setHidden().setFunctionName("isFlippedZ"),s.addExpressionAndConditionAndAction("number","RotationX",e("Rotation on X axis"),e("the rotation on X axis"),e("the rotation on X axis"),e("Angle"),"res/conditions/3d_box.svg").addParameter("object",e("3D cube"),"Cube3DObject",!1).useStandardParameters("number",t.ParameterOptions.makeNewOptions().setDescription(e("Angle (in degrees)"))).setFunctionName("setRotationX").setHidden().setGetter("getRotationX"),s.addExpressionAndConditionAndAction("number","RotationY",e("Rotation on Y axis"),e("the rotation on Y axis"),e("the rotation on Y axis"),e("Angle"),"res/conditions/3d_box.svg").addParameter("object",e("3D cube"),"Cube3DObject",!1).useStandardParameters("number",t.ParameterOptions.makeNewOptions().setDescription(e("Angle (in degrees)"))).setFunctionName("setRotationY").setHidden().setGetter("getRotationY"),s.addExpressionAndConditionAndAction("boolean","FaceVisibility",e("Face visibility"),e("a face should be visible"),e("having its _PARAM1_ face visible"),e("Face"),"res/conditions/3d_box.svg").addParameter("object",e("3D cube"),"Cube3DObject",!1).addParameter("stringWithSelector",e("Face"),JSON.stringify(["front","back","left","right","top","bottom"]),!1).useStandardParameters("boolean",t.ParameterOptions.makeNewOptions().setDescription(e("Visible?"))).setFunctionName("setFaceVisibility").setGetter("isFaceVisible"),s.addScopedAction("TurnAroundX",e("Turn around X axis"),e("Turn the object around X axis. This axis doesn't move with the object rotation."),e("Turn _PARAM0_ from _PARAM1_\xb0 around X axis"),e("Angle"),"res/conditions/3d_box.svg","res/conditions/3d_box.svg").addParameter("object",e("3D cube"),"Cube3DObject",!1).addParameter("number",e("Rotation angle"),"",!1).markAsAdvanced().setHidden().setFunctionName("turnAroundX"),s.addScopedAction("TurnAroundY",e("Turn around Y axis"),e("Turn the object around Y axis. This axis doesn't move with the object rotation."),e("Turn _PARAM0_ from _PARAM1_\xb0 around Y axis"),e("Angle"),"res/conditions/3d_box.svg","res/conditions/3d_box.svg").addParameter("object",e("3D cube"),"Cube3DObject",!1).addParameter("number",e("Rotation angle"),"",!1).markAsAdvanced().setHidden().setFunctionName("turnAroundY"),s.addScopedAction("TurnAroundZ",e("Turn around Z axis"),e("Turn the object around Z axis. This axis doesn't move with the object rotation."),e("Turn _PARAM0_ from _PARAM1_\xb0 around Z axis"),e("Angle"),"res/conditions/3d_box.svg","res/conditions/3d_box.svg").addParameter("object",e("3D cube"),"Cube3DObject",!1).addParameter("number",e("Rotation angle"),"",!1).markAsAdvanced().setHidden().setFunctionName("turnAroundZ"),s.addScopedAction("SetFaceResource",e("Face image"),e("Change the image of the face."),e("Change the image of _PARAM1_ face of _PARAM0_ to _PARAM2_"),e("Face"),"res/conditions/3d_box.svg","res/conditions/3d_box.svg").addParameter("object",e("3D cube"),"Cube3DObject",!1).addParameter("stringWithSelector",e("Face"),JSON.stringify(["front","back","left","right","top","bottom"]),!1).addParameter("imageResource",e("Image"),"",!1).setFunctionName("setFaceResourceName"),s.addScopedAction("SetTint",e("Tint color"),e("Change the tint of the cube."),e("Change the tint of _PARAM0_ to _PARAM1_"),e("Effects"),"res/actions/color24.png","res/actions/color.png").addParameter("object",e("3D Cube"),"Cube3DObject",!1).addParameter("color",e("Tint"),"",!1).getCodeExtraInformation().setFunctionName("setColor"),a.addExpressionAndConditionAndAction("number","CameraZ",e("Camera Z position"),e("the camera position on Z axis"),e("the camera position on Z axis"),"","res/conditions/3d_box.svg").addCodeOnlyParameter("currentScene","").useStandardParameters("number",t.ParameterOptions.makeNewOptions()).addParameter("layer",e("Layer"),"",!0).setDefaultValue('""').addParameter("expression",e("Camera number (default : 0)"),"",!0).setDefaultValue("0").markAsAdvanced().setFunctionName("gdjs.scene3d.camera.setCameraZ").setGetter("gdjs.scene3d.camera.getCameraZ").setIncludeFile("Extensions/3D/Scene3DTools.js"),a.addExpressionAndConditionAndAction("number","CameraRotationX",e("Camera X rotation"),e("the camera rotation on X axis"),e("the camera rotation on X axis"),"","res/conditions/3d_box.svg").addCodeOnlyParameter("currentScene","").useStandardParameters("number",t.ParameterOptions.makeNewOptions().setDescription(e("Angle (in degrees)"))).addParameter("layer",e("Layer"),"",!0).setDefaultValue('""').addParameter("expression",e("Camera number (default : 0)"),"",!0).setDefaultValue("0").markAsAdvanced().setFunctionName("gdjs.scene3d.camera.setCameraRotationX").setGetter("gdjs.scene3d.camera.getCameraRotationX").setIncludeFile("Extensions/3D/Scene3DTools.js"),a.addExpressionAndConditionAndAction("number","CameraRotationY",e("Camera Y rotation"),e("the camera rotation on Y axis"),e("the camera rotation on Y axis"),"","res/conditions/3d_box.svg").addCodeOnlyParameter("currentScene","").useStandardParameters("number",t.ParameterOptions.makeNewOptions().setDescription(e("Angle (in degrees)"))).addParameter("layer",e("Layer"),"",!0).setDefaultValue('""').addParameter("expression",e("Camera number (default : 0)"),"",!0).setDefaultValue("0").markAsAdvanced().setFunctionName("gdjs.scene3d.camera.setCameraRotationY").setGetter("gdjs.scene3d.camera.getCameraRotationY").setIncludeFile("Extensions/3D/Scene3DTools.js"),a.addAction("TurnCameraTowardObject",e("Look at an object"),e("Change the camera rotation to look at an object. The camera top always face the screen."),e("Change the camera rotation of _PARAM2_ to look at _PARAM1_"),e("Layers and cameras"),"res/conditions/3d_box.svg","res/conditions/3d_box.svg").addCodeOnlyParameter("currentScene","").addParameter("objectPtr",e("Object"),"").addParameter("layer",e("Layer"),"",!0).setDefaultValue('""').addParameter("expression",e("Camera number (default : 0)"),"",!0).setDefaultValue("0").addParameter("yesorno",e("Stand on Y instead of Z"),"",!0).setDefaultValue("false").setFunctionName("gdjs.scene3d.camera.turnCameraTowardObject").setIncludeFile("Extensions/3D/Scene3DTools.js"),a.addAction("TurnCameraTowardPosition",e("Look at a position"),e("Change the camera rotation to look at a position. The camera top always face the screen."),e("Change the camera rotation of _PARAM4_ to look at _PARAM1_; _PARAM2_; _PARAM3_"),"","res/conditions/3d_box.svg","res/conditions/3d_box.svg").addCodeOnlyParameter("currentScene","").addParameter("number",e("X position")).addParameter("number",e("Y position")).addParameter("number",e("Z position")).addParameter("layer",e("Layer"),"",!0).setDefaultValue('""').addParameter("expression",e("Camera number (default : 0)"),"",!0).setDefaultValue("0").addParameter("yesorno",e("Stand on Y instead of Z"),"",!0).setDefaultValue("false").setFunctionName("gdjs.scene3d.camera.turnCameraTowardPosition").setIncludeFile("Extensions/3D/Scene3DTools.js"),a.addExpressionAndConditionAndAction("number","CameraNearPlane",e("Camera near plane"),e("the camera near plane distance"),e("the camera near plane distance"),"","res/conditions/3d_box.svg").addCodeOnlyParameter("currentScene","").useStandardParameters("number",t.ParameterOptions.makeNewOptions().setDescription(e("Distance (> 0)"))).addParameter("layer",e("Layer"),"",!0).setDefaultValue('""').addParameter("expression",e("Camera number (default : 0)"),"",!0).setDefaultValue("0").markAsAdvanced().setFunctionName("gdjs.scene3d.camera.setNearPlane").setGetter("gdjs.scene3d.camera.getNearPlane").setIncludeFile("Extensions/3D/Scene3DTools.js"),a.addExpressionAndConditionAndAction("number","CameraFarPlane",e("Camera far plane"),e("the camera far plane distance"),e("the camera far plane distance"),"","res/conditions/3d_box.svg").addCodeOnlyParameter("currentScene","").useStandardParameters("number",t.ParameterOptions.makeNewOptions().setDescription(e("Distance (> 0)"))).addParameter("layer",e("Layer"),"",!0).setDefaultValue('""').addParameter("expression",e("Camera number (default : 0)"),"",!0).setDefaultValue("0").markAsAdvanced().setFunctionName("gdjs.scene3d.camera.setFarPlane").setGetter("gdjs.scene3d.camera.getFarPlane").setIncludeFile("Extensions/3D/Scene3DTools.js"),a.addExpressionAndConditionAndAction("number","CameraFov",e("Camera field of view (fov)"),e("the camera field of view"),e("the camera field of view"),"","res/conditions/3d_box.svg").addCodeOnlyParameter("currentScene","").useStandardParameters("number",t.ParameterOptions.makeNewOptions().setDescription(e("Field of view in degrees (between 0\xb0 and 180\xb0)"))).addParameter("layer",e("Layer"),"",!0).setDefaultValue('""').addParameter("expression",e("Camera number (default : 0)"),"",!0).setDefaultValue("0").markAsAdvanced().setFunctionName("gdjs.scene3d.camera.setFov").setGetter("gdjs.scene3d.camera.getFov").setIncludeFile("Extensions/3D/Scene3DTools.js");var o=a.addEffect("LinearFog").setFullName(e("Fog (linear)")).setDescription(e("Linear fog for 3D objects.")).markAsNotWorkingForObjects().markAsOnlyWorkingFor3D().addIncludeFile("Extensions/3D/LinearFog.js").getProperties();o.getOrCreate("color").setValue("255;255;255").setLabel(e("Fog color")).setType("color"),o.getOrCreate("near").setValue("200").setLabel(e("Distance where the fog starts")).setType("number"),o.getOrCreate("far").setValue("2000").setLabel(e("Distance where the fog is fully opaque")).setType("number");var l=a.addEffect("ExponentialFog").setFullName(e("Fog (exponential)")).setDescription(e("Exponential fog for 3D objects.")).markAsNotWorkingForObjects().markAsOnlyWorkingFor3D().addIncludeFile("Extensions/3D/ExponentialFog.js").getProperties();l.getOrCreate("color").setValue("255;255;255").setLabel(e("Fog color")).setType("color"),l.getOrCreate("density").setValue("0.0012").setLabel(e("Density")).setDescription(e("Density of the fog. Usual values are between 0.0005 (far away) and 0.005 (very thick fog).")).setType("number");var d=a.addEffect("AmbientLight").setFullName(e("Ambient light")).setDescription(e("A light that illuminates all objects from every direction. Often used along with a Directional light (though a Hemisphere light can be used instead of an Ambient light).")).markAsNotWorkingForObjects().markAsOnlyWorkingFor3D().addIncludeFile("Extensions/3D/AmbientLight.js").getProperties();d.getOrCreate("color").setValue("255;255;255").setLabel(e("Light color")).setType("color"),d.getOrCreate("intensity").setValue("0.75").setLabel(e("Intensity")).setType("number");var c=a.addEffect("DirectionalLight").setFullName(e("Directional light")).setDescription(e("A very far light source like the sun. This is the light to use for casting shadows for 3D objects (other lights won't emit shadows). Often used along with a Hemisphere light.")).markAsNotWorkingForObjects().markAsOnlyWorkingFor3D().addIncludeFile("Extensions/3D/DirectionalLight.js").getProperties();c.getOrCreate("color").setValue("255;255;255").setLabel(e("Light color")).setType("color"),c.getOrCreate("intensity").setValue("0.5").setLabel(e("Intensity")).setType("number"),c.getOrCreate("top").setValue("Z+").setLabel(e("3D world top")).setType("choice").addExtraInfo("Z+").addExtraInfo("Y-").setGroup(e("Orientation")),c.getOrCreate("elevation").setValue("45").setLabel(e("Elevation (in degrees)")).setType("number").setGroup(e("Orientation")).setDescription(e("Maximal elevation is reached at 90\xb0.")),c.getOrCreate("rotation").setValue("0").setLabel(e("Rotation (in degrees)")).setType("number").setGroup(e("Orientation")),c.getOrCreate("isCastingShadow").setValue("false").setLabel(e("Shadow casting")).setType("boolean").setGroup(e("Shadows")),c.getOrCreate("shadowQuality").setValue("medium").addChoice("low",e("Low quality")).addChoice("medium",e("Medium quality")).addChoice("high",e("High quality")).setLabel(e("Shadow quality")).setType("choice").setGroup(e("Shadows")),c.getOrCreate("minimumShadowBias").setValue("0").setLabel(e("Shadow bias")).setDescription(e('Use this to avoid "shadow acne" due to depth buffer precision. Choose a value small enough like 0.001 to avoid creating distance between shadows and objects but not too small to avoid shadow glitches on low/medium quality. This value is used for high quality, and multiplied by 1.25 for medium quality and 2 for low quality.')).setType("number").setGroup(e("Shadows")).setAdvanced(!0),c.getOrCreate("frustumSize").setValue("4000").setLabel(e("Shadow frustum size")).setType("number").setGroup(e("Shadows")).setAdvanced(!0),c.getOrCreate("distanceFromCamera").setValue("1500").setLabel(e("Distance from layer's camera")).setType("number").setGroup(e("Shadows")).setAdvanced(!0);var u=a.addEffect("HemisphereLight").setFullName(e("Hemisphere light")).setDescription(e("A light that illuminates objects from every direction with a gradient. Often used along with a Directional light.")).markAsNotWorkingForObjects().markAsOnlyWorkingFor3D().addIncludeFile("Extensions/3D/HemisphereLight.js").getProperties();u.getOrCreate("skyColor").setValue("255;255;255").setLabel(e("Sky color")).setType("color"),u.getOrCreate("groundColor").setValue("127;127;127").setLabel(e("Ground color")).setType("color"),u.getOrCreate("intensity").setValue("0.5").setLabel(e("Intensity")).setType("number"),u.getOrCreate("top").setValue("Z+").setLabel(e("3D world top")).setType("choice").addExtraInfo("Z+").addExtraInfo("Y-").setGroup(e("Orientation")),u.getOrCreate("elevation").setValue("90").setLabel(e("Elevation (in degrees)")).setType("number").setGroup(e("Orientation")).setDescription(e("Maximal elevation is reached at 90\xb0.")),u.getOrCreate("rotation").setValue("0").setLabel(e("Rotation (in degrees)")).setType("number").setGroup(e("Orientation"));var h=a.addEffect("Skybox").setFullName(e("Skybox")).setDescription(e("Display a background on a cube surrounding the scene.")).markAsNotWorkingForObjects().markAsOnlyWorkingFor3D().addIncludeFile("Extensions/3D/Skybox.js").getProperties();h.getOrCreate("rightFaceResourceName").setType("resource").addExtraInfo("image").setLabel(e("Right face (X+)")),h.getOrCreate("leftFaceResourceName").setType("resource").addExtraInfo("image").setLabel(e("Left face (X-)")),h.getOrCreate("bottomFaceResourceName").setType("resource").addExtraInfo("image").setLabel(e("Bottom face (Y+)")),h.getOrCreate("topFaceResourceName").setType("resource").addExtraInfo("image").setLabel(e("Top face (Y-)")),h.getOrCreate("frontFaceResourceName").setType("resource").addExtraInfo("image").setLabel(e("Front face (Z+)")),h.getOrCreate("backFaceResourceName").setType("resource").addExtraInfo("image").setLabel(e("Back face (Z-)"));var f=a.addEffect("HueAndSaturation").setFullName(e("Hue and saturation")).setDescription(e("Adjust hue and saturation.")).markAsNotWorkingForObjects().markAsOnlyWorkingFor3D().addIncludeFile("Extensions/3D/HueAndSaturationEffect.js").getProperties();f.getOrCreate("hue").setValue("0").setLabel(e("Hue in degrees (between -180 and 180)")).setType("number"),f.getOrCreate("saturation").setValue("0").setLabel(e("Saturation (between -1 and 1)")).setType("number"),a.addEffect("Exposure").setFullName(e("Exposure")).setDescription(e("Adjust exposure.")).markAsNotWorkingForObjects().markAsOnlyWorkingFor3D().addIncludeFile("Extensions/3D/ExposureEffect.js").getProperties().getOrCreate("exposure").setValue("1").setLabel(e("Exposure (positive value)")).setType("number");var p=a.addEffect("Bloom").setFullName(e("Bloom")).setDescription(e("Apply a bloom effect.")).markAsNotWorkingForObjects().markAsOnlyWorkingFor3D().addIncludeFile("Extensions/3D/BloomEffect.js").getProperties();p.getOrCreate("strength").setValue("1").setLabel(e("Strength (between 0 and 3)")).setType("number"),p.getOrCreate("radius").setValue("0").setLabel(e("Radius (between 0 and 1)")).setType("number"),p.getOrCreate("threshold").setValue("0").setLabel(e("Threshold (between 0 and 1)")).setType("number");var m=a.addEffect("BrightnessAndContrast").setFullName(e("Brightness and contrast.")).setDescription(e("Adjust brightness and contrast.")).markAsNotWorkingForObjects().markAsOnlyWorkingFor3D().addIncludeFile("Extensions/3D/BrightnessAndContrastEffect.js").getProperties();return m.getOrCreate("brightness").setValue("0").setLabel(e("Brightness (between -1 and 1)")).setType("number"),m.getOrCreate("contrast").setValue("0").setLabel(e("Contrast (between -1 and 1)")).setType("number"),a},runExtensionSanityTests:function(e,t){return[]},registerEditorConfigurations:function(e){},registerInstanceRenderers:function(e){var t=e.RenderedInstance,a=e.Rendered3DInstance,m=e.PIXI,g=e.THREE,v=e.THREE_ADDONS,b={0:3,1:2,2:5,3:4,4:0,5:1},y={0:[0,0],1:[1,0],2:[0,1],3:[1,1]},x={0:[0,1],1:[0,0],2:[1,1],3:[1,0]},_=function(e){for(var t=gd.castObject(e,gd.ObjectJsImplementation),a=0,i=[["frontFaceVisible","frontFaceResourceName"],["backFaceVisible","backFaceResourceName"],["leftFaceVisible","leftFaceResourceName"],["rightFaceVisible","rightFaceResourceName"],["topFaceVisible","topFaceResourceName"],["bottomFaceVisible","bottomFaceResourceName"]];a<i.length;a++){var n=p(i[a],2),r=n[0],s=n[1];if(t.content[r]){var o=t.content[s];if(o)return o}}return null},P=null,A=function(){if(P)return P;var e=new g.MeshBasicMaterial({transparent:!0,opacity:0,alphaTest:1});return P=e,e},E=function(e){"use strict";u(a,e);var t=h(a);function a(e,i,n,r,o){var d;s(this,a),d=t.call(this,e,i,n,r,o),f(l(d),"_defaultWidth",void 0),f(l(d),"_defaultHeight",void 0),f(l(d),"_defaultDepth",void 0),f(l(d),"_centerX",0),f(l(d),"_centerY",0),f(l(d),"_renderedResourceName",void 0),f(l(d),"_renderFallbackObject",!1);var c=gd.castObject(d._associatedObjectConfiguration,gd.ObjectJsImplementation);return d._defaultWidth=c.content.width,d._defaultHeight=c.content.height,d._defaultDepth=c.content.depth,d._pixiObject=new m.Container,d._pixiFallbackObject=new m.Graphics,d._pixiTexturedObject=new m.Sprite(d._pixiResourcesLoader.getInvalidPIXITexture()),d._pixiObject.addChild(d._pixiTexturedObject),d._pixiObject.addChild(d._pixiFallbackObject),d._pixiContainer.addChild(d._pixiObject),d.updateTexture(),d}return o(a,[{key:"onRemovedFromScene",value:function(){d(c(a.prototype),"onRemovedFromScene",this).call(this),this._pixiObject.destroy({children:!0})}},{key:"updateTextureIfNeeded",value:function(){a._getResourceNameToDisplay(this._associatedObjectConfiguration)!==this._renderedResourceName&&this.updateTexture()}},{key:"updateTexture",value:function(){var e=this,t=a._getResourceNameToDisplay(this._associatedObjectConfiguration);if(t){var i=this._pixiResourcesLoader.getPIXITexture(this._project,t);if(this._pixiTexturedObject.texture=i,this._centerX=i.frame.width/2,this._centerY=i.frame.height/2,this._renderedResourceName=t,!i.baseTexture.valid)return void i.once("update",(function(){e._wasDestroyed||(e.updateTexture(),e.updatePIXISprite())}))}else this._renderFallbackObject=!0,this._renderedResourceName=null}},{key:"updatePIXISprite",value:function(){var e=this.getWidth(),t=this.getHeight(),a=this._pixiTexturedObject.texture.frame;if(a){this._pixiTexturedObject.anchor.x=this._centerX/a.width,this._pixiTexturedObject.anchor.y=this._centerY/a.height,this._pixiTexturedObject.angle=this._instance.getAngle();var i=e/a.width*(this._instance.isFlippedX()?-1:1),n=t/a.height*(this._instance.isFlippedY()?-1:1);this._pixiTexturedObject.scale.x=i,this._pixiTexturedObject.scale.y=n,this._pixiTexturedObject.position.x=this._instance.getX()+this._centerX*Math.abs(this._pixiTexturedObject.scale.x),this._pixiTexturedObject.position.y=this._instance.getY()+this._centerY*Math.abs(this._pixiTexturedObject.scale.y)}}},{key:"updateFallbackObject",value:function(){var e=this.getWidth(),t=this.getHeight();this._pixiFallbackObject.clear(),this._pixiFallbackObject.beginFill(13311),this._pixiFallbackObject.lineStyle(1,16767232,1),this._pixiFallbackObject.moveTo(-e/2,-t/2),this._pixiFallbackObject.lineTo(e/2,-t/2),this._pixiFallbackObject.lineTo(e/2,t/2),this._pixiFallbackObject.lineTo(-e/2,t/2),this._pixiFallbackObject.endFill(),this._pixiFallbackObject.position.x=this._instance.getX()+e/2,this._pixiFallbackObject.position.y=this._instance.getY()+t/2,this._pixiFallbackObject.angle=this._instance.getAngle(),this._instance.isFlippedX()&&(this._pixiFallbackObject.scale.x=-1),this._instance.isFlippedY()&&(this._pixiFallbackObject.scale.y=-1)}},{key:"update",value:function(){this.updateTextureIfNeeded(),this._pixiFallbackObject.visible=this._renderFallbackObject,this._pixiTexturedObject.visible=!this._renderFallbackObject,this._renderFallbackObject?this.updateFallbackObject():this.updatePIXISprite()}},{key:"getDefaultWidth",value:function(){return this._defaultWidth}},{key:"getDefaultHeight",value:function(){return this._defaultHeight}},{key:"getDefaultDepth",value:function(){return this._defaultDepth}},{key:"getCenterX",value:function(){return this._renderFallbackObject?this.getWidth()/2:this._centerX*this._pixiTexturedObject.scale.x}},{key:"getCenterY",value:function(){return this._renderFallbackObject?this.getHeight()/2:this._centerY*this._pixiTexturedObject.scale.y}}],[{key:"_getResourceNameToDisplay",value:function(e){return _(e)}},{key:"getThumbnail",value:function(e,t,i){var n=a._getResourceNameToDisplay(i);return n?t.getResourceFullUrl(e,n,{}):"JsPlatform/Extensions/3d_box.svg"}}]),a}(t),T=function(a){"use strict";u(c,a);var d=h(c);function c(e,t,a,i,n,r){var o;s(this,c),o=d.call(this,e,t,a,i,n,r),f(l(o),"_defaultWidth",1),f(l(o),"_defaultHeight",1),f(l(o),"_defaultDepth",1),f(l(o),"_faceResourceNames",new Array(6).fill(null)),f(l(o),"_faceVisibilities",new Array(6).fill(null)),f(l(o),"_shouldRepeatTextureOnFace",new Array(6).fill(null)),f(l(o),"_facesOrientation","Y"),f(l(o),"_backFaceUpThroughWhichAxisRotation","X"),f(l(o),"_shouldUseTransparentTexture",!1),f(l(o),"_tint",""),o._pixiObject=new m.Graphics,o._pixiContainer.addChild(o._pixiObject);var u=new g.BoxGeometry(1,1,1),h=[A(),A(),A(),A(),A(),A()];return o._threeObject=new g.Mesh(u,h),o._threeObject.rotation.order="ZYX",o._threeGroup.add(o._threeObject),o.updateThreeObject(),o}return o(c,[{key:"_updateThreeObjectMaterials",value:function(){var e=r(n().mark((function e(){var t,a,i=this;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=function(){var e=r(n().mark((function e(t,a){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i._faceVisibilities[a]){e.next=2;break}return e.abrupt("return",A());case 2:return e.next=4,i._pixiResourcesLoader.getThreeMaterial(t,i._faceResourceNames[a],{useTransparentTexture:i._shouldUseTransparentTexture});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),e.next=3,Promise.all([t(this._project,b[0]),t(this._project,b[1]),t(this._project,b[2]),t(this._project,b[3]),t(this._project,b[4]),t(this._project,b[5])]);case 3:if(a=e.sent,!this._wasDestroyed){e.next=6;break}return e.abrupt("return");case 6:this._threeObject.material[0]=a[0],this._threeObject.material[1]=a[1],this._threeObject.material[2]=a[2],this._threeObject.material[3]=a[3],this._threeObject.material[4]=a[4],this._threeObject.material[5]=a[5],this._updateTextureUvMapping();case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_updateTint",value:function(){for(var t=[],a=e.hexNumberToRGBArray(e.rgbOrHexToHexNumber(this._tint)).map((function(e){return e/255})),n=0;n<this._threeObject.geometry.attributes.position.count;n++)t.push.apply(t,i(a));this._threeObject.geometry.setAttribute("color",new g.BufferAttribute(new Float32Array(t),3))}},{key:"updateThreeObject",value:function(){var e=gd.castObject(this._associatedObjectConfiguration,gd.ObjectJsImplementation);this._defaultWidth=e.content.width,this._defaultHeight=e.content.height,this._defaultDepth=e.content.depth;var a=this.getWidth(),i=this.getHeight(),n=this.getDepth();this._threeObject.position.set(this._instance.getX()+a/2,this._instance.getY()+i/2,this._instance.getZ()+n/2),this._threeObject.rotation.set(t.toRad(this._instance.getRotationX()),t.toRad(this._instance.getRotationY()),t.toRad(this._instance.getAngle()));var r=!1,s=!1,o=!1,l=e.content.enableTextureTransparency||!1;this._shouldUseTransparentTexture!==l&&(this._shouldUseTransparentTexture=l,r=!0);var d=e.content.tint||"255;255;255";this._tint!==d&&(this._tint=d,o=!0);var c=[e.content.frontFaceResourceName,e.content.backFaceResourceName,e.content.leftFaceResourceName,e.content.rightFaceResourceName,e.content.topFaceResourceName,e.content.bottomFaceResourceName];this._faceResourceNames[0]===c[0]&&this._faceResourceNames[1]===c[1]&&this._faceResourceNames[2]===c[2]&&this._faceResourceNames[3]===c[3]&&this._faceResourceNames[4]===c[4]&&this._faceResourceNames[5]===c[5]||(this._faceResourceNames=c,r=!0);var u=[e.content.frontFaceVisible,e.content.backFaceVisible,e.content.leftFaceVisible,e.content.rightFaceVisible,e.content.topFaceVisible,e.content.bottomFaceVisible];this._faceVisibilities[0]===u[0]&&this._faceVisibilities[1]===u[1]&&this._faceVisibilities[2]===u[2]&&this._faceVisibilities[3]===u[3]&&this._faceVisibilities[4]===u[4]&&this._faceVisibilities[5]===u[5]||(this._faceVisibilities=u,r=!0,s=!0);var h=[e.content.frontFaceResourceRepeat||!1,e.content.backFaceResourceRepeat||!1,e.content.leftFaceResourceRepeat||!1,e.content.rightFaceResourceRepeat||!1,e.content.topFaceResourceRepeat||!1,e.content.bottomFaceResourceRepeat||!1];this._shouldRepeatTextureOnFace[0]===h[0]&&this._shouldRepeatTextureOnFace[1]===h[1]&&this._shouldRepeatTextureOnFace[2]===h[2]&&this._shouldRepeatTextureOnFace[3]===h[3]&&this._shouldRepeatTextureOnFace[4]===h[4]&&this._shouldRepeatTextureOnFace[5]===h[5]||(this._shouldRepeatTextureOnFace=h,s=!0);var f=e.content.backFaceUpThroughWhichAxisRotation||"X";f!==this._backFaceUpThroughWhichAxisRotation&&(this._backFaceUpThroughWhichAxisRotation=f,s=!0);var p=e.content.facesOrientation||"Y";p!==this._facesOrientation&&(this._facesOrientation=p,s=!0);var m=a*(this._instance.isFlippedX()?-1:1),g=i*(this._instance.isFlippedY()?-1:1),v=n*(this._instance.isFlippedZ()?-1:1);m===this._threeObject.scale.x&&g===this._threeObject.scale.y&&v===this._threeObject.scale.z||(this._threeObject.scale.set(m,g,v),s=!0),r&&this._updateThreeObjectMaterials(),s&&this._updateTextureUvMapping(),o&&this._updateTint()}},{key:"_updateTextureUvMapping",value:function(){for(var e=this._threeObject.geometry.getAttribute("position"),t=this._threeObject.geometry.getAttribute("uv"),a=0;a<=23;a++){var i=Math.floor(a/4),n=this._threeObject.material[i];if(n&&n.map){var r=this._shouldRepeatTextureOnFace[b[i]],s="Y"===this._facesOrientation,o=0,l=0;switch(i){case 0:if(r)s?(o=-this._threeObject.scale.z/n.map.source.data.width*(e.getZ(a)-.5),l=-this._threeObject.scale.y/n.map.source.data.height*(e.getY(a)+.5)):(o=-this._threeObject.scale.y/n.map.source.data.width*(e.getY(a)-.5),l=this._threeObject.scale.z/n.map.source.data.height*(e.getZ(a)-.5));else if(s){var d=p(y[a%4],2);o=d[0],l=d[1]}else{var c=p(x[a%4],2);o=c[0],l=c[1]}break;case 1:if(r)s?(o=this._threeObject.scale.z/n.map.source.data.width*(e.getZ(a)+.5),l=-this._threeObject.scale.y/n.map.source.data.height*(e.getY(a)+.5)):(o=this._threeObject.scale.y/n.map.source.data.width*(e.getY(a)+.5),l=this._threeObject.scale.z/n.map.source.data.height*(e.getZ(a)-.5));else if(s){var u=p(y[a%4],2);o=u[0],l=u[1]}else{var h=p(x[a%4],2);o=-(o=h[0]),l=-(l=h[1])}break;case 2:if(r)o=this._threeObject.scale.x/n.map.source.data.width*(e.getX(a)+.5),l=this._threeObject.scale.z/n.map.source.data.height*(e.getZ(a)-.5);else{var f=p(y[a%4],2);o=f[0],l=f[1]}break;case 3:if(r)s?(o=this._threeObject.scale.x/n.map.source.data.width*(e.getX(a)+.5),l=-this._threeObject.scale.z/n.map.source.data.height*(e.getZ(a)+.5)):(o=-this._threeObject.scale.x/n.map.source.data.width*(e.getX(a)-.5),l=this._threeObject.scale.z/n.map.source.data.height*(e.getZ(a)-.5));else{var m=p(y[a%4],2);o=m[0],l=m[1],s||(o=-o,l=-l)}break;case 4:if(r)o=this._threeObject.scale.x/n.map.source.data.width*(e.getX(a)+.5),l=-this._threeObject.scale.y/n.map.source.data.height*(e.getY(a)+.5);else{var g=p(y[a%4],2);o=g[0],l=g[1]}break;case 5:var v="X"===this._backFaceUpThroughWhichAxisRotation;if(r)o=(v?1:-1)*(this._threeObject.scale.x/n.map.source.data.width)*(e.getX(a)+.5*(v?1:-1)),l=(v?1:-1)*(this._threeObject.scale.y/n.map.source.data.height)*(e.getY(a)+.5*(v?-1:1));else{var _=p(y[a%4],2);o=_[0],l=_[1],v&&(o=-o,l=-l)}break;default:var P=p(y[a%4],2);o=P[0],l=P[1]}t.setXY(a,o,l)}}t.needsUpdate=!0}},{key:"updatePixiObject",value:function(){var e=this.getWidth(),t=this.getHeight();this._pixiObject.clear(),this._pixiObject.beginFill(10066329,.2),this._pixiObject.lineStyle(1,16767232,0),this._pixiObject.moveTo(-e/2,-t/2),this._pixiObject.lineTo(e/2,-t/2),this._pixiObject.lineTo(e/2,t/2),this._pixiObject.lineTo(-e/2,t/2),this._pixiObject.endFill(),this._pixiObject.position.x=this._instance.getX()+e/2,this._pixiObject.position.y=this._instance.getY()+t/2,this._pixiObject.angle=this._instance.getAngle()}},{key:"update",value:function(){this.updatePixiObject(),this.updateThreeObject()}},{key:"getDefaultWidth",value:function(){return this._defaultWidth}},{key:"getDefaultHeight",value:function(){return this._defaultHeight}},{key:"getDefaultDepth",value:function(){return this._defaultDepth}}],[{key:"_getResourceNameToDisplay",value:function(e){return _(e)}}]),c}(a);e.registerInstanceRenderer("Scene3D::Cube3DObject",E),e.registerInstance3DRenderer("Scene3D::Cube3DObject",T);var w=1/65536,S=function(e){"use strict";u(a,e);var t=h(a);function a(e,i,n,r,o){var d;s(this,a),d=t.call(this,e,i,n,r,o),f(l(d),"_defaultWidth",void 0),f(l(d),"_defaultHeight",void 0),f(l(d),"_defaultDepth",void 0),f(l(d),"_originPoint",void 0),f(l(d),"_centerPoint",void 0),f(l(d),"_modelOriginPoint",[0,0,0]);var c=gd.castObject(d._associatedObjectConfiguration,gd.Model3DObjectConfiguration);d._defaultWidth=c.getWidth(),d._defaultHeight=c.getHeight(),d._defaultDepth=c.getDepth();var u=c.getRotationX(),h=c.getRotationY(),p=c.getRotationZ(),b=c.shouldKeepAspectRatio(),y=c.getModelResourceName();return d._originPoint=F(c.getOriginLocation()),d._centerPoint=F(c.getCenterLocation()),d._pixiObject=new m.Graphics,d._pixiContainer.addChild(d._pixiObject),d._pixiResourcesLoader.get3DModel(e,y).then((function(e){if(!d._wasDestroyed){var t=v.SkeletonUtils.clone(e.scene),a=new g.Group;a.rotation.order="ZYX",a.add(t),d._updateDefaultTransformation(a,u,h,p,d._defaultWidth,d._defaultHeight,d._defaultDepth,b)}})),d}return o(a,[{key:"onRemovedFromScene",value:function(){d(c(a.prototype),"onRemovedFromScene",this).call(this),this._pixiObject.destroy({children:!0})}},{key:"getOriginX",value:function(){var e=this.getOriginPoint();return this.getWidth()*e[0]}},{key:"getOriginY",value:function(){var e=this.getOriginPoint();return this.getHeight()*e[1]}},{key:"getCenterX",value:function(){var e=this.getCenterPoint();return this.getWidth()*e[0]}},{key:"getCenterY",value:function(){var e=this.getCenterPoint();return this.getHeight()*e[1]}},{key:"getOriginPoint",value:function(){return this._originPoint||this._modelOriginPoint}},{key:"getCenterPoint",value:function(){return this._centerPoint||this._modelOriginPoint}},{key:"_updateDefaultTransformation",value:function(e,t,a,i,n,r,s,o){e.rotation.set(t*Math.PI/180,a*Math.PI/180,i*Math.PI/180),e.updateMatrixWorld(!0);var l=(new g.Box3).setFromObject(e);!this._originPoint&&l.expandByPoint(new g.Vector3(0,0,0));var d=l.max.x-l.min.x,c=l.max.y-l.min.y,u=l.max.z-l.min.z;this._modelOriginPoint[0]=d<w?0:-l.min.x/d,this._modelOriginPoint[1]=c<w?0:-l.min.y/c,this._modelOriginPoint[2]=u<w?0:-l.min.z/u,this._modelOriginPoint[1]=1-this._modelOriginPoint[1];var h=this._centerPoint;h&&e.position.set(-(l.min.x+d*h[0]),-(l.min.y+c*(1-h[1])),-(l.min.z+u*h[2])),e.scale.set(1,1,1),e.rotation.set(t*Math.PI/180,a*Math.PI/180,i*Math.PI/180);var f=d<w?1:1/d,p=c<w?1:1/c,m=u<w?1:1/u,v=new g.Matrix4;if(v.makeScale(f,-p,m),e.updateMatrix(),e.applyMatrix4(v),o){var b=d<w?Number.POSITIVE_INFINITY:n/d,y=c<w?Number.POSITIVE_INFINITY:r/c,x=u<w?Number.POSITIVE_INFINITY:s/u,_=Math.min(b,y,x);Number.isFinite(_)||(_=1),this._defaultWidth=_*d,this._defaultHeight=_*c,this._defaultDepth=_*u}}},{key:"update",value:function(){var e=this.getWidth(),t=this.getHeight(),a=this.getCenterPoint(),i=e*a[0],n=t*a[1],r=0-i,s=0-n,o=e-i,l=t-n;this._pixiObject.clear(),this._pixiObject.beginFill(13311),this._pixiObject.lineStyle(1,16767232,1),this._pixiObject.moveTo(r,s),this._pixiObject.lineTo(o,s),this._pixiObject.lineTo(o,l),this._pixiObject.lineTo(r,l),this._pixiObject.endFill(),this._pixiObject.moveTo(r,s),this._pixiObject.lineTo(o,l),this._pixiObject.moveTo(o,s),this._pixiObject.lineTo(r,l);var d=this.getOriginPoint();this._pixiObject.position.x=this._instance.getX()-e*(d[0]-a[0]),this._pixiObject.position.y=this._instance.getY()-t*(d[1]-a[1]),this._pixiObject.angle=this._instance.getAngle()}},{key:"getDefaultWidth",value:function(){return this._defaultWidth}},{key:"getDefaultHeight",value:function(){return this._defaultHeight}},{key:"getDefaultDepth",value:function(){return this._defaultDepth}}],[{key:"getThumbnail",value:function(e,t,a){return"JsPlatform/Extensions/3d_model.svg"}}]),a}(t),C=function(e,t){return!!e===!!t&&(!e||!t||e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2])},F=function(e){switch(e){case"ModelOrigin":default:return null;case"ObjectCenter":return[.5,.5,.5];case"BottomCenterZ":return[.5,.5,0];case"BottomCenterY":return[.5,1,.5];case"TopLeft":return[0,0,0]}},I=function(e){"use strict";u(n,e);var i=h(n);function n(e,t,a,r,o,d){var c;return s(this,n),c=i.call(this,e,t,a,r,o,d),f(l(c),"_defaultWidth",1),f(l(c),"_defaultHeight",1),f(l(c),"_defaultDepth",1),f(l(c),"_originalWidth",1),f(l(c),"_originalHeight",1),f(l(c),"_originalDepth",1),f(l(c),"_rotationX",0),f(l(c),"_rotationY",0),f(l(c),"_rotationZ",0),f(l(c),"_keepAspectRatio",!1),f(l(c),"_originPoint",null),f(l(c),"_centerPoint",null),f(l(c),"_modelOriginPoint",[0,0,0]),f(l(c),"_clonedModel3D",null),c._pixiObject=new m.Graphics,c._pixiContainer.addChild(c._pixiObject),c._threeObject=new g.Group,c._threeObject.rotation.order="ZYX",c._threeObject.castShadow=!0,c._threeObject.receiveShadow=!0,c._threeGroup.add(c._threeObject),c}return o(n,[{key:"getOriginX",value:function(){var e=this.getOriginPoint();return this.getWidth()*e[0]}},{key:"getOriginY",value:function(){var e=this.getOriginPoint();return this.getHeight()*e[1]}},{key:"getOriginZ",value:function(){var e=this.getOriginPoint();return this.getDepth()*e[2]}},{key:"getCenterX",value:function(){var e=this.getCenterPoint();return this.getWidth()*e[0]}},{key:"getCenterY",value:function(){var e=this.getCenterPoint();return this.getHeight()*e[1]}},{key:"getCenterZ",value:function(){var e=this.getCenterPoint();return this.getDepth()*e[2]}},{key:"getOriginPoint",value:function(){return this._originPoint||this._modelOriginPoint}},{key:"getCenterPoint",value:function(){return this._centerPoint||this._modelOriginPoint}},{key:"_updateDefaultTransformation",value:function(){if(this._clonedModel3D){this._threeModelGroup&&this._threeObject.clear();var e=new g.Group;this._threeModelGroup=e,e.rotation.order="ZYX",e.add(this._clonedModel3D),e.rotation.set(this._rotationX*Math.PI/180,this._rotationY*Math.PI/180,this._rotationZ*Math.PI/180),e.updateMatrixWorld(!0);var t=(new g.Box3).setFromObject(e);!this._originPoint&&t.expandByPoint(new g.Vector3(0,0,0));var i=t.max.x-t.min.x,n=t.max.y-t.min.y,r=t.max.z-t.min.z;this._modelOriginPoint[0]=i<w?0:-t.min.x/i,this._modelOriginPoint[1]=n<w?0:-t.min.y/n,this._modelOriginPoint[2]=r<w?0:-t.min.z/r,this._modelOriginPoint[1]=1-this._modelOriginPoint[1];var s=this._centerPoint;s&&e.position.set(-(t.min.x+i*s[0]),-(t.min.y+n*(1-s[1])),-(t.min.z+r*s[2])),e.scale.set(1,1,1),e.rotation.set(this._rotationX*Math.PI/180,this._rotationY*Math.PI/180,this._rotationZ*Math.PI/180);var o=i<w?1:1/i,l=n<w?1:1/n,d=r<w?1:1/r,c=new g.Matrix4;if(c.makeScale(o,-l,d),e.updateMatrix(),e.applyMatrix4(c),this._keepAspectRatio){var u=i<w?Number.POSITIVE_INFINITY:this._originalWidth/i,h=n<w?Number.POSITIVE_INFINITY:this._originalHeight/n,f=r<w?Number.POSITIVE_INFINITY:this._originalDepth/r,p=Math.min(u,h,f);Number.isFinite(p)?u===p?(this._defaultWidth=this._originalWidth,this._defaultHeight=a.applyRatio({oldReferenceValue:i,newReferenceValue:this._originalWidth,valueToApplyTo:n}),this._defaultDepth=a.applyRatio({oldReferenceValue:i,newReferenceValue:this._originalWidth,valueToApplyTo:r})):h===p?(this._defaultWidth=a.applyRatio({oldReferenceValue:n,newReferenceValue:this._originalHeight,valueToApplyTo:i}),this._defaultHeight=this._originalHeight,this._defaultDepth=a.applyRatio({oldReferenceValue:n,newReferenceValue:this._originalHeight,valueToApplyTo:r})):(this._defaultWidth=a.applyRatio({oldReferenceValue:r,newReferenceValue:this._originalDepth,valueToApplyTo:i}),this._defaultHeight=a.applyRatio({oldReferenceValue:r,newReferenceValue:this._originalDepth,valueToApplyTo:n}),this._defaultDepth=this._originalDepth):(this._defaultWidth=this._originalWidth,this._defaultHeight=this._originalHeight,this._defaultDepth=this._originalDepth)}else this._defaultWidth=this._originalWidth,this._defaultHeight=this._originalHeight,this._defaultDepth=this._originalDepth;this._threeObject.add(e)}}},{key:"updateThreeObject",value:function(){var e=this,t=gd.castObject(this._associatedObjectConfiguration,gd.Model3DObjectConfiguration),a=!1,i=t.getWidth(),n=t.getHeight(),r=t.getDepth();this._originalWidth===i&&this._originalHeight===n&&this._originalDepth===r||(this._originalWidth=i,this._originalHeight=n,this._originalDepth=r,a=!0);var s=t.getRotationX(),o=t.getRotationY(),l=t.getRotationZ();this._rotationX===s&&this._rotationY===o&&this._rotationZ===l||(this._rotationX=s,this._rotationY=o,this._rotationZ=l,a=!0);var d=t.shouldKeepAspectRatio();this._keepAspectRatio!==d&&(this._keepAspectRatio=d,a=!0);var c=F(t.getOriginLocation());C(c,this._originPoint)||(this._originPoint=c,a=!0);var u=F(t.getCenterLocation());C(u,this._centerPoint)||(this._centerPoint=u,a=!0),a&&this._updateDefaultTransformation();var h=t.getModelResourceName();this._modelResourceName!==h&&(this._modelResourceName=h,this._pixiResourcesLoader.get3DModel(this._project,h).then((function(t){e._wasDestroyed||(e._clonedModel3D=v.SkeletonUtils.clone(t.scene),e._updateDefaultTransformation())}))),this._updateThreeObjectPosition()}},{key:"_updateThreeObjectPosition",value:function(){var e=this.getWidth(),a=this.getHeight(),i=this.getDepth(),n=this.getOriginPoint(),r=this.getCenterPoint();this._threeObject.position.set(this._instance.getX()-e*(n[0]-r[0]),this._instance.getY()-a*(n[1]-r[1]),this._instance.getZ()-i*(n[2]-r[2])),this._threeObject.rotation.set(t.toRad(this._instance.getRotationX()),t.toRad(this._instance.getRotationY()),t.toRad(this._instance.getAngle()));var s=e*(this._instance.isFlippedX()?-1:1),o=a*(this._instance.isFlippedY()?-1:1),l=i*(this._instance.isFlippedZ()?-1:1);s===this._threeObject.scale.x&&o===this._threeObject.scale.y&&l===this._threeObject.scale.z||this._threeObject.scale.set(s,o,l)}},{key:"updatePixiObject",value:function(){var e=this.getWidth(),t=this.getHeight(),a=this.getCenterPoint(),i=e*a[0],n=t*a[1],r=0-i,s=0-n,o=e-i,l=t-n;this._pixiObject.clear(),this._pixiObject.beginFill(10066329,.2),this._pixiObject.lineStyle(1,16767232,0),this._pixiObject.moveTo(r,s),this._pixiObject.lineTo(o,s),this._pixiObject.lineTo(o,l),this._pixiObject.lineTo(r,l),this._pixiObject.endFill();var d=this.getOriginPoint();this._pixiObject.position.x=this._instance.getX()-e*(d[0]-a[0]),this._pixiObject.position.y=this._instance.getY()-t*(d[1]-a[1]),this._pixiObject.angle=this._instance.getAngle()}},{key:"update",value:function(){this.updatePixiObject(),this.updateThreeObject()}},{key:"getDefaultWidth",value:function(){return this._defaultWidth}},{key:"getDefaultHeight",value:function(){return this._defaultHeight}},{key:"getDefaultDepth",value:function(){return this._defaultDepth}}]),n}(a);e.registerInstanceRenderer("Scene3D::Model3DObject",S),e.registerInstance3DRenderer("Scene3D::Model3DObject",I)}}},94550:function(e){e.exports={createExtension:function(e,t){var a=new t.PlatformExtension;return a.setExtensionInformation("AdMob",e("AdMob"),e("Allow to display AdMob banners, app open, interstitials, rewarded interstitials and rewarded video ads."),"Florian Rival","MIT").setExtensionHelpPath("/all-features/admob").setCategory("Ads"),a.addInstructionOrExpressionGroupMetadata(e("AdMob")).setIcon("JsPlatform/Extensions/admobicon24.png"),a.addDependency().setName("Consent Cordova plugin").setDependencyType("cordova").setExportName("cordova-plugin-consent").setVersion("3.0.0-alpha.9").onlyIfOtherDependencyIsExported("AdMob Cordova plugin"),a.registerProperty("AdMobAppIdAndroid").setLabel(e("AdMob Android App ID")).setDescription("ca-app-pub-XXXXXXXXXXXXXXXX~YYYYYYYYYY").setType("string"),a.registerProperty("AdMobAppIdIos").setLabel(e("AdMob iOS App ID")).setDescription("ca-app-pub-XXXXXXXXXXXXXXXX~YYYYYYYYYY").setType("string"),a.addDependency().setName("AdMob Cordova plugin").setDependencyType("cordova").setExportName("admob-plus-cordova").setVersion("2.0.0-alpha.18").setExtraSetting("APP_ID_ANDROID",new t.PropertyDescriptor("AdMobAppIdAndroid").setType("ExtensionProperty")).setExtraSetting("APP_ID_IOS",new t.PropertyDescriptor("AdMobAppIdIos").setType("ExtensionProperty")).onlyIfSomeExtraSettingsNonEmpty(),a.addAction("SetTestMode",e("Enable test mode"),e('Activate or deactivate the test mode ("development" mode).\nWhen activated, tests ads will be served instead of real ones.\n\nIt is important to enable test ads during development so that you can click on them without charging advertisers. If you click on too many ads without being in test mode, you risk your account being flagged for invalid activity.'),e("Enable test mode (serving test ads, for development): _PARAM0_"),"","JsPlatform/Extensions/admobicon24.png","JsPlatform/Extensions/admobicon16.png").addParameter("yesorno",e("Enable test mode?"),"",!1).getCodeExtraInformation().setIncludeFile("Extensions/AdMob/admobtools.js").setFunctionName("gdjs.adMob.setTestMode"),a.addAction("PreventAdmobAutoInitialization",e("Prevent AdMob auto initialization"),e('Prevent AdMob from initializing automatically. You will need to call "Initialize AdMob" action manually.\nThis is useful if you want to control when the consent dialog will be shown (for example, after the user has accepted your game terms).'),e("Prevent AdMob auto initialization"),"","JsPlatform/Extensions/admobicon24.png","JsPlatform/Extensions/admobicon16.png").getCodeExtraInformation().setIncludeFile("Extensions/AdMob/admobtools.js").setFunctionName("gdjs.adMob.preventAdmobAutoInitialization"),a.addAction("InitializeAdmob",e("Initialize AdMob manually"),e("Initialize AdMob manually. This will trigger the consent dialog if needed, and then load the ads.\nUse this action if you have disabled the auto init and want to control when the consent dialog will be shown."),e("Initialize AdMob"),"","JsPlatform/Extensions/admobicon24.png","JsPlatform/Extensions/admobicon16.png").getCodeExtraInformation().setIncludeFile("Extensions/AdMob/admobtools.js").setFunctionName("gdjs.adMob.initializeAdmob"),a.addCondition("AdmobInitializing",e("AdMob initializing"),e("Check if AdMob is initializing."),e("AdMob is initializing"),"","JsPlatform/Extensions/admobicon24.png","JsPlatform/Extensions/admobicon16.png").getCodeExtraInformation().setIncludeFile("Extensions/AdMob/admobtools.js").setFunctionName("gdjs.adMob.isAdmobInitializing"),a.addCondition("AdmobInitialized",e("AdMob initialized"),e("Check if AdMob has been initialized."),e("AdMob has been initialized"),"","JsPlatform/Extensions/admobicon24.png","JsPlatform/Extensions/admobicon16.png").getCodeExtraInformation().setIncludeFile("Extensions/AdMob/admobtools.js").setFunctionName("gdjs.adMob.isAdmobInitialized"),a.addCondition("AppOpenLoading",e("App open loading"),e("Check if an app open is currently loading."),e("App open is loading"),"","JsPlatform/Extensions/admobicon24.png","JsPlatform/Extensions/admobicon16.png").getCodeExtraInformation().setIncludeFile("Extensions/AdMob/admobtools.js").setFunctionName("gdjs.adMob.isAppOpenLoading"),a.addCondition("AppOpenReady",e("App open ready"),e("Check if an app open is ready to be displayed."),e("App open is ready"),"","JsPlatform/Extensions/admobicon24.png","JsPlatform/Extensions/admobicon16.png").getCodeExtraInformation().setIncludeFile("Extensions/AdMob/admobtools.js").setFunctionName("gdjs.adMob.isAppOpenReady"),a.addCondition("AppOpenShowing",e("App open showing"),e("Check if there is an app open being displayed."),e("App open is showing"),"","JsPlatform/Extensions/admobicon24.png","JsPlatform/Extensions/admobicon16.png").getCodeExtraInformation().setIncludeFile("Extensions/AdMob/admobtools.js").setFunctionName("gdjs.adMob.isAppOpenShowing"),a.addCondition("AppOpenErrored",e("App open errored"),e("Check if there was an error while loading the app open."),e("App open had an error"),"","JsPlatform/Extensions/admobicon24.png","JsPlatform/Extensions/admobicon16.png").getCodeExtraInformation().setIncludeFile("Extensions/AdMob/admobtools.js").setFunctionName("gdjs.adMob.isAppOpenErrored"),a.addAction("LoadAppOpen",e("Load app open"),e("Start loading an app open (that can be displayed automatically when the loading is finished).\nIf test mode is set, a test app open will be displayed."),e("Load app open with Android ad unit ID: _PARAM0_, iOS ad unit ID: _PARAM1_ (landscape: _PARAM2_, display automatically when loaded: _PARAM3_)"),"","JsPlatform/Extensions/admobicon24.png","JsPlatform/Extensions/admobicon16.png").addParameter("string",e("Android app open ID"),"",!1).setParameterLongDescription('Get it from your AdMob account. You can use `"ca-app-pub-3940256099942544/9257395921"` for loading a test app open.').addParameter("string",e("iOS app open ID"),"",!1).setParameterLongDescription('Get it from your AdMob account. You can use `"ca-app-pub-3940256099942544/5575463023"` for loading a test app open.').addParameter("yesorno",e("Display in landscape? (portrait otherwise)"),"",!1).setDefaultValue("false").addParameter("yesorno",e("Displayed automatically when loading is finished?"),"",!1).setDefaultValue("true").getCodeExtraInformation().setIncludeFile("Extensions/AdMob/admobtools.js").setFunctionName("gdjs.adMob.loadAppOpen"),a.addAction("ShowAppOpen",e("Show app open"),e("Show the app open that was loaded. Will work only when the app open is fully loaded."),e("Show the loaded app open"),"","JsPlatform/Extensions/admobicon24.png","JsPlatform/Extensions/admobicon16.png").getCodeExtraInformation().setIncludeFile("Extensions/AdMob/admobtools.js").setFunctionName("gdjs.adMob.showAppOpen"),a.addCondition("BannerShowing",e("Banner showing"),e("Check if there is a banner being displayed."),e("Banner is showing"),"","JsPlatform/Extensions/admobicon24.png","JsPlatform/Extensions/admobicon16.png").getCodeExtraInformation().setIncludeFile("Extensions/AdMob/admobtools.js").setFunctionName("gdjs.adMob.isBannerShowing"),a.addCondition("BannerConfigured",e("Banner configured"),e("Check if there is a banner correctly configured ready to be shown."),e("Banner is configured"),"","JsPlatform/Extensions/admobicon24.png","JsPlatform/Extensions/admobicon16.png").getCodeExtraInformation().setIncludeFile("Extensions/AdMob/admobtools.js").setFunctionName("gdjs.adMob.isBannerConfigured"),a.addCondition("BannerLoaded",e("Banner loaded"),e("Check if there is a banner correctly loaded ready to be shown."),e("Banner is loaded"),"","JsPlatform/Extensions/admobicon24.png","JsPlatform/Extensions/admobicon16.png").getCodeExtraInformation().setIncludeFile("Extensions/AdMob/admobtools.js").setFunctionName("gdjs.adMob.isBannerLoaded"),a.addCondition("BannerErrored",e("Banner had an error"),e("Check if there was a error while displaying a banner."),e("Banner ad had an error"),"","JsPlatform/Extensions/admobicon24.png","JsPlatform/Extensions/admobicon16.png").getCodeExtraInformation().setIncludeFile("Extensions/AdMob/admobtools.js").setFunctionName("gdjs.adMob.isBannerErrored"),a.addDuplicatedCondition("BannerReady","BannerShowing").setHidden(),a.addDuplicatedCondition("Bannerloading","BannerShowing").setHidden(),a.addDuplicatedCondition("BannerExists","BannerShowing").setHidden(),a.addAction("SetupBanner",e("Configure the banner"),e("Configure a banner, which can then be displayed.\nIf a banner is already displayed, it will be removed\nIf test mode is set, a test banner will be displayed.\n\nOnce a banner is positioned (at the top or bottom of the game), it can't be moved anymore."),e("Configure the banner with Android ad unit ID: _PARAM0_, iOS ad unit ID: _PARAM1_, display at top: _PARAM2_"),"","JsPlatform/Extensions/admobicon24.png","JsPlatform/Extensions/admobicon16.png").addParameter("string",e("Android banner ID"),"",!1).setParameterLongDescription('Get it from your AdMob account. You can use `"ca-app-pub-3940256099942544/6300978111"` for showing a test banner.').addParameter("string",e("iOS banner ID"),"",!1).setParameterLongDescription('Get it from your AdMob account. You can use `"ca-app-pub-3940256099942544/2934735716"` for showing a test banner.').addParameter("yesorno",e("Display at top? (bottom otherwise)"),"",!1).getCodeExtraInformation().setIncludeFile("Extensions/AdMob/admobtools.js").setFunctionName("gdjs.adMob.setupBanner"),a.addDuplicatedAction("LoadBanner","SetupBanner").setHidden(),a.addAction("ShowBanner",e("Show banner"),e("Show the banner that was previously set up."),e("Show banner"),"","JsPlatform/Extensions/admobicon24.png","JsPlatform/Extensions/admobicon16.png").getCodeExtraInformation().setIncludeFile("Extensions/AdMob/admobtools.js").setFunctionName("gdjs.adMob.showBanner"),a.addAction("HideBanner",e("Hide banner"),e("Hide the banner. You can show it again with the corresponding action."),e("Hide banner"),"","JsPlatform/Extensions/admobicon24.png","JsPlatform/Extensions/admobicon16.png").getCodeExtraInformation().setIncludeFile("Extensions/AdMob/admobtools.js").setFunctionName("gdjs.adMob.hideBanner"),a.addDuplicatedAction("RemoveBanner","HideBanner").setHidden(),a.addCondition("InterstitialLoading",e("Interstitial loading"),e("Check if an interstitial is currently loading."),e("Interstitial is loading"),"","JsPlatform/Extensions/admobicon24.png","JsPlatform/Extensions/admobicon16.png").getCodeExtraInformation().setIncludeFile("Extensions/AdMob/admobtools.js").setFunctionName("gdjs.adMob.isInterstitialLoading"),a.addCondition("InterstitialReady",e("Interstitial ready"),e("Check if an interstitial is ready to be displayed."),e("Interstitial is ready"),"","JsPlatform/Extensions/admobicon24.png","JsPlatform/Extensions/admobicon16.png").getCodeExtraInformation().setIncludeFile("Extensions/AdMob/admobtools.js").setFunctionName("gdjs.adMob.isInterstitialReady"),a.addCondition("InterstitialShowing",e("Interstitial showing"),e("Check if there is an interstitial being displayed."),e("Interstitial is showing"),"","JsPlatform/Extensions/admobicon24.png","JsPlatform/Extensions/admobicon16.png").getCodeExtraInformation().setIncludeFile("Extensions/AdMob/admobtools.js").setFunctionName("gdjs.adMob.isInterstitialShowing"),a.addCondition("InterstitialErrored",e("Interstitial had an error"),e("Check if there was a error while loading the interstitial."),e("Interstitial ad had an error"),"","JsPlatform/Extensions/admobicon24.png","JsPlatform/Extensions/admobicon16.png").getCodeExtraInformation().setIncludeFile("Extensions/AdMob/admobtools.js").setFunctionName("gdjs.adMob.isInterstitialErrored"),a.addAction("LoadInterstitial",e("Load interstitial"),e("Start loading an interstitial (that can be displayed automatically when the loading is finished).\nIf test mode is set, a test interstitial will be displayed."),e("Load interstitial with Android ad unit ID: _PARAM0_, iOS ad unit ID: _PARAM1_ (display automatically when loaded: _PARAM2_)"),"","JsPlatform/Extensions/admobicon24.png","JsPlatform/Extensions/admobicon16.png").addParameter("string",e("Android interstitial ID"),"",!1).setParameterLongDescription('Get it from your AdMob account. You can use `"ca-app-pub-3940256099942544/1033173712"` for loading a test interstitial.').addParameter("string",e("iOS interstitial ID"),"",!1).setParameterLongDescription('Get it from your AdMob account. You can use `"ca-app-pub-3940256099942544/4411468910"` for loading a test interstitial.').addParameter("yesorno",e("Displayed automatically when loading is finished?"),"",!1).setDefaultValue("true").getCodeExtraInformation().setIncludeFile("Extensions/AdMob/admobtools.js").setFunctionName("gdjs.adMob.loadInterstitial"),a.addAction("ShowInterstitial",e("Show interstitial"),e("Show the interstitial that was loaded. Will work only when the interstitial is fully loaded."),e("Show the loaded interstitial"),"","JsPlatform/Extensions/admobicon24.png","JsPlatform/Extensions/admobicon16.png").getCodeExtraInformation().setIncludeFile("Extensions/AdMob/admobtools.js").setFunctionName("gdjs.adMob.showInterstitial"),a.addCondition("RewardedInterstitialLoading",e("Rewarded interstitial loading"),e("Check if a rewarded interstitial is currently loading."),e("Rewarded interstitial is loading"),"","JsPlatform/Extensions/admobicon24.png","JsPlatform/Extensions/admobicon16.png").getCodeExtraInformation().setIncludeFile("Extensions/AdMob/admobtools.js").setFunctionName("gdjs.adMob.isRewardedInterstitialLoading"),a.addCondition("RewardedInterstitialReady",e("Rewarded interstitial ready"),e("Check if a rewarded interstitial is ready to be displayed."),e("Rewarded interstitial is ready"),"","JsPlatform/Extensions/admobicon24.png","JsPlatform/Extensions/admobicon16.png").getCodeExtraInformation().setIncludeFile("Extensions/AdMob/admobtools.js").setFunctionName("gdjs.adMob.isRewardedInterstitialReady"),a.addCondition("RewardedInterstitialShowing",e("Rewarded interstitial showing"),e("Check if there is a rewarded interstitial being displayed."),e("Rewarded interstitial is showing"),"","JsPlatform/Extensions/admobicon24.png","JsPlatform/Extensions/admobicon16.png").getCodeExtraInformation().setIncludeFile("Extensions/AdMob/admobtools.js").setFunctionName("gdjs.adMob.isRewardedInterstitialShowing"),a.addCondition("RewardedInterstitialErrored",e("Rewarded interstitial had an error"),e("Check if there was a error while loading the rewarded interstitial."),e("Rewarded Interstitial had an error"),"","JsPlatform/Extensions/admobicon24.png","JsPlatform/Extensions/admobicon16.png").getCodeExtraInformation().setIncludeFile("Extensions/AdMob/admobtools.js").setFunctionName("gdjs.adMob.isRewardedInterstitialErrored"),a.addCondition("RewardedInterstitialRewardReceived",e("Rewarded Interstitial reward received"),e("Check if the reward of the rewarded interstitial was given to the user.\nYou can mark this reward as cleared, so that the condition will be false and you can show later another rewarded interstitial."),e("User got the reward of the rewarded interstitial (and clear this reward: _PARAM0_)"),"","JsPlatform/Extensions/admobicon24.png","JsPlatform/Extensions/admobicon16.png").addParameter("yesorno",e("Clear the reward (needed to show another rewarded interstitial)"),"",!1).setDefaultValue("true").getCodeExtraInformation().setIncludeFile("Extensions/AdMob/admobtools.js").setFunctionName("gdjs.adMob.wasRewardedInterstitialRewardReceived"),a.addAction("LoadRewardedInterstitial",e("Load rewarded interstitial"),e("Start loading a rewarded interstitial (that can be displayed automatically when the loading is finished).\nIf test mode is set, a test rewarded interstitial will be displayed.\nThis is similar to a rewarded video, but can be displayed at any time, and the user can close it."),e("Load rewarded interstitial with Android ad unit ID: _PARAM0_, iOS ad unit ID: _PARAM1_ (display automatically when loaded: _PARAM2_)"),"","JsPlatform/Extensions/admobicon24.png","JsPlatform/Extensions/admobicon16.png").addParameter("string",e("Android rewarded interstitial ID"),"",!1).setParameterLongDescription('Get it from your AdMob account. You can use `"ca-app-pub-3940256099942544/5354046379"` for loading a test rewarded interstitial.').addParameter("string",e("iOS interstitial ID"),"",!1).setParameterLongDescription('Get it from your AdMob account. You can use `"ca-app-pub-3940256099942544/6978759866"` for loading a test rewarded interstitial.').addParameter("yesorno",e("Displayed automatically when loading is finished?"),"",!1).setDefaultValue("true").getCodeExtraInformation().setIncludeFile("Extensions/AdMob/admobtools.js").setFunctionName("gdjs.adMob.loadRewardedInterstitial"),a.addAction("ShowRewardedInterstitial",e("Show rewarded interstitial"),e("Show the rewarded interstitial that was loaded. Will work only when the rewarded interstitial is fully loaded."),e("Show the loaded rewarded interstitial"),"","JsPlatform/Extensions/admobicon24.png","JsPlatform/Extensions/admobicon16.png").getCodeExtraInformation().setIncludeFile("Extensions/AdMob/admobtools.js").setFunctionName("gdjs.adMob.showRewardedInterstitial"),a.addAction("ClaimRewardedInterstitialReward",e("Mark the reward of the rewarded interstitial as claimed"),e("Mark the rewarded interstitial reward as claimed. Useful if you used the condition to check if the reward was given to the user without clearing the reward."),e("Mark the reward of the rewarded interstitial as claimed"),"","JsPlatform/Extensions/admobicon24.png","JsPlatform/Extensions/admobicon16.png").getCodeExtraInformation().setIncludeFile("Extensions/AdMob/admobtools.js").setFunctionName("gdjs.adMob.markRewardedInterstitialRewardAsClaimed"),a.addCondition("RewardedVideoLoading",e("Rewarded video loading"),e("Check if a rewarded video is currently loading."),e("Rewarded video is loading"),"","JsPlatform/Extensions/admobicon24.png","JsPlatform/Extensions/admobicon16.png").getCodeExtraInformation().setIncludeFile("Extensions/AdMob/admobtools.js").setFunctionName("gdjs.adMob.isRewardedVideoLoading"),a.addDuplicatedCondition("VideoLoading","RewardedVideoLoading").setHidden(),a.addCondition("RewardedVideoReady",e("Rewarded video ready"),e("Check if a rewarded video is ready to be displayed."),e("Rewarded video is ready"),"","JsPlatform/Extensions/admobicon24.png","JsPlatform/Extensions/admobicon16.png").getCodeExtraInformation().setIncludeFile("Extensions/AdMob/admobtools.js").setFunctionName("gdjs.adMob.isRewardedVideoReady"),a.addDuplicatedCondition("VideoReady","RewardedVideoReady").setHidden(),a.addCondition("RewardedVideoShowing",e("Rewarded video showing"),e("Check if there is a rewarded video being displayed."),e("Rewarded video is showing"),"","JsPlatform/Extensions/admobicon24.png","JsPlatform/Extensions/admobicon16.png").getCodeExtraInformation().setIncludeFile("Extensions/AdMob/admobtools.js").setFunctionName("gdjs.adMob.isRewardedVideoShowing"),a.addDuplicatedCondition("VideoShowing","RewardedVideoShowing").setHidden(),a.addCondition("RewardedVideoErrored",e("Rewarded video had an error"),e("Check if there was a error while loading the rewarded video."),e("Rewarded video ad had an error"),"","JsPlatform/Extensions/admobicon24.png","JsPlatform/Extensions/admobicon16.png").getCodeExtraInformation().setIncludeFile("Extensions/AdMob/admobtools.js").setFunctionName("gdjs.adMob.isRewardedVideoErrored"),a.addDuplicatedCondition("VideoErrored","RewardedVideoErrored").setHidden(),a.addCondition("RewardedVideoRewardReceived",e("Rewarded Video reward received"),e("Check if the reward of the rewarded video was given to the user.\nYou can mark this reward as cleared, so that the condition will be false and you can show later another rewarded video."),e("User got the reward of the rewarded video (and clear this reward: _PARAM0_)"),"","JsPlatform/Extensions/admobicon24.png","JsPlatform/Extensions/admobicon16.png").addParameter("yesorno",e("Clear the reward (needed to show another rewarded video)"),"",!1).setDefaultValue("true").getCodeExtraInformation().setIncludeFile("Extensions/AdMob/admobtools.js").setFunctionName("gdjs.adMob.wasRewardedVideoRewardReceived"),a.addDuplicatedCondition("VideoReward","RewardedVideoRewardReceived").setHidden(),a.addAction("LoadRewardedVideo",e("Load rewarded video"),e("Start loading a reward video (that can be displayed automatically when the loading is finished).\nIf test mode is set, a test video will be displayed."),e("Load reward video with Android ad unit ID: _PARAM0_, iOS ad unit ID: _PARAM1_ (display automatically when loaded: _PARAM2_)"),"","JsPlatform/Extensions/admobicon24.png","JsPlatform/Extensions/admobicon16.png").addParameter("string",e("Android reward video ID"),"",!1).setParameterLongDescription('Get it from your AdMob account. You can use `"ca-app-pub-3940256099942544/5224354917"` for loading a test rewarded video.').addParameter("string",e("iOS reward video ID"),"",!1).setParameterLongDescription('Get it from your AdMob account. You can use `"ca-app-pub-3940256099942544/1712485313"` for loading a test rewarded video.').addParameter("yesorno",e("Displayed automatically when loading is finished?"),"",!1).setDefaultValue("true").getCodeExtraInformation().setIncludeFile("Extensions/AdMob/admobtools.js").setFunctionName("gdjs.adMob.loadRewardedVideo"),a.addDuplicatedAction("LoadVideo","LoadRewardedVideo").setHidden(),a.addAction("ShowRewardedVideo",e("Show rewarded video"),e("Show the reward video that was loaded. Will work only when the video is fully loaded."),e("Show the loaded reward video"),"","JsPlatform/Extensions/admobicon24.png","JsPlatform/Extensions/admobicon16.png").getCodeExtraInformation().setIncludeFile("Extensions/AdMob/admobtools.js").setFunctionName("gdjs.adMob.showRewardedVideo"),a.addDuplicatedAction("ShowVideo","ShowRewardedVideo").setHidden(),a.addAction("ClaimRewardedVideoReward",e("Mark the reward of the rewarded video as claimed"),e("Mark the rewarded video reward as claimed. Useful if you used the condition to check if the reward was given to the user without clearing the reward."),e("Mark the reward of the rewarded video as claimed"),"","JsPlatform/Extensions/admobicon24.png","JsPlatform/Extensions/admobicon16.png").getCodeExtraInformation().setIncludeFile("Extensions/AdMob/admobtools.js").setFunctionName("gdjs.adMob.markRewardedVideoRewardAsClaimed"),a.addDuplicatedAction("ClaimReward","ClaimRewardedVideoReward").setHidden(),a},runExtensionSanityTests:function(e,t){return[]}}},19910:function(e){e.exports={createExtension:function(e,t){var a=new t.PlatformExtension;a.setExtensionInformation("AdvancedWindow",e("Advanced window management"),e("Provides advanced features related to the game window positioning and interaction with the operating system."),"Arthur Pacaud (arthuro555)","MIT").setCategory("User interface"),a.addInstructionOrExpressionGroupMetadata(e("Advanced window management")).setIcon("res/actions/window24.png"),a.addAction("Focus",e("Window focus"),e("Make the window gain or lose focus."),e("Focus the window: _PARAM0_"),e("Windows, Linux, macOS"),"res/actions/window24.png","res/actions/window.png").addParameter("yesorno",e("Focus the window?"),"",!1).setDefaultValue("true").addCodeOnlyParameter("currentScene","").getCodeExtraInformation().setIncludeFile("Extensions/AdvancedWindow/electron-advancedwindowtools.js").setFunctionName("gdjs.evtTools.advancedWindow.focus"),a.addCondition("IsFocused",e("Window focused"),e("Checks if the window is focused."),e("The window is focused"),e("Windows, Linux, macOS"),"res/actions/window24.png","res/actions/window.png").addCodeOnlyParameter("currentScene","").getCodeExtraInformation().setIncludeFile("Extensions/AdvancedWindow/electron-advancedwindowtools.js").setFunctionName("gdjs.evtTools.advancedWindow.isFocused"),a.addAction("Show",e("Window visibility"),e("Make the window visible or invisible."),e("Window visible: _PARAM0_"),e("Windows, Linux, macOS"),"res/actions/window24.png","res/actions/window.png").addParameter("yesorno",e("Show window?"),"",!1).setDefaultValue("true").addCodeOnlyParameter("currentScene","").getCodeExtraInformation().setIncludeFile("Extensions/AdvancedWindow/electron-advancedwindowtools.js").setFunctionName("gdjs.evtTools.advancedWindow.show"),a.addCondition("IsVisible",e("Window visible"),e("Checks if the window is visible."),e("The window is visible"),e("Windows, Linux, macOS"),"res/actions/window24.png","res/actions/window.png").addCodeOnlyParameter("currentScene","").getCodeExtraInformation().setIncludeFile("Extensions/AdvancedWindow/electron-advancedwindowtools.js").setFunctionName("gdjs.evtTools.advancedWindow.isVisible"),a.addAction("Maximize",e("Maximize the window"),e("Maximize or unmaximize the window."),e("Maximize window: _PARAM0_"),e("Windows, Linux, macOS"),"res/actions/window24.png","res/actions/window.png").addParameter("yesorno",e("Maximize window?"),"",!1).setDefaultValue("true").addCodeOnlyParameter("currentScene","").getCodeExtraInformation().setIncludeFile("Extensions/AdvancedWindow/electron-advancedwindowtools.js").setFunctionName("gdjs.evtTools.advancedWindow.maximize"),a.addCondition("IsMaximized",e("Window maximized"),e("Checks if the window is maximized."),e("The window is maximized"),e("Windows, Linux, macOS"),"res/actions/window24.png","res/actions/window.png").addCodeOnlyParameter("currentScene","").getCodeExtraInformation().setIncludeFile("Extensions/AdvancedWindow/electron-advancedwindowtools.js").setFunctionName("gdjs.evtTools.advancedWindow.isMaximized"),a.addAction("Minimize",e("Minimize the window"),e("Minimize or unminimize the window."),e("Minimize window: _PARAM0_"),e("Windows, Linux, macOS"),"res/actions/window24.png","res/actions/window.png").addParameter("yesorno",e("Minimize window?"),"",!1).setDefaultValue("true").addCodeOnlyParameter("currentScene","").getCodeExtraInformation().setIncludeFile("Extensions/AdvancedWindow/electron-advancedwindowtools.js").setFunctionName("gdjs.evtTools.advancedWindow.minimize"),a.addCondition("IsMinimized",e("Window minimized"),e("Checks if the window is minimized."),e("The window is minimized"),e("Windows, Linux, macOS"),"res/actions/window24.png","res/actions/window.png").addCodeOnlyParameter("currentScene","").getCodeExtraInformation().setIncludeFile("Extensions/AdvancedWindow/electron-advancedwindowtools.js").setFunctionName("gdjs.evtTools.advancedWindow.isMinimized"),a.addAction("EnableWindow",e("Enable the window"),e("Enables or disables the window."),e("Enable window: _PARAM0_"),e("Windows, Linux, macOS"),"res/actions/window24.png","res/actions/window.png").addParameter("yesorno",e("Enable window?"),"",!1).setDefaultValue("true").addCodeOnlyParameter("currentScene","").getCodeExtraInformation().setIncludeFile("Extensions/AdvancedWindow/electron-advancedwindowtools.js").setFunctionName("gdjs.evtTools.advancedWindow.enable"),a.addCondition("IsWindowEnabled",e("Window enabled"),e("Checks if the window is enabled."),e("The window is enabled"),e("Windows, Linux, macOS"),"res/actions/window24.png","res/actions/window.png").addCodeOnlyParameter("currentScene","").getCodeExtraInformation().setIncludeFile("Extensions/AdvancedWindow/electron-advancedwindowtools.js").setFunctionName("gdjs.evtTools.advancedWindow.isEnabled"),a.addAction("SetResizable",e("Allow resizing"),e("Enables or disables resizing of the window by the user."),e("Enable window resizing: _PARAM0_"),e("Windows, Linux, macOS"),"res/actions/window24.png","res/actions/window.png").addParameter("yesorno",e("Allow resizing?"),"",!1).setDefaultValue("true").addCodeOnlyParameter("currentScene","").getCodeExtraInformation().setIncludeFile("Extensions/AdvancedWindow/electron-advancedwindowtools.js").setFunctionName("gdjs.evtTools.advancedWindow.setResizable"),a.addCondition("IsResizable",e("Window resizable"),e("Checks if the window can be resized."),e("The window can be resized"),e("Windows, Linux, macOS"),"res/actions/window24.png","res/actions/window.png").addCodeOnlyParameter("currentScene","").getCodeExtraInformation().setIncludeFile("Extensions/AdvancedWindow/electron-advancedwindowtools.js").setFunctionName("gdjs.evtTools.advancedWindow.isResizable"),a.addAction("SetMovable",e("Allow moving"),e("Enables or disables moving of the window by the user."),e("Enable window moving: _PARAM0_"),e("Windows, Linux, macOS"),"res/actions/window24.png","res/actions/window.png").addParameter("yesorno",e("Allow moving?"),"",!1).setDefaultValue("true").addCodeOnlyParameter("currentScene","").getCodeExtraInformation().setIncludeFile("Extensions/AdvancedWindow/electron-advancedwindowtools.js").setFunctionName("gdjs.evtTools.advancedWindow.setMovable"),a.addCondition("IsMovable",e("Window movable"),e("Checks if the window can be moved."),e("The window can be moved"),e("Windows, Linux, macOS"),"res/actions/window24.png","res/actions/window.png").addCodeOnlyParameter("currentScene","").getCodeExtraInformation().setIncludeFile("Extensions/AdvancedWindow/electron-advancedwindowtools.js").setFunctionName("gdjs.evtTools.advancedWindow.isMovable"),a.addAction("SetMaximizable",e("Allow maximizing"),e("Enables or disables maximizing of the window by the user."),e("Enable window maximizing: _PARAM0_"),e("Windows, Linux, macOS"),"res/actions/window24.png","res/actions/window.png").addParameter("yesorno",e("Allow maximizing?"),"",!1).setDefaultValue("true").addCodeOnlyParameter("currentScene","").getCodeExtraInformation().setIncludeFile("Extensions/AdvancedWindow/electron-advancedwindowtools.js").setFunctionName("gdjs.evtTools.advancedWindow.setMaximizable"),a.addCondition("IsMaximizable",e("Window maximizable"),e("Checks if the window can be maximized."),e("The window can be maximized"),e("Windows, Linux, macOS"),"res/actions/window24.png","res/actions/window.png").addCodeOnlyParameter("currentScene","").getCodeExtraInformation().setIncludeFile("Extensions/AdvancedWindow/electron-advancedwindowtools.js").setFunctionName("gdjs.evtTools.advancedWindow.isMaximizable"),a.addAction("SetMinimizable",e("Allow minimizing"),e("Enables or disables minimizing of the window by the user."),e("Enable window minimizing: _PARAM0_"),e("Windows, Linux, macOS"),"res/actions/window24.png","res/actions/window.png").addParameter("yesorno",e("Allow minimizing?"),"",!1).setDefaultValue("true").addCodeOnlyParameter("currentScene","").getCodeExtraInformation().setIncludeFile("Extensions/AdvancedWindow/electron-advancedwindowtools.js").setFunctionName("gdjs.evtTools.advancedWindow.setMinimizable"),a.addCondition("IsMinimizable",e("Window minimizable"),e("Checks if the window can be minimized."),e("The window can be minimized"),e("Windows, Linux, macOS"),"res/actions/window24.png","res/actions/window.png").addCodeOnlyParameter("currentScene","").getCodeExtraInformation().setIncludeFile("Extensions/AdvancedWindow/electron-advancedwindowtools.js").setFunctionName("gdjs.evtTools.advancedWindow.isMinimizable"),a.addAction("SetFullScreenable",e("Allow full-screening"),e("Enables or disables full-screening of the window by the user."),e("Enable window full-screening: _PARAM0_"),e("Windows, Linux, macOS"),"res/actions/window24.png","res/actions/window.png").addParameter("yesorno",e("Allow full-screening?"),"",!1).setDefaultValue("true").addCodeOnlyParameter("currentScene","").getCodeExtraInformation().setIncludeFile("Extensions/AdvancedWindow/electron-advancedwindowtools.js").setFunctionName("gdjs.evtTools.advancedWindow.setFullScreenable"),a.addCondition("IsFullScreenable",e("Window full-screenable"),e("Checks if the window can be full-screened."),e("The window can be set in fullscreen"),e("Windows, Linux, macOS"),"res/actions/window24.png","res/actions/window.png").addCodeOnlyParameter("currentScene","").getCodeExtraInformation().setIncludeFile("Extensions/AdvancedWindow/electron-advancedwindowtools.js").setFunctionName("gdjs.evtTools.advancedWindow.isFullScreenable"),a.addAction("SetClosable",e("Allow closing"),e("Enables or disables closing of the window by the user."),e("Enable window closing: _PARAM0_"),e("Windows, Linux, macOS"),"res/actions/window24.png","res/actions/window.png").addParameter("yesorno",e("Allow closing?"),"",!1).setDefaultValue("true").addCodeOnlyParameter("currentScene","").getCodeExtraInformation().setIncludeFile("Extensions/AdvancedWindow/electron-advancedwindowtools.js").setFunctionName("gdjs.evtTools.advancedWindow.setClosable"),a.addCondition("IsClosable",e("Window closable"),e("Checks if the window can be closed."),e("The window can be closed"),e("Windows, Linux, macOS"),"res/actions/window24.png","res/actions/window.png").addCodeOnlyParameter("currentScene","").getCodeExtraInformation().setIncludeFile("Extensions/AdvancedWindow/electron-advancedwindowtools.js").setFunctionName("gdjs.evtTools.advancedWindow.isClosable");var i=JSON.stringify(["normal","floating","torn-off-menu","modal-panel","main-menu","status","pop-up-menu","screen-saver"]);return a.addAction("SetAlwaysOnTop",e("Make the window always on top"),e("Puts the window constantly above all other windows."),e("Make window always on top: _PARAM0_, level: _PARAM1_"),e("Windows, Linux, macOS"),"res/actions/window24.png","res/actions/window.png").addParameter("yesorno",e("Enable always on top?"),"",!1).setDefaultValue("true").addParameter("stringWithSelector",e("Level"),i,!1).setDefaultValue("floating").setParameterLongDescription('The level is like a layer in GDevelop but for the OS. The further down the list, the higher it will be. When disabling always on top, the level will be set to normal. From "floating" to "status" included, the window is placed below the Dock on macOS and below the taskbar on Windows. Starting from "pop-up-menu", it is shown above the Dock on macOS and above the taskbar on Windows. This parameter is ignored on linux.').addCodeOnlyParameter("currentScene","").getCodeExtraInformation().setIncludeFile("Extensions/AdvancedWindow/electron-advancedwindowtools.js").setFunctionName("gdjs.evtTools.advancedWindow.setAlwaysOnTop"),a.addCondition("IsAlwaysOnTop",e("Window always on top"),e("Checks if the window is always on top."),e("The window is always on top"),e("Windows, Linux, macOS"),"res/actions/window24.png","res/actions/window.png").addCodeOnlyParameter("currentScene","").getCodeExtraInformation().setIncludeFile("Extensions/AdvancedWindow/electron-advancedwindowtools.js").setFunctionName("gdjs.evtTools.advancedWindow.isAlwaysOnTop"),a.addAction("SetKiosk",e("Enable kiosk mode"),e("Puts the window in kiosk mode. This prevents the user from exiting fullscreen."),e("Enable kiosk mode: _PARAM0_"),e("Windows, Linux, macOS"),"res/actions/window24.png","res/actions/window.png").addParameter("yesorno",e("Enable kiosk mode?"),"",!1).setDefaultValue("true").addCodeOnlyParameter("currentScene","").getCodeExtraInformation().setIncludeFile("Extensions/AdvancedWindow/electron-advancedwindowtools.js").setFunctionName("gdjs.evtTools.advancedWindow.setKiosk"),a.addCondition("IsKiosk",e("Kiosk mode"),e("Checks if the window is currently in kiosk mode."),e("The window is in kiosk mode"),e("Windows, Linux, macOS"),"res/actions/window24.png","res/actions/window.png").addCodeOnlyParameter("currentScene","").getCodeExtraInformation().setIncludeFile("Extensions/AdvancedWindow/electron-advancedwindowtools.js").setFunctionName("gdjs.evtTools.advancedWindow.isKiosk"),a.addAction("SetHasShadow",e("Enable window shadow"),e("Enables or disables the window shadow."),e("Enable window shadow: _PARAM0_"),e("Windows, Linux, macOS"),"res/actions/window24.png","res/actions/window.png").addParameter("yesorno",e("Enable shadow?"),"",!1).setDefaultValue("true").addCodeOnlyParameter("currentScene","").getCodeExtraInformation().setIncludeFile("Extensions/AdvancedWindow/electron-advancedwindowtools.js").setFunctionName("gdjs.evtTools.advancedWindow.setHasShadow"),a.addCondition("HasShadow",e("Shadow enabled"),e("Checks if the window currently has it's shadow enabled."),e("The window has a shadow"),e("Windows, Linux, macOS"),"res/actions/window24.png","res/actions/window.png").addCodeOnlyParameter("currentScene","").getCodeExtraInformation().setIncludeFile("Extensions/AdvancedWindow/electron-advancedwindowtools.js").setFunctionName("gdjs.evtTools.advancedWindow.hasShadow"),a.addAction("EnableContentProtection",e("Enable content protection"),e("Enables or disables the content protection mode. This should prevent screenshots of the game from being taken."),e("Enable content protection: _PARAM0_"),e("Windows, Linux, macOS"),"res/actions/window24.png","res/actions/window.png").addParameter("yesorno",e("Enable content protection?"),"",!1).setDefaultValue("true").addCodeOnlyParameter("currentScene","").getCodeExtraInformation().setIncludeFile("Extensions/AdvancedWindow/electron-advancedwindowtools.js").setFunctionName("gdjs.evtTools.advancedWindow.setContentProtection"),a.addAction("SetFocusable",e("Allow focusing"),e("Allow or disallow the user to focus the window."),e("Allow to focus the window: _PARAM0_"),e("Windows, Linux, macOS"),"res/actions/window24.png","res/actions/window.png").addParameter("yesorno",e("Allow focus?"),"",!1).setDefaultValue("true").addCodeOnlyParameter("currentScene","").getCodeExtraInformation().setIncludeFile("Extensions/AdvancedWindow/electron-advancedwindowtools.js").setFunctionName("gdjs.evtTools.advancedWindow.setFocusable"),a.addAction("Flash",e("Flash the window"),e("Make the window flash or end flashing."),e("Make the window flash: _PARAM0_"),e("Windows, Linux, macOS"),"res/actions/window24.png","res/actions/window.png").addParameter("yesorno",e("Flash the window?"),"",!1).setDefaultValue("true").addCodeOnlyParameter("currentScene","").getCodeExtraInformation().setIncludeFile("Extensions/AdvancedWindow/electron-advancedwindowtools.js").setFunctionName("gdjs.evtTools.advancedWindow.flash"),a.addAction("SetOpacity",e("Window opacity"),e("Changes the window opacity."),e("Set the window opacity to _PARAM0_"),e("Windows, Linux, macOS"),"res/actions/window24.png","res/actions/window.png").addParameter("expression",e("New opacity"),"",!1).setParameterLongDescription("A number between 0 (fully transparent) and 1 (fully opaque).").addCodeOnlyParameter("currentScene","").getCodeExtraInformation().setIncludeFile("Extensions/AdvancedWindow/electron-advancedwindowtools.js").setFunctionName("gdjs.evtTools.advancedWindow.setOpacity"),a.addAction("SetWindowPosition",e("Window position"),e("Changes the window position."),e("Set the window position to _PARAM0_;_PARAM1_"),e("Windows, Linux, macOS"),"res/actions/window24.png","res/actions/window.png").addParameter("expression",e("X position"),"",!1).addParameter("expression",e("Y position"),"",!1).addCodeOnlyParameter("currentScene","").getCodeExtraInformation().setIncludeFile("Extensions/AdvancedWindow/electron-advancedwindowtools.js").setFunctionName("gdjs.evtTools.advancedWindow.setPosition"),a.addExpression("WindowX",e("Window X position"),e("Returns the current window X position."),e("Windows, Linux, macOS"),"res/actions/window.png").addCodeOnlyParameter("currentScene","").getCodeExtraInformation().setIncludeFile("Extensions/AdvancedWindow/electron-advancedwindowtools.js").setFunctionName("gdjs.evtTools.advancedWindow.getPositionX"),a.addExpression("WindowY",e("Window Y position"),e("Returns the current window Y position."),e("Windows, Linux, macOS"),"res/actions/window.png").addCodeOnlyParameter("currentScene","").getCodeExtraInformation().setIncludeFile("Extensions/AdvancedWindow/electron-advancedwindowtools.js").setFunctionName("gdjs.evtTools.advancedWindow.getPositionY"),a.addExpression("WindowOpacity",e("Window opacity"),e("Returns the current window opacity (a number from 0 to 1, 1 being fully opaque)."),e("Windows, Linux, macOS"),"res/actions/window.png").addCodeOnlyParameter("currentScene","").getCodeExtraInformation().setIncludeFile("Extensions/AdvancedWindow/electron-advancedwindowtools.js").setFunctionName("gdjs.evtTools.advancedWindow.getOpacity"),a},runExtensionSanityTests:function(e,t){return[]}}},73118:function(e,t,a){var i=a(56690).default,n=a(89728).default,r=a(61655).default,s=a(26389).default,o=function(e){return'["'+e.join('","')+'"]'};e.exports={createExtension:function(e,t){var a=new t.PlatformExtension;a.setExtensionInformation("BBText",e("BBCode Text Object"),"A BBText is an object displaying on the screen a rich text formatted using BBCode markup (allowing to set parts of the text as bold, italic, use different colors and shadows).","Todor Imreorov","Open source (MIT License)").setExtensionHelpPath("/objects/bbtext").setCategory("Text"),a.addInstructionOrExpressionGroupMetadata(e("BBCode Text Object")).setIcon("JsPlatform/Extensions/bbcode32.png");var i=new t.ObjectJsImplementation;i.updateProperty=function(e,t){var a=this.content;return e in a&&("boolean"===typeof a[e]?a[e]="1"===t:"number"===typeof a[e]?a[e]=parseFloat(t):a[e]=t,!0)},i.getProperties=function(){var a=new t.MapStringPropertyDescriptor,i=this.content;return a.getOrCreate("text").setValue(i.text).setType("multilinestring").setLabel(e("BBCode text")),a.getOrCreate("color").setValue(i.color).setType("color").setLabel(e("Base color")).setGroup(e("Appearance")),a.getOrCreate("fontSize").setValue(i.fontSize.toString()).setType("number").setLabel(e("Base size")).setGroup(e("Font")),a.getOrCreate("align").setValue(i.align).setType("choice").addChoice("left",e("Left")).addChoice("center",e("Center")).addChoice("right",e("Right")).setLabel(e("Base alignment")).setGroup(e("Appearance")),i.verticalTextAlignment||(i.verticalTextAlignment="top"),a.getOrCreate("verticalTextAlignment").setValue(i.verticalTextAlignment).setType("choice").addChoice("top",e("Top")).addChoice("center",e("Center")).addChoice("bottom",e("Bottom")).setLabel(e("Vertical alignment")).setGroup(e("Appearance")),a.getOrCreate("fontFamily").setValue(i.fontFamily).setType("resource").addExtraInfo("font").setLabel(e("Font")).setGroup(e("Font")),a.getOrCreate("visible").setValue(i.visible?"true":"false").setType("boolean").setLabel(e("Visible on start")).setGroup(e("Appearance")),a},i.content={text:"[b]bold[/b] [i]italic[/i] [size=15]smaller[/size] [font=times]times[/font] font\n[spacing=12]spaced out[/spacing]\n[outline=yellow]outlined[/outline] [shadow=red]DropShadow[/shadow] ",opacity:255,fontSize:20,visible:!0,color:"0;0;0",fontFamily:"Arial",align:"left",verticalTextAlignment:"top"},i.updateInitialInstanceProperty=function(e,t,a){return!1},i.getInitialInstanceProperties=function(e){return new t.MapStringPropertyDescriptor};var n,r,s=a.addObject("BBText",e("BBText"),e("Displays a rich text label using BBCode markup (allowing to set parts of the text as bold, italic, use different colors and shadows)."),"JsPlatform/Extensions/bbcode32.png",i).setIncludeFile("Extensions/BBText/bbtextruntimeobject.js").addIncludeFile("Extensions/BBText/bbtextruntimeobject-pixi-renderer.js").addIncludeFile("Extensions/BBText/pixi-multistyle-text/dist/pixi-multistyle-text.umd.js").setCategoryFullName(e("Text")).addDefaultBehavior("EffectCapability::EffectBehavior").addDefaultBehavior("OpacityCapability::OpacityBehavior"),l=[{functionName:"BBText",iconPath:"res/actions/text24_black.png",type:"string",instructionLabel:e("BBCode text"),paramLabel:e("Text"),conditionDescription:e("Compare the value of the BBCode text."),conditionSentence:e("the BBCode text"),actionDescription:e("Set BBCode text"),actionSentence:e("the BBCode text"),expressionLabel:e("Get BBCode text"),expressionDescription:e("Get BBCode text")},{functionName:"Color",iconPath:"res/actions/color24.png",type:"color",instructionLabel:e("Color"),paramLabel:e("Color (R;G;B)"),conditionDescription:"",conditionSentence:"",actionDescription:e("Set base color"),actionSentence:e("Set base color of _PARAM0_ to _PARAM1_"),expressionLabel:"",expressionDescription:""},{functionName:"Opacity",iconPath:"res/actions/opacity24.png",type:"number",instructionLabel:e("Opacity"),paramLabel:e("Opacity (0-255)"),conditionDescription:e("Compare the value of the base opacity of the text."),conditionSentence:e("the base opacity"),actionDescription:e("Set base opacity"),actionSentence:e("the base opacity"),expressionLabel:e("Get the base opacity"),expressionDescription:e("Get the base opacity")},{functionName:"FontSize",iconPath:"res/actions/characterSize24.png",type:"number",instructionLabel:e("Font size"),paramLabel:e("Font size"),conditionDescription:e("Compare the base font size of the text."),conditionSentence:e("the base font size"),actionDescription:e("Set base font size"),actionSentence:e("the base font size"),expressionLabel:e("Get the base font size"),expressionDescription:e("Get the base font size")},{functionName:"FontFamily",iconPath:"res/actions/font24.png",type:"string",instructionLabel:e("Font family"),paramLabel:e("Font family"),conditionDescription:e("Compare the value of font family"),conditionSentence:e("the base font family"),actionDescription:e("Set font family"),actionSentence:e("the base font family"),expressionLabel:e("Get the base font family"),expressionDescription:e("Get the base font family")},{functionName:"Alignment",iconPath:"res/actions/textAlign24.png",type:"stringWithSelector",instructionLabel:e("Alignment"),paramLabel:e("Alignment"),options:["left","right","center"],conditionDescription:e("Check the current text alignment."),conditionSentence:e("The text alignment of _PARAM0_ is _PARAM1_"),actionDescription:e("Change the alignment of the text."),actionSentence:e("text alignment"),expressionLabel:e("Get the text alignment"),expressionDescription:e("Get the text alignment")},{functionName:"WrappingWidth",iconPath:"res/actions/scaleWidth24_black.png",type:"number",instructionLabel:e("Wrapping width"),paramLabel:e("Wrapping width"),conditionDescription:e("Compare the width, in pixels, after which the text is wrapped on next line."),conditionSentence:e("the wrapping width"),actionDescription:e("Change the width, in pixels, after which the text is wrapped on next line."),actionSentence:e("the wrapping width"),expressionLabel:e("Get the wrapping width"),expressionDescription:e("Get the wrapping width")}];n=s,r="BBText",l.forEach((function(e){var a="boolean"===e.type?"yesorno":e.type;if("number"===a?n.addExpression("Get".concat(e.functionName),e.expressionLabel,e.expressionDescription,"",e.iconPath).addParameter("object",r,r,!1).getCodeExtraInformation().setFunctionName("get".concat(e.functionName)):"string"!==a&&"stringWithSelector"!==a||n.addStrExpression("Get".concat(e.functionName),e.expressionLabel,e.expressionDescription,"",e.iconPath).addParameter("object",r,r,!1).getCodeExtraInformation().setFunctionName("get".concat(e.functionName)),"number"===a||"string"===a||"stringWithSelector"===a){var i=t.ParameterOptions.makeNewOptions().setDescription(e.paramLabel);e.options&&i.setTypeExtraInfo(o(e.options)),n.addAction("Set".concat(e.functionName),e.instructionLabel,e.actionDescription,e.actionSentence,"",e.iconPath,e.iconPath).addParameter("object",r,r,!1).useStandardOperatorParameters(a,i).getCodeExtraInformation().setFunctionName("set".concat(e.functionName)).setGetter("get".concat(e.functionName))}else n.addAction("Set".concat(e.functionName),e.instructionLabel,e.actionDescription,e.actionSentence,"",e.iconPath,e.iconPath).addParameter("object",r,r,!1).addParameter(a,e.paramLabel,"",!1).getCodeExtraInformation().setFunctionName("set".concat(e.functionName)).setGetter("get".concat(e.functionName));if("string"===a||"number"===a||"stringWithSelector"===a){var s=t.ParameterOptions.makeNewOptions().setDescription(e.paramLabel);e.options&&s.setTypeExtraInfo(o(e.options)),n.addCondition("Is".concat(e.functionName),e.instructionLabel,e.conditionDescription,e.conditionSentence,"",e.iconPath,e.iconPath).addParameter("object",r,r,!1).useStandardRelationalOperatorParameters(a,s).getCodeExtraInformation().setFunctionName("get".concat(e.functionName))}else"yesorno"===a&&n.addCondition("Is".concat(e.functionName),e.instructionLabel,e.conditionDescription,e.conditionSentence,"",e.iconPath,e.iconPath).addParameter("object",r,r,!1).getCodeExtraInformation().setFunctionName("get".concat(e.functionName))})),s.addCondition("IsWordWrap",e("Word wrapping"),e("Check if word wrapping is enabled."),e("_PARAM0_ word wrapping is enabled"),"","res/conditions/wordWrap24_black.png","res/conditions/wordWrap_black.png").addParameter("object","BBText","BBText",!1).getCodeExtraInformation().setFunctionName("isWrapping"),s.addAction("SetWordWrap",e("Word wrapping"),e("De/activate word wrapping."),e("Activate word wrapping of _PARAM0_: _PARAM1_"),"","res/actions/wordWrap24_black.png","res/actions/wordWrap_black.png").addParameter("object","BBText","BBText",!1).addParameter("yesorno",e("Activate word wrapping"),"",!1).getCodeExtraInformation().setFunctionName("setWrapping"),s.addAction("SetFontFamily2",e("Font family"),e("Set font family"),e("Set the font of _PARAM0_ to _PARAM1_"),"","res/actions/font24.png","res/actions/font24.png").addParameter("object","BBText","BBText",!1).addParameter("fontResource",e("Font family"),"",!1).getCodeExtraInformation().setFunctionName("setFontFamily");var d=s.getAllActions(),c=s.getAllConditions(),u=s.getAllExpressions();return d.get("BBText::SetOpacity").setHidden(),c.get("BBText::IsOpacity").setHidden(),u.get("GetOpacity").setHidden(),d.get("BBText::SetFontFamily").setHidden(),a},runExtensionSanityTests:function(e,t){return[]},registerEditorConfigurations:function(e){e.registerEditorConfiguration("BBText::BBText",e.getDefaultObjectJsImplementationPropertiesEditor({helpPagePath:"/objects/bbtext"}))},registerInstanceRenderers:function(e){var t=e.RenderedInstance,a=e.requireModule("/","pixi-multistyle-text/dist/pixi-multistyle-text.umd"),o=function(o){"use strict";r(d,o);var l=s(d);function d(e,t,n,r,s,o){var c;i(this,d);return(c=l.call(this,e,t,n,r,s,o))._pixiObject=new a("",{default:{fontFamily:"Arial",fontSize:"24px",fill:"#cccccc",tagStyle:"bbcode",wordWrapWidth:250,align:"left"}}),c._pixiObject.anchor.x=.5,c._pixiObject.anchor.y=.5,c._pixiContainer.addChild(c._pixiObject),c.update(),c}return n(d,[{key:"update",value:function(){var a=this,i=gd.castObject(this._associatedObjectConfiguration,gd.ObjectJsImplementation),n=this.getPropertyOverridings(),r=n&&n.has("Text")?n.get("Text"):i.content.text;r!==this._pixiObject.text&&(this._pixiObject.text=r);var s=i.content.color,o=e.rgbOrHexToHexNumber(s);o!==this._pixiObject.textStyles.default.fill&&(this._pixiObject.textStyles.default.fill=o,this._pixiObject.dirty=!0);var l=i.content.fontSize;"".concat(l,"px")!==this._pixiObject.textStyles.default.fontSize&&(this._pixiObject.textStyles.default.fontSize="".concat(l,"px"),this._pixiObject.dirty=!0);var d=i.content.fontFamily;this._fontResourceName!==d&&(this._fontResourceName=d,this._pixiResourcesLoader.loadFontFamily(this._project,d).then((function(e){a._pixiObject.textStyles.default.fontFamily=e,a._pixiObject.dirty=!0})).catch((function(e){console.warn("Unable to load font family for RenderedBBTextInstance",e)})));var c=this._instance.hasCustomSize();if(c!==this._pixiObject._style.wordWrap&&(this._pixiObject._style.wordWrap=c,this._pixiObject.dirty=!0),this._instance.hasCustomSize()){var u=this.getCustomWidth();this._pixiObject._style.wordWrapWidth!==u&&(this._pixiObject._style.wordWrapWidth=u,this._pixiObject.dirty=!0)}var h=i.content.align;if(h!==this._pixiObject._style.align&&(this._pixiObject._style.align=h,this._pixiObject.dirty=!0),this._instance.hasCustomSize()&&0!==this._pixiObject.width){var f="right"===i.content.align?1:"center"===i.content.align?.5:0,p=this.getCustomWidth(),m=(p-this._pixiObject.width)*(f-.5);this._pixiObject.position.x=this._instance.getX()+p/2,this._pixiObject.anchor.x=.5-m/this._pixiObject.width}else this._pixiObject.position.x=this._instance.getX()+this._pixiObject.width/2,this._pixiObject.anchor.x=.5;var g="bottom"===i.content.verticalTextAlignment?1:"center"===i.content.verticalTextAlignment?.5:0;this._pixiObject.position.y=this._instance.getY()+this._pixiObject.height*(.5-g),this._pixiObject.anchor.y=.5,this._pixiObject.rotation=t.toRad(this._instance.getAngle());var v=Math.max(this._instance.getOpacity()/255,.5);this._pixiObject.alpha=v}},{key:"getDefaultWidth",value:function(){return this._pixiObject.width}},{key:"getDefaultHeight",value:function(){return this._pixiObject.height}},{key:"getOriginY",value:function(){var e=gd.castObject(this._associatedObjectConfiguration,gd.ObjectJsImplementation),t=this.getHeight();return"bottom"===e.content.verticalTextAlignment?t:"center"===e.content.verticalTextAlignment?t/2:0}}],[{key:"getThumbnail",value:function(e,t,a){return"JsPlatform/Extensions/bbcode24.png"}}]),d}(t);e.registerInstanceRenderer("BBText::BBText",o)}}},54505:function(e,t,a){var i=a(56690).default,n=a(89728).default,r=a(61655).default,s=a(26389).default;e.exports=function(e){"use strict";function t(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(a){if("default"!==a){var i=Object.getOwnPropertyDescriptor(e,a);Object.defineProperty(t,a,i.get?i:{enumerable:!0,get:function(){return e[a]}})}})),t.default=e,Object.freeze(t)}var a=t(e);if(parseInt(a.VERSION.split(".")[0],10)<5)throw new Error("Detected Pixi.js version ".concat(a.VERSION,". pixi-multistyle-text supports Pixi.js version 5+. (Please use v0.8.0 for Pixi 4 support.)"));var o=["pointerover","pointerenter","pointerdown","pointermove","pointerup","pointercancel","pointerout","pointerleave","gotpointercapture","lostpointercapture","mouseover","mouseenter","mousedown","mousemove","mouseup","mousecancel","mouseout","mouseleave","touchover","touchenter","touchdown","touchmove","touchup","touchcancel","touchout","touchleave"],l="bbcode",d={bbcode:["[","]"],xml:["<",">"]},c=function(e){r(c,e);var t=s(c);function c(e,a){var n;return i(this,c),(n=t.call(this,e)).styles=a,o.forEach((function(e){n.on(e,(function(e){return n.handleInteraction(e)}))})),n}return n(c,[{key:"handleInteraction",value:function(e){var t=e,a=e.data.getLocalPosition(this),i=this.hitboxes.reduce((function(e,t){return void 0!==e?e:t.hitbox.contains(a.x,a.y)?t:void 0}),void 0);t.targetTag=void 0===i?void 0:i.tag}},{key:"styles",set:function(e){for(var t in this.textStyles={},this.textStyles.default=this.assign({},c.DEFAULT_TAG_STYLE),e)"default"===t?this.assign(this.textStyles.default,e[t]):this.textStyles[t]=this.assign({},e[t]);this.textStyles.default.tagStyle===l&&(this.textStyles.b=this.assign({},{fontStyle:"bold"}),this.textStyles.i=this.assign({},{fontStyle:"italic"}),this.textStyles.color=this.assign({},{fill:""}),this.textStyles.outline=this.assign({},{stroke:"",strokeThickness:6}),this.textStyles.font=this.assign({},{fontFamily:""}),this.textStyles.shadow=this.assign({},{dropShadowColor:"",dropShadow:!0,dropShadowBlur:3,dropShadowDistance:3,dropShadowAngle:2}),this.textStyles.size=this.assign({},{fontSize:"px"}),this.textStyles.spacing=this.assign({},{letterSpacing:""}),this.textStyles.align=this.assign({},{align:""})),this.withPrivateMembers()._style=new a.TextStyle(this.textStyles.default),this.withPrivateMembers().dirty=!0}},{key:"setTagStyle",value:function(e,t){e in this.textStyles?this.assign(this.textStyles[e],t):this.textStyles[e]=this.assign({},t),this.withPrivateMembers()._style=new a.TextStyle(this.textStyles.default),this.withPrivateMembers().dirty=!0}},{key:"deleteTagStyle",value:function(e){"default"===e?this.textStyles.default=this.assign({},c.DEFAULT_TAG_STYLE):delete this.textStyles[e],this.withPrivateMembers()._style=new a.TextStyle(this.textStyles.default),this.withPrivateMembers().dirty=!0}},{key:"getTagRegex",value:function(e,t){var a=Object.keys(this.textStyles).join("|"),i=this.textStyles.default.tagStyle;a=e?"(".concat(a,")"):"(?:".concat(a,")");var n=i===l?"\\".concat(d.bbcode[0]).concat(a,"(?:\\=(?:[A-Za-z0-9_\\-\\#]+|'(?:[^']+|\\\\')*'))*\\s*\\").concat(d.bbcode[1],"|\\").concat(d.bbcode[0],"\\/").concat(a,"\\s*\\").concat(d.bbcode[1]):"\\".concat(d.xml[0]).concat(a,"(?:\\s+[A-Za-z0-9_\\-]+=(?:\"(?:[^\"]+|\\\\\")*\"|'(?:[^']+|\\\\')*'))*\\s*\\").concat(d.xml[1],"|\\").concat(d.xml[0],"\\/").concat(a,"\\s*\\").concat(d.xml[1]);return t&&(n="(".concat(n,")")),new RegExp(n,"g")}},{key:"getPropertyRegex",value:function(){return new RegExp("([A-Za-z0-9_\\-]+)=(?:\"((?:[^\"]+|\\\\\")*)\"|'((?:[^']+|\\\\')*)')","g")}},{key:"getBBcodePropertyRegex",value:function(){return new RegExp("[A-Za-z0-9_\\-]+=([A-Za-z0-9_\\-\\#]+)","g")}},{key:"_getTextDataPerLine",value:function(e){for(var t=this,a=[],i=this.getTagRegex(!0,!1),n=[this.assign({},this.textStyles.default)],r=[{name:"default",properties:{}}],s=0;s<e.length;s++){for(var o=void 0,c=[],u=[];o=i.exec(e[s]);)u.push(o);if(0===u.length)c.push(this.createTextData(e[s],n[n.length-1],r[r.length-1]));else{for(var h=0,f=function(){if(u[p].index>h&&c.push(t.createTextData(e[s].substring(h,u[p].index),n[n.length-1],r[r.length-1])),"/"===u[p][0][1])n.length>1&&(n.pop(),r.pop());else{for(var a,i={},o=t.getPropertyRegex();a=o.exec(u[p][0]);)i[a[1]]=a[2]||a[3];if(r.push({name:u[p][1],properties:i}),t.textStyles.default.tagStyle===l&&u[p][0].includes("=")&&t.textStyles[u[p][1]]){var d=t.getBBcodePropertyRegex().exec(u[p][0]),f={};Object.entries(t.textStyles[u[p][1]]).forEach((function(e){f[e[0]]="string"!=typeof e[1]?e[1]:d[1]+e[1]})),n.push(t.assign({},n[n.length-1],f))}else n.push(t.assign({},n[n.length-1],t.textStyles[u[p][1]]))}h=u[p].index+u[p][0].length},p=0;p<u.length;p++)f();if(h<e[s].length){var m=this.createTextData(h?e[s].substring(h):e[s],n[n.length-1],r[r.length-1]);c.push(m)}}a.push(c)}var g=this.textStyles.default.tagStyle;return a[a.length-1].map((function(e){e.text.includes(d[g][0])&&(e.text=e.text.match(g===l?/^(.*)\[/:/^(.*)\</)[1])})),a}},{key:"getFontString",value:function(e){return""===e.fill&&delete e.fill,""===e.stroke&&delete e.stroke,""===e.dropShadowColor&&delete e.dropShadowColor,new a.TextStyle(e).toFontString()}},{key:"createTextData",value:function(e,t,a){return{text:e,style:t,width:0,height:0,fontProperties:void 0,tag:a}}},{key:"getDropShadowPadding",value:function(){var e=this,t=0,a=0;return Object.keys(this.textStyles).forEach((function(i){var n=e.textStyles[i],r=n.dropShadowDistance,s=n.dropShadowBlur;t=Math.max(t,r||0),a=Math.max(a,s||0)})),t+a}},{key:"withPrivateMembers",value:function(){return this}},{key:"updateText",value:function(){var e=this;if(this.withPrivateMembers().dirty){this.hitboxes=[],this.texture.baseTexture.resolution=this.resolution;var t=this.textStyles,i=this.text;this.withPrivateMembers()._style.wordWrap&&(i=this.wordWrap(this.text));for(var n=i.split(/(?:\r\n|\r|\n)/),r=this._getTextDataPerLine(n),s=[],o=[],l=[],d=0,u=0;u<n.length;u++){for(var h=0,f=0,p=0,m=0;m<r[u].length;m++){var g=r[u][m].style;this.context.font=this.getFontString(g),r[u][m].width=this.context.measureText(r[u][m].text).width,0!==r[u][m].text.length&&(r[u][m].width+=(r[u][m].text.length-1)*g.letterSpacing,m>0&&(h+=g.letterSpacing/2),m<r[u].length-1&&(h+=g.letterSpacing/2)),h+=r[u][m].width,r[u][m].fontProperties=a.TextMetrics.measureFont(this.context.font),r[u][m].height=r[u][m].fontProperties.fontSize,"number"==typeof g.valign?(f=Math.min(f,g.valign-r[u][m].fontProperties.descent),p=Math.max(p,g.valign+r[u][m].fontProperties.ascent)):(f=Math.min(f,-r[u][m].fontProperties.descent),p=Math.max(p,r[u][m].fontProperties.ascent))}s[u]=h,o[u]=f,l[u]=p,d=Math.max(d,h)}var v=Object.keys(t).map((function(e){return t[e]})).reduce((function(e,t){return Math.max(e,t.strokeThickness||0)}),0),b=this.getDropShadowPadding(),y=d+2*v+2*b,x=l.reduce((function(e,t){return e+t}),0)-o.reduce((function(e,t){return e+t}),0)+2*v+2*b;this.canvas.width=y*this.resolution,this.canvas.height=x*this.resolution,this.context.scale(this.resolution,this.resolution),this.context.textBaseline="alphabetic",this.context.lineJoin="round";for(var _=b+v,P=[],A=0;A<r.length;A++){var E=void 0,T=r[A];switch(this.withPrivateMembers()._style.align){case"left":E=b+v;break;case"center":E=b+v+(d-s[A])/2;break;case"right":E=b+v+d-s[A]}for(var w=0;w<T.length;w++){var S=T[w],C=S.style,F=S.text,I=S.fontProperties,j=S.width,M=(S.height,S.tag),O=_+I.ascent;switch(C.valign){case"top":break;case"baseline":O+=l[A]-I.ascent;break;case"middle":O+=(l[A]-o[A]-I.ascent-I.descent)/2;break;case"bottom":O+=l[A]-o[A]-I.ascent-I.descent;break;default:O+=l[A]-I.ascent-C.valign}if(0===C.letterSpacing)P.push({text:F,style:C,x:E,y:O,width:j,ascent:I.ascent,descent:I.descent,tag:M}),E+=T[w].width;else{this.context.font=this.getFontString(T[w].style);for(var R=0;R<F.length;R++){(R>0||w>0)&&(E+=C.letterSpacing/2);var k=this.context.measureText(F.charAt(R)).width;P.push({text:F.charAt(R),style:C,x:E,y:O,width:k,ascent:I.ascent,descent:I.descent,tag:M}),E+=k,(R<F.length-1||w<T.length-1)&&(E+=C.letterSpacing/2)}}}_+=l[A]-o[A]}this.context.save(),P.forEach((function(t){var i=t.style,n=t.text,r=t.x,s=t.y;if(i.dropShadow){e.context.font=e.getFontString(i);var o=i.dropShadowColor;"number"==typeof o&&(o=a.utils.hex2string(o)),e.context.shadowColor=o,e.context.shadowBlur=i.dropShadowBlur,e.context.shadowOffsetX=Math.cos(i.dropShadowAngle)*i.dropShadowDistance*e.resolution,e.context.shadowOffsetY=Math.sin(i.dropShadowAngle)*i.dropShadowDistance*e.resolution,e.context.fillText(n,r,s)}})),this.context.restore(),P.forEach((function(t){var i=t.style,n=t.text,r=t.x,s=t.y;if(t.width,t.ascent,t.descent,t.tag,void 0!==i.stroke&&i.strokeThickness){e.context.font=e.getFontString(i);var o=i.stroke;"number"==typeof o&&(o=a.utils.hex2string(o)),e.context.strokeStyle=o,e.context.lineWidth=i.strokeThickness,e.context.strokeText(n,r,s)}})),P.forEach((function(t){var i=t.style,n=t.text,r=t.x,s=t.y;if(t.width,t.ascent,t.descent,t.tag,void 0!==i.fill){e.context.font=e.getFontString(i);var o=i.fill;if("number"==typeof o)o=a.utils.hex2string(o);else if(Array.isArray(o))for(var l=0;l<o.length;l++){var d=o[l];"number"==typeof d&&(o[l]=a.utils.hex2string(d))}e.context.fillStyle=e._generateFillStyle(new a.TextStyle(i),[n]),e.context.fillText(n,r,s)}})),P.forEach((function(t){var i=t.style,n=(t.text,t.x),r=t.y,s=t.width,o=t.ascent,l=t.descent,d=t.tag,u=-e.withPrivateMembers()._style.padding-e.getDropShadowPadding();e.hitboxes.push({tag:d,hitbox:new a.Rectangle(n+u,r-o+u,s,o+l)}),(void 0===i.debug?c.debugOptions.spans.enabled:i.debug)&&(e.context.lineWidth=1,c.debugOptions.spans.bounding&&(e.context.fillStyle=c.debugOptions.spans.bounding,e.context.strokeStyle=c.debugOptions.spans.bounding,e.context.beginPath(),e.context.rect(n,r-o,s,o+l),e.context.fill(),e.context.stroke(),e.context.stroke()),c.debugOptions.spans.baseline&&(e.context.strokeStyle=c.debugOptions.spans.baseline,e.context.beginPath(),e.context.moveTo(n,r),e.context.lineTo(n+s,r),e.context.closePath(),e.context.stroke()),c.debugOptions.spans.top&&(e.context.strokeStyle=c.debugOptions.spans.top,e.context.beginPath(),e.context.moveTo(n,r-o),e.context.lineTo(n+s,r-o),e.context.closePath(),e.context.stroke()),c.debugOptions.spans.bottom&&(e.context.strokeStyle=c.debugOptions.spans.bottom,e.context.beginPath(),e.context.moveTo(n,r+l),e.context.lineTo(n+s,r+l),e.context.closePath(),e.context.stroke()),c.debugOptions.spans.text&&(e.context.fillStyle="#ffffff",e.context.strokeStyle="#000000",e.context.lineWidth=2,e.context.font="8px monospace",e.context.strokeText(d.name,n,r-o+8),e.context.fillText(d.name,n,r-o+8),e.context.strokeText("".concat(s.toFixed(2),"x").concat((o+l).toFixed(2)),n,r-o+16),e.context.fillText("".concat(s.toFixed(2),"x").concat((o+l).toFixed(2)),n,r-o+16)))})),c.debugOptions.objects.enabled&&(c.debugOptions.objects.bounding&&(this.context.fillStyle=c.debugOptions.objects.bounding,this.context.beginPath(),this.context.rect(0,0,y,x),this.context.fill()),c.debugOptions.objects.text&&(this.context.fillStyle="#ffffff",this.context.strokeStyle="#000000",this.context.lineWidth=2,this.context.font="8px monospace",this.context.strokeText("".concat(y.toFixed(2),"x").concat(x.toFixed(2)),0,8,y),this.context.fillText("".concat(y.toFixed(2),"x").concat(x.toFixed(2)),0,8,y))),this.updateTexture()}}},{key:"wordWrap",value:function(e){var t="",a=this.getTagRegex(!0,!0),i=e.split("\n"),n=this.withPrivateMembers()._style.wordWrapWidth,r=[this.assign({},this.textStyles.default)];this.context.font=this.getFontString(this.textStyles.default);for(var s=0;s<i.length;s++){for(var o=n,l=i[s].split(a),d=!0,c=0;c<l.length;c++)if(a.test(l[c]))t+=l[c],"/"===l[c][1]?(c+=2,r.pop()):(c++,r.push(this.assign({},r[r.length-1],this.textStyles[l[c]])),c++),this.context.font=this.getFontString(r[r.length-1]);else for(var u=l[c].split(" "),h=0;h<u.length;h++){var f=this.context.measureText(u[h]).width;if(this.withPrivateMembers()._style.breakWords&&f>o){var p=u[h].split("");h>0&&(t+=" ",o-=this.context.measureText(" ").width);for(var m=0;m<p.length;m++){var g=this.context.measureText(p[m]).width;g>o?(t+="\n".concat(p[m]),o=n-g):(t+=p[m],o-=g)}}else if(this.withPrivateMembers()._style.breakWords)t+=u[h],o-=f;else{var v=f+(h>0?this.context.measureText(" ").width:0);v>o?(d||(t+="\n"),t+=u[h],o=n-f):(o-=v,h>0&&(t+=" "),t+=u[h])}d=!1}s<i.length-1&&(t+="\n")}return t}},{key:"updateTexture",value:function(){var e=this.withPrivateMembers()._texture,t=this.getDropShadowPadding();e.baseTexture.setRealSize(this.canvas.width,this.canvas.height,this.resolution),e.trim.width=e.frame.width=this.canvas.width/this.resolution,e.trim.height=e.frame.height=this.canvas.height/this.resolution,e.trim.x=-this.withPrivateMembers()._style.padding-t,e.trim.y=-this.withPrivateMembers()._style.padding-t,e.orig.width=e.frame.width-2*(this.withPrivateMembers()._style.padding+t),e.orig.height=e.frame.height-2*(this.withPrivateMembers()._style.padding+t),this.withPrivateMembers()._onTextureUpdate(),e.baseTexture.emit("update",e.baseTexture),this.withPrivateMembers().dirty=!1}},{key:"assign",value:function(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),i=1;i<t;i++)a[i-1]=arguments[i];for(var n=0,r=a;n<r.length;n++){var s=r[n];for(var o in s)e[o]=s[o]}return e}}]),c}(a.Text);return c.DEFAULT_TAG_STYLE={align:"left",breakWords:!1,dropShadow:!1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"#000000",dropShadowDistance:5,fill:"black",fillGradientType:a.TEXT_GRADIENT.LINEAR_VERTICAL,fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",valign:"baseline",wordWrap:!1,wordWrapWidth:100,tagStyle:"xml"},c.debugOptions={spans:{enabled:!1,baseline:"#44BB44",top:"#BB4444",bottom:"#4444BB",bounding:"rgba(255, 255, 255, 0.1)",text:!0},objects:{enabled:!1,bounding:"rgba(255, 255, 255, 0.05)",text:!0}},c}(a(36354))},68722:function(e,t,a){var i=a(56690).default,n=a(89728).default,r=a(61655).default,s=a(26389).default;e.exports={createExtension:function(e,t){var a=new t.PlatformExtension;a.setExtensionInformation("BitmapText",e("Bitmap Text"),e('Displays a text using a "Bitmap Font" (an image representing characters). This is more performant than a traditional Text object and it allows for complete control on the characters aesthetic.'),"Aur\xe9lien Vivet","Open source (MIT License)").setExtensionHelpPath("/objects/bitmap_text").setCategory("Text"),a.addInstructionOrExpressionGroupMetadata(e("Bitmap Text")).setIcon("JsPlatform/Extensions/bitmapfont32.png");var i=new t.ObjectJsImplementation;i.updateProperty=function(e,t){var a=this.content;return e in a&&("boolean"===typeof a[e]?a[e]="1"===t:"number"===typeof a[e]?a[e]=parseFloat(t):a[e]=t,!0)},i.getProperties=function(){var a=new t.MapStringPropertyDescriptor,i=this.content;return a.getOrCreate("text").setValue(i.text).setType("multilinestring").setLabel(e("Text")),a.getOrCreate("align").setValue(i.align).setType("choice").addChoice("left",e("Left")).addChoice("center",e("Center")).addChoice("right",e("Right")).setLabel(e("Alignment")).setGroup(e("Appearance")),i.verticalTextAlignment||(i.verticalTextAlignment="top"),a.getOrCreate("verticalTextAlignment").setValue(i.verticalTextAlignment).setType("choice").addChoice("top",e("Top")).addChoice("center",e("Center")).addChoice("bottom",e("Bottom")).setLabel(e("Vertical alignment")).setGroup(e("Appearance")),a.getOrCreate("bitmapFontResourceName").setValue(i.bitmapFontResourceName).setType("resource").addExtraInfo("bitmapFont").setLabel(e("Bitmap Font")).setGroup(e("Font")),a.getOrCreate("textureAtlasResourceName").setValue(i.textureAtlasResourceName).setType("resource").addExtraInfo("image").setLabel(e("Bitmap Atlas")).setGroup(e("Font")),a.getOrCreate("scale").setValue(i.scale.toString()).setType("number").setLabel(e("Text scale")).setGroup(e("Appearance")),a.getOrCreate("tint").setValue(i.tint).setType("color").setLabel(e("Font tint")).setGroup(e("Font")),a},i.content={text:"This text use the default bitmap font.\nUse a custom Bitmap Font to create your own texts.",opacity:255,scale:1,fontSize:20,tint:"255;255;255",bitmapFontResourceName:"",textureAtlasResourceName:"",align:"left",verticalTextAlignment:"top"},i.updateInitialInstanceProperty=function(e,t,a){return!1},i.getInitialInstanceProperties=function(e){return new t.MapStringPropertyDescriptor};var n=a.addObject("BitmapTextObject",e("Bitmap Text"),e('Displays a text using a "Bitmap Font" (an image representing characters). This is more performant than a traditional Text object and it allows for complete control on the characters aesthetic.'),"JsPlatform/Extensions/bitmapfont32.png",i).setIncludeFile("Extensions/BitmapText/bitmaptextruntimeobject.js").addIncludeFile("Extensions/BitmapText/bitmaptextruntimeobject-pixi-renderer.js").setCategoryFullName(e("Text")).addDefaultBehavior("TextContainerCapability::TextContainerBehavior").addDefaultBehavior("EffectCapability::EffectBehavior").addDefaultBehavior("OpacityCapability::OpacityBehavior").addDefaultBehavior("ScalableCapability::ScalableBehavior");return n.addExpressionAndConditionAndAction("string","Text",e("Text"),e("the text"),e("the text"),"","res/conditions/text24_black.png").setHidden().addParameter("object",e("Bitmap text"),"BitmapTextObject",!1).useStandardParameters("string",t.ParameterOptions.makeNewOptions()).setFunctionName("setText").setGetter("getText"),n.addStrExpression("Text",e("Text"),e("Return the text."),"","res/conditions/text24_black.png").addParameter("object",e("Bitmap text"),"BitmapTextObject",!1).setFunctionName("getText"),n.addExpressionAndConditionAndAction("number","Opacity",e("Opacity"),e("the opacity, between 0 (fully transparent) and 255 (opaque)"),e("the opacity"),"","res/conditions/opacity24.png").addParameter("object",e("Bitmap text"),"BitmapTextObject",!1).useStandardParameters("number",t.ParameterOptions.makeNewOptions().setDescription(e("Opacity (0-255)"))).setFunctionName("setOpacity").setGetter("getOpacity").setHidden(),n.addExpressionAndCondition("number","FontSize",e("Font size"),e("the font size, defined in the Bitmap Font"),e("the font size"),"","res/conditions/characterSize24.png").addParameter("object",e("Bitmap text"),"BitmapTextObject",!1).useStandardParameters("number",t.ParameterOptions.makeNewOptions()).setFunctionName("getFontSize"),n.addExpressionAndConditionAndAction("number","Scale",e("Scale"),e("the scale (1 by default)"),e("the scale"),"","res/actions/scale24_black.png").addParameter("object",e("Bitmap text"),"BitmapTextObject",!1).useStandardParameters("number",t.ParameterOptions.makeNewOptions().setDescription(e("Scale (1 by default)"))).setHidden().setFunctionName("setScale").setGetter("getScale"),n.addExpressionAndCondition("string","FontName",e("Font name"),e("the font name (defined in the Bitmap font)"),e("the font name"),"","res/conditions/font24.png").addParameter("object",e("Bitmap text"),"BitmapTextObject",!1).useStandardParameters("string",t.ParameterOptions.makeNewOptions()).setFunctionName("getFontName"),n.addAction("SetTint",e("Tint"),e("Set the tint of the Bitmap Text object."),e("Set tint of _PARAM0_ to _PARAM1_"),"","res/actions/color24.png","res/actions/color.png").addParameter("object",e("Bitmap text"),"BitmapTextObject",!1).addParameter("color",e("Color"),"",!1).getCodeExtraInformation().setFunctionName("setTint"),n.addAction("SetBitmapFontAndTextureAtlasResourceName",e("Bitmap files resources"),e("Change the Bitmap Font and/or the atlas image used by the object."),e("Set the bitmap font of _PARAM0_ to _PARAM1_ and the atlas to _PARAM2_"),"","res/actions/font24.png","res/actions/font.png").setHidden().addParameter("object",e("Bitmap text"),"BitmapTextObject",!1).addParameter("bitmapFontResource",e("Bitmap font resource name"),"",!1).setParameterLongDescription("The resource name of the font file, without quotes.").addParameter("string",e("Texture atlas resource name"),"",!1).setParameterLongDescription("The resource name of the image exported with the font, with quotes.").getCodeExtraInformation().setFunctionName("setBitmapFontAndTextureAtlasResourceName"),n.addAction("SetBitmapFontAndTextureAtlasResourceName2",e("Bitmap files resources"),e("Change the Bitmap Font and/or the atlas image used by the object."),e("Set the bitmap font of _PARAM0_ to _PARAM1_ and the atlas to _PARAM2_"),"","res/actions/font24.png","res/actions/font.png").addParameter("object",e("Bitmap text"),"BitmapTextObject",!1).addParameter("bitmapFontResource",e("Bitmap font resource name"),"",!1).addParameter("imageResource",e("Texture atlas resource name"),"",!1).getCodeExtraInformation().setFunctionName("setBitmapFontAndTextureAtlasResourceName"),n.addExpressionAndCondition("string","Alignment",e("Alignment"),e("the text alignment"),e("the text alignment"),"","res/actions/textAlign24.png").addParameter("object",e("Bitmap text"),"BitmapTextObject",!1).useStandardParameters("string",t.ParameterOptions.makeNewOptions().setDescription(e('Alignment ("left", "right" or "center")'))).setFunctionName("getTextAlignment"),n.addAction("SetAlignment",e("Alignment"),e("Change the alignment of a Bitmap text object."),e("Set the alignment of _PARAM0_ to _PARAM1_"),"","res/actions/textAlign24.png","res/actions/textAlign.png").addParameter("object",e("Bitmap text"),"BitmapTextObject",!1).addParameter("stringWithSelector",e("Alignment"),'["left", "center", "right"]',!1).getCodeExtraInformation().setFunctionName("setTextAlignment"),n.addCondition("WordWrap",e("Word wrapping"),e("Check if word wrapping is enabled."),e("_PARAM0_ word wrapping is enabled"),"","res/conditions/wordWrap24_black.png","res/conditions/wordWrap_black.png").addParameter("object",e("Bitmap text"),"BitmapTextObject",!1).getCodeExtraInformation().setFunctionName("isWrapping"),n.addAction("SetWordWrap",e("Word wrapping"),e("De/activate word wrapping."),e("Activate word wrapping of _PARAM0_: _PARAM1_"),"","res/actions/wordWrap24_black.png","res/actions/wordWrap_black.png").addParameter("object",e("Bitmap text"),"BitmapTextObject",!1).addParameter("yesorno",e("Activate word wrapping"),"",!1).getCodeExtraInformation().setFunctionName("setWrapping"),n.addExpressionAndConditionAndAction("number","WrappingWidth",e("Wrapping width"),e("the width, in pixels, after which the text is wrapped on next line"),e("the wrapping width"),"","res/actions/scaleWidth24_black.png").addParameter("object",e("Bitmap text"),"BitmapTextObject",!1).useStandardParameters("number",t.ParameterOptions.makeNewOptions()).setFunctionName("setWrappingWidth").setGetter("getWrappingWidth"),a},runExtensionSanityTests:function(e,t){return[]},registerEditorConfigurations:function(e){e.registerEditorConfiguration("BitmapText::BitmapTextObject",e.getDefaultObjectJsImplementationPropertiesEditor({helpPagePath:"/objects/bitmap_text"}))},registerInstanceRenderers:function(e){var t=e.RenderedInstance,a=e.PIXI,o=null,l="GD-DEFAULT-BITMAP-FONT",d={},c=function(e,t){var i=e.font;return e.font=t,a.BitmapFont.available[t]=e,delete a.BitmapFont.available[i],a.BitmapFont.available[t]},u=function(){if(o)return o;var e=new a.TextStyle({fontFamily:"Arial",fontSize:20,padding:5,align:"left",fill:"#ffffff",wordWrap:!0,lineHeight:20});return o=c(a.BitmapFont.from(e.fontFamily,e,{chars:[[" ","~"]]}),l)},h=function(e){e!==l&&(d[e]?(d[e]--,0===d[e]&&(a.BitmapFont.uninstall(e),console.info('Uninstalled BitmapFont "'+e+'" from memory.'))):console.error("BitmapFont with name "+e+" was tried to be released but was never marked as used."))},f=function(o){"use strict";r(f,o);var l=s(f);function f(e,t,n,r,s,o){var d;return i(this,f),(d=l.call(this,e,t,n,r,s,o))._currentBitmapFontResourceName="",d._currentTextureAtlasResourceName="",d._pixiObject=new a.BitmapText("",{fontName:u().font}),d._pixiObject.anchor.x=.5,d._pixiObject.anchor.y=.5,d._pixiContainer.addChild(d._pixiObject),d.update(),d}return n(f,[{key:"update",value:function(){var i=this,n=gd.castObject(this._associatedObjectConfiguration,gd.ObjectJsImplementation),r=this.getPropertyOverridings();this._pixiObject.text=r&&r.has("Text")?r.get("Text"):n.content.text;var s=n.content.align;this._pixiObject.align=s;var o=n.content.tint;this._pixiObject.tint=e.rgbOrHexToHexNumber(o);var l=n.content.scale;this._pixiObject.scale.set(l);var f=n.content.bitmapFontResourceName,p=n.content.textureAtlasResourceName;this._currentBitmapFontResourceName===f&&this._currentTextureAtlasResourceName===p||(h(this._pixiObject.fontName),this._pixiObject.fontName=u().font,this._currentBitmapFontResourceName=f,this._currentTextureAtlasResourceName=p,function(e,t,i,n){var r=i+"@"+n;if(a.BitmapFont.available[r])return d[r]=(d[r]||0)+1,Promise.resolve(a.BitmapFont.available[r]);var s=e.getPIXITexture(t,n),o=function(){return e.getBitmapFontData(t,i).then((function(e){if(!s.valid)throw new Error("Tried to install a BitmapFont with an invalid texture.");var t=c(a.BitmapFont.install(e,s),r);return d[r]=(d[r]||0)+1,t})).catch((function(e){return console.warn("Unable to load font data:",e),console.info("Is the texture atlas properly set for the Bitmap Text object? The default font will be used instead."),u()}))};return s.valid?o():new Promise((function(e){s.once("update",(function(){e(o())}))}))}(this._pixiResourcesLoader,this._project,this._currentBitmapFontResourceName,this._currentTextureAtlasResourceName).then((function(e){i._wasDestroyed||(i._pixiObject.fontName=e.font,i._pixiObject.fontSize=e.size,i._pixiObject.dirty=!0)})));var m=this._pixiObject.maxWidth;if(this._pixiObject.maxWidth=this._instance.hasCustomSize()?this.getCustomWidth()/this._pixiObject.scale.x:0,m!==this._pixiObject.maxWidth&&(this._pixiObject.dirty=!0),this._instance.hasCustomSize()&&0!==this.getDefaultWidth()){var g="right"===n.content.align?1:"center"===n.content.align?.5:0,v=this.getCustomWidth(),b=this.getDefaultWidth(),y=(v-b)*(g-.5);this._pixiObject.position.x=this._instance.getX()+v/2,this._pixiObject.anchor.x=.5-y/b}else this._pixiObject.position.x=this._instance.getX()+this.getDefaultWidth()/2,this._pixiObject.anchor.x=.5;var x="bottom"===n.content.verticalTextAlignment?1:"center"===n.content.verticalTextAlignment?.5:0;this._pixiObject.position.y=this._instance.getY()+this.getDefaultHeight()*(.5-x),this._pixiObject.anchor.y=.5,this._pixiObject.rotation=t.toRad(this._instance.getAngle());var _=Math.max(this._instance.getOpacity()/255,.5);this._pixiObject.alpha=_}},{key:"onRemovedFromScene",value:function(){t.prototype.onRemovedFromScene.call(this);var e=this._pixiObject.fontName;this._pixiObject.destroy(),h(e)}},{key:"getDefaultWidth",value:function(){return this._pixiObject.textWidth*this._pixiObject.scale.x}},{key:"getDefaultHeight",value:function(){return this._pixiObject.textHeight*this._pixiObject.scale.y}},{key:"getOriginY",value:function(){var e=gd.castObject(this._associatedObjectConfiguration,gd.ObjectJsImplementation),t=this.getHeight();return"bottom"===e.content.verticalTextAlignment?t:"center"===e.content.verticalTextAlignment?t/2:0}}],[{key:"getThumbnail",value:function(e,t,a){return"JsPlatform/Extensions/bitmapfont24.png"}}]),f}(t);e.registerInstanceRenderer("BitmapText::BitmapTextObject",f)}}},37515:function(e){e.exports={createExtension:function(e,t){var a=new t.PlatformExtension;return a.setExtensionInformation("DebuggerTools",e("Debugger Tools"),e("Allow to interact with the editor debugger from the game (notably: enable 2D debug draw, log a message in the debugger console)."),"Arthur Pacaud (arthuro555), Aur\xe9lien Vivet (Bouh)","MIT").setCategory("Advanced"),a.addInstructionOrExpressionGroupMetadata(e("Debugger Tools")).setIcon("res/actions/bug32.png"),a.addAction("Pause",e("Pause game execution"),e("This pauses the game, useful for inspecting the game state through the debugger. Note that events will be still executed until the end before the game is paused."),e("Pause game execution"),"","res/actions/bug32.png","res/actions/bug32.png").addCodeOnlyParameter("currentScene","").getCodeExtraInformation().setIncludeFile("Extensions/DebuggerTools/debuggertools.js").setFunctionName("gdjs.evtTools.debuggerTools.pause"),a.addAction("EnableDebugDraw",e("Draw collisions hitboxes and points"),e("This activates the display of rectangles and information on screen showing the objects bounding boxes (blue), the hitboxes (red) and some points of objects."),e("Enable debugging view of bounding boxes/collision masks: _PARAM1_ (include invisible objects: _PARAM2_, point names: _PARAM3_, custom points: _PARAM4_)"),"","res/actions/planicon24.png","res/actions/planicon.png").addCodeOnlyParameter("currentScene","").addParameter("yesorno",e("Enable debug draw"),"",!0).setDefaultValue("yes").addParameter("yesorno",e("Show collisions for hidden objects"),"",!0).setDefaultValue("no").addParameter("yesorno",e("Show points names"),"",!0).setDefaultValue("yes").addParameter("yesorno",e("Show custom points"),"",!0).setDefaultValue("yes").getCodeExtraInformation().setIncludeFile("Extensions/DebuggerTools/debuggertools.js").setFunctionName("gdjs.evtTools.debuggerTools.enableDebugDraw"),a.addAction("ConsoleLog",e("Log a message to the console"),e("Logs a message to the debugger's console."),e("Log message _PARAM0_ of type _PARAM1_ to the console in group _PARAM2_"),"","res/actions/bug32.png","res/actions/bug32.png").addParameter("string","Message to log","",!1).addParameter("stringWithSelector","Message type",'["info", "warning", "error"]',!0).addParameter("string","Group of messages","",!0).getCodeExtraInformation().setIncludeFile("Extensions/DebuggerTools/debuggertools.js").setFunctionName("gdjs.evtTools.debuggerTools.log"),a},runExtensionSanityTests:function(e,t){return[]}}},89493:function(e){e.exports={createExtension:function(e,t){var a=new t.PlatformExtension;return a.setExtensionInformation("DeviceSensors",e("Device sensors"),e("Allow the game to access the sensors of a mobile device."),"Matthias Meike","Open source (MIT License)").setExtensionHelpPath("/all-features/device-sensors").setCategory("Input"),a.addInstructionOrExpressionGroupMetadata(e("Device sensors")).setIcon("JsPlatform/Extensions/orientation_active32.png"),a.addCondition("OrientationSensorActive",e("Sensor active"),e("The condition is true if the device orientation sensor is currently active"),e("Orientation sensor is active"),e("Orientation"),"JsPlatform/Extensions/orientation_active32.png","JsPlatform/Extensions/orientation_active32.png").getCodeExtraInformation().setIncludeFile("Extensions/DeviceSensors/devicesensortools.js").setFunctionName("gdjs.deviceSensors.orientation.isActive"),a.addCondition("OrientationAlpha",e("Compare the value of orientation alpha"),e("Compare the value of orientation alpha. (Range: 0 to 360\xb0)"),e("the orientation alpha"),e("Orientation"),"JsPlatform/Extensions/orientation_alpha32.png","JsPlatform/Extensions/orientation_alpha32.png").addParameter("relationalOperator",e("Sign of the test"),"number").addParameter("expression",e("Value")).getCodeExtraInformation().setIncludeFile("Extensions/DeviceSensors/devicesensortools.js").setFunctionName("gdjs.deviceSensors.orientation.getOrientationAlpha"),a.addCondition("OrientationBeta",e("Compare the value of orientation beta"),e("Compare the value of orientation beta. (Range: -180 to 180\xb0)"),e("the orientation beta"),e("Orientation"),"JsPlatform/Extensions/orientation_beta32.png","JsPlatform/Extensions/orientation_beta32.png").addParameter("relationalOperator",e("Sign of the test"),"number").addParameter("expression",e("Value")).getCodeExtraInformation().setIncludeFile("Extensions/DeviceSensors/devicesensortools.js").setFunctionName("gdjs.deviceSensors.orientation.getOrientationBeta"),a.addCondition("OrientationGamma",e("Compare the value of orientation gamma"),e("Compare the value of orientation gamma. (Range: -90 to 90\xb0)"),e("the orientation gamma"),e("Orientation"),"JsPlatform/Extensions/orientation_gamma32.png","JsPlatform/Extensions/orientation_gamma32.png").addParameter("relationalOperator",e("Sign of the test"),"number").addParameter("expression",e("Value")).getCodeExtraInformation().setIncludeFile("Extensions/DeviceSensors/devicesensortools.js").setFunctionName("gdjs.deviceSensors.orientation.getOrientationGamma"),a.addAction("ActivateOrientationListener",e("Activate orientation sensor"),e("Activate the orientation sensor. (remember to turn it off again)"),e("Activate the orientation sensor."),e("Orientation"),"JsPlatform/Extensions/orientation_active32.png","JsPlatform/Extensions/orientation_active32.png").getCodeExtraInformation().setIncludeFile("Extensions/DeviceSensors/devicesensortools.js").setFunctionName("gdjs.deviceSensors.orientation.activateOrientationSensor"),a.addAction("DeactivateOrientationListener",e("Deactivate orientation sensor"),e("Deactivate the orientation sensor."),e("Deactivate the orientation sensor."),e("Orientation"),"JsPlatform/Extensions/orientation_inactive32.png","JsPlatform/Extensions/orientation_inactive32.png").getCodeExtraInformation().setIncludeFile("Extensions/DeviceSensors/devicesensortools.js").setFunctionName("gdjs.deviceSensors.orientation.deactivateOrientationSensor"),a.addExpression("OrientationAbsolute",e("Is Absolute"),e("Get if the devices orientation is absolute and not relative"),e("Orientation"),"JsPlatform/Extensions/orientation_absolute16.png").getCodeExtraInformation().setIncludeFile("Extensions/DeviceSensors/devicesensortools.js").setFunctionName("gdjs.deviceSensors.orientation.getOrientationAbsolute"),a.addExpression("OrientationAlpha",e("Alpha value"),e("Get the devices orientation Alpha (compass)"),e("Orientation"),"JsPlatform/Extensions/orientation_alpha16.png").getCodeExtraInformation().setIncludeFile("Extensions/DeviceSensors/devicesensortools.js").setFunctionName("gdjs.deviceSensors.orientation.getOrientationAlpha"),a.addExpression("OrientationBeta",e("Beta value"),e("Get the devices orientation Beta"),e("Orientation"),"JsPlatform/Extensions/orientation_beta16.png").getCodeExtraInformation().setIncludeFile("Extensions/DeviceSensors/devicesensortools.js").setFunctionName("gdjs.deviceSensors.orientation.getOrientationBeta"),a.addExpression("OrientationGamma",e("Gamma value"),e("Get the devices orientation Gamma value"),e("Orientation"),"JsPlatform/Extensions/orientation_gamma16.png").getCodeExtraInformation().setIncludeFile("Extensions/DeviceSensors/devicesensortools.js").setFunctionName("gdjs.deviceSensors.orientation.getOrientationGamma"),a.addCondition("MotionSensorActive",e("Sensor active"),e("The condition is true if the device motion sensor is currently active"),e("Motion sensor is active"),e("Motion"),"JsPlatform/Extensions/motion_active32.png","JsPlatform/Extensions/motion_active32.png").getCodeExtraInformation().setIncludeFile("Extensions/DeviceSensors/devicesensortools.js").setFunctionName("gdjs.deviceSensors.motion.isActive"),a.addCondition("RotationAlpha",e("Compare the value of rotation alpha"),e("Compare the value of rotation alpha. (Note: few devices support this sensor)"),e("the rotation alpha"),e("Motion"),"JsPlatform/Extensions/motion_rotation_alpha32.png","JsPlatform/Extensions/motion_rotation_alpha32.png").addParameter("relationalOperator",e("Sign of the test"),"number").addParameter("expression",e("Value (m/s\xb2)")).getCodeExtraInformation().setIncludeFile("Extensions/DeviceSensors/devicesensortools.js").setFunctionName("gdjs.deviceSensors.motion.getRotationAlpha"),a.addCondition("RotationBeta",e("Compare the value of rotation beta"),e("Compare the value of rotation beta. (Note: few devices support this sensor)"),e("the rotation beta"),e("Motion"),"JsPlatform/Extensions/motion_rotation_beta32.png","JsPlatform/Extensions/motion_rotation_beta32.png").addParameter("relationalOperator",e("Sign of the test"),"number").addParameter("expression",e("Value (m/s\xb2)")).getCodeExtraInformation().setIncludeFile("Extensions/DeviceSensors/devicesensortools.js").setFunctionName("gdjs.deviceSensors.motion.getRotationBeta"),a.addCondition("RotationGamma",e("Compare the value of rotation gamma"),e("Compare the value of rotation gamma. (Note: few devices support this sensor)"),e("the rotation gamma"),e("Motion"),"JsPlatform/Extensions/motion_rotation_gamma32.png","JsPlatform/Extensions/motion_rotation_gamma32.png").addParameter("relationalOperator",e("Sign of the test"),"number").addParameter("expression",e("Value (m/s\xb2)")).getCodeExtraInformation().setIncludeFile("Extensions/DeviceSensors/devicesensortools.js").setFunctionName("gdjs.deviceSensors.motion.getRotationGamma"),a.addCondition("AccelerationX",e("Compare the value of acceleration on X-axis"),e("Compare the value of acceleration on the X-axis (m/s\xb2)."),e("the acceleration X"),e("Motion"),"JsPlatform/Extensions/motion_acceleration_x32.png","JsPlatform/Extensions/motion_acceleration_x32.png").addParameter("relationalOperator",e("Sign of the test"),"number").addParameter("expression",e("Value (m/s\xb2)")).getCodeExtraInformation().setIncludeFile("Extensions/DeviceSensors/devicesensortools.js").setFunctionName("gdjs.deviceSensors.motion.getAccelerationX"),a.addCondition("AccelerationY",e("Compare the value of acceleration on Y-axis"),e("Compare the value of acceleration on the Y-axis (m/s\xb2)."),e("the acceleration Y"),e("Motion"),"JsPlatform/Extensions/motion_acceleration_y32.png","JsPlatform/Extensions/motion_acceleration_y32.png").addParameter("relationalOperator",e("Sign of the test"),"number").addParameter("expression",e("Value (m/s\xb2)")).getCodeExtraInformation().setIncludeFile("Extensions/DeviceSensors/devicesensortools.js").setFunctionName("gdjs.deviceSensors.motion.getAccelerationY"),a.addCondition("AccelerationZ",e("Compare the value of acceleration on Z-axis"),e("Compare the value of acceleration on the Z-axis (m/s\xb2)."),e("the acceleration Z"),e("Motion"),"JsPlatform/Extensions/motion_acceleration_z32.png","JsPlatform/Extensions/motion_acceleration_z32.png").addParameter("relationalOperator",e("Sign of the test"),"number").addParameter("expression",e("Value (m/s\xb2)")).getCodeExtraInformation().setIncludeFile("Extensions/DeviceSensors/devicesensortools.js").setFunctionName("gdjs.deviceSensors.motion.getAccelerationZ"),a.addAction("ActivateMotionListener",e("Activate motion sensor"),e("Activate the motion sensor. (remember to turn it off again)"),e("Activate the motion sensor."),e("Motion"),"JsPlatform/Extensions/motion_active32.png","JsPlatform/Extensions/motion_active32.png").getCodeExtraInformation().setIncludeFile("Extensions/DeviceSensors/devicesensortools.js").setFunctionName("gdjs.deviceSensors.motion.activateMotionSensor"),a.addAction("DeactivateMotionListener",e("Deactivate motion sensor"),e("Deactivate the motion sensor."),e("Deactivate the motion sensor."),e("Motion"),"JsPlatform/Extensions/motion_inactive32.png","JsPlatform/Extensions/motion_inactive32.png").getCodeExtraInformation().setIncludeFile("Extensions/DeviceSensors/devicesensortools.js").setFunctionName("gdjs.deviceSensors.motion.deactivateMotionSensor"),a.addExpression("RotationAlpha",e("Alpha value"),e("Get the devices rotation Alpha"),e("Motion"),"JsPlatform/Extensions/motion_rotation_alpha16.png").getCodeExtraInformation().setIncludeFile("Extensions/DeviceSensors/devicesensortools.js").setFunctionName("gdjs.deviceSensors.motion.getRotationAlpha"),a.addExpression("RotationBeta",e("Beta value"),e("Get the devices rotation Beta"),e("Motion"),"JsPlatform/Extensions/motion_rotation_beta16.png").getCodeExtraInformation().setIncludeFile("Extensions/DeviceSensors/devicesensortools.js").setFunctionName("gdjs.deviceSensors.motion.getRotationBeta"),a.addExpression("RotationGamma",e("Gamma value"),e("Get the devices rotation Gamma"),e("Motion"),"JsPlatform/Extensions/motion_rotation_gamma16.png").getCodeExtraInformation().setIncludeFile("Extensions/DeviceSensors/devicesensortools.js").setFunctionName("gdjs.deviceSensors.motion.getRotationGamma"),a.addExpression("AccelerationX",e("Acceleration X value"),e("Get the devices acceleration on the X-axis (m/s\xb2)"),e("Motion"),"JsPlatform/Extensions/motion_acceleration_x16.png").getCodeExtraInformation().setIncludeFile("Extensions/DeviceSensors/devicesensortools.js").setFunctionName("gdjs.deviceSensors.motion.getAccelerationX"),a.addExpression("AccelerationY",e("Acceleration Y value"),e("Get the devices acceleration on the Y-axis (m/s\xb2)"),e("Motion"),"JsPlatform/Extensions/motion_acceleration_y16.png").getCodeExtraInformation().setIncludeFile("Extensions/DeviceSensors/devicesensortools.js").setFunctionName("gdjs.deviceSensors.motion.getAccelerationY"),a.addExpression("AccelerationZ",e("Acceleration Z value"),e("Get the devices acceleration on the Z-axis (m/s\xb2)"),e("Motion"),"JsPlatform/Extensions/motion_acceleration_z16.png").getCodeExtraInformation().setIncludeFile("Extensions/DeviceSensors/devicesensortools.js").setFunctionName("gdjs.deviceSensors.motion.getAccelerationZ"),a},runExtensionSanityTests:function(e,t){return[]}}},27272:function(e){e.exports={createExtension:function(e,t){var a=new t.PlatformExtension;return a.setExtensionInformation("DeviceVibration",e("Device vibration"),"This allows to trigger vibrations on mobile devices.","Matthias Meike","Open source (MIT License)").setExtensionHelpPath("/all-features/device-vibration").setCategory("User interface"),a.addInstructionOrExpressionGroupMetadata(e("Device vibration")).setIcon("JsPlatform/Extensions/vibration_start32.png"),a.addDependency().setName("Vibration Cordova Extension").setDependencyType("cordova").setExportName("cordova-plugin-vibration").setVersion("3.1.1"),a.addAction("StartVibration",e("Vibrate"),e("Vibrate (Duration in ms)."),e("Start vibration for _PARAM0_ ms"),"","JsPlatform/Extensions/vibration_start32.png","JsPlatform/Extensions/vibration_start32.png").addParameter("expression",e("Duration"),"",!1).getCodeExtraInformation().setIncludeFile("Extensions/DeviceVibration/devicevibrationtools.js").setFunctionName("gdjs.deviceVibration.startVibration"),a.addAction("StartVibrationPattern",e("Vibrate by pattern"),e("Vibrate (Duration in ms). You can add multiple comma-separated values where every second value determines the period of silence between two vibrations. This is a string value so use quotes."),e("Start vibration for _PARAM0_ ms"),"","JsPlatform/Extensions/vibration_pattern_start32.png","JsPlatform/Extensions/vibration_pattern_start32.png").addParameter("string",e('Intervals (for example "500,100,200"'),"",!1).getCodeExtraInformation().setIncludeFile("Extensions/DeviceVibration/devicevibrationtools.js").setFunctionName("gdjs.deviceVibration.startVibrationPattern"),a.addAction("StopVibration",e("Stop vibration"),e("Stop the vibration"),e("Stop vibration"),"","JsPlatform/Extensions/vibration_stop32.png","JsPlatform/Extensions/vibration_stop32.png").getCodeExtraInformation().setIncludeFile("Extensions/DeviceVibration/devicevibrationtools.js").setFunctionName("gdjs.deviceVibration.stopVibration"),a},runExtensionSanityTests:function(e,t){return[]}}},99548:function(e){e.exports={createExtension:function(e,t){var a=new t.PlatformExtension;return a.setExtensionInformation("DialogueTree",e("Dialogue Tree"),"Handle dialogue trees, made using Yarn Spinner. Useful to make complex dialogues with multiple choices. The Yarn Spinner editor is embedded in GDevelop so you can edit your dialogues without leaving GDevelop.","Todor Imreorov","Open source (MIT License)").setExtensionHelpPath("/all-features/dialogue-tree").setCategory("Game mechanic"),a.addInstructionOrExpressionGroupMetadata(e("Dialogue Tree")).setIcon("JsPlatform/Extensions/yarn32.png"),a.addAction("LoadDialogueFromSceneVariable",e("Load dialogue tree from a scene variable"),e("Load a dialogue data object - Yarn JSON format, stored in a scene variable. Use this command to load all the Dialogue data at the beginning of the game."),e("Load dialogue data from scene variable _PARAM0_"),"","JsPlatform/Extensions/yarn32.png","JsPlatform/Extensions/yarn32.png").addParameter("scenevar",e("Scene variable that holds the Yarn JSON data"),"",!1).getCodeExtraInformation().setIncludeFile("Extensions/DialogueTree/dialoguetools.js").addIncludeFile("Extensions/DialogueTree/bondage.js/dist/bondage.min.js").setFunctionName("gdjs.dialogueTree.loadFromSceneVariable"),a.addAction("LoadDialogueFromJsonFile",e("Load dialogue tree from a JSON file"),e("Load a dialogue data object - Yarn JSON format, stored in a JSON file. Use this command to load all the Dialogue data at the beginning of the game."),e("Load dialogue data from JSON file _PARAM1_"),"","JsPlatform/Extensions/yarn32.png","JsPlatform/Extensions/yarn32.png").addCodeOnlyParameter("currentScene","").addParameter("jsonResource",e("JSON file that holds the Yarn JSON data"),"",!1).getCodeExtraInformation().setIncludeFile("Extensions/DialogueTree/dialoguetools.js").addIncludeFile("Extensions/DialogueTree/bondage.js/dist/bondage.min.js").setFunctionName("gdjs.dialogueTree.loadFromJsonFile"),a.addAction("StartDialogueFromBranch",e("Start dialogue from branch"),e("Start dialogue from branch. Use this to initiate the dialogue from a specified branch."),e("Start dialogue from branch _PARAM0_"),"","JsPlatform/Extensions/yarn32.png","JsPlatform/Extensions/yarn32.png").addParameter("string",e("Dialogue branch"),"",!1).getCodeExtraInformation().setFunctionName("gdjs.dialogueTree.startFrom"),a.addAction("StopRunningDialogue",e("Stop running dialogue"),e("Stop the running dialogue. Use this to interrupt dialogue parsing."),e("Stop running dialogue"),"","JsPlatform/Extensions/yarn32.png","JsPlatform/Extensions/yarn32.png").getCodeExtraInformation().setFunctionName("gdjs.dialogueTree.stopRunningDialogue"),a.addAction("GoToNextLine",e("Go to the next dialogue line"),e("Go to the next dialogue line. Use this to advance to the next dialogue line when the player presses a button."),e("Go to the next dialogue line"),"","JsPlatform/Extensions/yarn32.png","JsPlatform/Extensions/yarn32.png").getCodeExtraInformation().setFunctionName("gdjs.dialogueTree.goToNextDialogueLine"),a.addAction("ConfirmSelectOption",e("Confirm selected option"),e('Set the selected option as confirmed, which will validate it and go forward to the next node. Use other actions to select options (see "select next option" and "Select previous option").'),e("Confirm selected option"),"","JsPlatform/Extensions/yarn32.png","JsPlatform/Extensions/yarn32.png").getCodeExtraInformation().setFunctionName("gdjs.dialogueTree.confirmSelectOption"),a.addAction("SelectNextOption",e("Select next option"),e('Select next option (add 1 to selected option number). Use this when the dialogue line is of type "options" and the player has pressed a button to change selected option.'),e("Select next option"),"","JsPlatform/Extensions/yarn32.png","JsPlatform/Extensions/yarn32.png").getCodeExtraInformation().setFunctionName("gdjs.dialogueTree.selectNextOption"),a.addAction("SelectPreviousOption",e("Select previous option"),e('Select previous option (subtract 1 from selected option number). Use this when the dialogue line is of type "options" and the player has pressed a button to change selected option.'),e("Select previous option"),"","JsPlatform/Extensions/yarn32.png","JsPlatform/Extensions/yarn32.png").getCodeExtraInformation().setFunctionName("gdjs.dialogueTree.selectPreviousOption"),a.addAction("SelectOption",e("Select option by number"),e('Select option by number. Use this when the dialogue line is of type "options" and the player has pressed a button to change selected option.'),e("Select option at index _PARAM0_"),"","JsPlatform/Extensions/yarn32.png","JsPlatform/Extensions/yarn32.png").addParameter("expression",e("Option index number"),"",!1).getCodeExtraInformation().setFunctionName("gdjs.dialogueTree.selectOption"),a.addAction("ScrollClippedText",e("Scroll clipped text"),e('Scroll clipped text. Use this with a timer and "get clipped text" when you want to create a typewriter effect. Every time the action runs, a new character appears from the text.'),e("Scroll clipped text"),"","JsPlatform/Extensions/yarn32.png","JsPlatform/Extensions/yarn32.png").getCodeExtraInformation().setFunctionName("gdjs.dialogueTree.scrollClippedText"),a.addAction("CompleteClippedTextScrolling",e("Complete clipped text scrolling"),e("Complete the clipped text scrolling. Use this action whenever you want to skip scrolling."),e("Complete clipped text scrolling"),"","JsPlatform/Extensions/yarn32.png","JsPlatform/Extensions/yarn32.png").getCodeExtraInformation().setFunctionName("gdjs.dialogueTree.completeClippedTextScrolling"),a.addAction("SetStringVariable",e("Set dialogue state string variable"),e("Set dialogue state string variable. Use this to set a variable that the dialogue data is using."),e("Set dialogue state string variable _PARAM0_ to _PARAM1_"),"","JsPlatform/Extensions/yarn32.png","JsPlatform/Extensions/yarn32.png").addParameter("string",e("State variable name"),"",!1).addParameter("string",e("New value"),"",!1).getCodeExtraInformation().setFunctionName("gdjs.dialogueTree.setVariable"),a.addAction("SetNumberVariable",e("Set dialogue state number variable"),e("Set dialogue state number variable. Use this to set a variable that the dialogue data is using."),e("Set dialogue state number variable _PARAM0_ to _PARAM1_"),"","JsPlatform/Extensions/yarn32.png","JsPlatform/Extensions/yarn32.png").addParameter("string",e("State variable name"),"",!1).addParameter("expression",e("New value"),"",!0).getCodeExtraInformation().setFunctionName("gdjs.dialogueTree.setVariable"),a.addAction("SetBooleanVariable",e("Set dialogue state boolean variable"),e("Set dialogue state boolean variable. Use this to set a variable that the dialogue data is using."),e("Set dialogue state boolean variable _PARAM0_ to _PARAM1_"),"","JsPlatform/Extensions/yarn32.png","JsPlatform/Extensions/yarn32.png").addParameter("string",e("State variable name"),"",!1).addParameter("trueorfalse",e("New value"),"",!1).getCodeExtraInformation().setFunctionName("gdjs.dialogueTree.setVariable"),a.addAction("SaveState",e("Save dialogue state"),e("Save dialogue state. Use this to store the dialogue state into a variable, which can later be used for saving the game. That way player choices can become part of the game save."),e("Save dialogue state to _PARAM0_"),"","JsPlatform/Extensions/yarn32.png","JsPlatform/Extensions/yarn32.png").addParameter("globalvar",e("Global Variable")).getCodeExtraInformation().setFunctionName("gdjs.dialogueTree.saveState"),a.addAction("LoadState",e("Load dialogue state"),e('Load dialogue state. Use this to restore dialogue state, if you have stored in a variable before with the "Save state" action.'),e("Load dialogue state from _PARAM0_"),"","JsPlatform/Extensions/yarn32.png","JsPlatform/Extensions/yarn32.png").addParameter("globalvar",e("Global Variable"),"",!1).getCodeExtraInformation().setFunctionName("gdjs.dialogueTree.loadState"),a.addAction("ClearState",e("Clear dialogue state"),e("Clear dialogue state. This resets all dialogue state accumulated by the player choices. Useful when the player is starting a new game."),e("Clear dialogue state"),"","JsPlatform/Extensions/yarn32.png","JsPlatform/Extensions/yarn32.png").getCodeExtraInformation().setFunctionName("gdjs.dialogueTree.clearState"),a.addStrExpression("LineText",e("Get the current dialogue line text"),e("Returns the current dialogue line text"),"","JsPlatform/Extensions/yarn32.png").getCodeExtraInformation().setFunctionName("gdjs.dialogueTree.getLineText"),a.addExpression("OptionsCount",e("Get the number of options in an options line type"),e("Get the number of options in an options line type"),"","JsPlatform/Extensions/yarn32.png").getCodeExtraInformation().setFunctionName("gdjs.dialogueTree.getLineOptionsCount"),a.addStrExpression("Option",e("Get the text of an option from an options line type"),e("Get the text of an option from an options line type, using the option's Number. The numbers start from 0."),"","JsPlatform/Extensions/yarn32.png").addParameter("expression",e("Option Index Number"),"",!1).getCodeExtraInformation().setFunctionName("gdjs.dialogueTree.getLineOption"),a.addStrExpression("HorizontalOptionsList",e("Get a Horizontal list of options from the options line type"),e("Get the text of all available options from an options line type as a horizontal list. You can also pass the selected option's cursor string, which by default is ->"),"","JsPlatform/Extensions/yarn32.png").addParameter("string",e("Options Selection Cursor"),"",!1).setDefaultValue(">").getCodeExtraInformation().setFunctionName("gdjs.dialogueTree.getLineOptionsTextHorizontal"),a.addStrExpression("VerticalOptionsList",e("Get a Vertical list of options from the options line type"),e("Get the text of all available options from an options line type as a vertical list. You can also pass the selected option's cursor string, which by default is ->"),"","JsPlatform/Extensions/yarn32.png").addParameter("string",e("Options Selection Cursor"),"",!1).setDefaultValue(">").getCodeExtraInformation().setFunctionName("gdjs.dialogueTree.getLineOptionsTextVertical"),a.addExpression("SelectedOptionIndex",e("Get the number of the currently selected option"),e("Get the number of the currently selected option. Use this to help you render the option selection marker at the right place."),"","JsPlatform/Extensions/yarn32.png").getCodeExtraInformation().setFunctionName("gdjs.dialogueTree.getSelectedOption"),a.addStrExpression("ClippedLineText",e("Get dialogue line text clipped"),e('Get dialogue line text clipped by the typewriter effect. Use the "Scroll clipped text" action to control the typewriter effect.'),"","JsPlatform/Extensions/yarn32.png").getCodeExtraInformation().setFunctionName("gdjs.dialogueTree.getClippedLineText"),a.addStrExpression("BranchTitle",e("Get the title of the current branch of the running dialogue"),e("Get the title of the current branch of the running dialogue"),"","JsPlatform/Extensions/yarn32.png").getCodeExtraInformation().setFunctionName("gdjs.dialogueTree.getBranchTitle"),a.addStrExpression("BranchTags",e("Get the tags of the current branch of the running dialogue"),e("Get the tags of the current branch of the running dialogue"),"","JsPlatform/Extensions/yarn32.png").getCodeExtraInformation().setFunctionName("gdjs.dialogueTree.getBranchTags"),a.addStrExpression("BranchTag",e("Get a tag of the current branch of the running dialogue via its index"),e("Get a tag of the current branch of the running dialogue via its index"),"","JsPlatform/Extensions/yarn32.png").addParameter("expression",e("Tag Index Number"),"",!1).getCodeExtraInformation().setFunctionName("gdjs.dialogueTree.getBranchTag"),a.addStrExpression("CommandParameter",e("Get the parameters of a command call"),e("Get the parameters of a command call - <<command withParameter anotherParameter>>"),"","JsPlatform/Extensions/yarn32.png").addParameter("expression",e("parameter Index Number"),"",!0).getCodeExtraInformation().setFunctionName("gdjs.dialogueTree.getCommandParameter"),a.addExpression("CommandParametersCount",e("Get the number of parameters in the currently passed command"),e("Get the number of parameters in the currently passed command"),"","JsPlatform/Extensions/yarn32.png").getCodeExtraInformation().setFunctionName("gdjs.dialogueTree.commandParametersCount"),a.addStrExpression("TagParameter",e("Get parameter from a Tag found by the branch contains tag condition"),e("Get parameter from a Tag found by the branch contains tag condition"),"","JsPlatform/Extensions/yarn32.png").addParameter("expression",e("parameter Index Number"),"",!0).getCodeExtraInformation().setFunctionName("gdjs.dialogueTree.getTagParameter"),a.addStrExpression("VisitedBranchTitles",e("Get a list of all visited branches"),e("Get a list of all visited branches"),"","JsPlatform/Extensions/yarn32.png").getCodeExtraInformation().setFunctionName("gdjs.dialogueTree.getVisitedBranchTitles"),a.addStrExpression("BranchText",e("Get the full raw text of the current branch"),e("Get the full raw text of the current branch"),"","JsPlatform/Extensions/yarn32.png").getCodeExtraInformation().setFunctionName("gdjs.dialogueTree.getBranchText"),a.addExpression("Variable",e("Get the number stored in a dialogue state variable"),e("Get the number stored in a dialogue state variable"),"","JsPlatform/Extensions/yarn32.png").addParameter("string",e("Dialogue state variable name"),"",!1).getCodeExtraInformation().setFunctionName("gdjs.dialogueTree.getVariableAsNumber"),a.addStrExpression("VariableString",e("Get the string stored in a dialogue state variable"),e("Get the string stored in a dialogue state variable"),"","JsPlatform/Extensions/yarn32.png").addParameter("string",e("Dialogue state variable name"),"",!1).getCodeExtraInformation().setFunctionName("gdjs.dialogueTree.getVariableAsString"),a.addCondition("IsCommandCalled",e("Command is called"),e("Check if a specific Command is called. If it is a <<command withParameter>>, you can even get the parameter with the CommandParameter expression."),e("Command <<_PARAM0_>> is called"),"","JsPlatform/Extensions/yarn32.png","JsPlatform/Extensions/yarn32.png").addParameter("string",e("Command String"),"",!1).getCodeExtraInformation().setFunctionName("gdjs.dialogueTree.isCommandCalled"),a.addCondition("IsDialogueLineType",e("Dialogue line type"),e("Check if the current dialogue line line is one of the three existing types. Use this to set what logic is executed for each type.\nThe three types are as follows:\n- text: when displaying dialogue text.\n- options: when displaying [[branching/options]] for dialogue choices.\n-command: when <<commands>> are triggered by the dialogue data."),e("The dialogue line is _PARAM0_"),"","JsPlatform/Extensions/yarn32.png","JsPlatform/Extensions/yarn32.png").addParameter("stringWithSelector",e("type"),'["text", "options", "command"]',!1).getCodeExtraInformation().setFunctionName("gdjs.dialogueTree.isDialogueLineType"),a.addCondition("IsDialogueRunning",e("Dialogue is running"),e("Check if the dialogue is running. Use this to for things like locking the player movement while speaking with a non player character."),e("Dialogue is running"),"","JsPlatform/Extensions/yarn32.png","JsPlatform/Extensions/yarn32.png").getCodeExtraInformation().setFunctionName("gdjs.dialogueTree.isRunning"),a.addCondition("HasBranch",e("Dialogue has branch"),e("Check if the dialogue has a branch with specified name. Use this to check if a dialogue branch exists in the loaded dialogue data."),e("Dialogue has a branch named _PARAM0_"),"","JsPlatform/Extensions/yarn32.png","JsPlatform/Extensions/yarn32.png").addParameter("string",e("Branch name"),"",!1).getCodeExtraInformation().setFunctionName("gdjs.dialogueTree.hasDialogueBranch"),a.addCondition("HasSelectedOptionChanged",e("Has selected option changed"),e("Check if a selected option has changed when the current dialogue line type is options. Use this to detect when the player has selected another option, so you can re-draw where the selection arrow is."),e("Selected option has changed"),"","JsPlatform/Extensions/yarn32.png","JsPlatform/Extensions/yarn32.png").getCodeExtraInformation().setFunctionName("gdjs.dialogueTree.hasSelectedOptionChanged"),a.addCondition("CurrentBranchTitle",e("Current dialogue branch title"),e("Check if the current dialogue branch title is equal to a string. Use this to trigger game events when the player has visited a specific dialogue branch."),e("The current dialogue branch title is _PARAM0_"),"","JsPlatform/Extensions/yarn32.png","JsPlatform/Extensions/yarn32.png").addParameter("string",e("title name"),"",!1).getCodeExtraInformation().setFunctionName("gdjs.dialogueTree.branchTitleIs"),a.addCondition("CurrentBranchContainsTag",e("Current dialogue branch contains a tag"),e("Check if the current dialogue branch contains a specific tag. Tags are an alternative useful way to <<commands>> to drive game logic with the dialogue data."),e("The current dialogue branch contains a _PARAM0_ tag"),"","JsPlatform/Extensions/yarn32.png","JsPlatform/Extensions/yarn32.png").addParameter("string",e("tag name"),"",!1).getCodeExtraInformation().setFunctionName("gdjs.dialogueTree.branchContainsTag"),a.addCondition("WasBranchVisited",e("Branch title has been visited"),e("Check if a branch has been visited"),e("Branch title _PARAM0_ has been visited"),"","JsPlatform/Extensions/yarn32.png","JsPlatform/Extensions/yarn32.png").addParameter("string",e("branch title"),"",!1).getCodeExtraInformation().setFunctionName("gdjs.dialogueTree.branchTitleHasBeenVisited"),a.addCondition("CompareDialogueStateStringVariable",e("Compare dialogue state string variable"),e("Compare dialogue state string variable. Use this to trigger game events via dialogue variables."),e("Dialogue state string variable _PARAM0_ is equal to _PARAM1_"),"","JsPlatform/Extensions/yarn32.png","JsPlatform/Extensions/yarn32.png").addParameter("string",e("State variable"),"",!1).addParameter("string",e("Equal to"),"",!1).getCodeExtraInformation().setFunctionName("gdjs.dialogueTree.compareVariable"),a.addCondition("CompareDialogueStateNumberVariable",e("Compare dialogue state number variable"),e("Compare dialogue state number variable. Use this to trigger game events via dialogue variables."),e("Dialogue state number variable _PARAM0_ is equal to _PARAM1_"),"","JsPlatform/Extensions/yarn32.png","JsPlatform/Extensions/yarn32.png").addParameter("string",e("State variable"),"",!1).addParameter("expression",e("Equal to"),"",!1).getCodeExtraInformation().setFunctionName("gdjs.dialogueTree.compareVariable"),a.addCondition("CompareDialogueStateBooleanVariable",e("Compare dialogue state boolean variable"),e("Compare dialogue state variable. Use this to trigger game events via dialogue variables."),e("Dialogue state boolean variable _PARAM0_ is equal to _PARAM1_"),"","JsPlatform/Extensions/yarn32.png","JsPlatform/Extensions/yarn32.png").addParameter("string",e("State variable"),"",!1).addParameter("trueorfalse",e("Equal to"),"",!1).getCodeExtraInformation().setFunctionName("gdjs.dialogueTree.compareVariable"),a.addCondition("HasClippedTextScrollingCompleted",e("Clipped text has completed scrolling"),e("Check if the clipped text scrolling has completed. Use this to prevent the player from going to the next dialogue line before the typing effect has revealed the entire text."),e("Clipped text has completed scrolling"),"","JsPlatform/Extensions/yarn32.png","JsPlatform/Extensions/yarn32.png").getCodeExtraInformation().setFunctionName("gdjs.dialogueTree.hasClippedScrollingCompleted"),a},runExtensionSanityTests:function(e,t){return[]}}},44344:function(e){e.exports={createExtension:function(e,t){var a=new t.PlatformExtension;a.setExtensionInformation("Effects","Effects","Lots of different effects to be used in your game.","Various contributors from PixiJS, PixiJS filters and GDevelop","MIT").setCategory("Visual effect").setExtensionHelpPath("/interface/scene-editor/layer-effects");var i=a.addEffect("Adjustment").setFullName(e("Adjustment")).setDescription(e("Adjust gamma, contrast, saturation, brightness, alpha or color-channel shift.")).markAsOnlyWorkingFor2D().addIncludeFile("Extensions/Effects/pixi-filters/filter-adjustment.js").addIncludeFile("Extensions/Effects/adjustment-pixi-filter.js").getProperties();i.getOrCreate("gamma").setValue("1").setLabel(e("Gamma (between 0 and 5)")).setType("number"),i.getOrCreate("saturation").setValue("1").setLabel(e("Saturation (between 0 and 5)")).setType("number"),i.getOrCreate("contrast").setValue("1").setLabel(e("Contrast (between 0 and 5)")).setType("number"),i.getOrCreate("brightness").setValue("1").setLabel(e("Brightness (between 0 and 5)")).setType("number"),i.getOrCreate("red").setValue("1").setLabel(e("Red (between 0 and 5)")).setType("number"),i.getOrCreate("green").setValue("1").setLabel(e("Green (between 0 and 5)")).setType("number"),i.getOrCreate("blue").setValue("1").setLabel(e("Blue (between 0 and 5)")).setType("number"),i.getOrCreate("alpha").setValue("1").setLabel(e("Alpha (between 0 and 1, 0 is transparent)")).setType("number");var n=a.addEffect("AdvancedBloom").setFullName(e("Advanced bloom")).setDescription(e("Applies a bloom effect.")).markAsOnlyWorkingFor2D().addIncludeFile("Extensions/Effects/pixi-filters/filter-kawase-blur.js").addIncludeFile("Extensions/Effects/pixi-filters/filter-advanced-bloom.js").addIncludeFile("Extensions/Effects/advanced-bloom-pixi-filter.js").getProperties();n.getOrCreate("threshold").setValue("0.5").setLabel(e("Threshold (between 0 and 1)")).setType("number"),n.getOrCreate("bloomScale").setValue("0.7").setLabel(e("Bloom Scale (between 0 and 2)")).setType("number"),n.getOrCreate("brightness").setValue("0.7").setLabel(e("Brightness (between 0 and 2)")).setType("number"),n.getOrCreate("blur").setValue("4").setLabel(e("Blur (between 0 and 20)")).setType("number"),n.getOrCreate("quality").setValue("7").setLabel(e("Quality (between 0 and 20)")).setType("number"),n.getOrCreate("padding").setValue("0").setLabel(e("Padding")).setType("number").setDescription(e("Padding for the visual effect area")),a.addEffect("Ascii").setFullName(e("ASCII")).setDescription(e("Render the image with ASCII characters only.")).markAsOnlyWorkingFor2D().addIncludeFile("Extensions/Effects/pixi-filters/filter-ascii.js").addIncludeFile("Extensions/Effects/ascii-pixi-filter.js").getProperties().getOrCreate("size").setValue("8").setLabel(e("Size (between 2 and 20)")).setType("number");var r=a.addEffect("Bevel").setFullName(e("Beveled edges")).setDescription(e("Add beveled edges around the rendered image.")).markAsOnlyWorkingFor2D().addIncludeFile("Extensions/Effects/pixi-filters/filter-bevel.js").addIncludeFile("Extensions/Effects/bevel-pixi-filter.js").getProperties();r.getOrCreate("rotation").setValue("1").setLabel(e("Rotation (between 0 and 360)")).setType("number"),r.getOrCreate("thickness").setValue("2").setLabel(e("Outer strength (between 0 and 5)")).setType("number"),r.getOrCreate("distance").setValue("15").setLabel(e("Distance (between 10 and 20)")).setType("number"),r.getOrCreate("lightAlpha").setValue("1").setLabel(e("Light alpha (between 0 and 1)")).setType("number"),r.getOrCreate("lightColor").setValue("255;255;255").setLabel(e("Light color (color of the outline)")).setType("color"),r.getOrCreate("shadowColor").setValue("0;0;0").setLabel(e("Shadow color (color of the outline)")).setType("color"),r.getOrCreate("shadowAlpha").setValue("1").setLabel(e("Shadow alpha (between 0 and 1)")).setType("number"),a.addEffect("BlackAndWhite").setFullName(e("Black and White")).setDescription(e("Alter the colors to make the image black and white")).markAsOnlyWorkingFor2D().addIncludeFile("Extensions/Effects/black-and-white-pixi-filter.js").getProperties().getOrCreate("opacity").setValue("1").setLabel(e("Opacity (between 0 and 1)")).setType("number");var s=a.addEffect("BlendingMode").setFullName(e("Blending mode")).setDescription(e("Alter the rendered image with the specified blend mode.")).markAsOnlyWorkingFor2D().addIncludeFile("Extensions/Effects/blending-mode-pixi-filter.js").getProperties();s.getOrCreate("blendmode").setValue("0").setLabel(e("Mode (0: Normal, 1: Add, 2: Multiply, 3: Screen)")).setType("number"),s.getOrCreate("opacity").setValue("1").setLabel(e("Opacity (between 0 and 1)")).setType("number");var o=a.addEffect("Blur").setFullName(e("Blur (Gaussian, slow - prefer to use Kawase blur)")).setDescription(e("Blur the rendered image. This is slow, so prefer to use Kawase blur in most cases.")).markAsOnlyWorkingFor2D().addIncludeFile("Extensions/Effects/blur-pixi-filter.js").getProperties();o.getOrCreate("blur").setValue("8").setLabel(e("Blur intensity")).setType("number"),o.getOrCreate("quality").setValue("1").setLabel(e("Number of render passes. An high value will cause lags/poor performance.")).setType("number"),o.getOrCreate("resolution").setValue("2").setLabel(e("Resolution")).setType("number"),o.getOrCreate("kernelSize").setValue("5").setLabel(e("Kernel size (one of these values: 5, 7, 9, 11, 13, 15)")).setType("number"),a.addEffect("Brightness").setFullName(e("Brightness")).setDescription(e("Make the image brighter.")).markAsOnlyWorkingFor2D().addIncludeFile("Extensions/Effects/brightness-pixi-filter.js").getProperties().getOrCreate("brightness").setValue("0.8").setLabel(e("Brightness (between 0 and 1)")).setType("number");var l=a.addEffect("BulgePinch").setFullName(e("Bulge Pinch")).setDescription(e("Bulges or pinches the image in a circle.")).markAsOnlyWorkingFor2D().addIncludeFile("Extensions/Effects/pixi-filters/filter-bulge-pinch.js").addIncludeFile("Extensions/Effects/bulge-pinch-pixi-filter.js").getProperties();l.getOrCreate("centerX").setValue("0").setLabel(e("Center X (between 0 and 1, 0.5 is image middle)")).setType("number"),l.getOrCreate("centerY").setValue("0").setLabel(e("Center Y (between 0 and 1, 0.5 is image middle)")).setType("number"),l.getOrCreate("radius").setValue("100").setLabel(e("Radius")).setType("number"),l.getOrCreate("strength").setValue("1").setLabel(e("strength (between -1 and 1)")).setType("number").setDescription(e("-1 is strong pinch, 0 is no effect, 1 is strong bulge"));var d=a.addEffect("ColorMap").setFullName(e("Color Map")).setDescription(e("Change the color rendered on screen.")).markAsOnlyWorkingFor2D().addIncludeFile("Extensions/Effects/color-map-pixi-filter.js").addIncludeFile("Extensions/Effects/pixi-filters/filter-color-map.js").getProperties();d.getOrCreate("colorMapTexture").setType("resource").addExtraInfo("image").setLabel(e("Color map texture for the effect")).setDescription(e("You can change colors of pixels by modifying a reference color image, containing each colors, called the *Color Map Texture*. To get started, **download** [a default color map texture here](https://wiki.gdevelop.io/gdevelop5/interface/scene-editor/layer-effects).")),d.getOrCreate("nearest").setValue("false").setLabel(e('Disable anti-aliasing ("nearest" pixel rounding)')).setType("boolean"),d.getOrCreate("mix").setValue("100").setLabel(e("Mix")).setType("number").setDescription(e("Mix value of the effect on the layer (in percent)"));var c=a.addEffect("ColorReplace").setFullName(e("Color Replace")).setDescription(e("Effect replacing a color (or similar) by another.")).markAsOnlyWorkingFor2D().addIncludeFile("Extensions/Effects/pixi-filters/filter-color-replace.js").addIncludeFile("Extensions/Effects/color-replace-pixi-filter.js").getProperties();c.getOrCreate("originalColor").setValue("252;3;65").setLabel(e("Original Color")).setType("color").setDescription("The color that will be changed"),c.getOrCreate("newColor").setValue("255;255;255").setLabel(e("New Color")).setType("color").setDescription("The new color"),c.getOrCreate("epsilon").setValue("0.4").setLabel(e("Epsilon (between 0 and 1)")).setType("number").setDescription(e("Tolerance/sensitivity of the floating-point comparison between colors (lower = more exact, higher = more inclusive)"));var u=a.addEffect("CRT").setFullName(e("CRT")).setDescription(e("Apply an effect resembling old CRT monitors.")).markAsOnlyWorkingFor2D().addIncludeFile("Extensions/Effects/pixi-filters/filter-crt.js").addIncludeFile("Extensions/Effects/crt-pixi-filter.js").getProperties();u.getOrCreate("lineWidth").setValue("1").setLabel(e("Line width (between 0 and 5)")).setType("number"),u.getOrCreate("lineContrast").setValue("0.25").setLabel(e("Line contrast (between 0 and 1)")).setType("number"),u.getOrCreate("noise").setValue("0.3").setLabel(e("Noise (between 0 and 1)")).setType("number"),u.getOrCreate("curvature").setValue("1").setLabel(e("Curvature (between 0 and 10)")).setType("number"),u.getOrCreate("verticalLine").setValue("false").setLabel(e("Show vertical lines")).setType("boolean"),u.getOrCreate("noiseSize").setValue("1").setLabel(e("Noise size (between 0 and 10)")).setType("number"),u.getOrCreate("vignetting").setValue("0.3").setLabel(e("Vignetting (between 0 and 1)")).setType("number"),u.getOrCreate("vignettingAlpha").setValue("1").setLabel(e("Vignetting alpha (between 0 and 1)")).setType("number"),u.getOrCreate("vignettingBlur").setValue("0.3").setLabel(e("Vignetting blur (between 0 and 1)")).setType("number"),u.getOrCreate("animationSpeed").setValue("1").setLabel(e("Interlaced Lines Speed")).setType("number").setDescription(e("0: Pause, 0.5: Half speed, 1: Normal speed, 2: Double speed, etc...")),u.getOrCreate("animationFrequency").setValue("60").setLabel(e("Noise Frequency")).setType("number").setDescription("Number of updates per second (0: no updates)"),u.getOrCreate("padding").setValue("0").setLabel(e("Padding")).setType("number").setDescription(e("Padding for the visual effect area"));var h=a.addEffect("Displacement").setFullName(e("Displacement")).setDescription(e("Uses the pixel values from the specified texture (called the displacement map) to perform a displacement of an object.")).markAsOnlyWorkingFor2D().addIncludeFile("Extensions/Effects/displacement-pixi-filter.js").getProperties();h.getOrCreate("displacementMapTexture").setType("resource").addExtraInfo("image").setLabel(e("Displacement map texture")).setDescription(e("Displacement map texture for the effect. To get started, **download** [a default displacement map texture here](https://wiki.gdevelop.io/gdevelop5/interface/scene-editor/layer-effects).")),h.getOrCreate("scaleX").setValue("20").setLabel(e("Scale on X axis")).setType("number"),h.getOrCreate("scaleY").setValue("20").setLabel(e("Scale on Y axis")).setType("number");var f=a.addEffect("Dot").setFullName(e("Dot")).setDescription(e("Applies a dotscreen effect making objects appear to be made out of black and white halftone dots like an old printer.")).markAsOnlyWorkingFor2D().addIncludeFile("Extensions/Effects/pixi-filters/filter-dot.js").addIncludeFile("Extensions/Effects/dot-pixi-filter.js").getProperties();f.getOrCreate("scale").setValue("1").setLabel(e("Scale (between 0.3 and 1)")).setType("number").setDescription("The scale of the effect"),f.getOrCreate("angle").setValue("5").setLabel(e("Angle (between 0 and 5)")).setType("number").setDescription("The radius of the effect");var p=a.addEffect("DropShadow").setFullName(e("Drop shadow")).setDescription(e("Add a shadow around the rendered image.")).markAsOnlyWorkingFor2D().addIncludeFile("Extensions/Effects/pixi-filters/filter-kawase-blur.js").addIncludeFile("Extensions/Effects/pixi-filters/filter-drop-shadow.js").addIncludeFile("Extensions/Effects/drop-shadow-pixi-filter.js").getProperties();p.getOrCreate("blur").setValue("2").setLabel(e("Blur (between 0 and 20)")).setType("number"),p.getOrCreate("quality").setValue("3").setLabel(e("Quality (between 1 and 20)")).setType("number"),p.getOrCreate("alpha").setValue("1").setLabel(e("Alpha (between 0 and 1)")).setType("number"),p.getOrCreate("distance").setValue("1").setLabel(e("Distance (between 0 and 50)")).setType("number"),p.getOrCreate("rotation").setValue("0").setLabel(e("Rotation (between 0 and 360)")).setType("number"),p.getOrCreate("color").setValue("255;255;255").setLabel(e("Color of the shadow")).setType("color"),p.getOrCreate("shadowOnly").setValue("false").setLabel(e("Shadow only (shows only the shadow when enabled)")).setType("boolean"),p.getOrCreate("padding").setValue("0").setLabel(e("Padding")).setType("number").setDescription(e("Padding for the visual effect area"));var m=a.addEffect("Glitch").setFullName(e("Glitch")).setDescription(e("Applies a glitch effect to an object.")).markAsOnlyWorkingFor2D().addIncludeFile("Extensions/Effects/pixi-filters/filter-glitch.js").addIncludeFile("Extensions/Effects/glitch-pixi-filter.js").getProperties();m.getOrCreate("slices").setValue("5").setLabel(e("Slices (between 2 and infinite)")).setType("number").setDescription("The maximum number of slices"),m.getOrCreate("offset").setValue("100").setLabel(e("Offset (between -400 and 400)")).setType("number").setDescription("The maximum offset amount of slices"),m.getOrCreate("direction").setValue("0").setLabel(e("Direction (between -180 and 180)")).setType("number").setDescription("The angle in degree of the offset of slices"),m.getOrCreate("fillMode").setValue("0").setLabel(e("Fill Mode (between 0 and 4)")).setType("number").setDescription(e("The fill mode of the space after the offset.(0: TRANSPARENT, 1: ORIGINAL, 2: LOOP, 3: CLAMP, 4: MIRROR)")),m.getOrCreate("average").setValue("false").setLabel(e("Average")).setType("boolean").setDescription("Divide the bands roughly based on equal amounts"),m.getOrCreate("minSize").setValue("8").setLabel(e("Min Size")).setType("number").setDescription("Minimum size of individual slice"),m.getOrCreate("sampleSize").setValue("512").setLabel(e("Sample Size")).setType("number").setDescription("The resolution of the displacement image"),m.getOrCreate("animationFrequency").setValue("60").setLabel(e("Animation Frequency")).setType("number").setDescription("Number of updates per second (0: no updates)"),m.getOrCreate("redX").setValue("2").setLabel(e("Red X offset (between -50 and 50)")).setType("number"),m.getOrCreate("redY").setValue("2").setLabel(e("Red Y offset (between -50 and 50)")).setType("number"),m.getOrCreate("greenX").setValue("10").setLabel(e("Green X offset (between -50 and 50)")).setType("number"),m.getOrCreate("greenY").setValue("-4").setLabel(e("Green Y offset (between -50 and 50)")).setType("number"),m.getOrCreate("blueX").setValue("10").setLabel(e("Blue X offset (between -50 and 50)")).setType("number"),m.getOrCreate("blueY").setValue("-4").setLabel(e("Blue Y offset (between -50 and 50)")).setType("number");var g=a.addEffect("Glow").setFullName(e("Glow")).setDescription(e("Add a glow effect around the rendered image.")).markAsOnlyWorkingFor2D().addIncludeFile("Extensions/Effects/pixi-filters/filter-glow.js").addIncludeFile("Extensions/Effects/glow-pixi-filter.js").getProperties();g.getOrCreate("innerStrength").setValue("1").setLabel(e("Inner strength (between 0 and 20)")).setType("number"),g.getOrCreate("outerStrength").setValue("2").setLabel(e("Outer strength (between 0 and 20)")).setType("number"),g.getOrCreate("distance").setValue("15").setLabel(e("Distance (between 10 and 20)")).setType("number"),g.getOrCreate("color").setValue("255;255;255").setLabel(e("Color (color of the outline)")).setType("color");var v=a.addEffect("Godray").setFullName(e("Godray")).setDescription(e("Apply and animate atmospheric light rays.")).markAsOnlyWorkingFor2D().addIncludeFile("Extensions/Effects/pixi-filters/filter-godray.js").addIncludeFile("Extensions/Effects/godray-pixi-filter.js").getProperties();v.getOrCreate("parallel").setValue("true").setLabel(e("Parallel (parallel rays)")).setType("boolean"),v.getOrCreate("animationSpeed").setValue("1").setLabel(e("Animation Speed")).setType("number").setDescription(e("0: Pause, 0.5: Half speed, 1: Normal speed, 2: Double speed, etc...")),v.getOrCreate("lacunarity").setValue("2.75").setLabel(e("Lacunarity (between 0 and 5)")).setType("number"),v.getOrCreate("angle").setValue("30").setLabel(e("Angle (between -60 and 60)")).setType("number"),v.getOrCreate("gain").setValue("0.6").setLabel(e("Gain (between 0 and 1)")).setType("number"),v.getOrCreate("light").setValue("30").setLabel(e("Light (between 0 and 60)")).setType("number"),v.getOrCreate("x").setValue("100").setLabel(e("Center X (between 100 and 1000)")).setType("number"),v.getOrCreate("y").setValue("100").setLabel(e("Center Y (between -1000 and 100)")).setType("number"),v.getOrCreate("padding").setValue("0").setLabel(e("Padding")).setType("number").setDescription(e("Padding for the visual effect area"));var b=a.addEffect("HslAdjustment").setFullName(e("HSL Adjustment")).setDescription(e("Adjust hue, saturation and lightness.")).markAsOnlyWorkingFor2D().addIncludeFile("Extensions/Effects/pixi-filters/filter-hsl-adjustment.js").addIncludeFile("Extensions/Effects/hsl-adjustment-pixi-filter.js").getProperties();b.getOrCreate("hue").setValue("0").setLabel(e("Hue in degrees (between -180 and 180)")).setType("number"),b.getOrCreate("saturation").setValue("0").setLabel(e("Saturation (between -1 and 1)")).setType("number"),b.getOrCreate("lightness").setValue("0").setLabel(e("Lightness (between -1 and 1)")).setType("number"),b.getOrCreate("colorize").setValue("false").setLabel(e("Colorize from the grayscale image")).setType("boolean"),b.getOrCreate("alpha").setValue("1").setLabel(e("Alpha (between 0 and 1, 0 is transparent)")).setType("number");var y=a.addEffect("KawaseBlur").setFullName(e("Blur (Kawase, fast)")).setDescription(e("Blur the rendered image, with much better performance than Gaussian blur.")).markAsOnlyWorkingFor2D().addIncludeFile("Extensions/Effects/pixi-filters/filter-kawase-blur.js").addIncludeFile("Extensions/Effects/kawase-blur-pixi-filter.js").getProperties();y.getOrCreate("pixelizeX").setValue("1").setLabel(e("Pixelize X (between 0 and 10)")).setType("number"),y.getOrCreate("pixelizeY").setValue("1").setLabel(e("Pixelize Y (between 0 and 10)")).setType("number"),y.getOrCreate("blur").setValue("0.5").setLabel(e("Blur (between 0 and 20)")).setType("number"),y.getOrCreate("quality").setValue("3").setLabel(e("Quality (between 1 and 20)")).setType("number"),y.getOrCreate("padding").setValue("0").setLabel(e("Padding")).setType("number").setDescription(e("Padding for the visual effect area")),a.addEffect("LightNight").setFullName(e("Light Night")).setDescription(e("Alter the colors to simulate night.")).markAsOnlyWorkingFor2D().addIncludeFile("Extensions/Effects/light-night-pixi-filter.js").getProperties().getOrCreate("opacity").setValue("1").setLabel(e("Opacity (between 0 and 1)")).setType("number");var x=a.addEffect("MotionBlur").setFullName(e("Motion Blur")).setDescription(e("Blur the rendered image to give a feeling of speed.")).markAsOnlyWorkingFor2D().addIncludeFile("Extensions/Effects/pixi-filters/filter-motion-blur.js").addIncludeFile("Extensions/Effects/motion-blur-pixi-filter.js").getProperties();x.getOrCreate("velocityX").setValue("0").setLabel(e("Velocity on X axis")).setType("number"),x.getOrCreate("velocityY").setValue("0").setLabel(e("Velocity on Y axis")).setType("number"),x.getOrCreate("kernelSize").setValue("5").setLabel(e("Kernel size (odd number between 3 and 25)")).setType("number").setDescription(e("Quality of the blur.")),x.getOrCreate("offset").setValue("0").setLabel(e("Offset")).setType("number");var _=a.addEffect("Night").setFullName(e("Dark Night")).setDescription(e("Alter the colors to simulate a dark night.")).markAsOnlyWorkingFor2D().addIncludeFile("Extensions/Effects/night-pixi-filter.js").getProperties();_.getOrCreate("intensity").setValue("0.5").setLabel(e("Intensity (between 0 and 1)")).setType("number"),_.getOrCreate("opacity").setValue("0.5").setLabel(e("Opacity (between 0 and 1)")).setType("number"),a.addEffect("Noise").setFullName(e("Noise")).setDescription(e("Add some noise on the rendered image.")).markAsOnlyWorkingFor2D().addIncludeFile("Extensions/Effects/noise-pixi-filter.js").getProperties().getOrCreate("noise").setValue("0.5").setLabel(e("Noise intensity (between 0 and 1)")).setType("number");var P=a.addEffect("OldFilm").setFullName(e("Old Film")).setDescription(e("Add a Old film effect around the rendered image.")).markAsOnlyWorkingFor2D().addIncludeFile("Extensions/Effects/pixi-filters/filter-old-film.js").addIncludeFile("Extensions/Effects/old-film-pixi-filter.js").getProperties();P.getOrCreate("sepia").setValue("0.3").setLabel(e("Sepia (between 0 and 1)")).setType("number").setDescription(e("The amount of saturation of sepia effect, a value of 1 is more saturation and closer to 0 is less, and a value of 0 produces no sepia effect")),P.getOrCreate("noise").setValue("0.3").setLabel(e("Noise (between 0 and 1)")).setType("number").setDescription("Opacity/intensity of the noise effect"),P.getOrCreate("noiseSize").setValue("1").setLabel(e("Noise Size (between 0 and 10)")).setType("number").setDescription("The size of the noise particles"),P.getOrCreate("scratch").setValue("0.5").setLabel(e("Scratch (between -1 and 1)")).setType("number").setDescription("How often scratches appear"),P.getOrCreate("scratchDensity").setValue("0.3").setLabel(e("Scratch Density (between 0 and 1)")).setType("number").setDescription("The density of the number of scratches"),P.getOrCreate("scratchWidth").setValue("1.0").setLabel(e("Scratch Width (between 1 and 20)")).setType("number").setDescription("The width of the scratches"),P.getOrCreate("vignetting").setValue("0.3").setLabel(e("Vignetting (between 0 and 1)")).setType("number").setDescription("The radius of the vignette effect"),P.getOrCreate("vignettingAlpha").setValue("1.0").setLabel(e("Vignetting Alpha (between 0 and 1)")).setType("number"),P.getOrCreate("vignettingBlur").setValue("0.3").setLabel(e("Vignetting Blur (between 0 and 1)")).setType("number"),P.getOrCreate("animationFrequency").setValue("60").setLabel(e("Animation Frequency")).setType("number").setDescription("Number of updates per second (0: no updates)");var A=a.addEffect("Outline").setFullName(e("Outline")).setDescription(e("Draws an outline around the rendered image.")).markAsOnlyWorkingFor2D().addIncludeFile("Extensions/Effects/pixi-filters/filter-outline.js").addIncludeFile("Extensions/Effects/outline-pixi-filter.js").getProperties();A.getOrCreate("thickness").setValue("2").setLabel(e("Thickness (between 0 and 20)")).setType("number"),A.getOrCreate("color").setValue("255;255;255").setLabel(e("Color of the outline")).setType("color"),A.getOrCreate("padding").setValue("0").setLabel(e("Padding")).setType("number").setDescription(e("Padding for the visual effect area")),a.addEffect("Pixelate").setFullName(e("Pixelate")).setDescription(e("Applies a pixelate effect, making display objects appear 'blocky'.")).markAsOnlyWorkingFor2D().addIncludeFile("Extensions/Effects/pixi-filters/filter-pixelate.js").addIncludeFile("Extensions/Effects/pixelate-pixi-filter.js").getProperties().getOrCreate("size").setValue("10").setLabel(e("Size")).setType("number").setDescription(e("Size of the pixels (10 pixels by default)"));var E=a.addEffect("RadialBlur").setFullName(e("Radial Blur")).setDescription(e("Applies a Motion blur to an object.")).markAsOnlyWorkingFor2D().addIncludeFile("Extensions/Effects/pixi-filters/filter-radial-blur.js").addIncludeFile("Extensions/Effects/radial-blur-pixi-filter.js").markAsNotWorkingForObjects().getProperties();E.getOrCreate("radius").setValue("-1").setLabel(e("Radius")).setType("number").setDescription(e("The maximum size of the blur radius, -1 is infinite")),E.getOrCreate("angle").setValue("0").setLabel(e("Angle (between -180 and 180)")).setType("number").setDescription(e("The angle in degree of the motion for blur effect")),E.getOrCreate("kernelSize").setValue("5").setLabel(e("Kernel Size (between 3 and 25)")).setType("number").setDescription(e("The kernel size of the blur filter (Odd number)")),E.getOrCreate("centerX").setValue("0.5").setLabel(e("Center X (between 0 and 1, 0.5 is image middle)")).setType("number"),E.getOrCreate("centerY").setValue("0.5").setLabel(e("Center Y (between 0 and 1, 0.5 is image middle)")).setType("number"),E.getOrCreate("padding").setValue("0").setLabel(e("Padding")).setType("number").setDescription(e("Padding for the visual effect area"));var T=a.addEffect("Reflection").setFullName(e("Reflection")).setDescription(e("Applies a reflection effect to simulate the reflection on water with waves.")).markAsOnlyWorkingFor2D().addIncludeFile("Extensions/Effects/pixi-filters/filter-reflection.js").addIncludeFile("Extensions/Effects/reflection-pixi-filter.js").getProperties();T.getOrCreate("mirror").setValue("true").setLabel(e("Reflect the image on the waves")).setType("boolean"),T.getOrCreate("boundary").setValue("0.5").setLabel(e("Vertical position of the reflection point")).setType("number").setDescription(e("Default is 50% (middle). Smaller numbers produce a larger reflection, larger numbers produce a smaller reflection.")),T.getOrCreate("amplitudeStart").setValue("0").setLabel(e("Amplitude start")).setType("number").setDescription(e("Starting amplitude of waves (0 by default)")),T.getOrCreate("amplitudeEnding").setValue("20").setLabel(e("Amplitude ending")).setType("number").setDescription(e("Ending amplitude of waves (20 by default)")),T.getOrCreate("waveLengthStart").setValue("30").setLabel(e("Wave length start")).setType("number").setDescription(e("Starting wave length (30 by default)")),T.getOrCreate("waveLengthEnding").setValue("100").setLabel(e("Wave length ending")).setType("number").setDescription(e("Ending wave length (100 by default)")),T.getOrCreate("alphaStart").setValue("1").setLabel(e("Alpha start")).setType("number").setDescription(e("Starting alpha (1 by default)")),T.getOrCreate("alphaEnding").setValue("1").setLabel(e("Alpha ending")).setType("number").setDescription(e("Ending alpha (1 by default)")),T.getOrCreate("animationSpeed").setValue("1").setLabel(e("Animation Speed")).setType("number").setDescription(e("0: Pause, 0.5: Half speed, 1: Normal speed, 2: Double speed, etc..."));var w=a.addEffect("RGBSplit").setFullName(e("RGB split (chromatic aberration)")).setDescription(e("Applies a RGB split effect also known as chromatic aberration.")).markAsOnlyWorkingFor2D().addIncludeFile("Extensions/Effects/pixi-filters/filter-rgb-split.js").addIncludeFile("Extensions/Effects/rgb-split-pixi-filter.js").getProperties();w.getOrCreate("redX").setValue("-10").setLabel(e("Red X offset (between -20 and 20)")).setType("number"),w.getOrCreate("redY").setValue("1").setLabel(e("Red Y offset (between -20 and 20)")).setType("number"),w.getOrCreate("greenX").setValue("0").setLabel(e("Green X offset (between -20 and 20)")).setType("number"),w.getOrCreate("greenY").setValue("0").setLabel(e("Green Y offset (between -20 and 20)")).setType("number"),w.getOrCreate("blueX").setValue("0").setLabel(e("Blue X offset (between -20 and 20)")).setType("number"),w.getOrCreate("blueY").setValue("10").setLabel(e("Blue Y offset (between -20 and 20)")).setType("number"),a.addEffect("Sepia").setFullName(e("Sepia")).setDescription(e("Alter the colors to sepia.")).markAsOnlyWorkingFor2D().addIncludeFile("Extensions/Effects/sepia-pixi-filter.js").getProperties().getOrCreate("opacity").setValue("1").setLabel(e("Opacity (between 0 and 1)")).setType("number");var S=a.addEffect("Shockwave").setFullName(e("Shockwave")).setDescription(e("Deform the image the way a drop deforms a water surface.")).markAsOnlyWorkingFor2D().addIncludeFile("Extensions/Effects/pixi-filters/filter-shockwave.js").addIncludeFile("Extensions/Effects/shockwave-pixi-filter.js").getProperties();S.getOrCreate("time").setValue("0").setLabel(e("Elapsed time")).setType("number").setDescription("It can be set back to 0 to play the shockwave animation again."),S.getOrCreate("speed").setValue("500").setLabel(e("Spreading speed (in pixels per second)")).setType("number"),S.getOrCreate("amplitude").setValue("50").setLabel(e("Amplitude")).setType("number"),S.getOrCreate("wavelength").setValue("200").setLabel(e("Wavelength")).setType("number"),S.getOrCreate("brightness").setValue("1").setLabel(e("Brightness")).setType("number"),S.getOrCreate("radius").setValue("0").setLabel(e("Maximum radius (0 for infinity)")).setType("number"),S.getOrCreate("centerX").setValue("0.5").setLabel(e("Center on X axis")).setType("number"),S.getOrCreate("centerY").setValue("0.5").setLabel(e("Center on Y axis")).setType("number").setDescription("(0,0) is the top-left and (1,1) is the bottom right.");var C=a.addEffect("TiltShift").setFullName(e("Tilt shift")).setDescription(e("Render a tilt-shift-like camera effect.")).markAsOnlyWorkingFor2D().addIncludeFile("Extensions/Effects/pixi-filters/filter-tilt-shift.js").addIncludeFile("Extensions/Effects/tilt-shift-pixi-filter.js").getProperties();C.getOrCreate("blur").setValue("30").setLabel(e("Blur (between 0 and 200)")).setType("number"),C.getOrCreate("gradientBlur").setValue("1000").setLabel(e("Gradient blur (between 0 and 2000)")).setType("number");var F=a.addEffect("Twist").setFullName(e("Twist")).setDescription(e("Applies a twist effect making objects appear twisted in the given direction.")).markAsOnlyWorkingFor2D().addIncludeFile("Extensions/Effects/pixi-filters/filter-twist.js").addIncludeFile("Extensions/Effects/twist-pixi-filter.js").markAsNotWorkingForObjects().getProperties();F.getOrCreate("radius").setValue("200").setLabel(e("Radius")).setType("number").setDescription(e("The radius of the twist")),F.getOrCreate("angle").setValue("4").setLabel(e("Angle (between -10 and 10)")).setType("number").setDescription(e("The angle in degree of the twist")),F.getOrCreate("padding").setValue("20").setLabel(e("Padding")).setType("number").setDescription(e("Padding for the visual effect area")),F.getOrCreate("offsetX").setValue("0.5").setLabel(e("Offset X (between 0 and 1, 0.5 is image middle)")).setType("number"),F.getOrCreate("offsetY").setValue("0.5").setLabel(e("Offset Y (between 0 and 1, 0.5 is image middle)")).setType("number");var I=a.addEffect("ZoomBlur").setFullName(e("Zoom blur")).setDescription(e("Applies a Zoom blur.")).markAsOnlyWorkingFor2D().addIncludeFile("Extensions/Effects/pixi-filters/filter-zoom-blur.js").addIncludeFile("Extensions/Effects/zoom-blur-pixi-filter.js").markAsNotWorkingForObjects().getProperties();return I.getOrCreate("centerX").setValue("0.5").setLabel(e("Center X (between 0 and 1, 0.5 is image middle)")).setType("number"),I.getOrCreate("centerY").setValue("0.5").setLabel(e("Center Y (between 0 and 1, 0.5 is image middle)")).setType("number"),I.getOrCreate("innerRadius").setValue("200").setLabel(e("Inner radius")).setType("number"),I.getOrCreate("strength").setValue("0.3").setLabel(e("strength (between 0 and 5)")).setType("number"),I.getOrCreate("padding").setValue("0").setLabel(e("Padding")).setType("number").setDescription(e("Padding for the visual effect area")),a},runExtensionSanityTests:function(e,t){return[]}}},97854:function(e,t,a){var i=a(56690).default,n=a(89728).default,r=a(41588).default,s=a(73808).default,o=a(61655).default,l=a(26389).default;e.exports={createExtension:function(e,t){var a=new t.PlatformExtension;a.setExtensionInformation("MyDummyExtension",e("My Dummy Extension"),e("An example of a declaration of an extension"),"Florian Rival","MIT"),a.addInstructionOrExpressionGroupMetadata(e("My Dummy Extension")).setIcon("CppPlatform/Extensions/topdownmovementicon.png"),a.registerProperty("DummyPropertyString").setLabel(e("Dummy Property Name")).setDescription("Type in anything :)").setType("string"),a.registerProperty("DummyPropertyNumber").setLabel(e("Dummy Numeric Property Name")).setDescription("Only numbers here ;)").setType("number"),a.registerProperty("DummyPropertyBoolean").setDescription(e("A boolean property")).setType("boolean"),a.addDependency().setName("Thirteen Checker").setDependencyType("npm").setExportName("is-thirteen").setVersion("2.0.0");var i=a.addEffect("DummyEffect").setFullName(e("Dummy effect example")).setDescription(e('This is an example of an effect ("shader") with an [external link to the wiki](https://wiki.gdevelop.io/gdevelop5/) and **bold letters**.')).addIncludeFile("Extensions/ExampleJsExtension/dummyeffect.js").getProperties();i.getOrCreate("opacity").setValue("1").setLabel(e("Opacity of the effect (between 0 and 1)")).setType("number").setDescription(e("This is an optional description.")),i.getOrCreate("someImage").setValue("").setLabel(e("Image resource (won't be used, just for demonstration purpose)")).setType("resource").addExtraInfo("image"),i.getOrCreate("someColor").setValue("255;3;62").setLabel(e("Color (won't be used, just for demonstration purpose)")).setType("color").setDescription(e("Another optional description.")),i.getOrCreate("someBoolean").setValue("true").setLabel(e("Some setting to enable or not for the effect")).setType("boolean").setDescription(e("And some *optional* description.")),a.addCondition("MyNewCondition",e("Dummy condition example"),e("This is an example of a condition displayed in the events sheet. Will return true if the number is less than 10 and the length of the text is less than 5."),e("Call the example condition with _PARAM0_ and _PARAM1_"),"","res/conditions/camera24.png","res/conditions/camera.png").addParameter("expression",e("Number 1"),"",!1).addParameter("string",e("Text 1"),"",!1).getCodeExtraInformation().setIncludeFile("Extensions/ExampleJsExtension/examplejsextensiontools.js").setFunctionName("gdjs.evtTools.exampleJsExtension.myConditionFunction"),a.addExpression("DummyExpression",e("Dummy expression example"),e("This is an example of an expression"),"","res/actions/camera.png").addParameter("expression",e("Maximum"),"",!1).getCodeExtraInformation().setFunctionName("gdjs.random"),a.addStrExpression("DummyStrExpression",e("Dummy string expression example"),e("This is an example of an expression returning a string"),"","res/actions/camera.png").getCodeExtraInformation().setIncludeFile("Extensions/ExampleJsExtension/examplejsextensiontools.js").setFunctionName("gdjs.evtTools.exampleJsExtension.getString");var n=new t.BehaviorJsImplementation;n.updateProperty=function(e,t,a){return"My first property"===t?(e.setStringAttribute("property1",a),!0):"My other property"===t&&(e.setBoolAttribute("property2","1"===a),!0)},n.getProperties=function(a){var i=new t.MapStringPropertyDescriptor;return i.getOrCreate("My first property").setValue(a.getStringAttribute("property1")),i.getOrCreate("My other property").setValue(a.getBoolAttribute("property2")?"true":"false").setType("Boolean").setGroup(e("Look and Feel")),i},n.initializeContent=function(e){e.setStringAttribute("property1","Initial value 1"),e.setBoolAttribute("property2",!0)},a.addBehavior("DummyBehavior",e("Dummy behavior for testing"),"DummyBehavior",e("Do nothing."),"","CppPlatform/Extensions/topdownmovementicon.png","DummyBehavior",n,new t.BehaviorsSharedData).setIncludeFile("Extensions/ExampleJsExtension/dummyruntimebehavior.js").addIncludeFile("Extensions/ExampleJsExtension/examplejsextensiontools.js");var r=new t.BehaviorJsImplementation;r.updateProperty=function(e,t,a){return"My behavior property"===t&&(e.setStringAttribute("property1",a),!0)},r.getProperties=function(e){var a=new t.MapStringPropertyDescriptor;return a.getOrCreate("My behavior property").setValue(e.getStringAttribute("property1")),a},r.initializeContent=function(e){e.setStringAttribute("property1","Initial value 1")};var s=new t.BehaviorSharedDataJsImplementation;s.updateProperty=function(e,t,a){return"My shared property"===t&&(e.setStringAttribute("sharedProperty1",a),!0)},s.getProperties=function(e){var a=new t.MapStringPropertyDescriptor;return a.getOrCreate("My shared property").setValue(e.getStringAttribute("sharedProperty1")),a},s.initializeContent=function(e){e.setStringAttribute("sharedProperty1","Initial shared value 1")},a.addBehavior("DummyBehaviorWithSharedData",e("Dummy behavior with shared data for testing"),"DummyBehaviorWithSharedData",e("Do nothing but use shared data."),"","CppPlatform/Extensions/topdownmovementicon.png","DummyBehaviorWithSharedData",r,s).setIncludeFile("Extensions/ExampleJsExtension/dummywithshareddataruntimebehavior.js").addIncludeFile("Extensions/ExampleJsExtension/examplejsextensiontools.js");var o=new t.ObjectJsImplementation;return o.updateProperty=function(e,t){var a=this.content;return"My first property"===e?(a.property1=t,!0):"My other property"===e?(a.property2="1"===t,!0):"My third property"===e?(a.property3=t,!0):"myImage"===e&&(a.myImage=t,!0)},o.getProperties=function(){var a=new t.MapStringPropertyDescriptor,i=this.content;return a.getOrCreate("My first property").setValue(i.property1),a.getOrCreate("My other property").setValue(i.property2?"true":"false").setType("boolean"),a.getOrCreate("My third property").setValue(i.property3.toString()).setType("number"),a.getOrCreate("myImage").setValue(i.myImage).setType("resource").addExtraInfo("image").setLabel(e("Image resource (won't be shown, just for demonstration purpose)")),a},o.content={property1:"Hello world",property2:!0,property3:123,myImage:""},o.updateInitialInstanceProperty=function(e,t,a){return"My instance property"===t?(e.setRawStringProperty("instanceprop1",a),!0):"My other instance property"===t&&(e.setRawDoubleProperty("instanceprop2",parseFloat(a)),!0)},o.getInitialInstanceProperties=function(e){var a=new t.MapStringPropertyDescriptor;return a.getOrCreate("My instance property").setValue(e.getRawStringProperty("instanceprop1")),a.getOrCreate("My other instance property").setValue(e.getRawDoubleProperty("instanceprop2").toString()).setType("number"),a},a.addObject("DummyObject",e("Dummy object for testing"),e("This dummy object does nothing"),"CppPlatform/Extensions/topdownmovementicon.png",o).setIncludeFile("Extensions/ExampleJsExtension/dummyruntimeobject.js").addIncludeFile("Extensions/ExampleJsExtension/dummyruntimeobject-pixi-renderer.js").setCategoryFullName(e("Testing")).addAction("MyMethod",e("Display a dummy text in Developer console"),e("Display a dummy text in Developer console. Open it with CTRL-SHIFT-J (Cmd-Alt-J on macOS)."),e("Display a dummy text for _PARAM0_, with params: _PARAM1_, _PARAM2_"),"","res/conditions/camera24.png","res/conditions/camera.png").addParameter("object",e("Object"),"DummyObject",!1).addParameter("expression",e("Number 1"),"",!1).addParameter("string",e("Text 1"),"",!1).getCodeExtraInformation().setFunctionName("myMethod"),a},runExtensionSanityTests:function(e,t){var a=t.getBehaviorMetadata("MyDummyExtension::DummyBehavior").get(),i=t.getBehaviorMetadata("MyDummyExtension::DummyBehaviorWithSharedData").getSharedDataInstance();return[e.ProjectHelper.sanityCheckBehaviorProperty(a,"My first property","Testing value"),e.ProjectHelper.sanityCheckBehaviorsSharedDataProperty(i,"My shared property","Testing value")]},registerEditorConfigurations:function(e){e.registerEditorConfiguration("MyDummyExtension::DummyObject",e.getDefaultObjectJsImplementationPropertiesEditor({helpPagePath:"/extensions/extend-gdevelop"}))},registerInstanceRenderers:function(e){var t=e.RenderedInstance,a=e.PIXI,d=function(e){"use strict";o(c,e);var d=l(c);function c(e,t,n,r,s){var o;return i(this,c),(o=d.call(this,e,t,n,r,s))._pixiObject=new a.Text("This is a dummy object",{align:"left"}),o._pixiObject.anchor.x=.5,o._pixiObject.anchor.y=.5,o._pixiContainer.addChild(o._pixiObject),o.update(),o}return n(c,[{key:"onRemovedFromScene",value:function(){r(s(c.prototype),"onRemovedFromScene",this).call(this),this._pixiObject.destroy(!0)}},{key:"update",value:function(){var e=gd.castObject(this._associatedObjectConfiguration,gd.ObjectJsImplementation);this._pixiObject.text=e.content.property1,this._pixiObject.position.x=this._instance.getX()+this._pixiObject.width/2,this._pixiObject.position.y=this._instance.getY()+this._pixiObject.height/2,this._pixiObject.rotation=t.toRad(this._instance.getAngle())}},{key:"getDefaultWidth",value:function(){return this._pixiObject.width}},{key:"getDefaultHeight",value:function(){return this._pixiObject.height}}],[{key:"getThumbnail",value:function(e,t,a){return"CppPlatform/Extensions/texticon24.png"}}]),c}(t);e.registerInstanceRenderer("MyDummyExtension::DummyObject",d)}}},64579:function(e){e.exports={createExtension:function(e,t){var a=new t.PlatformExtension;return a.setExtensionInformation("FacebookInstantGames",e("Facebook Instant Games"),e("Allow your game to send scores and interact with the Facebook Instant Games platform."),"Florian Rival","Open source (MIT License)").setExtensionHelpPath("/publishing/publishing-to-facebook-instant-games").setCategory("Third-party"),a.addInstructionOrExpressionGroupMetadata(e("Facebook Instant Games")).setIcon("JsPlatform/Extensions/facebookicon32.png"),a.addAction("SavePlayerData",e("Save player data"),e("Save the content of the given scene variable in the player data, stored on Facebook Instant Games servers"),e("Save the content of _PARAM1_ in key _PARAM0_ of player data (store success message in _PARAM2_ or error in _PARAM3_)"),e("Player data"),"JsPlatform/Extensions/facebookicon32.png","JsPlatform/Extensions/facebookicon32.png").addParameter("string",'Data key name (e.g: "Lives")',"",!1).addParameter("scenevar","Scene variable with the content to save","",!1).addParameter("scenevar",e("Variable where to store the success message (optional)"),"",!0).addParameter("scenevar",e("Variable where to store the error message (optional, if an error occurs)"),"",!0).getCodeExtraInformation().setIncludeFile("Extensions/FacebookInstantGames/facebookinstantgamestools.js").setFunctionName("gdjs.evtTools.facebookInstantGames.setPlayerData"),a.addAction("LoadPlayerData",e("Load player data"),e("Load the player data with the given key in a variable"),e("Load player data with key _PARAM0_ in _PARAM1_ (or error in _PARAM2_)"),e("Player data"),"JsPlatform/Extensions/facebookicon32.png","JsPlatform/Extensions/facebookicon32.png").addParameter("string",e('Data key name (e.g: "Lives")'),"",!1).addParameter("scenevar",e("Variable where to store loaded data"),"",!1).addParameter("scenevar",e("Variable where to store the error message (optional, if an error occurs)"),"",!0).getCodeExtraInformation().setIncludeFile("Extensions/FacebookInstantGames/facebookinstantgamestools.js").setFunctionName("gdjs.evtTools.facebookInstantGames.loadPlayerData"),a.addAction("SavePlayerScore",e("Save player score"),e("Save the score, and optionally the content of the given variable in the player score, for the given metadata."),e("In leaderboard _PARAM0_, save score _PARAM1_ for the player and extra data from _PARAM2_ (store success message in _PARAM3_ or error in _PARAM4_)"),e("Leaderboards"),"JsPlatform/Extensions/facebookicon32.png","JsPlatform/Extensions/facebookicon32.png").addParameter("string",'Leaderboard name (e.g: "PlayersBestTimes")',"",!1).addParameter("expression","Score to register for the player","",!1).addParameter("scenevar",e("Optional variable with metadata to save"),"",!0).addParameter("scenevar",e("Variable where to store the success message (optional)"),"",!0).addParameter("scenevar",e("Variable where to store the error message (optional, if an error occurs)"),"",!0).getCodeExtraInformation().setIncludeFile("Extensions/FacebookInstantGames/facebookinstantgamestools.js").setFunctionName("gdjs.evtTools.facebookInstantGames.setPlayerScore"),a.addAction("LoadPlayerEntry",e("Load player entry"),e("Load the player entry in the given leaderboard"),e("Load player entry from leaderboard _PARAM0_. Set rank in _PARAM1_, score in _PARAM2_ (extra data if any in _PARAM3_ and error in _PARAM4_)"),e("Leaderboards"),"JsPlatform/Extensions/facebookicon32.png","JsPlatform/Extensions/facebookicon32.png").addParameter("string",e('Leaderboard name (e.g: "PlayersBestTimes")'),"",!1).addParameter("scenevar",e("Variable where to store the player rank (of -1 if not ranked)"),"",!0).addParameter("scenevar",e("Variable where to store the player score (of -1 if no score)"),"",!0).addParameter("scenevar",e("Variable where to store extra data (if any)"),"",!0).addParameter("scenevar",e("Variable where to store the error message (optional, if an error occurs)"),"",!0).getCodeExtraInformation().setIncludeFile("Extensions/FacebookInstantGames/facebookinstantgamestools.js").setFunctionName("gdjs.evtTools.facebookInstantGames.getPlayerEntry"),a.addCondition("AreAdsSupported",e("Check if ads are supported"),e("Check if showing ads is supported on this device (only mobile phones can show ads)"),e("Ads can be shown on this device"),e("Ads"),"JsPlatform/Extensions/facebookicon32.png","JsPlatform/Extensions/facebookicon32.png").getCodeExtraInformation().setIncludeFile("Extensions/FacebookInstantGames/facebookinstantgamestools.js").setFunctionName("gdjs.evtTools.facebookInstantGames.areAdsSupported"),a.addCondition("IsInterstitialAdReady",e("Is the interstitial ad ready"),e("Check if the interstitial ad requested from Facebook is loaded and ready to be shown."),e("The interstitial ad is loaded and ready to be shown"),e("Ads"),"JsPlatform/Extensions/facebookicon32.png","JsPlatform/Extensions/facebookicon32.png").getCodeExtraInformation().setIncludeFile("Extensions/FacebookInstantGames/facebookinstantgamestools.js").setFunctionName("gdjs.evtTools.facebookInstantGames.isInterstitialAdReady"),a.addAction("LoadInterstitialAd",e("Load and prepare an interstitial ad"),e("Request and load an interstitial ad from Facebook, so that it is ready to be shown."),e("Request and load an interstitial ad from Facebook (ad placement id: _PARAM0_, error in _PARAM1_)"),e("Ads"),"JsPlatform/Extensions/facebookicon32.png","JsPlatform/Extensions/facebookicon32.png").addParameter("string",e("The Ad Placement id (can be found while setting up the ad on Facebook)"),"",!1).addParameter("scenevar",e("Variable where to store the error message (optional, if an error occurs)"),"",!0).getCodeExtraInformation().setIncludeFile("Extensions/FacebookInstantGames/facebookinstantgamestools.js").setFunctionName("gdjs.evtTools.facebookInstantGames.loadInterstitialAd"),a.addAction("ShowInterstitialAd",e("Show the loaded interstitial ad"),e("Show the interstitial ad previously loaded in memory. This won't work if you did not load the interstitial before."),e("Show the interstitial ad previously loaded in memory (if any error, store it in _PARAM0_)"),e("Ads"),"JsPlatform/Extensions/facebookicon32.png","JsPlatform/Extensions/facebookicon32.png").addParameter("scenevar",e("Variable where to store the error message (optional, if an error occurs)"),"",!0).getCodeExtraInformation().setIncludeFile("Extensions/FacebookInstantGames/facebookinstantgamestools.js").setFunctionName("gdjs.evtTools.facebookInstantGames.showInterstitialAd"),a.addCondition("IsRewardedVideoReady",e("Is the rewarded video ready"),e("Check if the rewarded video requested from Facebook is loaded and ready to be shown."),e("The rewarded video is loaded and ready to be shown"),e("Ads"),"JsPlatform/Extensions/facebookicon32.png","JsPlatform/Extensions/facebookicon32.png").getCodeExtraInformation().setIncludeFile("Extensions/FacebookInstantGames/facebookinstantgamestools.js").setFunctionName("gdjs.evtTools.facebookInstantGames.isRewardedVideoReady"),a.addAction("LoadRewardedVideo",e("Load and prepare a rewarded video"),e("Request and load a rewarded video from Facebook, so that it is ready to be shown."),e("Request and load a rewarded video from Facebook (ad placement id: _PARAM0_, error in _PARAM1_)"),e("Ads"),"JsPlatform/Extensions/facebookicon32.png","JsPlatform/Extensions/facebookicon32.png").addParameter("string",e("The Ad Placement id (can be found while setting up the ad on Facebook)"),"",!1).addParameter("scenevar",e("Variable where to store the error message (optional, if an error occurs)"),"",!0).getCodeExtraInformation().setIncludeFile("Extensions/FacebookInstantGames/facebookinstantgamestools.js").setFunctionName("gdjs.evtTools.facebookInstantGames.loadRewardedVideo"),a.addAction("ShowRewardedVideo",e("Show the loaded rewarded video"),e("Show the rewarded video previously loaded in memory. This won't work if you did not load the video before."),e("Show the rewarded video previously loaded in memory (if any error, store it in _PARAM0_)"),e("Ads"),"JsPlatform/Extensions/facebookicon32.png","JsPlatform/Extensions/facebookicon32.png").addParameter("scenevar",e("Variable where to store the error message (optional, if an error occurs)"),"",!0).getCodeExtraInformation().setIncludeFile("Extensions/FacebookInstantGames/facebookinstantgamestools.js").setFunctionName("gdjs.evtTools.facebookInstantGames.showRewardedVideo"),a.addStrExpression("PlayerId",e("Player identifier"),e("Get the player unique identifier"),"","JsPlatform/Extensions/facebookicon32.png").getCodeExtraInformation().setIncludeFile("Extensions/FacebookInstantGames/facebookinstantgamestools.js").setFunctionName("gdjs.evtTools.facebookInstantGames.getPlayerId"),a.addStrExpression("PlayerName",e("Player name"),e("Get the player name"),"","JsPlatform/Extensions/facebookicon32.png").getCodeExtraInformation().setIncludeFile("Extensions/FacebookInstantGames/facebookinstantgamestools.js").setFunctionName("gdjs.evtTools.facebookInstantGames.getPlayerName"),a},runExtensionSanityTests:function(e,t){return[]}}},98261:function(e){e.exports={createExtension:function(e,t){var a=new t.PlatformExtension;return a.setExtensionInformation("FileSystem",e("File system"),e("Access the filesystem of the operating system - only works on native, desktop games exported to Windows, Linux or macOS."),"Matthias Meike","Open source (MIT License)").setExtensionHelpPath("/all-features/filesystem").setCategory("Advanced"),a.addInstructionOrExpressionGroupMetadata(e("File system")).setIcon("JsPlatform/Extensions/filesystem_create_folder32.png"),a.addCondition("PathExists",e("File or directory exists"),e("Check if the file or directory exists."),e("The path _PARAM0_ exists"),e("Windows, Linux, MacOS"),"JsPlatform/Extensions/filesystem_path_exists32.png","JsPlatform/Extensions/filesystem_path_exists32.png").addParameter("string",e("Path to file or directory"),"",!1).getCodeExtraInformation().setIncludeFile("Extensions/FileSystem/filesystemtools.js").setFunctionName("gdjs.fileSystem.pathExists"),a.addAction("MakeDirectory",e("Create a directory"),e("Create a new directory at the specified path."),e("Create directory _PARAM0_"),e("Windows, Linux, MacOS"),"JsPlatform/Extensions/filesystem_create_folder32.png","JsPlatform/Extensions/filesystem_create_folder32.png").addParameter("string",e("Directory"),"",!1).addParameter("scenevar",e("(Optional) Variable to store the result. 'ok': task was successful, 'error': an error occurred."),"",!0).getCodeExtraInformation().setIncludeFile("Extensions/FileSystem/filesystemtools.js").setFunctionName("gdjs.fileSystem.makeDirectory").setAsyncFunctionName("gdjs.fileSystem.makeDirectoryAsync"),a.addAction("SaveStringToFileSync",e("Save a text into a file"),e("Save a text into a file. Only use this on small files to avoid any lag or freeze during the game execution."),e("Save _PARAM0_ into file _PARAM1_"),e("Windows, Linux, MacOS"),"JsPlatform/Extensions/filesystem_save_file32.png","JsPlatform/Extensions/filesystem_save_file32.png").addParameter("string",e("String (text)"),"",!1).addParameter("string",e("Save path"),"",!1).addParameter("scenevar",e("(Optional) Variable to store the result. 'ok': task was successful, 'error': an error occurred."),"",!0).getCodeExtraInformation().setIncludeFile("Extensions/FileSystem/filesystemtools.js").setFunctionName("gdjs.fileSystem.saveStringToFile"),a.addAction("SaveStringToFileAsync",e("Save a text into a file (Async)"),e("Save a text into a file asynchronously. Use this for large files to avoid any lag or freeze during game execution. The 'result' variable gets updated when the operation has finished."),e("Save _PARAM0_ into file _PARAM1_"),e("Windows, Linux, MacOS/Asynchronous"),"JsPlatform/Extensions/filesystem_save_file32.png","JsPlatform/Extensions/filesystem_save_file32.png").addParameter("string",e("String (text)"),"",!1).addParameter("string",e("Save path"),"",!1).addParameter("scenevar",e("(Optional) Variable to store the result. 'ok': task was successful, 'error': an error occurred."),"",!0).getCodeExtraInformation().setIncludeFile("Extensions/FileSystem/filesystemtools.js").setFunctionName("gdjs.fileSystem.saveStringToFileAsync").setAsyncFunctionName("gdjs.fileSystem.saveStringToFileAsyncTask"),a.addAction("SaveVariableToJSONFileSync",e("Save a scene variable into a JSON file"),e("Save a scene variable (including, for structure, all the children) into a file in JSON format. Only use this on small files to avoid any lag or freeze during the game execution."),e("Save scene variable _PARAM0_ into file _PARAM1_ as JSON"),e("Windows, Linux, MacOS"),"JsPlatform/Extensions/filesystem_save_file32.png","JsPlatform/Extensions/filesystem_save_file32.png").addParameter("scenevar",e("Scene variable"),"",!1).addParameter("string",e("Save path"),"",!1).addParameter("scenevar",e("(Optional) Variable to store the result. 'ok': task was successful, 'error': an error occurred."),"",!0).getCodeExtraInformation().setIncludeFile("Extensions/FileSystem/filesystemtools.js").setFunctionName("gdjs.fileSystem.saveVariableToJSONFile"),a.addAction("SaveVariableToJSONFileAsync",e("Save a scene variable into a JSON file (Async)"),e("Save the scene variable (including, for structures, all the children) into a file in JSON format, asynchronously. Use this for large files to avoid any lag or freeze during game execution. The 'result' variable gets updated when the operation has finished."),e("Save scene variable _PARAM0_ into file _PARAM1_ as JSON"),e("Windows, Linux, MacOS/Asynchronous"),"JsPlatform/Extensions/filesystem_save_file32.png","JsPlatform/Extensions/filesystem_save_file32.png").addParameter("scenevar",e("Scene variable"),"",!1).addParameter("string",e("Save path"),"",!1).addParameter("scenevar",e("(Optional) Variable to store the result. 'ok': task was successful, 'error': an error occurred."),"",!0).getCodeExtraInformation().setIncludeFile("Extensions/FileSystem/filesystemtools.js").setFunctionName("gdjs.fileSystem.saveVariableToJSONFileAsync").setAsyncFunctionName("gdjs.fileSystem.saveVariableToJSONFileAsyncTask"),a.addAction("LoadStringFromFileAsync",e("Load a text from a file (Async)"),e("Load a text from a file, asynchronously. Use this for large files to avoid any lag or freeze during game execution. The content of the file will be available in the scene variable after a small delay (usually a few milliseconds). The 'result' variable gets updated when the operation has finished."),e("Load text from _PARAM1_ into scene variable _PARAM0_ (Async)"),e("Windows, Linux, MacOS/Asynchronous"),"JsPlatform/Extensions/filesystem_load_file32.png","JsPlatform/Extensions/filesystem_load_file32.png").addParameter("scenevar",e("Scene variable"),"",!1).addParameter("string",e("Load path"),"",!1).addParameter("scenevar",e("(Optional) Variable to store the result. 'ok': task was successful, 'error': an error occurred."),"",!0).addParameter("yesorno",e("Normalize the file content (recommended)"),"",!0).setParameterLongDescription(e('This replaces Windows new lines characters ("CRLF") by a single new line character.')).setDefaultValue("yes").getCodeExtraInformation().setIncludeFile("Extensions/FileSystem/filesystemtools.js").setFunctionName("gdjs.fileSystem.loadStringFromFileAsync").setAsyncFunctionName("gdjs.fileSystem.loadStringFromFileAsyncTask"),a.addAction("LoadStringFromFileSync",e("Load a text from a file"),e("Load a text from a file. Only use this on small files to avoid any lag or freeze during the game execution."),e("Load text from _PARAM1_ into scene variable _PARAM0_"),e("Windows, Linux, MacOS"),"JsPlatform/Extensions/filesystem_load_file32.png","JsPlatform/Extensions/filesystem_load_file32.png").addParameter("scenevar",e("Scene variable"),"",!1).addParameter("string",e("Load path"),"",!1).addParameter("scenevar",e("(Optional) Variable to store the result. 'ok': task was successful, 'error': an error occurred."),"",!0).addParameter("yesorno",e("Normalize the file content (recommended)"),"",!0).setParameterLongDescription(e('This replaces Windows new lines characters ("CRLF") by a single new line character.')).setDefaultValue("yes").getCodeExtraInformation().setIncludeFile("Extensions/FileSystem/filesystemtools.js").setFunctionName("gdjs.fileSystem.loadStringFromFile"),a.addAction("LoadVariableFromJSONFileSync",e("Load a scene variable from a JSON file"),e("Load a JSON formatted text from a file and convert it to a scene variable (potentially a structure variable with children). Only use this on small files to avoid any lag or freeze during the game execution."),e("Load JSON from _PARAM1_ into scene variable _PARAM0_"),e("Windows, Linux, MacOS"),"JsPlatform/Extensions/filesystem_save_file32.png","JsPlatform/Extensions/filesystem_save_file32.png").addParameter("scenevar",e("Scene variable"),"",!1).addParameter("string",e("Load path"),"",!1).addParameter("scenevar",e("(Optional) Variable to store the result. 'ok': task was successful, 'error': an error occurred."),"",!0).addParameter("yesorno",e("Normalize the file content (recommended)"),"",!0).setParameterLongDescription(e('This replaces Windows new lines characters ("CRLF") by a single new line character.')).setDefaultValue("yes").getCodeExtraInformation().setIncludeFile("Extensions/FileSystem/filesystemtools.js").setFunctionName("gdjs.fileSystem.loadVariableFromJSONFile"),a.addAction("LoadVariableFromJSONFileAsync",e("Load a scene variable from a JSON file (Async)"),e("Load a JSON formatted text from a file and convert it to a scene variable (potentially a structure variable with children), asynchronously. Use this for large files to avoid any lag or freeze during game execution. The content of the file will be available as a scene variable after a small delay (usually a few milliseconds). The 'result' variable gets updated when the operation has finished."),e("Load JSON from _PARAM1_ into scene variable _PARAM0_"),e("Windows, Linux, MacOS/Asynchronous"),"JsPlatform/Extensions/filesystem_save_file32.png","JsPlatform/Extensions/filesystem_save_file32.png").addParameter("scenevar",e("Scene variable"),"",!1).addParameter("string",e("Load path"),"",!1).addParameter("scenevar",e("(Optional) Variable to store the result. 'ok': task was successful, 'error': an error occurred."),"",!0).addParameter("yesorno",e("Normalize the file content (recommended)"),"",!0).setParameterLongDescription(e('This replaces Windows new lines characters ("CRLF") by a single new line character.')).setDefaultValue("yes").getCodeExtraInformation().setIncludeFile("Extensions/FileSystem/filesystemtools.js").setFunctionName("gdjs.fileSystem.loadVariableFromJSONFileAsync").setAsyncFunctionName("gdjs.fileSystem.loadVariableFromJSONFileAsyncTask"),a.addAction("DeleteFile",e("Delete a file"),e("Delete a file from the filesystem."),e("Delete the file _PARAM0_"),e("Windows, Linux, MacOS"),"JsPlatform/Extensions/filesystem_delete_file32.png","JsPlatform/Extensions/filesystem_delete_file32.png").addParameter("string",e("File path"),"",!1).addParameter("scenevar",e("(Optional) Variable to store the result. 'ok': task was successful, 'error': an error occurred."),"",!0).getCodeExtraInformation().setIncludeFile("Extensions/FileSystem/filesystemtools.js").setFunctionName("gdjs.fileSystem.deleteFile"),a.addAction("DeleteFileAsync",e("Delete a file (Async)"),e("Delete a file from the filesystem asynchronously. The option result variable will be updated once the file is deleted."),e("Delete the file _PARAM0_"),e("Windows, Linux, MacOS/Asynchronous"),"JsPlatform/Extensions/filesystem_delete_file32.png","JsPlatform/Extensions/filesystem_delete_file32.png").addParameter("string",e("File path"),"",!1).addParameter("scenevar",e("(Optional) Variable to store the result. 'ok': task was successful, 'error': an error occurred."),"",!0).getCodeExtraInformation().setIncludeFile("Extensions/FileSystem/filesystemtools.js").setFunctionName("gdjs.fileSystem.deleteFileAsync").setAsyncFunctionName("gdjs.fileSystem.deleteFileAsyncTask"),a.addAction("ReadDirectory",e("Read a directory"),e("Reads the contents of a directory (all files and sub-directories) and stores them in an array."),e("Read the directory _PARAM0_ into _PARAM1_"),e("Windows, Linux, MacOS/Asynchronous"),"JsPlatform/Extensions/filesystem_delete_file32.png","JsPlatform/Extensions/filesystem_delete_file32.png").addParameter("string",e("Directory path"),"",!1).addParameter("scenevar",e("Variable to store the result"),"",!0).setParameterLongDescription('It is set to `"error"` if an error has occured, otherwise it is set to an array of all files and sub-directories present in the directory.').getCodeExtraInformation().setIncludeFile("Extensions/FileSystem/filesystemtools.js").setFunctionName("gdjs.fileSystem.readdir").setAsyncFunctionName("gdjs.fileSystem.readdirAsync"),a.addStrExpression("DesktopPath",e("Desktop folder"),e("Get the path to the desktop folder."),e("Windows, Linux, MacOS"),"JsPlatform/Extensions/filesystem_folder32.png").addCodeOnlyParameter("currentScene","").getCodeExtraInformation().setIncludeFile("Extensions/FileSystem/filesystemtools.js").setFunctionName("gdjs.fileSystem.getDesktopPath"),a.addStrExpression("DocumentsPath",e("Documents folder"),e("Get the path to the documents folder."),e("Windows, Linux, MacOS"),"JsPlatform/Extensions/filesystem_folder32.png").addCodeOnlyParameter("currentScene","").getCodeExtraInformation().setIncludeFile("Extensions/FileSystem/filesystemtools.js").setFunctionName("gdjs.fileSystem.getDocumentsPath"),a.addStrExpression("PicturesPath",e("Pictures folder"),e("Get the path to the pictures folder."),e("Windows, Linux, MacOS"),"JsPlatform/Extensions/filesystem_folder32.png").addCodeOnlyParameter("currentScene","").getCodeExtraInformation().setIncludeFile("Extensions/FileSystem/filesystemtools.js").setFunctionName("gdjs.fileSystem.getPicturesPath"),a.addStrExpression("ExecutablePath",e("Game executable file"),e("Get the path to this game executable file."),e("Windows, Linux, MacOS"),"JsPlatform/Extensions/filesystem_folder32.png").addCodeOnlyParameter("currentScene","").getCodeExtraInformation().setIncludeFile("Extensions/FileSystem/filesystemtools.js").setFunctionName("gdjs.fileSystem.getExecutablePath"),a.addStrExpression("ExecutableFolderPath",e("Game executable folder"),e("Get the path to this game executable folder."),e("Windows, Linux, MacOS"),"JsPlatform/Extensions/filesystem_folder32.png").addCodeOnlyParameter("currentScene","").getCodeExtraInformation().setIncludeFile("Extensions/FileSystem/filesystemtools.js").setFunctionName("gdjs.fileSystem.getExecutableFolderPath"),a.addStrExpression("UserdataPath",e("Userdata folder (for application settings)"),e("Get the path to userdata folder (for application settings)."),e("Windows, Linux, MacOS"),"JsPlatform/Extensions/filesystem_folder32.png").addCodeOnlyParameter("currentScene","").getCodeExtraInformation().setIncludeFile("Extensions/FileSystem/filesystemtools.js").setFunctionName("gdjs.fileSystem.getUserdataPath"),a.addStrExpression("UserHomePath",e("User's Home folder"),e("Get the path to the user home folder."),e("Windows, Linux, MacOS"),"JsPlatform/Extensions/filesystem_folder32.png").addCodeOnlyParameter("currentScene","").getCodeExtraInformation().setIncludeFile("Extensions/FileSystem/filesystemtools.js").setFunctionName("gdjs.fileSystem.getUserHomePath"),a.addStrExpression("TempPath",e("Temp folder"),e("Get the path to temp folder."),e("Windows, Linux, MacOS"),"JsPlatform/Extensions/filesystem_folder32.png").addCodeOnlyParameter("currentScene","").getCodeExtraInformation().setIncludeFile("Extensions/FileSystem/filesystemtools.js").setFunctionName("gdjs.fileSystem.getTempPath"),a.addStrExpression("PathDelimiter",e("Path delimiter"),e("Get the operating system path delimiter."),e("Windows, Linux, MacOS"),"JsPlatform/Extensions/filesystem_folder32.png").getCodeExtraInformation().setIncludeFile("Extensions/FileSystem/filesystemtools.js").setFunctionName("gdjs.fileSystem.getPathDelimiter"),a.addStrExpression("DirectoryName",e("Get directory name from a path"),e("Returns the portion of the path that represents the directories, without the ending file name."),e("Windows, Linux, MacOS"),"JsPlatform/Extensions/filesystem_folder32.png").addParameter("string",e("File or folder path"),"",!1).getCodeExtraInformation().setIncludeFile("Extensions/FileSystem/filesystemtools.js").setFunctionName("gdjs.fileSystem.getDirectoryName"),a.addStrExpression("FileName",e("Get file name from a path"),e("Returns the name of the file with its extension, if any."),e("Windows, Linux, MacOS"),"JsPlatform/Extensions/filesystem_folder32.png").addParameter("string",e("File path"),"",!1).getCodeExtraInformation().setIncludeFile("Extensions/FileSystem/filesystemtools.js").setFunctionName("gdjs.fileSystem.getFileName"),a.addStrExpression("ExtensionName",e("Get the extension from a file path"),e('Returns the extension of the file designated by the given path, including the extension period. For example: ".txt".'),e("Windows, Linux, MacOS"),"JsPlatform/Extensions/filesystem_folder32.png").addParameter("string",e("File path"),"",!1).getCodeExtraInformation().setIncludeFile("Extensions/FileSystem/filesystemtools.js").setFunctionName("gdjs.fileSystem.getExtensionName"),a},runExtensionSanityTests:function(e,t){return[]}}},81386:function(e){e.exports={createExtension:function(e,t){var a=new t.PlatformExtension;a.setExtensionInformation("Firebase",e("Firebase"),e("Use Google Firebase services (database, functions, storage...) in your game."),"Arthur Pacaud (arthuro555)","MIT").setExtensionHelpPath("/all-features/firebase").setCategory("Network"),a.addInstructionOrExpressionGroupMetadata(e("Firebase")).setIcon("JsPlatform/Extensions/firebase.png"),a.registerProperty("FirebaseConfig").setLabel(e("Firebase configuration string")).setType("multilinestring"),a.addAction("AnalyticsEnable",e("Enable analytics"),e("Enables Analytics for that project."),e("Enable analytics"),e("Analytics"),"JsPlatform/Extensions/firebase.png","JsPlatform/Extensions/firebase.png").getCodeExtraInformation().setIncludeFile("Extensions/Firebase/A_firebasejs/A_firebase-base.js").addIncludeFile("Extensions/Firebase/A_firebasejs/B_firebase-analytics.js").addIncludeFile("Extensions/Firebase/B_firebasetools/C_firebasetools.js").addIncludeFile("Extensions/Firebase/B_firebasetools/D_analyticstools.js").setFunctionName("firebase.analytics"),a.addAction("AnalyticsLog",e("Log an Event"),e("Triggers an Event/Conversion for the current user on the Analytics.Can also pass additional data to the Analytics"),e("Trigger Event _PARAM0_ with argument _PARAM1_"),e("Analytics"),"JsPlatform/Extensions/firebase.png","JsPlatform/Extensions/firebase.png").addParameter("string",e("Event Name"),"",!1).addParameter("string",e("Additional Data"),"",!1).getCodeExtraInformation().setIncludeFile("Extensions/Firebase/A_firebasejs/A_firebase-base.js").addIncludeFile("Extensions/Firebase/A_firebasejs/B_firebase-analytics.js").addIncludeFile("Extensions/Firebase/B_firebasetools/C_firebasetools.js").addIncludeFile("Extensions/Firebase/B_firebasetools/D_analyticstools.js").setFunctionName("gdjs.evtTools.firebaseTools.analytics.log"),a.addAction("AnalyticsSetUID",e("User UID"),e("Changes the current user's analytics identifier. This is what let Analytics differentiate user, so it should always be unique for each user. For advanced usage only."),e("Set current user's ID to _PARAM0_"),e("Analytics"),"JsPlatform/Extensions/firebase.png","JsPlatform/Extensions/firebase.png").addParameter("string",e("New Unique ID"),"",!1).markAsComplex().getCodeExtraInformation().setIncludeFile("Extensions/Firebase/A_firebasejs/A_firebase-base.js").addIncludeFile("Extensions/Firebase/A_firebasejs/B_firebase-analytics.js").addIncludeFile("Extensions/Firebase/B_firebasetools/C_firebasetools.js").addIncludeFile("Extensions/Firebase/B_firebasetools/D_analyticstools.js").setFunctionName("gdjs.evtTools.firebaseTools.analytics.setUserID"),a.addAction("AnalyticsSetProperty",e("Set a user's property"),e("Sets an user's properties.Can be used to classify user in Analytics."),e("Set property _PARAM0_ of the current user to _PARAM1_"),e("Analytics"),"JsPlatform/Extensions/firebase.png","JsPlatform/Extensions/firebase.png").addParameter("string",e("Property Name"),"",!1).addParameter("string",e("Property Data"),"",!1).markAsAdvanced().getCodeExtraInformation().setIncludeFile("Extensions/Firebase/A_firebasejs/A_firebase-base.js").addIncludeFile("Extensions/Firebase/A_firebasejs/B_firebase-analytics.js").addIncludeFile("Extensions/Firebase/B_firebasetools/C_firebasetools.js").addIncludeFile("Extensions/Firebase/B_firebasetools/D_analyticstools.js").setFunctionName("gdjs.evtTools.firebaseTools.analytics.setProperty"),a.addStrExpression("GetRemoteConfigString",e("Get Remote setting as String"),e("Get a setting from Firebase Remote Config as a string."),e("Remote Config"),"JsPlatform/Extensions/firebase.png").addParameter("string",e("Setting Name"),"",!1).getCodeExtraInformation().setIncludeFile("Extensions/Firebase/A_firebasejs/A_firebase-base.js").addIncludeFile("Extensions/Firebase/A_firebasejs/B_firebase-remote-config.js").addIncludeFile("Extensions/Firebase/B_firebasetools/C_firebasetools.js").addIncludeFile("Extensions/Firebase/B_firebasetools/D_remoteconfigtools.js").setFunctionName("firebase.remoteConfig().getString"),a.addExpression("GetRemoteConfigNumber",e("Get Remote setting as Number"),e("Get a setting from Firebase Remote Config as Number."),e("Remote Config"),"JsPlatform/Extensions/firebase.png").addParameter("string",e("Setting Name"),"",!1).getCodeExtraInformation().setIncludeFile("Extensions/Firebase/A_firebasejs/A_firebase-base.js").addIncludeFile("Extensions/Firebase/A_firebasejs/B_firebase-remote-config.js").addIncludeFile("Extensions/Firebase/B_firebasetools/C_firebasetools.js").addIncludeFile("Extensions/Firebase/B_firebasetools/D_remoteconfigtools.js").setFunctionName("firebase.remoteConfig().getNumber"),a.addAction("SetRemoteConfigAutoUpdateInterval",e("Set Remote Config Auto Update Interval"),e("Sets Remote Config Auto Update Interval."),e("Set Remote Config Auto Update Interval to _PARAM0_"),e("Remote Config"),"JsPlatform/Extensions/firebase.png","JsPlatform/Extensions/firebase.png").addParameter("number",e("Update Interval in ms"),"",!1).getCodeExtraInformation().setIncludeFile("Extensions/Firebase/A_firebasejs/A_firebase-base.js").addIncludeFile("Extensions/Firebase/A_firebasejs/B_firebase-remote-config.js").addIncludeFile("Extensions/Firebase/B_firebasetools/C_firebasetools.js").addIncludeFile("Extensions/Firebase/B_firebasetools/D_remoteconfigtools.js").setFunctionName("gdjs.evtTools.firebaseTools.remoteConfig.setAutoUpdateInterval"),a.addAction("SetRemoteConfigDefaultConfig",e("Set the default configuration"),e("As the Remote Config is stored online, you need to set default values or the Remote Config expressions to return while there is no internet or the config is still loading."),e("Set default config to _PARAM0_"),e("Remote Config"),"JsPlatform/Extensions/firebase.png","JsPlatform/Extensions/firebase.png").addParameter("scenevar",e("Structure with defaults"),"",!1).getCodeExtraInformation().setIncludeFile("Extensions/Firebase/A_firebasejs/A_firebase-base.js").addIncludeFile("Extensions/Firebase/A_firebasejs/B_firebase-remote-config.js").addIncludeFile("Extensions/Firebase/B_firebasetools/C_firebasetools.js").addIncludeFile("Extensions/Firebase/B_firebasetools/D_remoteconfigtools.js").setFunctionName("gdjs.evtTools.firebaseTools.remoteConfig.setDefaultConfig"),a.addAction("ForceReloadRemoteConfig",e("Force sync the configuration"),e("Use this to sync the Remote Config with the client at any time."),e("Synchronize Remote Config"),e("Remote Config"),"JsPlatform/Extensions/firebase.png","JsPlatform/Extensions/firebase.png").getCodeExtraInformation().setIncludeFile("Extensions/Firebase/A_firebasejs/A_firebase-base.js").addIncludeFile("Extensions/Firebase/A_firebasejs/B_firebase-remote-config.js").setFunctionName("firebase.remoteConfig().fetchAndActivate"),a.addAction("CreateBasicAccount",e("Create account with email"),e("Create an account with email and password as credentials."),e("Create account with email _PARAM0_ and password _PARAM1_ (store result in _PARAM2_)"),e("Authentication"),"JsPlatform/Extensions/firebase.png","JsPlatform/Extensions/firebase.png").addParameter("string",e("Email"),"",!1).addParameter("string",e("Password"),"",!1).addParameter("scenevar",e("Callback variable with state (ok or error)"),"",!0).getCodeExtraInformation().setIncludeFile("Extensions/Firebase/A_firebasejs/A_firebase-base.js").addIncludeFile("Extensions/Firebase/A_firebasejs/B_firebase-auth.js").addIncludeFile("Extensions/Firebase/B_firebasetools/C_firebasetools.js").addIncludeFile("Extensions/Firebase/B_firebasetools/D_authtools.js").setFunctionName("gdjs.evtTools.firebaseTools.auth.createAccountWithEmail"),a.addAction("BasicAccountSignIn",e("Sign into an account with email"),e("Sign into an account with email and password as credentials. "),e("Connect to account with email _PARAM0_ and password _PARAM1_ (store result in _PARAM2_)"),e("Authentication"),"JsPlatform/Extensions/firebase.png","JsPlatform/Extensions/firebase.png").addParameter("string",e("Email"),"",!1).addParameter("string",e("Password"),"",!1).addParameter("scenevar",e("Callback variable with state (ok or error)"),"",!0).getCodeExtraInformation().setIncludeFile("Extensions/Firebase/A_firebasejs/A_firebase-base.js").addIncludeFile("Extensions/Firebase/A_firebasejs/B_firebase-auth.js").addIncludeFile("Extensions/Firebase/B_firebasetools/C_firebasetools.js").addIncludeFile("Extensions/Firebase/B_firebasetools/D_authtools.js").setFunctionName("gdjs.evtTools.firebaseTools.auth.signInWithEmail"),a.addAction("Logout",e("Log out of the account"),e("Logs out of the current account. "),e("Log out from the account"),e("Authentication"),"JsPlatform/Extensions/firebase.png","JsPlatform/Extensions/firebase.png").getCodeExtraInformation().setIncludeFile("Extensions/Firebase/A_firebasejs/A_firebase-base.js").addIncludeFile("Extensions/Firebase/A_firebasejs/B_firebase-auth.js").addIncludeFile("Extensions/Firebase/B_firebasetools/C_firebasetools.js").addIncludeFile("Extensions/Firebase/B_firebasetools/D_authtools.js").setFunctionName("firebase.auth().signOut"),a.addAction("ProviderAccountSignIn",e("Sign into an account via an external provider"),e('Signs into an account using an external provider\'s system. The available providers are: "google", "facebook", "github" and "twitter".\nProvider authentication only works in the browser! Not on previews or pc/mobile exports.'),e("Connect to account via provider _PARAM0_ (store result in _PARAM1_)"),e("Authentication"),"JsPlatform/Extensions/firebase.png","JsPlatform/Extensions/firebase.png").addParameter("stringWithSelector",e("Provider"),'["google", "facebook", "github", "twitter"]',!1).addParameter("scenevar",e("Callback variable with state (ok or error)"),"",!0).getCodeExtraInformation().setIncludeFile("Extensions/Firebase/A_firebasejs/A_firebase-base.js").addIncludeFile("Extensions/Firebase/A_firebasejs/B_firebase-auth.js").addIncludeFile("Extensions/Firebase/B_firebasetools/C_firebasetools.js").addIncludeFile("Extensions/Firebase/B_firebasetools/D_authtools.js").setFunctionName("gdjs.evtTools.firebaseTools.auth.signInWithProvider"),a.addAction("AnonymousSignIn",e("Sign In as an anonymous guest"),e("Sign into a temporary anonymous account."),e("Authenticate anonymously (store result in _PARAM0_)"),e("Authentication"),"JsPlatform/Extensions/firebase.png","JsPlatform/Extensions/firebase.png").addParameter("scenevar",e("Callback variable with state (ok or error)"),"",!0).getCodeExtraInformation().setIncludeFile("Extensions/Firebase/A_firebasejs/A_firebase-base.js").addIncludeFile("Extensions/Firebase/A_firebasejs/B_firebase-auth.js").addIncludeFile("Extensions/Firebase/B_firebasetools/C_firebasetools.js").addIncludeFile("Extensions/Firebase/B_firebasetools/D_authtools.js").setFunctionName("gdjs.evtTools.firebaseTools.auth.anonymSignIn"),a.addCondition("IsSignedIn",e("Is the user signed in?"),e("Checks if the user is signed in. \nYou should always use this before actions requiring authentications."),e("Check for authentication"),e("Authentication"),"JsPlatform/Extensions/firebase.png","JsPlatform/Extensions/firebase.png").getCodeExtraInformation().setIncludeFile("Extensions/Firebase/A_firebasejs/A_firebase-base.js").addIncludeFile("Extensions/Firebase/A_firebasejs/B_firebase-auth.js").addIncludeFile("Extensions/Firebase/B_firebasetools/C_firebasetools.js").addIncludeFile("Extensions/Firebase/B_firebasetools/D_authtools.js").setFunctionName("gdjs.evtTools.firebaseTools.auth.isAuthenticated"),a.addStrExpression("GetAuthToken",e("User authentication token"),e("Get the user authentication token. The token is the proof of authentication."),e("Authentication"),"JsPlatform/Extensions/firebase.png").addParameter("string",e("Setting Name"),"",!1).getCodeExtraInformation().setIncludeFile("Extensions/Firebase/A_firebasejs/A_firebase-base.js").addIncludeFile("Extensions/Firebase/A_firebasejs/B_firebase-auth.js").addIncludeFile("Extensions/Firebase/B_firebasetools/C_firebasetools.js").addIncludeFile("Extensions/Firebase/B_firebasetools/D_authtools.js").setFunctionName("gdjs.evtTools.firebaseTools.auth.token"),a.addCondition("IsEmailVerified",e("Is the user email address verified"),e("Checks if the email address of the user got verified."),e("The email of the user is verified"),e("Authentication \u276f User Management"),"JsPlatform/Extensions/firebase.png","JsPlatform/Extensions/firebase.png").getCodeExtraInformation().setIncludeFile("Extensions/Firebase/A_firebasejs/A_firebase-base.js").addIncludeFile("Extensions/Firebase/A_firebasejs/B_firebase-auth.js").addIncludeFile("Extensions/Firebase/B_firebasetools/C_firebasetools.js").addIncludeFile("Extensions/Firebase/B_firebasetools/D_authtools.js").setFunctionName("gdjs.evtTools.firebaseTools.auth.userManagement.isEmailVerified"),a.addStrExpression("GetUserEmail",e("User email address"),e("Return the user email address."),e("Authentication \u276f User Management"),"JsPlatform/Extensions/firebase.png").getCodeExtraInformation().setIncludeFile("Extensions/Firebase/A_firebasejs/A_firebase-base.js").addIncludeFile("Extensions/Firebase/A_firebasejs/B_firebase-auth.js").addIncludeFile("Extensions/Firebase/B_firebasetools/C_firebasetools.js").addIncludeFile("Extensions/Firebase/B_firebasetools/D_authtools.js").setFunctionName("gdjs.evtTools.firebaseTools.auth.userManagement.getEmail"),a.addStrExpression("GetAccountCreationTime",e("Accounts creation time"),e("Return the accounts creation time."),e("Authentication \u276f User Management"),"JsPlatform/Extensions/firebase.png").getCodeExtraInformation().setIncludeFile("Extensions/Firebase/A_firebasejs/A_firebase-base.js").addIncludeFile("Extensions/Firebase/A_firebasejs/B_firebase-auth.js").addIncludeFile("Extensions/Firebase/B_firebasetools/C_firebasetools.js").addIncludeFile("Extensions/Firebase/B_firebasetools/D_authtools.js").setFunctionName("gdjs.evtTools.firebaseTools.auth.userManagement.getCreationTime"),a.addStrExpression("GetLastLoginTime",e("User last login time"),e("Return the user last login time."),e("Authentication \u276f User Management"),"JsPlatform/Extensions/firebase.png").getCodeExtraInformation().setIncludeFile("Extensions/Firebase/A_firebasejs/A_firebase-base.js").addIncludeFile("Extensions/Firebase/A_firebasejs/B_firebase-auth.js").addIncludeFile("Extensions/Firebase/B_firebasetools/C_firebasetools.js").addIncludeFile("Extensions/Firebase/B_firebasetools/D_authtools.js").setFunctionName("gdjs.evtTools.firebaseTools.auth.userManagement.getLastLoginTime"),a.addStrExpression("GetUserDisplayName",e("User display name"),e("Return the user display name."),e("Authentication \u276f User Management"),"JsPlatform/Extensions/firebase.png").getCodeExtraInformation().setIncludeFile("Extensions/Firebase/A_firebasejs/A_firebase-base.js").addIncludeFile("Extensions/Firebase/A_firebasejs/B_firebase-auth.js").addIncludeFile("Extensions/Firebase/B_firebasetools/C_firebasetools.js").addIncludeFile("Extensions/Firebase/B_firebasetools/D_authtools.js").setFunctionName("gdjs.evtTools.firebaseTools.auth.userManagement.getDisplayName"),a.addStrExpression("GetPhoneNumber",e("User phone number"),e("Return the user phone number."),e("Authentication \u276f User Management"),"JsPlatform/Extensions/firebase.png").getCodeExtraInformation().setIncludeFile("Extensions/Firebase/A_firebasejs/A_firebase-base.js").addIncludeFile("Extensions/Firebase/A_firebasejs/B_firebase-auth.js").addIncludeFile("Extensions/Firebase/B_firebasetools/C_firebasetools.js").addIncludeFile("Extensions/Firebase/B_firebasetools/D_authtools.js").setFunctionName("gdjs.evtTools.firebaseTools.auth.userManagement.getPhoneNumber"),a.addStrExpression("GetUserUID",e("User UID"),e("Return the user Unique IDentifier. Use that to link data to an user instead of the name or email."),e("Authentication \u276f User Management"),"JsPlatform/Extensions/firebase.png").getCodeExtraInformation().setIncludeFile("Extensions/Firebase/A_firebasejs/A_firebase-base.js").addIncludeFile("Extensions/Firebase/A_firebasejs/B_firebase-auth.js").addIncludeFile("Extensions/Firebase/B_firebasetools/C_firebasetools.js").addIncludeFile("Extensions/Firebase/B_firebasetools/D_authtools.js").setFunctionName("gdjs.evtTools.firebaseTools.auth.userManagement.getUID"),a.addStrExpression("GetTenantID",e("User tenant ID"),e("Return the user tenant ID. For advanced usage only."),e("Authentication \u276f User Management"),"JsPlatform/Extensions/firebase.png").getCodeExtraInformation().setIncludeFile("Extensions/Firebase/A_firebasejs/A_firebase-base.js").addIncludeFile("Extensions/Firebase/A_firebasejs/B_firebase-auth.js").addIncludeFile("Extensions/Firebase/B_firebasetools/C_firebasetools.js").addIncludeFile("Extensions/Firebase/B_firebasetools/D_authtools.js").setFunctionName("gdjs.evtTools.firebaseTools.auth.userManagement.getTenantID"),a.addStrExpression("GetRefreshToken",e("User refresh token"),e("Return the user refresh token. For advanced usage only."),e("Authentication \u276f User Management"),"JsPlatform/Extensions/firebase.png").getCodeExtraInformation().setIncludeFile("Extensions/Firebase/A_firebasejs/A_firebase-base.js").addIncludeFile("Extensions/Firebase/A_firebasejs/B_firebase-auth.js").addIncludeFile("Extensions/Firebase/B_firebasetools/C_firebasetools.js").addIncludeFile("Extensions/Firebase/B_firebasetools/D_authtools.js").setFunctionName("gdjs.evtTools.firebaseTools.auth.userManagement.getRefreshToken"),a.addStrExpression("GetPhotoURL",e("Profile picture URL"),e("Gets an URL to the user profile picture."),e("Authentication \u276f User Management"),"JsPlatform/Extensions/firebase.png").getCodeExtraInformation().setIncludeFile("Extensions/Firebase/A_firebasejs/A_firebase-base.js").addIncludeFile("Extensions/Firebase/A_firebasejs/B_firebase-auth.js").addIncludeFile("Extensions/Firebase/B_firebasetools/C_firebasetools.js").addIncludeFile("Extensions/Firebase/B_firebasetools/D_authtools.js").setFunctionName("gdjs.evtTools.firebaseTools.auth.userManagement.getPhotoURL"),a.addAction("SendPasswordResetEmail",e("Send a password reset email"),e("Send a password reset link per email."),e("Send a password reset email"),e("Authentication \u276f User Management"),"JsPlatform/Extensions/firebase.png","JsPlatform/Extensions/firebase.png").addParameter("string",e("Email of the user whose password must be reset"),"",!1).getCodeExtraInformation().setIncludeFile("Extensions/Firebase/A_firebasejs/A_firebase-base.js").addIncludeFile("Extensions/Firebase/A_firebasejs/B_firebase-auth.js").addIncludeFile("Extensions/Firebase/B_firebasetools/C_firebasetools.js").setFunctionName("firebase.auth().sendPasswordResetEmail"),a.addAction("SendEmailVerification",e("Send a verification email"),e("Send a link per email to verify the user email."),e("Send a verification email"),e("Authentication \u276f User Management"),"JsPlatform/Extensions/firebase.png","JsPlatform/Extensions/firebase.png").getCodeExtraInformation().setIncludeFile("Extensions/Firebase/A_firebasejs/A_firebase-base.js").addIncludeFile("Extensions/Firebase/A_firebasejs/B_firebase-auth.js").addIncludeFile("Extensions/Firebase/B_firebasetools/C_firebasetools.js").addIncludeFile("Extensions/Firebase/B_firebasetools/D_authtools.js").setFunctionName("gdjs.evtTools.firebaseTools.auth.userManagement.sendVerificationEmail"),a.addAction("SetDisplayName",e("Display name"),e("Sets the user display name."),e("Set the user's display name to _PARAM0_"),e("Authentication \u276f User Management"),"JsPlatform/Extensions/firebase.png","JsPlatform/Extensions/firebase.png").addParameter("string",e("New display name"),"",!1).getCodeExtraInformation().setIncludeFile("Extensions/Firebase/A_firebasejs/A_firebase-base.js").addIncludeFile("Extensions/Firebase/A_firebasejs/B_firebase-auth.js").addIncludeFile("Extensions/Firebase/B_firebasetools/C_firebasetools.js").addIncludeFile("Extensions/Firebase/B_firebasetools/D_authtools.js").setFunctionName("gdjs.evtTools.firebaseTools.auth.userManagement.setDisplayName"),a.addAction("SetPhotoURL",e("Profile picture"),e("Change the user profile picture URL to a new one."),e("Change the user's profile picture URL to _PARAM0_"),e("Authentication \u276f User Management"),"JsPlatform/Extensions/firebase.png","JsPlatform/Extensions/firebase.png").addParameter("string",e("New profile picture URL"),"",!1).getCodeExtraInformation().setIncludeFile("Extensions/Firebase/A_firebasejs/A_firebase-base.js").addIncludeFile("Extensions/Firebase/A_firebasejs/B_firebase-auth.js").addIncludeFile("Extensions/Firebase/B_firebasetools/C_firebasetools.js").addIncludeFile("Extensions/Firebase/B_firebasetools/D_authtools.js").setFunctionName("gdjs.evtTools.firebaseTools.auth.userManagement.setPhotoURL"),a.addAction("ChangeEmail",e("User email"),e("This action is dangerous so it requires reauthentication.\nChanges the user's email address."),e("Change the user's email to _PARAM0_ and store result in _PARAM4_ (send verification email: _PARAM3_)"),e("Authentication \u276f User Management \u276f Advanced"),"JsPlatform/Extensions/firebase.png","JsPlatform/Extensions/firebase.png").addParameter("string",e("Old email"),"",!1).addParameter("string",e("Password"),"",!1).addParameter("string",e("New email"),"",!1).addParameter("yesorno",e("Send a verification email before doing the change?"),"",!1).setDefaultValue("true").addParameter("scenevar",e("Callback variable with state (ok or error)"),"",!0).getCodeExtraInformation().setIncludeFile("Extensions/Firebase/A_firebasejs/A_firebase-base.js").addIncludeFile("Extensions/Firebase/A_firebasejs/B_firebase-auth.js").addIncludeFile("Extensions/Firebase/B_firebasetools/C_firebasetools.js").addIncludeFile("Extensions/Firebase/B_firebasetools/D_authtools.js").setFunctionName("gdjs.evtTools.firebaseTools.auth.userManagement.dangerous.changeEmail"),a.addAction("ChangeEmailProvider",e("User email (Provider)"),e("This action is dangerous so it requires reauthentication.\nChanges the user's email address.\nThis is the same as Change the user email but reauthenticates via an external provider."),e("Change the user's email to _PARAM0_ and store result in _PARAM2_ (send verification email: _PARAM1_)"),e("Authentication \u276f User Management \u276f Advanced"),"JsPlatform/Extensions/firebase.png","JsPlatform/Extensions/firebase.png").addParameter("string",e("New email"),"",!1).addParameter("yesorno",e("Send a verification email before doing the change?"),"",!1).setDefaultValue("true").addParameter("scenevar",e("Callback variable with state (ok or error)"),"",!0).getCodeExtraInformation().setIncludeFile("Extensions/Firebase/A_firebasejs/A_firebase-base.js").addIncludeFile("Extensions/Firebase/A_firebasejs/B_firebase-auth.js").addIncludeFile("Extensions/Firebase/B_firebasetools/C_firebasetools.js").addIncludeFile("Extensions/Firebase/B_firebasetools/D_authtools.js").setFunctionName("gdjs.evtTools.firebaseTools.auth.userManagement.dangerous.changeEmailProvider"),a.addAction("ChangePassword",e("User password"),e("This action is dangerous so it requires reauthentication.\nChanges the user password."),e("Change the user password to _PARAM2_ and store result in _PARAM4_ (send verification email: _PARAM3_)"),e("Authentication \u276f User Management \u276f Advanced"),"JsPlatform/Extensions/firebase.png","JsPlatform/Extensions/firebase.png").addParameter("string",e("Email"),"",!1).addParameter("string",e("Old password"),"",!1).addParameter("string",e("New password"),"",!1).addParameter("yesorno",e("Send a verification email before doing the change?"),"",!1).setDefaultValue("true").addParameter("scenevar",e("Callback variable with state (ok or error)"),"",!0).getCodeExtraInformation().setIncludeFile("Extensions/Firebase/A_firebasejs/A_firebase-base.js").addIncludeFile("Extensions/Firebase/A_firebasejs/B_firebase-auth.js").addIncludeFile("Extensions/Firebase/B_firebasetools/C_firebasetools.js").addIncludeFile("Extensions/Firebase/B_firebasetools/D_authtools.js").setFunctionName("gdjs.evtTools.firebaseTools.auth.userManagement.dangerous.changePassword"),a.addAction("ChangePasswordProvider",e("User password (Provider)"),e('This action is dangerous so it requires reauthentication.\nChanges the user password.\nThis is the same as "Change the user password" but reauthenticates via an external provider.'),e("Change the user password to _PARAM0_ and store result in _PARAM2_ (send verification email: _PARAM1_)"),e("Authentication \u276f User Management \u276f Advanced"),"JsPlatform/Extensions/firebase.png","JsPlatform/Extensions/firebase.png").addParameter("string",e("New Password"),"",!1).addParameter("yesorno",e("Send a verification email before doing the change?"),"",!1).setDefaultValue("true").addParameter("scenevar",e("Callback variable with state (ok or error)"),"",!0).getCodeExtraInformation().setIncludeFile("Extensions/Firebase/A_firebasejs/A_firebase-base.js").addIncludeFile("Extensions/Firebase/A_firebasejs/B_firebase-auth.js").addIncludeFile("Extensions/Firebase/B_firebasetools/C_firebasetools.js").addIncludeFile("Extensions/Firebase/B_firebasetools/D_authtools.js").setFunctionName("gdjs.evtTools.firebaseTools.auth.userManagement.dangerous.changePasswordProvider"),a.addAction("DeleteUser",e("Delete the user account"),e("This action is dangerous so it requires reauthentication.\nDeletes the user account."),e("Delete the user account and store result in _PARAM2_"),e("Authentication \u276f User Management \u276f Advanced"),"JsPlatform/Extensions/firebase.png","JsPlatform/Extensions/firebase.png").addParameter("string",e("Email"),"",!1).addParameter("string",e("Password"),"",!1).addParameter("scenevar",e("Callback variable with state (ok or error)"),"",!0).getCodeExtraInformation().setIncludeFile("Extensions/Firebase/A_firebasejs/A_firebase-base.js").addIncludeFile("Extensions/Firebase/A_firebasejs/B_firebase-auth.js").addIncludeFile("Extensions/Firebase/B_firebasetools/C_firebasetools.js").addIncludeFile("Extensions/Firebase/B_firebasetools/D_authtools.js").setFunctionName("gdjs.evtTools.firebaseTools.auth.userManagement.dangerous.deleteUser"),a.addAction("DeleteUserProvider",e("Delete the user account (Provider)"),e('This action is dangerous so it requires reauthentication.\nDeletes the user account.\nThis is the same as "Delete the user account" but reauthenticates via an external provider.'),e("Delete the user account and store result in _PARAM0_"),e("Authentication \u276f User Management \u276f Advanced"),"JsPlatform/Extensions/firebase.png","JsPlatform/Extensions/firebase.png").addParameter("scenevar",e("Callback variable with state (ok or error)"),"",!0).getCodeExtraInformation().setIncludeFile("Extensions/Firebase/A_firebasejs/A_firebase-base.js").addIncludeFile("Extensions/Firebase/A_firebasejs/B_firebase-auth.js").addIncludeFile("Extensions/Firebase/B_firebasetools/C_firebasetools.js").addIncludeFile("Extensions/Firebase/B_firebasetools/D_authtools.js").setFunctionName("gdjs.evtTools.firebaseTools.auth.userManagement.dangerous.deleteUserProvider"),a.addAction("EnablePerformance",e("Enable performance measuring"),e("Enables performance measuring."),e("Enable performance measuring"),e("Performance Measuring"),"JsPlatform/Extensions/firebase.png","JsPlatform/Extensions/firebase.png").getCodeExtraInformation().setIncludeFile("Extensions/Firebase/A_firebasejs/A_firebase-base.js").addIncludeFile("Extensions/Firebase/A_firebasejs/B_firebase-performance.js").addIncludeFile("Extensions/Firebase/B_firebasetools/C_firebasetools.js").setFunctionName("firebase.performance"),a.addAction("AddTracer",e("Create a custom performance tracker"),e("Creates a new custom performance tracker (If it doesn't already exists). They are used to measure performance of custom events."),e("Create performance tracker: _PARAM0_"),e("Performance Measuring"),"JsPlatform/Extensions/firebase.png","JsPlatform/Extensions/firebase.png").addParameter("string",e("Tracker Name"),"",!1).getCodeExtraInformation().setIncludeFile("Extensions/Firebase/A_firebasejs/A_firebase-base.js").addIncludeFile("Extensions/Firebase/A_firebasejs/B_firebase-performance.js").addIncludeFile("Extensions/Firebase/B_firebasetools/C_firebasetools.js").addIncludeFile("Extensions/Firebase/B_firebasetools/D_performancetools.js").setFunctionName("gdjs.evtTools.firebaseTools.performance.getTracer"),a.addAction("StartTracer",e("Start a tracer"),e("Start measuring performance for that tracer"),e("Start performance measuring on tracer _PARAM0_"),e("Performance Measuring"),"JsPlatform/Extensions/firebase.png","JsPlatform/Extensions/firebase.png").addParameter("string",e("Tracker Name"),"",!1).getCodeExtraInformation().setIncludeFile("Extensions/Firebase/A_firebasejs/A_firebase-base.js").addIncludeFile("Extensions/Firebase/A_firebasejs/B_firebase-performance.js").addIncludeFile("Extensions/Firebase/B_firebasetools/C_firebasetools.js").addIncludeFile("Extensions/Firebase/B_firebasetools/D_performancetools.js").setFunctionName("gdjs.evtTools.firebaseTools.performance.startTracer"),a.addAction("StopTracer",e("Stop a tracer"),e("Stop measuring performance for that tracer"),e("Stop performance measuring on tracer _PARAM0_"),e("Performance Measuring"),"JsPlatform/Extensions/firebase.png","JsPlatform/Extensions/firebase.png").addParameter("string",e("Tracker Name"),"",!1).getCodeExtraInformation().setIncludeFile("Extensions/Firebase/A_firebasejs/A_firebase-base.js").addIncludeFile("Extensions/Firebase/A_firebasejs/B_firebase-performance.js").addIncludeFile("Extensions/Firebase/B_firebasetools/C_firebasetools.js").addIncludeFile("Extensions/Firebase/B_firebasetools/D_performancetools.js").setFunctionName("gdjs.evtTools.firebaseTools.performance.stopTracer"),a.addAction("RecordTracer",e("Record performance"),e("Record performance for a delimited period of time. Use this if you want to measure the performance for a specified duration."),e("Record performance for _PARAM1_ms with a delay of _PARAM2_ms (store in tracker _PARAM0_)"),e("Performance Measuring"),"JsPlatform/Extensions/firebase.png","JsPlatform/Extensions/firebase.png").addParameter("string",e("Tracker Name"),"",!1).addParameter("number",e("Delay before measuring start (in ms)"),"",!1).addParameter("number",e("Measuring duration (in ms)"),"",!1).getCodeExtraInformation().setIncludeFile("Extensions/Firebase/A_firebasejs/A_firebase-base.js").addIncludeFile("Extensions/Firebase/A_firebasejs/B_firebase-performance.js").addIncludeFile("Extensions/Firebase/B_firebasetools/C_firebasetools.js").addIncludeFile("Extensions/Firebase/B_firebasetools/D_performancetools.js").setFunctionName("gdjs.evtTools.firebaseTools.performance.recordPerformance"),a.addAction("CallHttpFunction",e("Call a HTTP function"),e("Calls a HTTP function by name, and store the result in a variable."),e("Call HTTP Function _PARAM0_ with parameter(s) _PARAM1_ (Callback variables: Value: _PARAM2_ State: _PARAM3_)"),e("Functions"),"JsPlatform/Extensions/firebase.png","JsPlatform/Extensions/firebase.png").addParameter("string",e("HTTP Function Name"),"",!1).addParameter("string",e("Parameter(s) as JSON or string."),"",!1).addParameter("scenevar",e("Callback variable with returned value"),"",!0).addParameter("scenevar",e("Callback variable with state (ok or error)"),"",!0).markAsAdvanced().getCodeExtraInformation().setIncludeFile("Extensions/Firebase/A_firebasejs/A_firebase-base.js").addIncludeFile("Extensions/Firebase/A_firebasejs/B_firebase-functions.js").addIncludeFile("Extensions/Firebase/B_firebasetools/C_firebasetools.js").addIncludeFile("Extensions/Firebase/B_firebasetools/D_functionstools.js").setFunctionName("gdjs.evtTools.firebaseTools.functions.call"),a.addStrExpression("ServerTimestamp",e("Get server timestamp"),e("Set a field to the timestamp on the server when the request arrives there"),e("Cloud Firestore Database"),"JsPlatform/Extensions/firebase.png").getCodeExtraInformation().setIncludeFile("Extensions/Firebase/A_firebasejs/A_firebase-base.js").addIncludeFile("Extensions/Firebase/A_firebasejs/B_firebase-firestore.js").addIncludeFile("Extensions/Firebase/B_firebasetools/C_firebasetools.js").addIncludeFile("Extensions/Firebase/B_firebasetools/D_cloudfirestoretools.js").setFunctionName("gdjs.evtTools.firebaseTools.firestore.getServerTimestamp"),a.addAction("FirestoreStartQuery",e("Start a query"),e("Start a query on a collection. A query allows to get a filtered and ordered list of documents in a collection."),e("Create a query named _PARAM0_ for collection _PARAM1_"),e("Cloud Firestore Database/Queries/Create"),"JsPlatform/Extensions/firebase.png","JsPlatform/Extensions/firebase.png").addParameter("string",e("Query name"),"",!1).addParameter("string",e("Collection"),"",!1).getCodeExtraInformation().setIncludeFile("Extensions/Firebase/A_firebasejs/A_firebase-base.js").addIncludeFile("Extensions/Firebase/A_firebasejs/B_firebase-firestore.js").addIncludeFile("Extensions/Firebase/B_firebasetools/C_firebasetools.js").addIncludeFile("Extensions/Firebase/B_firebasetools/D_cloudfirestoretools.js").setFunctionName("gdjs.evtTools.firebaseTools.firestore.startQuery"),a.addAction("FirestoreStartQueryFrom",e("Start a query from another query"),e("Start a query with the same collection and filters as another one."),e("Create a query named _PARAM0_ from query _PARAM1_"),e("Cloud Firestore Database/Queries/Create"),"JsPlatform/Extensions/firebase.png","JsPlatform/Extensions/firebase.png").addParameter("string",e("Query name"),"",!1).addParameter("string",e("Source query name"),"",!1).getCodeExtraInformation().setIncludeFile("Extensions/Firebase/A_firebasejs/A_firebase-base.js").addIncludeFile("Extensions/Firebase/A_firebasejs/B_firebase-firestore.js").addIncludeFile("Extensions/Firebase/B_firebasetools/C_firebasetools.js").addIncludeFile("Extensions/Firebase/B_firebasetools/D_cloudfirestoretools.js").setFunctionName("gdjs.evtTools.firebaseTools.firestore.startQueryFrom");var i="See the [Firebase documentation](https://firebase.google.com/docs/firestore/query-data/queries#query_operators) to understand the operators. It is important as some [don't work when combined](https://firebase.google.com/docs/firestore/query-data/queries#query_limitations).";return a.addAction("FirestoreQueryWhereNumber",e("Filter by field value"),e("Only match the documents that have a field passing a check."),e("Filter query _PARAM0_ to only keep documents whose field _PARAM1__PARAM2__PARAM3_"),e("Cloud Firestore Database/Queries/Filters"),"JsPlatform/Extensions/firebase.png","JsPlatform/Extensions/firebase.png").addParameter("string",e("Query name"),"",!1).addParameter("string",e("Field to check"),"",!1).addParameter("stringWithSelector",e("Check type"),'["<", "<=", "==", "!=", ">=", ">", "array-contains"]',!1).setParameterLongDescription(i).addParameter("expression",e("Value to check"),"",!1).getCodeExtraInformation().setIncludeFile("Extensions/Firebase/A_firebasejs/A_firebase-base.js").addIncludeFile("Extensions/Firebase/A_firebasejs/B_firebase-firestore.js").addIncludeFile("Extensions/Firebase/B_firebasetools/C_firebasetools.js").addIncludeFile("Extensions/Firebase/B_firebasetools/D_cloudfirestoretools.js").setFunctionName("gdjs.evtTools.firebaseTools.firestore.queryWhere"),a.addAction("FirestoreQueryWhereText",e("Filter by field text"),e("Only match the documents that have a field passing a check."),e("Filter query _PARAM0_ to remove documents whose field _PARAM1_ is not _PARAM2__PARAM3_"),e("Cloud Firestore Database/Queries/Filters"),"JsPlatform/Extensions/firebase.png","JsPlatform/Extensions/firebase.png").addParameter("string",e("Query name"),"",!1).addParameter("string",e("Field to check"),"",!1).addParameter("stringWithSelector",e("Check type"),'["<", "<=", "==", "!=", ">=", ">", "array-contains"]',!1).setParameterLongDescription(i).addParameter("string",e("Text to check"),"",!1).getCodeExtraInformation().setIncludeFile("Extensions/Firebase/A_firebasejs/A_firebase-base.js").addIncludeFile("Extensions/Firebase/A_firebasejs/B_firebase-firestore.js").addIncludeFile("Extensions/Firebase/B_firebasetools/C_firebasetools.js").addIncludeFile("Extensions/Firebase/B_firebasetools/D_cloudfirestoretools.js").setFunctionName("gdjs.evtTools.firebaseTools.firestore.queryWhere"),a.addAction("FirestoreQueryOrderBy",e("Order by field value"),e("Orders all documents in the query by a the value of a field."),e("Order query _PARAM0_ by field _PARAM1_ (direction: _PARAM2_)"),e("Cloud Firestore Database/Queries/Filters"),"JsPlatform/Extensions/firebase.png","JsPlatform/Extensions/firebase.png").addParameter("string",e("Query name"),"",!1).addParameter("string",e("Field to order by"),"",!1).setParameterLongDescription("Note that [some limitations may apply when combined with a where query](https://firebase.google.com/docs/firestore/query-data/order-limit-data#limitations).").addParameter("stringWithSelector",e("Direction (ascending or descending)"),'["asc", "desc"]',!1).getCodeExtraInformation().setIncludeFile("Extensions/Firebase/A_firebasejs/A_firebase-base.js").addIncludeFile("Extensions/Firebase/A_firebasejs/B_firebase-firestore.js").addIncludeFile("Extensions/Firebase/B_firebasetools/C_firebasetools.js").addIncludeFile("Extensions/Firebase/B_firebasetools/D_cloudfirestoretools.js").setFunctionName("gdjs.evtTools.firebaseTools.firestore.queryOrderBy"),a.addAction("FirestoreQueryLimit",e("Limit amount of documents"),e("Limits the amount of documents returned by the query. Can only be used after an order filter."),e("Limit query _PARAM0_ to _PARAM1_ documents (begin from the end: _PARAM2_)"),e("Cloud Firestore Database/Queries/Filters"),"JsPlatform/Extensions/firebase.png","JsPlatform/Extensions/firebase.png").addParameter("string",e("Query name"),"",!1).addParameter("expression",e("Amount to limit by"),"",!1).addParameter("yesorno",e("Begin from the end"),"",!1).setDefaultValue("false").setParameterLongDescription("If yes, the last X documents will be kept, else the first X documents will be kept.").getCodeExtraInformation().setIncludeFile("Extensions/Firebase/A_firebasejs/A_firebase-base.js").addIncludeFile("Extensions/Firebase/A_firebasejs/B_firebase-firestore.js").addIncludeFile("Extensions/Firebase/B_firebasetools/C_firebasetools.js").addIncludeFile("Extensions/Firebase/B_firebasetools/D_cloudfirestoretools.js").setFunctionName("gdjs.evtTools.firebaseTools.firestore.queryLimit"),a.addAction("FirestoreQuerySkipSome",e("Skip some documents"),e("Removes documents before or after a certain value on the field ordered by in a query. Can only be used after an order filter."),e("Skip documents with fields (before: _PARAM2_) value _PARAM1_ in query _PARAM0_ (include documents at that value: _PARAM3_)"),e("Cloud Firestore Database/Queries/Filters"),"JsPlatform/Extensions/firebase.png","JsPlatform/Extensions/firebase.png").addParameter("string",e("Query name"),"",!1).addParameter("expression",e("The value of the field ordered by to skip after"),"",!1).addParameter("yesorno",e("Skip documents before?"),"",!1).setParameterLongDescription("If yes, the documents with a bigger field value will be kept, else the documents with a smaller field value be kept by the query.").addParameter("yesorno",e("Include documents which field value equals the value to skip after?"),"",!1).getCodeExtraInformation().setIncludeFile("Extensions/Firebase/A_firebasejs/A_firebase-base.js").addIncludeFile("Extensions/Firebase/A_firebasejs/B_firebase-firestore.js").addIncludeFile("Extensions/Firebase/B_firebasetools/C_firebasetools.js").addIncludeFile("Extensions/Firebase/B_firebasetools/D_cloudfirestoretools.js").setFunctionName("gdjs.evtTools.firebaseTools.firestore.querySkipSome"),a.addAction("FirestoreExecuteQuery",e("Run a query once"),e("Runs the query once and store results in a scene variable."),e("Run query _PARAM0_ and store results into _PARAM1_ (store result state in _PARAM2_)"),e("Cloud Firestore Database/Queries/Run"),"JsPlatform/Extensions/firebase.png","JsPlatform/Extensions/firebase.png").addParameter("string",e("Query name"),"",!1).addParameter("scenevar",e("Callback variable where to load the results"),"",!0).setParameterLongDescription("See how the data will be filled in this structure variable on [the wiki page](https://wiki.gdevelop.io/gdevelop5/all-features/firebase/firestore#the_query_result).").addParameter("scenevar",e("Callback variable with state (ok or error message)"),"",!0).getCodeExtraInformation().setIncludeFile("Extensions/Firebase/A_firebasejs/A_firebase-base.js").addIncludeFile("Extensions/Firebase/A_firebasejs/B_firebase-firestore.js").addIncludeFile("Extensions/Firebase/B_firebasetools/C_firebasetools.js").addIncludeFile("Extensions/Firebase/B_firebasetools/D_cloudfirestoretools.js").setFunctionName("gdjs.evtTools.firebaseTools.firestore.executeQuery"),a.addAction("FirestoreWatchQuery",e("Continuously run (watch) a query"),e("Runs a query continuously, so that every time a new documents starts or stops matching the query, or a document that matches the query has been changed, the variables will be filled with the new results."),e("Run query _PARAM0_ continuously and store results into _PARAM1_ each time documents matching the query are changed (store result state in _PARAM2_)"),e("Cloud Firestore Database/Queries/Run"),"JsPlatform/Extensions/firebase.png","JsPlatform/Extensions/firebase.png").addParameter("string",e("Query name"),"",!1).addParameter("scenevar",e("Callback variable where to load the results"),"",!0).setParameterLongDescription("See the shape of the returned data on [the wiki page]().").addParameter("scenevar",e("Callback variable with state (ok or error message)"),"",!0).getCodeExtraInformation().setIncludeFile("Extensions/Firebase/A_firebasejs/A_firebase-base.js").addIncludeFile("Extensions/Firebase/A_firebasejs/B_firebase-firestore.js").addIncludeFile("Extensions/Firebase/B_firebasetools/C_firebasetools.js").addIncludeFile("Extensions/Firebase/B_firebasetools/D_cloudfirestoretools.js").setFunctionName("gdjs.evtTools.firebaseTools.firestore.watchQuery"),a.addAction("FirestoreEnablePersistence",e("Enable persistence"),e("When persistence is enabled, all data that is fetched from the database is being automatically stored to allow to continue accessing the data if cut off from the network, instead of waiting for reconnection.\nThis needs to be called before any other firestore operation, otherwise it will fail."),e("Enable persistence"),e("Cloud Firestore Database"),"JsPlatform/Extensions/firebase.png","JsPlatform/Extensions/firebase.png").getCodeExtraInformation().setIncludeFile("Extensions/Firebase/A_firebasejs/A_firebase-base.js").addIncludeFile("Extensions/Firebase/A_firebasejs/B_firebase-firestore.js").addIncludeFile("Extensions/Firebase/B_firebasetools/C_firebasetools.js").addIncludeFile("Extensions/Firebase/B_firebasetools/D_cloudfirestoretools.js").setFunctionName("firebase.firestore().enablePersistence"),a.addAction("FirestoreDisablePersistence",e("Disable persistence"),e("Disables the storing of fetched data and clear all the data that has been stored.\nThis needs to be called before any other firestore operation, otherwise it will fail."),e("Disable persistence"),e("Cloud Firestore Database"),"JsPlatform/Extensions/firebase.png","JsPlatform/Extensions/firebase.png").getCodeExtraInformation().setIncludeFile("Extensions/Firebase/A_firebasejs/A_firebase-base.js").addIncludeFile("Extensions/Firebase/A_firebasejs/B_firebase-firestore.js").addIncludeFile("Extensions/Firebase/B_firebasetools/C_firebasetools.js").addIncludeFile("Extensions/Firebase/B_firebasetools/D_cloudfirestoretools.js").setFunctionName("firebase.firestore().clearPersistence"),a.addAction("FirestoreEnableNetwork",e("Re-enable network"),e("Re-enables the connection to the database after disabling it."),e("Re-enable network"),e("Cloud Firestore Database"),"JsPlatform/Extensions/firebase.png","JsPlatform/Extensions/firebase.png").getCodeExtraInformation().setIncludeFile("Extensions/Firebase/A_firebasejs/A_firebase-base.js").addIncludeFile("Extensions/Firebase/A_firebasejs/B_firebase-firestore.js").addIncludeFile("Extensions/Firebase/B_firebasetools/C_firebasetools.js").addIncludeFile("Extensions/Firebase/B_firebasetools/D_cloudfirestoretools.js").setFunctionName("firebase.firestore().enableNetwork"),a.addAction("FirestoreDisableNetwork",e("Disable network"),e("Disables the connection to the database.\nWhile the network is disabled, any read operations will return results from cache, and any write operations will be queued until the network is restored."),e("Disable network"),e("Cloud Firestore Database"),"JsPlatform/Extensions/firebase.png","JsPlatform/Extensions/firebase.png").getCodeExtraInformation().setIncludeFile("Extensions/Firebase/A_firebasejs/A_firebase-base.js").addIncludeFile("Extensions/Firebase/A_firebasejs/B_firebase-firestore.js").addIncludeFile("Extensions/Firebase/B_firebasetools/C_firebasetools.js").addIncludeFile("Extensions/Firebase/B_firebasetools/D_cloudfirestoretools.js").setFunctionName("firebase.firestore().disableNetwork"),a.addAction("FirestoreWriteDocument",e("Write a document to firestore"),e("Writes a document (variable) to cloud firestore."),e("Write _PARAM2_ to firestore in document _PARAM1_ of collection _PARAM0_ (store result state in _PARAM3_)"),e("Cloud Firestore Database/Documents"),"JsPlatform/Extensions/firebase.png","JsPlatform/Extensions/firebase.png").addParameter("string",e("Collection"),"",!1).addParameter("string",e("Document"),"",!1).addParameter("scenevar",e("Variable to write"),"",!1).addParameter("scenevar",e("Callback variable with state (ok or error)"),"",!0).getCodeExtraInformation().setIncludeFile("Extensions/Firebase/A_firebasejs/A_firebase-base.js").addIncludeFile("Extensions/Firebase/A_firebasejs/B_firebase-firestore.js").addIncludeFile("Extensions/Firebase/B_firebasetools/C_firebasetools.js").addIncludeFile("Extensions/Firebase/B_firebasetools/D_cloudfirestoretools.js").setFunctionName("gdjs.evtTools.firebaseTools.firestore.writeDocument"),a.addAction("FirestoreAddDocument",e("Add a document to firestore"),e("Adds a document (variable) to cloud firestore with a unique name."),e("Add _PARAM1_ to firestore collection _PARAM0_ (store result state in _PARAM2_)"),e("Cloud Firestore Database/Documents"),"JsPlatform/Extensions/firebase.png","JsPlatform/Extensions/firebase.png").addParameter("string",e("Collection"),"",!1).addParameter("scenevar",e("Variable to write"),"",!1).addParameter("scenevar",e("Callback variable with state (ok or error)"),"",!0).getCodeExtraInformation().setIncludeFile("Extensions/Firebase/A_firebasejs/A_firebase-base.js").addIncludeFile("Extensions/Firebase/A_firebasejs/B_firebase-firestore.js").addIncludeFile("Extensions/Firebase/B_firebasetools/C_firebasetools.js").addIncludeFile("Extensions/Firebase/B_firebasetools/D_cloudfirestoretools.js").setFunctionName("gdjs.evtTools.firebaseTools.firestore.addDocument"),a.addAction("FirestoreWriteField",e("Write a field in firestore"),e("Writes a field of a firestore document."),e("Write _PARAM3_ to firestore in field _PARAM2_ of document _PARAM1_ in collection _PARAM0_ (store result state in _PARAM4_, merge instead of overwriting: _PARAM5_)"),e("Cloud Firestore Database/Fields"),"JsPlatform/Extensions/firebase.png","JsPlatform/Extensions/firebase.png").addParameter("string",e("Collection"),"",!1).addParameter("string",e("Document"),"",!1).addParameter("string",e("Field to write"),"",!1).addParameter("string",e("Value to write"),"",!1).addParameter("scenevar",e("Callback variable with state (ok or error)"),"",!0).addParameter("yesorno",e("If the document already exists, merge them instead of replacing the old one?"),"",!0).getCodeExtraInformation().setIncludeFile("Extensions/Firebase/A_firebasejs/A_firebase-base.js").addIncludeFile("Extensions/Firebase/A_firebasejs/B_firebase-firestore.js").addIncludeFile("Extensions/Firebase/B_firebasetools/C_firebasetools.js").addIncludeFile("Extensions/Firebase/B_firebasetools/D_cloudfirestoretools.js").setFunctionName("gdjs.evtTools.firebaseTools.firestore.writeField"),a.addAction("FirestoreUpdateDocument",e("Update a document in firestore"),e("Updates a firestore document (variable)."),e("Update firestore document _PARAM1_ in collection _PARAM0_ with _PARAM2_ (store result state in _PARAM3_)"),e("Cloud Firestore Database/Documents"),"JsPlatform/Extensions/firebase.png","JsPlatform/Extensions/firebase.png").addParameter("string",e("Collection"),"",!1).addParameter("string",e("Document"),"",!1).addParameter("scenevar",e("Variable to update with"),"",!1).addParameter("scenevar",e("Callback variable with state (ok or error)"),"",!0).getCodeExtraInformation().setIncludeFile("Extensions/Firebase/A_firebasejs/A_firebase-base.js").addIncludeFile("Extensions/Firebase/A_firebasejs/B_firebase-firestore.js").addIncludeFile("Extensions/Firebase/B_firebasetools/C_firebasetools.js").addIncludeFile("Extensions/Firebase/B_firebasetools/D_cloudfirestoretools.js").setFunctionName("gdjs.evtTools.firebaseTools.firestore.updateDocument"),a.addAction("FirestoreUpdateField",e("Update a field of a document"),e("Updates a field of a firestore document."),e("Update field _PARAM2_ of firestore document _PARAM1_ in collection _PARAM0_ with _PARAM3_ (store result state in _PARAM4_)"),e("Cloud Firestore Database/Fields"),"JsPlatform/Extensions/firebase.png","JsPlatform/Extensions/firebase.png").addParameter("string",e("Collection"),"",!1).addParameter("string",e("Document"),"",!1).addParameter("string",e("Field to update"),"",!1).addParameter("string",e("Value to write"),"",!1).addParameter("scenevar",e("Callback variable with state (ok or error)"),"",!0).getCodeExtraInformation().setIncludeFile("Extensions/Firebase/A_firebasejs/A_firebase-base.js").addIncludeFile("Extensions/Firebase/A_firebasejs/B_firebase-firestore.js").addIncludeFile("Extensions/Firebase/B_firebasetools/C_firebasetools.js").addIncludeFile("Extensions/Firebase/B_firebasetools/D_cloudfirestoretools.js").setFunctionName("gdjs.evtTools.firebaseTools.firestore.updateField"),a.addAction("FirestoreDeleteDocument",e("Delete a document in firestore"),e("Deletes a firestore document (variable)."),e("Delete firestore document _PARAM1_ in collection _PARAM0_ (store result state in _PARAM2_)"),e("Cloud Firestore Database/Documents"),"JsPlatform/Extensions/firebase.png","JsPlatform/Extensions/firebase.png").addParameter("string",e("Collection"),"",!1).addParameter("string",e("Document"),"",!1).addParameter("scenevar",e("Callback variable with state (ok or error)"),"",!0).getCodeExtraInformation().setIncludeFile("Extensions/Firebase/A_firebasejs/A_firebase-base.js").addIncludeFile("Extensions/Firebase/A_firebasejs/B_firebase-firestore.js").addIncludeFile("Extensions/Firebase/B_firebasetools/C_firebasetools.js").addIncludeFile("Extensions/Firebase/B_firebasetools/D_cloudfirestoretools.js").setFunctionName("gdjs.evtTools.firebaseTools.firestore.deleteDocument"),a.addAction("FirestoreDeleteField",e("Delete a field of a document"),e("Deletes a field of a firestore document."),e("Delete field _PARAM2_ of firestore document _PARAM1_ in collection _PARAM0_ with (store result state in _PARAM3_)"),e("Cloud Firestore Database/Fields"),"JsPlatform/Extensions/firebase.png","JsPlatform/Extensions/firebase.png").addParameter("string",e("Collection"),"",!1).addParameter("string",e("Document"),"",!1).addParameter("string",e("Field to delete"),"",!1).addParameter("scenevar",e("Callback variable with state (ok or error)"),"",!0).getCodeExtraInformation().setIncludeFile("Extensions/Firebase/A_firebasejs/A_firebase-base.js").addIncludeFile("Extensions/Firebase/A_firebasejs/B_firebase-firestore.js").addIncludeFile("Extensions/Firebase/B_firebasetools/C_firebasetools.js").addIncludeFile("Extensions/Firebase/B_firebasetools/D_cloudfirestoretools.js").setFunctionName("gdjs.evtTools.firebaseTools.firestore.deleteField"),a.addAction("FirestoreGetDocument",e("Get a document from firestore"),e("Gets a firestore document and store it in a variable."),e("Load firestore document _PARAM1_ from collection _PARAM0_ into _PARAM2_ (store result state in _PARAM3_)"),e("Cloud Firestore Database/Documents"),"JsPlatform/Extensions/firebase.png","JsPlatform/Extensions/firebase.png").addParameter("string",e("Collection"),"",!1).addParameter("string",e("Document"),"",!1).addParameter("scenevar",e("Callback variable where to load the document"),"",!0).addParameter("scenevar",e("Callback variable with state (ok or error)"),"",!0).getCodeExtraInformation().setIncludeFile("Extensions/Firebase/A_firebasejs/A_firebase-base.js").addIncludeFile("Extensions/Firebase/A_firebasejs/B_firebase-firestore.js").addIncludeFile("Extensions/Firebase/B_firebasetools/C_firebasetools.js").addIncludeFile("Extensions/Firebase/B_firebasetools/D_cloudfirestoretools.js").setFunctionName("gdjs.evtTools.firebaseTools.firestore.getDocument"),a.addAction("FirestoreGetField",e("Get a field of a document"),e("Return the value of a field in a firestore document."),e("Load field _PARAM2_ of firestore document _PARAM1_ in collection _PARAM0_ into _PARAM3_ (store result state in _PARAM4_)"),e("Cloud Firestore Database/Fields"),"JsPlatform/Extensions/firebase.png","JsPlatform/Extensions/firebase.png").addParameter("string",e("Collection"),"",!1).addParameter("string",e("Document"),"",!1).addParameter("string",e("Field to get"),"",!1).addParameter("scenevar",e("Callback variable where to store the field's value"),"",!0).addParameter("scenevar",e("Callback variable with state (ok or error)"),"",!0).getCodeExtraInformation().setIncludeFile("Extensions/Firebase/A_firebasejs/A_firebase-base.js").addIncludeFile("Extensions/Firebase/A_firebasejs/B_firebase-firestore.js").addIncludeFile("Extensions/Firebase/B_firebasetools/C_firebasetools.js").addIncludeFile("Extensions/Firebase/B_firebasetools/D_cloudfirestoretools.js").setFunctionName("gdjs.evtTools.firebaseTools.firestore.getField"),a.addAction("FirestoreHasDocument",e("Check for a document's existence"),e("Checks for the existence of a document. Sets the result variable to true if it exists else to false."),e("Check for existence of _PARAM1_ in collection _PARAM0_ and store result in _PARAM2_ (store result state in _PARAM3_)"),e("Cloud Firestore Database/Documents"),"JsPlatform/Extensions/firebase.png","JsPlatform/Extensions/firebase.png").addParameter("string",e("Collection"),"",!1).addParameter("string",e("Document"),"",!1).addParameter("scenevar",e("Callback variable where to store the result"),"",!0).addParameter("scenevar",e("Callback variable with state (ok or error)"),"",!0).getCodeExtraInformation().setIncludeFile("Extensions/Firebase/A_firebasejs/A_firebase-base.js").addIncludeFile("Extensions/Firebase/A_firebasejs/B_firebase-firestore.js").addIncludeFile("Extensions/Firebase/B_firebasetools/C_firebasetools.js").addIncludeFile("Extensions/Firebase/B_firebasetools/D_cloudfirestoretools.js").setFunctionName("gdjs.evtTools.firebaseTools.firestore.hasDocument"),a.addAction("FirestoreHasField",e("Check for existence of a document's field"),e("Checks for the existence of a field in a document. Sets the result variable to 1 if it exists else to 2."),e("Check for existence of _PARAM2_ in document _PARAM1_ of collection _PARAM0_ and store result in _PARAM3_ (store result state in _PARAM4_)"),e("Cloud Firestore Database/Fields"),"JsPlatform/Extensions/firebase.png","JsPlatform/Extensions/firebase.png").addParameter("string",e("Collection"),"",!1).addParameter("string",e("Document"),"",!1).addParameter("string",e("Field to check"),"",!1).addParameter("scenevar",e("Callback Variable where to store the result"),"",!0).addParameter("scenevar",e("Callback variable with state (ok or error)"),"",!0).getCodeExtraInformation().setIncludeFile("Extensions/Firebase/A_firebasejs/A_firebase-base.js").addIncludeFile("Extensions/Firebase/A_firebasejs/B_firebase-firestore.js").addIncludeFile("Extensions/Firebase/B_firebasetools/C_firebasetools.js").addIncludeFile("Extensions/Firebase/B_firebasetools/D_cloudfirestoretools.js").setFunctionName("gdjs.evtTools.firebaseTools.firestore.hasField"),a.addAction("FirestoreListDocuments",e("List all documents of a collection"),e("Generates a list of all document names in a collection, and stores it as a structure."),e("List all documents in _PARAM0_ and store result in _PARAM1_ (store result state in _PARAM2_)"),e("Cloud Firestore Database"),"JsPlatform/Extensions/firebase.png","JsPlatform/Extensions/firebase.png").addParameter("string",e("Collection"),"",!1).addParameter("scenevar",e("Callback Variable where to store the result"),"",!0).addParameter("scenevar",e("Callback variable with state (ok or error)"),"",!0).setHidden().getCodeExtraInformation().setIncludeFile("Extensions/Firebase/A_firebasejs/A_firebase-base.js").addIncludeFile("Extensions/Firebase/A_firebasejs/B_firebase-firestore.js").addIncludeFile("Extensions/Firebase/B_firebasetools/C_firebasetools.js").addIncludeFile("Extensions/Firebase/B_firebasetools/D_cloudfirestoretools.js").setFunctionName("gdjs.evtTools.firebaseTools.firestore.listDocuments"),a.addAction("StorageUpload",e("Upload a file"),e("Upload a file to firebase Storage."),e("Save _PARAM0_ in location _PARAM1_ to Firebase storage and store access URL in _PARAM3_ (Format: _PARAM2_, Store result state in _PARAM4_)"),e("Storage"),"JsPlatform/Extensions/firebase.png","JsPlatform/Extensions/firebase.png").addParameter("string",e("Upload ID"),"",!1).addParameter("string",e("File content"),"",!1).addParameter("string",e("Storage path"),"",!1).addParameter("stringWithSelector",e("File content format"),'["none", "base64", "base64url", "data_url"]',!1).setDefaultValue("none").addParameter("scenevar",e("Callback variable with state (ok or error)"),"",!0).addParameter("scenevar",e("Callback variable with the url to the uploaded file"),"",!0).getCodeExtraInformation().setIncludeFile("Extensions/Firebase/A_firebasejs/A_firebase-base.js").addIncludeFile("Extensions/Firebase/A_firebasejs/B_firebase-storage.js").addIncludeFile("Extensions/Firebase/B_firebasetools/C_firebasetools.js").addIncludeFile("Extensions/Firebase/B_firebasetools/D_storagetools.js").setFunctionName("gdjs.evtTools.firebaseTools.storage.uploadFile"),a.addAction("StorageDownload",e("Get Download URL"),e("Get a unique download URL for a file."),e("Get a download url for _PARAM0_ and store it in _PARAM1_ (store result state in _PARAM2_)"),e("Storage"),"JsPlatform/Extensions/firebase.png","JsPlatform/Extensions/firebase.png").addParameter("string",e("Storage path to the file"),"",!1).addParameter("scenevar",e("Callback variable where to store the result"),"",!0).addParameter("scenevar",e("Callback variable with state (ok or error)"),"",!0).getCodeExtraInformation().setIncludeFile("Extensions/Firebase/A_firebasejs/A_firebase-base.js").addIncludeFile("Extensions/Firebase/A_firebasejs/B_firebase-storage.js").addIncludeFile("Extensions/Firebase/B_firebasetools/C_firebasetools.js").addIncludeFile("Extensions/Firebase/B_firebasetools/D_storagetools.js").setFunctionName("gdjs.evtTools.firebaseTools.storage.getDownloadURL"),a.addAction("DatabaseWriteVariable",e("Write a variable to Database"),e("Writes a variable to Database."),e("Write _PARAM1_ to Database in _PARAM0_ (store result state in _PARAM2_)"),e("Realtime Database"),"JsPlatform/Extensions/firebase.png","JsPlatform/Extensions/firebase.png").addParameter("string",e("Path"),"",!1).addParameter("scenevar",e("Variable to write"),"",!1).addParameter("scenevar",e("Callback variable with state (ok or error)"),"",!0).getCodeExtraInformation().setIncludeFile("Extensions/Firebase/A_firebasejs/A_firebase-base.js").addIncludeFile("Extensions/Firebase/A_firebasejs/B_firebase-database.js").addIncludeFile("Extensions/Firebase/B_firebasetools/C_firebasetools.js").addIncludeFile("Extensions/Firebase/B_firebasetools/D_databasetools.js").setFunctionName("gdjs.evtTools.firebaseTools.database.writeVariable"),a.addAction("DatabaseWriteField",e("Write a field in Database"),e("Writes a field of a Database document."),e("Write _PARAM2_ in field _PARAM1_ of _PARAM0_ (store result state in _PARAM3_)"),e("Realtime Database"),"JsPlatform/Extensions/firebase.png","JsPlatform/Extensions/firebase.png").addParameter("string",e("Path"),"",!1).addParameter("string",e("Field to write"),"",!1).addParameter("string",e("Value to write"),"",!1).addParameter("scenevar",e("Callback variable with state (ok or error)"),"",!0).getCodeExtraInformation().setIncludeFile("Extensions/Firebase/A_firebasejs/A_firebase-base.js").addIncludeFile("Extensions/Firebase/A_firebasejs/B_firebase-database.js").addIncludeFile("Extensions/Firebase/B_firebasetools/C_firebasetools.js").addIncludeFile("Extensions/Firebase/B_firebasetools/D_databasetools.js").setFunctionName("gdjs.evtTools.firebaseTools.database.writeField"),a.addAction("DatabaseUpdateVariable",e("Update a document in Database"),e("Updates a variable on the database."),e("Update variable _PARAM0_ with _PARAM1_ (store result state in _PARAM2_)"),e("Realtime Database"),"JsPlatform/Extensions/firebase.png","JsPlatform/Extensions/firebase.png").addParameter("string",e("Path"),"",!1).addParameter("scenevar",e("Variable to update with"),"",!1).addParameter("scenevar",e("Callback variable with state (ok or error)"),"",!0).getCodeExtraInformation().setIncludeFile("Extensions/Firebase/A_firebasejs/A_firebase-base.js").addIncludeFile("Extensions/Firebase/A_firebasejs/B_firebase-database.js").addIncludeFile("Extensions/Firebase/B_firebasetools/C_firebasetools.js").addIncludeFile("Extensions/Firebase/B_firebasetools/D_databasetools.js").setFunctionName("gdjs.evtTools.firebaseTools.database.updateVariable"),a.addAction("DatabaseUpdateField",e("Update a field of a document"),e("Updates a field of a Database document."),e("Update field _PARAM1_ of _PARAM0_ with _PARAM2_ (store result state in _PARAM3_)"),e("Realtime Database"),"JsPlatform/Extensions/firebase.png","JsPlatform/Extensions/firebase.png").addParameter("string",e("Path"),"",!1).addParameter("string",e("Field to update"),"",!1).addParameter("string",e("Value to write"),"",!1).addParameter("scenevar",e("Callback variable with state (ok or error)"),"",!0).getCodeExtraInformation().setIncludeFile("Extensions/Firebase/A_firebasejs/A_firebase-base.js").addIncludeFile("Extensions/Firebase/A_firebasejs/B_firebase-database.js").addIncludeFile("Extensions/Firebase/B_firebasetools/C_firebasetools.js").addIncludeFile("Extensions/Firebase/B_firebasetools/D_databasetools.js").setFunctionName("gdjs.evtTools.firebaseTools.database.updateField"),a.addAction("DatabaseDeleteVariable",e("Delete a database variable"),e("Deletes a variable from the database."),e("Delete variable _PARAM0_ from database (store result state in _PARAM1_)"),e("Realtime Database"),"JsPlatform/Extensions/firebase.png","JsPlatform/Extensions/firebase.png").addParameter("string",e("Path"),"",!1).addParameter("scenevar",e("Callback variable with state (ok or error)"),"",!0).getCodeExtraInformation().setIncludeFile("Extensions/Firebase/A_firebasejs/A_firebase-base.js").addIncludeFile("Extensions/Firebase/A_firebasejs/B_firebase-database.js").addIncludeFile("Extensions/Firebase/B_firebasetools/C_firebasetools.js").addIncludeFile("Extensions/Firebase/B_firebasetools/D_databasetools.js").setFunctionName("gdjs.evtTools.firebaseTools.database.deleteVariable"),a.addAction("DatabaseDeleteField",e("Delete a field of a variable"),e("Deletes a field of a variable on the database."),e("Delete field _PARAM1_ of variable _PARAM0_ on the database (store result state in _PARAM2_)"),e("Realtime Database"),"JsPlatform/Extensions/firebase.png","JsPlatform/Extensions/firebase.png").addParameter("string",e("Path"),"",!1).addParameter("string",e("Field to delete"),"",!1).addParameter("scenevar",e("Callback variable with state (ok or error)"),"",!0).getCodeExtraInformation().setIncludeFile("Extensions/Firebase/A_firebasejs/A_firebase-base.js").addIncludeFile("Extensions/Firebase/A_firebasejs/B_firebase-database.js").addIncludeFile("Extensions/Firebase/B_firebasetools/C_firebasetools.js").addIncludeFile("Extensions/Firebase/B_firebasetools/D_databasetools.js").setFunctionName("gdjs.evtTools.firebaseTools.database.deleteField"),a.addAction("DatabaseGetVariable",e("Get a variable from the database"),e("Gets a variable from the database and store it in a Scene variable."),e("Load database variable _PARAM0_ into _PARAM1_ (store result state in _PARAM2_)"),e("Realtime Database"),"JsPlatform/Extensions/firebase.png","JsPlatform/Extensions/firebase.png").addParameter("string",e("Path"),"",!1).addParameter("scenevar",e("Callback variable where to store the data"),"",!0).addParameter("scenevar",e("Callback variable with state (ok or error)"),"",!0).getCodeExtraInformation().setIncludeFile("Extensions/Firebase/A_firebasejs/A_firebase-base.js").addIncludeFile("Extensions/Firebase/A_firebasejs/B_firebase-database.js").addIncludeFile("Extensions/Firebase/B_firebasetools/C_firebasetools.js").addIncludeFile("Extensions/Firebase/B_firebasetools/D_databasetools.js").setFunctionName("gdjs.evtTools.firebaseTools.database.getVariable"),a.addAction("DatabaseGetField",e("Get a field of a variable"),e("Return the value of a field in a variable from the database and store it in a scene variable."),e("Load field _PARAM1_ of database variable _PARAM0_ into _PARAM2_ (store result state in _PARAM3_)"),e("Realtime Database"),"JsPlatform/Extensions/firebase.png","JsPlatform/Extensions/firebase.png").addParameter("string",e("Path"),"",!1).addParameter("string",e("Field to get"),"",!1).addParameter("scenevar",e("Callback variable where to store the field's value"),"",!0).addParameter("scenevar",e("Callback variable with state (ok or error)"),"",!0).getCodeExtraInformation().setIncludeFile("Extensions/Firebase/A_firebasejs/A_firebase-base.js").addIncludeFile("Extensions/Firebase/A_firebasejs/B_firebase-database.js").addIncludeFile("Extensions/Firebase/B_firebasetools/C_firebasetools.js").addIncludeFile("Extensions/Firebase/B_firebasetools/D_databasetools.js").setFunctionName("gdjs.evtTools.firebaseTools.database.getField"),a.addAction("DatabaseHasVariable",e("Check for a variable's existence"),e("Checks for the existence of a variable. Sets the result variable to 1 if it exists else to 2."),e("Check for existence of _PARAM0_ and store result in _PARAM1_ (store result state in _PARAM2_)"),e("Realtime Database"),"JsPlatform/Extensions/firebase.png","JsPlatform/Extensions/firebase.png").addParameter("string",e("Path"),"",!1).addParameter("scenevar",e("Callback variable where to store the result"),"",!0).addParameter("scenevar",e("Callback variable with state (ok or error)"),"",!0).getCodeExtraInformation().setIncludeFile("Extensions/Firebase/A_firebasejs/A_firebase-base.js").addIncludeFile("Extensions/Firebase/A_firebasejs/B_firebase-database.js").addIncludeFile("Extensions/Firebase/B_firebasetools/C_firebasetools.js").addIncludeFile("Extensions/Firebase/B_firebasetools/D_databasetools.js").setFunctionName("gdjs.evtTools.firebaseTools.database.hasVariable"),a.addAction("DatabaseHasField",e("Check for existence of a variable's field"),e("Checks for the existence of a field in a variable. Sets the result variable to 1 if it exists else to 2."),e("Check for existence of _PARAM1_ in database variable _PARAM0_ and store result in _PARAM2_ (store result state in _PARAM3_)"),e("Realtime Database"),"JsPlatform/Extensions/firebase.png","JsPlatform/Extensions/firebase.png").addParameter("string",e("Path"),"",!1).addParameter("string",e("Field to check"),"",!1).addParameter("scenevar",e("Callback Variable where to store the result"),"",!0).addParameter("scenevar",e("Callback variable with state (ok or error)"),"",!0).getCodeExtraInformation().setIncludeFile("Extensions/Firebase/A_firebasejs/A_firebase-base.js").addIncludeFile("Extensions/Firebase/A_firebasejs/B_firebase-database.js").addIncludeFile("Extensions/Firebase/B_firebasetools/C_firebasetools.js").addIncludeFile("Extensions/Firebase/B_firebasetools/D_databasetools.js").setFunctionName("gdjs.evtTools.firebaseTools.database.hasField"),a},runExtensionSanityTests:function(e,t){return[]}}},92268:function(e){e.exports={createExtension:function(e,t){var a=new t.PlatformExtension;return a.setExtensionInformation("Leaderboards",e("Leaderboards"),e("Allow your game to send scores to your leaderboards (anonymously or from the logged-in player) or display existing leaderboards to the player."),"Florian Rival","Open source (MIT License)").setExtensionHelpPath("/all-features/leaderboards").setCategory("Players").addInstructionOrExpressionGroupMetadata(e("Leaderboards")).setIcon("JsPlatform/Extensions/leaderboard.svg"),a.addDependency().setName("Safari View Controller Cordova plugin").setDependencyType("cordova").setExportName("@gdevelop/cordova-plugin-safariviewcontroller"),a.addAction("SavePlayerScore",e("Save player score"),e("Save the player's score to the given leaderboard. If the player is connected, the score will be attached to the connected player (unless disabled)."),e("Send to leaderboard _PARAM1_ the score _PARAM2_ with player name: _PARAM3_"),e("Save score"),"JsPlatform/Extensions/leaderboard.svg","JsPlatform/Extensions/leaderboard.svg").addCodeOnlyParameter("currentScene","").addParameter("leaderboardId",e("Leaderboard"),"",!1).addParameter("expression",e("Score to register for the player"),"",!1).addParameter("string",e("Name to register for the player"),"",!1).setParameterLongDescription(e('Let this empty to let the leaderboard auto-generate a player name (e.g: "Player23464"). You can configure this in the leaderboard administration.')).setHelpPath("/all-features/leaderboards").getCodeExtraInformation().setIncludeFile("Extensions/Leaderboards/sha256.js").addIncludeFile("Extensions/Leaderboards/leaderboardstools.js").addIncludeFile("Extensions/PlayerAuthentication/playerauthenticationcomponents.js").addIncludeFile("Extensions/PlayerAuthentication/playerauthenticationtools.js").setFunctionName("gdjs.evtTools.leaderboards.savePlayerScore").setAsyncFunctionName("gdjs.evtTools.leaderboards.savePlayerScore"),a.addAction("SaveConnectedPlayerScore",e("Save connected player score"),e("Save the connected player's score to the given leaderboard."),e("Send to leaderboard _PARAM1_ the score _PARAM2_ for the connected player"),e("Save score"),"JsPlatform/Extensions/leaderboard.svg","JsPlatform/Extensions/leaderboard.svg").addCodeOnlyParameter("currentScene","").addParameter("leaderboardId",e("Leaderboard"),"",!1).addParameter("expression",e("Score to register for the player"),"",!1).setHelpPath("/all-features/leaderboards").getCodeExtraInformation().setIncludeFile("Extensions/Leaderboards/sha256.js").addIncludeFile("Extensions/Leaderboards/leaderboardstools.js").addIncludeFile("Extensions/PlayerAuthentication/playerauthenticationcomponents.js").addIncludeFile("Extensions/PlayerAuthentication/playerauthenticationtools.js").setFunctionName("gdjs.evtTools.leaderboards.saveConnectedPlayerScore").setAsyncFunctionName("gdjs.evtTools.leaderboards.saveConnectedPlayerScore"),a.addAction("SetPreferSendConnectedPlayerScore",e("Always attach scores to the connected player"),e("Set if the score sent to a leaderboard is always attached to the connected player - if any. This is on by default."),e("Always attach the score to the connected player: _PARAM1_"),e("Setup"),"JsPlatform/Extensions/leaderboard.svg","JsPlatform/Extensions/leaderboard.svg").addCodeOnlyParameter("currentScene","").addParameter("yesorno",e("Enable?"),"",!1).setHelpPath("/all-features/leaderboards").getCodeExtraInformation().setIncludeFile("Extensions/Leaderboards/leaderboardstools.js").setFunctionName("gdjs.evtTools.leaderboards.setPreferSendConnectedPlayerScore"),a.addCondition("HasLastSaveErrored",e("Last score save has errored"),e("Check if the last attempt to save a score has errored."),e("Last score save in leaderboard _PARAM0_ has errored"),e("Save score"),"JsPlatform/Extensions/leaderboard.svg","JsPlatform/Extensions/leaderboard.svg").addParameter("leaderboardId",e("Leaderboard"),"",!0).setParameterLongDescription(e("If no leaderboard is specified, will return the value related to the last leaderboard save action.")).setHelpPath("/all-features/leaderboards").getCodeExtraInformation().setIncludeFile("Extensions/Leaderboards/leaderboardstools.js").setFunctionName("gdjs.evtTools.leaderboards.hasSavingErrored"),a.addCondition("HasLastSaveSucceeded",e("Last score save has succeeded"),e("Check if the last attempt to save a score has succeeded."),e("Last score save in leaderboard _PARAM0_ has succeeded"),e("Save score"),"JsPlatform/Extensions/leaderboard.svg","JsPlatform/Extensions/leaderboard.svg").addParameter("leaderboardId",e("Leaderboard"),"",!0).setParameterLongDescription(e("If no leaderboard is specified, will return the value related to the last leaderboard save action that successfully ended.")).setHelpPath("/all-features/leaderboards").getCodeExtraInformation().setIncludeFile("Extensions/Leaderboards/leaderboardstools.js").setFunctionName("gdjs.evtTools.leaderboards.hasBeenSaved"),a.addCondition("IsSaving",e("Score is saving"),e("Check if a score is currently being saved in leaderboard."),e("Score is saving in leaderboard _PARAM0_"),e("Save score"),"JsPlatform/Extensions/leaderboard.svg","JsPlatform/Extensions/leaderboard.svg").addParameter("leaderboardId",e("Leaderboard"),"",!0).setParameterLongDescription(e("If no leaderboard is specified, will return the value related to the last leaderboard save action.")).setHelpPath("/all-features/leaderboards").getCodeExtraInformation().setIncludeFile("Extensions/Leaderboards/leaderboardstools.js").setFunctionName("gdjs.evtTools.leaderboards.isSaving"),a.addCondition("HasPlayerJustClosedLeaderboardView",e("Closed by player"),e("Check if the player has just closed the leaderboard view."),e("Player has just closed the leaderboard view"),e("Display leaderboard"),"JsPlatform/Extensions/leaderboard.svg","JsPlatform/Extensions/leaderboard.svg").setHelpPath("/all-features/leaderboards").getCodeExtraInformation().setIncludeFile("Extensions/Leaderboards/leaderboardstools.js").setFunctionName("gdjs.evtTools.leaderboards.hasPlayerJustClosedLeaderboardView"),a.addStrExpression("LastSaveError",e("Error of last save attempt"),e("Get the error of the last save attempt."),e("Save score"),"JsPlatform/Extensions/leaderboard.svg").addParameter("leaderboardId",e("Leaderboard"),"",!0).setParameterLongDescription(e("If no leaderboard is specified, will return the value related to the last leaderboard save action.")).getCodeExtraInformation().setIncludeFile("Extensions/Leaderboards/leaderboardstools.js").setFunctionName("gdjs.evtTools.leaderboards.getLastSaveError"),a.addCondition("IsLeaderboardViewErrored",e("Leaderboard display has errored"),e("Check if the display of the leaderboard errored."),e("Leaderboard display has errored"),e("Display leaderboard"),"JsPlatform/Extensions/leaderboard.svg","JsPlatform/Extensions/leaderboard.svg").setHelpPath("/all-features/leaderboards").getCodeExtraInformation().setIncludeFile("Extensions/Leaderboards/leaderboardstools.js").setFunctionName("gdjs.evtTools.leaderboards.isLeaderboardViewErrored"),a.addCondition("IsLeaderboardViewLoaded",e("Leaderboard display has loaded"),e("Check if the display of the leaderboard has finished loading and been displayed on screen."),e("Leaderboard display has loaded and is displayed on screen"),e("Display leaderboard"),"JsPlatform/Extensions/leaderboard.svg","JsPlatform/Extensions/leaderboard.svg").setHelpPath("/all-features/leaderboards").getCodeExtraInformation().setIncludeFile("Extensions/Leaderboards/leaderboardstools.js").setFunctionName("gdjs.evtTools.leaderboards.isLeaderboardViewLoaded"),a.addCondition("IsLeaderboardViewLoading",e("Leaderboard display is loading"),e("Check if the display of the leaderboard is loading."),e("Leaderboard display is loading"),e("Display leaderboard"),"JsPlatform/Extensions/leaderboard.svg","JsPlatform/Extensions/leaderboard.svg").setHelpPath("/all-features/leaderboards").getCodeExtraInformation().setIncludeFile("Extensions/Leaderboards/leaderboardstools.js").setFunctionName("gdjs.evtTools.leaderboards.isLeaderboardViewLoading"),a.addStrExpression("FormatPlayerName",e("Format player name"),e("Formats a name so that it can be submitted to a leaderboard."),e("Save score"),"JsPlatform/Extensions/leaderboard.svg").addParameter("string",e("Raw player name"),"",!1).getCodeExtraInformation().setIncludeFile("Extensions/Leaderboards/leaderboardstools.js").setFunctionName("gdjs.evtTools.leaderboards.formatPlayerName"),a.addAction("DisplayLeaderboard",e("Display leaderboard"),e("Display the specified leaderboard on top of the game. If a leaderboard was already displayed on top of the game, the new leaderboard will replace it."),e("Display leaderboard _PARAM1_ (display a loader: _PARAM2_)"),e("Display leaderboard"),"JsPlatform/Extensions/leaderboard.svg","JsPlatform/Extensions/leaderboard.svg").addCodeOnlyParameter("currentScene","").addParameter("leaderboardId",e("Leaderboard"),"",!1).addParameter("yesorno",e("Display loader while leaderboard is loading"),"",!1).setHelpPath("/all-features/leaderboards").getCodeExtraInformation().setIncludeFile("Extensions/Leaderboards/leaderboardstools.js").addIncludeFile("Extensions/PlayerAuthentication/playerauthenticationcomponents.js").addIncludeFile("Extensions/PlayerAuthentication/playerauthenticationtools.js").setFunctionName("gdjs.evtTools.leaderboards.displayLeaderboard"),a.addAction("CloseLeaderboardView",e("Close current leaderboard"),e("Close the leaderboard currently displayed on top of the game."),e("Close current leaderboard displayed on top of the game"),e("Display leaderboard"),"JsPlatform/Extensions/leaderboard.svg","JsPlatform/Extensions/leaderboard.svg").addCodeOnlyParameter("currentScene","").setHelpPath("/all-features/leaderboards").getCodeExtraInformation().setIncludeFile("Extensions/Leaderboards/leaderboardstools.js").setFunctionName("gdjs.evtTools.leaderboards.closeLeaderboardView"),a},runExtensionSanityTests:function(e,t){return[]}}},72025:function(e,t,a){var i=a(56690).default,n=a(89728).default,r=a(66115).default,s=a(41588).default,o=a(73808).default,l=a(61655).default,d=a(26389).default,c=a(38416).default;e.exports={createExtension:function(e,t){var a=new t.PlatformExtension;a.setExtensionInformation("Lighting",e("Lights"),"This provides a 2D light object, and a behavior to mark other 2D objects as being obstacles for the lights. This is a great way to create a special atmosphere to your game, along with effects, make it more realistic or to create gameplays based on lights.","Harsimran Virk","MIT").setCategory("Visual effect").setTags("light");var i=new t.BehaviorJsImplementation;i.updateProperty=function(e,t,a){return!1},i.getProperties=function(e){return new t.MapStringPropertyDescriptor},i.initializeContent=function(e){},a.addBehavior("LightObstacleBehavior",e("Light Obstacle Behavior"),"LightObstacleBehavior",e("Flag objects as being obstacles to 2D lights. The light emitted by light objects will be stopped by the object. This does not work on 3D objects and 3D games."),"","CppPlatform/Extensions/lightObstacleIcon32.png","LightObstacleBehavior",i,new t.BehaviorsSharedData).setIncludeFile("Extensions/Lighting/lightobstacleruntimebehavior.js").addIncludeFile("Extensions/Lighting/lightruntimeobject.js").addIncludeFile("Extensions/Lighting/lightruntimeobject-pixi-renderer.js");var n=new t.ObjectJsImplementation;n.updateProperty=function(e,t){var a=this.content;return"radius"===e?(a.radius=parseFloat(t),!0):"color"===e?(a.color=t,!0):"debugMode"===e?(a.debugMode="1"===t,!0):"texture"===e&&(a.texture=t,!0)},n.getProperties=function(){var a=new t.MapStringPropertyDescriptor,i=this.content;return a.set("radius",new t.PropertyDescriptor(i.radius.toString()).setType("number").setLabel(e("Radius"))),a.set("color",new t.PropertyDescriptor(i.color).setType("color").setLabel(e("Color"))),a.set("debugMode",new t.PropertyDescriptor(i.debugMode?"true":"false").setType("boolean").setLabel(e("Debug mode")).setDescription(e("When activated, display the lines used to render the light - useful to understand how the light is rendered on screen.")).setGroup(e("Advanced"))),a.getOrCreate("texture").setValue(i.texture).setType("resource").addExtraInfo("image").setLabel(e("Light texture (optional)")).setDescription(e("A texture to be used to display the light. If you don't specify a texture, the light is rendered as fading from bright, in its center, to dark.")),a},n.content={radius:50,color:"255;255;255",debugMode:!1,texture:""},n.updateInitialInstanceProperty=function(e,t,a){return!1},n.getInitialInstanceProperties=function(e){return new t.MapStringPropertyDescriptor};var r=a.addObject("LightObject",e("Light"),e("Displays a 2D light on the scene, with a customizable radius and color. Add then the Light Obstacle behavior to the objects that must act as obstacle to the lights."),"CppPlatform/Extensions/lightIcon32.png",n).setIncludeFile("Extensions/Lighting/lightruntimeobject.js").addIncludeFile("Extensions/Lighting/lightruntimeobject-pixi-renderer.js").addIncludeFile("Extensions/Lighting/lightobstacleruntimebehavior.js").setCategoryFullName(e("Visual effect")).addDefaultBehavior("EffectCapability::EffectBehavior");return r.addAction("SetRadius",e("Light radius"),e("Set the radius of light object"),e("Set the radius of _PARAM0_ to: _PARAM1_"),"","CppPlatform/Extensions/lightIcon24.png","CppPlatform/Extensions/lightIcon16.png").addParameter("object",e("Object"),"LightObject",!1).addParameter("expression",e("Radius"),"",!1).getCodeExtraInformation().setFunctionName("setRadius"),r.addAction("SetColor",e("Light color"),e('Set the color of light object in format "R;G;B" string.'),e("Set the color of _PARAM0_ to: _PARAM1_"),"","res/actions/color24.png","res/actions/color.png").addParameter("object",e("Object"),"LightObject",!1).addParameter("color",e("Color"),"",!1).getCodeExtraInformation().setFunctionName("setColor"),a},runExtensionSanityTests:function(e,t){return[]},registerEditorConfigurations:function(e){e.registerEditorConfiguration("Lighting::LightObject",e.getDefaultObjectJsImplementationPropertiesEditor({helpPagePath:"/all-features/lighting/reference"}))},registerInstanceRenderers:function(e){var t=e.RenderedInstance,a=e.PIXI,u=function(t){"use strict";l(h,t);var u=d(h);function h(e,t,n,s,o){var l;i(this,h),l=u.call(this,e,t,n,s,o),c(r(l),"_radius",0),c(r(l),"_color",0),c(r(l),"_radiusGraphics",void 0);var d=new a.Sprite(a.Texture.from("CppPlatform/Extensions/lightIcon32.png"));return d.anchor.x=.5,d.anchor.y=.5,l._radiusGraphics=new a.Graphics,l._pixiObject=new a.Container,l._pixiObject.addChild(d),l._pixiObject.addChild(l._radiusGraphics),l._pixiContainer.addChild(l._pixiObject),l.update(),l}return n(h,[{key:"onRemovedFromScene",value:function(){s(o(h.prototype),"onRemovedFromScene",this).call(this),this._pixiObject.destroy({children:!0})}},{key:"update",value:function(){var t=gd.castObject(this._associatedObjectConfiguration,gd.ObjectJsImplementation);this._pixiObject.position.x=this._instance.getX(),this._pixiObject.position.y=this._instance.getY();var a=!1,i=t.content.radius;i<=0&&(i=1),i!==this._radius&&(this._radius=i,a=!0);var n=e.rgbOrHexToHexNumber(t.content.color);if(n!==this._color&&(this._color=n,a=!0),a){this._radiusGraphics.clear(),this._radiusGraphics.lineStyle(2,n,.8),this._radiusGraphics.drawCircle(0,0,Math.max(1,this._radius-2))}}},{key:"getDefaultWidth",value:function(){return 2*this._radius}},{key:"getDefaultHeight",value:function(){return 2*this._radius}},{key:"getOriginX",value:function(){return this._radius}},{key:"getOriginY",value:function(){return this._radius}}],[{key:"getThumbnail",value:function(e,t,a){return"CppPlatform/Extensions/lightIcon32.png"}}]),h}(t);e.registerInstanceRenderer("Lighting::LightObject",u)}}},93498:function(e){e.exports={createExtension:function(e,t){var a=new t.PlatformExtension;a.setExtensionInformation("Multiplayer",e("Multiplayer"),e('This allows players to join online lobbies and synchronize gameplay across devices without needing to manage servers or networking.\n\nUse the "Open game lobbies" action to let players join a game, and use conditions like "Lobby game has just started" to begin gameplay. Add the "Multiplayer object" behavior to game objects that should be synchronized, and assign or change their ownership using player numbers. Variables and game state (like scenes, scores, or timers) are automatically synced by the host, with options to change ownership or disable sync when needed. Common multiplayer logic \u2014like handling joins/leaves, collisions, and host migration\u2014 is supported out-of-the-box for up to 8 players per game.'),"Florian Rival","Open source (MIT License)").setExtensionHelpPath("/all-features/multiplayer").setCategory("Players"),a.addInstructionOrExpressionGroupMetadata(e("Multiplayer")).setIcon("JsPlatform/Extensions/multiplayer.svg"),a.addDependency().setName("Safari View Controller Cordova plugin").setDependencyType("cordova").setExportName("@gdevelop/cordova-plugin-safariviewcontroller"),a.addStrExpression("CurrentLobbyID",e("Current lobby ID"),e("Returns current lobby ID."),e("Lobbies"),"JsPlatform/Extensions/multiplayer.svg").getCodeExtraInformation().setIncludeFile("Extensions/Multiplayer/peer.js").addIncludeFile("Extensions/Multiplayer/peerJsHelper.js").addIncludeFile("Extensions/PlayerAuthentication/playerauthenticationcomponents.js").addIncludeFile("Extensions/PlayerAuthentication/playerauthenticationtools.js").addIncludeFile("Extensions/Multiplayer/multiplayercomponents.js").addIncludeFile("Extensions/Multiplayer/messageManager.js").addIncludeFile("Extensions/Multiplayer/multiplayerVariablesManager.js").addIncludeFile("Extensions/Multiplayer/multiplayertools.js").setFunctionName("gdjs.multiplayer.getLobbyID"),a.addAction("QuickJoinWithLobbyID",e("Join a specific lobby by its ID"),e("Join a specific lobby. The player will join the game instantly if this is possible."),e("Join a specific lobby by its ID _PARAM1_"),e("Lobbies"),"JsPlatform/Extensions/multiplayer.svg","JsPlatform/Extensions/multiplayer.svg").addCodeOnlyParameter("currentScene","").addParameter("string",e("Lobby ID"),"",!1).addParameter("yesorno",e("Display loader while joining a lobby."),"",!0).setDefaultValue("yes").addParameter("yesorno",e("Display game lobbies if unable to join a specific one."),"",!0).setDefaultValue("yes").setHelpPath("/all-features/multiplayer").getCodeExtraInformation().setIncludeFile("Extensions/Multiplayer/peer.js").addIncludeFile("Extensions/Multiplayer/peerJsHelper.js").addIncludeFile("Extensions/PlayerAuthentication/playerauthenticationcomponents.js").addIncludeFile("Extensions/PlayerAuthentication/playerauthenticationtools.js").addIncludeFile("Extensions/Multiplayer/multiplayercomponents.js").addIncludeFile("Extensions/Multiplayer/messageManager.js").addIncludeFile("Extensions/Multiplayer/multiplayerVariablesManager.js").addIncludeFile("Extensions/Multiplayer/multiplayertools.js").setFunctionName("gdjs.multiplayer.authenticateAndQuickJoinWithLobbyID"),a.addAction("QuickJoinLobby",e("Join the next available lobby"),e("Join the next available lobby. The player will join the game instantly if this is possible."),e("Join the next available lobby"),e("Lobbies"),"JsPlatform/Extensions/multiplayer.svg","JsPlatform/Extensions/multiplayer.svg").addCodeOnlyParameter("currentScene","").addParameter("yesorno",e("Display loader while searching for a lobby."),"",!0).setDefaultValue("yes").addParameter("yesorno",e("Display game lobbies if no lobby can be joined directly."),"",!0).setDefaultValue("yes").setHelpPath("/all-features/multiplayer").getCodeExtraInformation().setIncludeFile("Extensions/Multiplayer/peer.js").addIncludeFile("Extensions/Multiplayer/peerJsHelper.js").addIncludeFile("Extensions/PlayerAuthentication/playerauthenticationcomponents.js").addIncludeFile("Extensions/PlayerAuthentication/playerauthenticationtools.js").addIncludeFile("Extensions/Multiplayer/multiplayercomponents.js").addIncludeFile("Extensions/Multiplayer/messageManager.js").addIncludeFile("Extensions/Multiplayer/multiplayerVariablesManager.js").addIncludeFile("Extensions/Multiplayer/multiplayertools.js").setFunctionName("gdjs.multiplayer.authenticateAndQuickJoinLobby"),a.addCondition("IsSearchingForLobbyToJoin",e("Is searching for a lobby to join"),e("Is searching for a lobby to join."),e("Is searching for a lobby to join"),e("Lobbies"),"JsPlatform/Extensions/multiplayer.svg","JsPlatform/Extensions/multiplayer.svg").addCodeOnlyParameter("currentScene","").setHelpPath("/all-features/multiplayer").getCodeExtraInformation().setIncludeFile("Extensions/Multiplayer/peer.js").addIncludeFile("Extensions/Multiplayer/peerJsHelper.js").addIncludeFile("Extensions/PlayerAuthentication/playerauthenticationcomponents.js").addIncludeFile("Extensions/PlayerAuthentication/playerauthenticationtools.js").addIncludeFile("Extensions/Multiplayer/multiplayercomponents.js").addIncludeFile("Extensions/Multiplayer/messageManager.js").addIncludeFile("Extensions/Multiplayer/multiplayerVariablesManager.js").addIncludeFile("Extensions/Multiplayer/multiplayertools.js").setFunctionName("gdjs.multiplayer.isSearchingForLobbyToJoin"),a.addCondition("QuickJoinJustFailed",e("Quick join failed to join a lobby"),e("Quick join failed to join a lobby."),e("Quick join failed to join a lobby"),e("Lobbies"),"JsPlatform/Extensions/multiplayer.svg","JsPlatform/Extensions/multiplayer.svg").addCodeOnlyParameter("currentScene","").setHelpPath("/all-features/multiplayer").getCodeExtraInformation().setIncludeFile("Extensions/Multiplayer/peer.js").addIncludeFile("Extensions/Multiplayer/peerJsHelper.js").addIncludeFile("Extensions/PlayerAuthentication/playerauthenticationcomponents.js").addIncludeFile("Extensions/PlayerAuthentication/playerauthenticationtools.js").addIncludeFile("Extensions/Multiplayer/multiplayercomponents.js").addIncludeFile("Extensions/Multiplayer/messageManager.js").addIncludeFile("Extensions/Multiplayer/multiplayerVariablesManager.js").addIncludeFile("Extensions/Multiplayer/multiplayertools.js").setFunctionName("gdjs.multiplayer.hasQuickJoinJustFailed"),a.addStrExpression("QuickJoinFailureReason",e("Quick join action failure reason"),e("Returns the reason why the Quick join action failed. It can either be 'FULL' if all lobbies were occupied, 'NOT_ENOUGH_PLAYERS' if the lobby's configuration requires more than 1 player to start the game and no other players were available. It can also take the value 'UNKNOWN'."),e("Lobbies"),"JsPlatform/Extensions/multiplayer.svg").getCodeExtraInformation().setIncludeFile("Extensions/Multiplayer/peer.js").addIncludeFile("Extensions/Multiplayer/peerJsHelper.js").addIncludeFile("Extensions/PlayerAuthentication/playerauthenticationcomponents.js").addIncludeFile("Extensions/PlayerAuthentication/playerauthenticationtools.js").addIncludeFile("Extensions/Multiplayer/multiplayercomponents.js").addIncludeFile("Extensions/Multiplayer/messageManager.js").addIncludeFile("Extensions/Multiplayer/multiplayerVariablesManager.js").addIncludeFile("Extensions/Multiplayer/multiplayertools.js").setFunctionName("gdjs.multiplayer.getQuickJoinFailureReason"),a.addAction("OpenGameLobbies",e("Open Game Lobbies"),e("Open the game lobbies window, where players can join lobbies or see the one they are in."),e("Open the game lobbies"),e("Lobbies"),"JsPlatform/Extensions/multiplayer.svg","JsPlatform/Extensions/multiplayer.svg").addCodeOnlyParameter("currentScene","").setHelpPath("/all-features/multiplayer").getCodeExtraInformation().setIncludeFile("Extensions/Multiplayer/peer.js").addIncludeFile("Extensions/Multiplayer/peerJsHelper.js").addIncludeFile("Extensions/PlayerAuthentication/playerauthenticationcomponents.js").addIncludeFile("Extensions/PlayerAuthentication/playerauthenticationtools.js").addIncludeFile("Extensions/Multiplayer/multiplayercomponents.js").addIncludeFile("Extensions/Multiplayer/messageManager.js").addIncludeFile("Extensions/Multiplayer/multiplayerVariablesManager.js").addIncludeFile("Extensions/Multiplayer/multiplayertools.js").setFunctionName("gdjs.multiplayer.openLobbiesWindow"),a.addAction("ShowLobbiesWindowCloseAction",e("Allow players to close the lobbies window"),e("Allow players to close the lobbies window. Allowed by default."),e("Allow players to close the lobbies window: _PARAM1_"),e("Lobbies"),"JsPlatform/Extensions/multiplayer.svg","JsPlatform/Extensions/multiplayer.svg").addCodeOnlyParameter("currentScene","").addParameter("yesorno",e("Show close button"),"",!1).setHelpPath("/all-features/multiplayer").getCodeExtraInformation().setIncludeFile("Extensions/Multiplayer/peer.js").addIncludeFile("Extensions/Multiplayer/peerJsHelper.js").addIncludeFile("Extensions/PlayerAuthentication/playerauthenticationcomponents.js").addIncludeFile("Extensions/PlayerAuthentication/playerauthenticationtools.js").addIncludeFile("Extensions/Multiplayer/multiplayercomponents.js").addIncludeFile("Extensions/Multiplayer/messageManager.js").addIncludeFile("Extensions/Multiplayer/multiplayerVariablesManager.js").addIncludeFile("Extensions/Multiplayer/multiplayertools.js").setFunctionName("gdjs.multiplayer.showLobbiesCloseButton"),a.addAction("EndLobbyGame",e("End Lobby Game"),e('End the lobby game. This will trigger the "Lobby game has just ended" condition.'),e("End the lobby game"),e("Lobbies"),"JsPlatform/Extensions/multiplayer.svg","JsPlatform/Extensions/multiplayer.svg").setHelpPath("/all-features/multiplayer").getCodeExtraInformation().setIncludeFile("Extensions/Multiplayer/peer.js").addIncludeFile("Extensions/Multiplayer/peerJsHelper.js").addIncludeFile("Extensions/PlayerAuthentication/playerauthenticationcomponents.js").addIncludeFile("Extensions/PlayerAuthentication/playerauthenticationtools.js").addIncludeFile("Extensions/Multiplayer/multiplayercomponents.js").addIncludeFile("Extensions/Multiplayer/messageManager.js").addIncludeFile("Extensions/Multiplayer/multiplayerVariablesManager.js").addIncludeFile("Extensions/Multiplayer/multiplayertools.js").setFunctionName("gdjs.multiplayer.endLobbyGame"),a.addAction("LeaveGameLobby",e("Leave Game Lobby"),e('Leave the current game lobby. This will trigger the "Player has left" condition on the other players, and the "Lobby game has ended" condition on the player leaving.'),e("Leave the game lobby"),e("Lobbies"),"JsPlatform/Extensions/multiplayer.svg","JsPlatform/Extensions/multiplayer.svg").setHelpPath("/all-features/multiplayer").getCodeExtraInformation().setIncludeFile("Extensions/Multiplayer/peer.js").addIncludeFile("Extensions/Multiplayer/peerJsHelper.js").addIncludeFile("Extensions/PlayerAuthentication/playerauthenticationcomponents.js").addIncludeFile("Extensions/PlayerAuthentication/playerauthenticationtools.js").addIncludeFile("Extensions/Multiplayer/multiplayercomponents.js").addIncludeFile("Extensions/Multiplayer/messageManager.js").addIncludeFile("Extensions/Multiplayer/multiplayerVariablesManager.js").addIncludeFile("Extensions/Multiplayer/multiplayertools.js").setFunctionName("gdjs.multiplayer.leaveGameLobby"),a.addAction("SendMessage",e("Send custom message to other players"),e("Send a custom message to other players in the lobby, with an automatic retry system if it hasn't been received. Use with the condition 'Message has been received' to know when the message has been properly processed by the host."),e("Send message _PARAM0_ to other players with content _PARAM1_"),e("Advanced"),"JsPlatform/Extensions/multiplayer.svg","JsPlatform/Extensions/multiplayer.svg").setHelpPath("/all-features/multiplayer").addParameter("string",e("Message name"),"",!1).addParameter("string",e("Message content"),"",!1).getCodeExtraInformation().setIncludeFile("Extensions/Multiplayer/peer.js").addIncludeFile("Extensions/Multiplayer/peerJsHelper.js").addIncludeFile("Extensions/PlayerAuthentication/playerauthenticationcomponents.js").addIncludeFile("Extensions/PlayerAuthentication/playerauthenticationtools.js").addIncludeFile("Extensions/Multiplayer/multiplayercomponents.js").addIncludeFile("Extensions/Multiplayer/messageManager.js").addIncludeFile("Extensions/Multiplayer/multiplayerVariablesManager.js").addIncludeFile("Extensions/Multiplayer/multiplayertools.js").setFunctionName("gdjs.multiplayerMessageManager.sendCustomMessage"),a.addAction("SendVariableMessage",e("Send custom message to other players with a variable"),e("Send a custom message to other players in the lobby containing a variable, with an automatic retry system if it hasn't been received. Use with the condition 'Message has been received' to know when the message has been properly processed by the host."),e("Send message _PARAM0_ to other players with variable _PARAM1_"),e("Advanced"),"JsPlatform/Extensions/multiplayer.svg","JsPlatform/Extensions/multiplayer.svg").setHelpPath("/all-features/multiplayer").addParameter("string",e("Message name"),"",!1).addParameter("variable",e("Variable"),"",!1).getCodeExtraInformation().setIncludeFile("Extensions/Multiplayer/peer.js").addIncludeFile("Extensions/Multiplayer/peerJsHelper.js").addIncludeFile("Extensions/PlayerAuthentication/playerauthenticationcomponents.js").addIncludeFile("Extensions/PlayerAuthentication/playerauthenticationtools.js").addIncludeFile("Extensions/Multiplayer/multiplayercomponents.js").addIncludeFile("Extensions/Multiplayer/messageManager.js").addIncludeFile("Extensions/Multiplayer/multiplayerVariablesManager.js").addIncludeFile("Extensions/Multiplayer/multiplayertools.js").setFunctionName("gdjs.multiplayerMessageManager.sendVariableCustomMessage"),a.addAction("GetMessageVariable",e("Get message variable"),e("Store the data of the specified message in a variable. Use with the condition 'Message has been received' to know when the message has been properly processed by the host."),e("Save message _PARAM0_ data in _PARAM1_"),e("Advanced"),"JsPlatform/Extensions/multiplayer.svg","JsPlatform/Extensions/multiplayer.svg").setHelpPath("/all-features/multiplayer").addParameter("string",e("Message name"),"",!1).addParameter("variable",e("Variable"),"",!1).getCodeExtraInformation().setIncludeFile("Extensions/Multiplayer/peer.js").addIncludeFile("Extensions/Multiplayer/peerJsHelper.js").addIncludeFile("Extensions/PlayerAuthentication/playerauthenticationcomponents.js").addIncludeFile("Extensions/PlayerAuthentication/playerauthenticationtools.js").addIncludeFile("Extensions/Multiplayer/multiplayercomponents.js").addIncludeFile("Extensions/Multiplayer/messageManager.js").addIncludeFile("Extensions/Multiplayer/multiplayerVariablesManager.js").addIncludeFile("Extensions/Multiplayer/multiplayertools.js").setFunctionName("gdjs.multiplayerMessageManager.getVariableCustomMessageData"),a.addCondition("IsLobbiesWindowOpen",e("Lobbies window is open"),e("Check if the lobbies window is open."),e("Lobbies window is open"),e("Lobbies"),"JsPlatform/Extensions/multiplayer.svg","JsPlatform/Extensions/multiplayer.svg").addCodeOnlyParameter("currentScene","").getCodeExtraInformation().setIncludeFile("Extensions/Multiplayer/peer.js").addIncludeFile("Extensions/Multiplayer/peerJsHelper.js").addIncludeFile("Extensions/PlayerAuthentication/playerauthenticationcomponents.js").addIncludeFile("Extensions/PlayerAuthentication/playerauthenticationtools.js").addIncludeFile("Extensions/Multiplayer/multiplayercomponents.js").addIncludeFile("Extensions/Multiplayer/messageManager.js").addIncludeFile("Extensions/Multiplayer/multiplayerVariablesManager.js").addIncludeFile("Extensions/Multiplayer/multiplayertools.js").setFunctionName("gdjs.multiplayer.isLobbiesWindowOpen"),a.addCondition("HasLobbyGameJustStarted",e("Lobby game has just started"),e("Check if the lobby game has just started."),e("Lobby game has started"),e("Lobbies"),"JsPlatform/Extensions/multiplayer.svg","JsPlatform/Extensions/multiplayer.svg").getCodeExtraInformation().setIncludeFile("Extensions/Multiplayer/peer.js").addIncludeFile("Extensions/Multiplayer/peerJsHelper.js").addIncludeFile("Extensions/PlayerAuthentication/playerauthenticationcomponents.js").addIncludeFile("Extensions/PlayerAuthentication/playerauthenticationtools.js").addIncludeFile("Extensions/Multiplayer/multiplayercomponents.js").addIncludeFile("Extensions/Multiplayer/messageManager.js").addIncludeFile("Extensions/Multiplayer/multiplayerVariablesManager.js").addIncludeFile("Extensions/Multiplayer/multiplayertools.js").setFunctionName("gdjs.multiplayer.hasLobbyGameJustStarted"),a.addCondition("IsLobbyGameRunning",e("Lobby game is running"),e("Check if the lobby game is running."),e("Lobby game is running"),e("Lobbies"),"JsPlatform/Extensions/multiplayer.svg","JsPlatform/Extensions/multiplayer.svg").getCodeExtraInformation().setIncludeFile("Extensions/Multiplayer/peer.js").addIncludeFile("Extensions/Multiplayer/peerJsHelper.js").addIncludeFile("Extensions/PlayerAuthentication/playerauthenticationcomponents.js").addIncludeFile("Extensions/PlayerAuthentication/playerauthenticationtools.js").addIncludeFile("Extensions/Multiplayer/multiplayercomponents.js").addIncludeFile("Extensions/Multiplayer/messageManager.js").addIncludeFile("Extensions/Multiplayer/multiplayerVariablesManager.js").addIncludeFile("Extensions/Multiplayer/multiplayertools.js").setFunctionName("gdjs.multiplayer.isLobbyGameRunning"),a.addCondition("HasLobbyGameJustEnded",e("Lobby game has just ended"),e("Check if the lobby game has just ended."),e("Lobby game has ended"),e("Lobbies"),"JsPlatform/Extensions/multiplayer.svg","JsPlatform/Extensions/multiplayer.svg").getCodeExtraInformation().setIncludeFile("Extensions/Multiplayer/peer.js").addIncludeFile("Extensions/Multiplayer/peerJsHelper.js").addIncludeFile("Extensions/PlayerAuthentication/playerauthenticationcomponents.js").addIncludeFile("Extensions/PlayerAuthentication/playerauthenticationtools.js").addIncludeFile("Extensions/Multiplayer/multiplayercomponents.js").addIncludeFile("Extensions/Multiplayer/messageManager.js").addIncludeFile("Extensions/Multiplayer/multiplayerVariablesManager.js").addIncludeFile("Extensions/Multiplayer/multiplayertools.js").setFunctionName("gdjs.multiplayer.hasLobbyGameJustEnded"),a.addCondition("HasMessageBeenReceived",e("Custom message has been received from another player"),e("Check if a custom message has been received from another player. Will be true only for one frame."),e("Message _PARAM0_ has been received"),e("Advanced"),"JsPlatform/Extensions/multiplayer.svg","JsPlatform/Extensions/multiplayer.svg").addParameter("string",e("Message name"),"",!1).getCodeExtraInformation().setIncludeFile("Extensions/Multiplayer/peer.js").addIncludeFile("Extensions/Multiplayer/peerJsHelper.js").addIncludeFile("Extensions/PlayerAuthentication/playerauthenticationcomponents.js").addIncludeFile("Extensions/PlayerAuthentication/playerauthenticationtools.js").addIncludeFile("Extensions/Multiplayer/multiplayercomponents.js").addIncludeFile("Extensions/Multiplayer/messageManager.js").addIncludeFile("Extensions/Multiplayer/multiplayerVariablesManager.js").addIncludeFile("Extensions/Multiplayer/multiplayertools.js").setFunctionName("gdjs.multiplayerMessageManager.hasCustomMessageBeenReceived"),a.addExpressionAndConditionAndAction("number","ObjectsSynchronizationRate",e("Objects synchronization rate"),e("objects synchronization rate (between 1 and 60, default is 30 times per second)"),e("objects synchronization rate"),e("Advanced"),"JsPlatform/Extensions/multiplayer.svg").useStandardParameters("number",t.ParameterOptions.makeNewOptions().setDescription(e("Sync rate"))).setIncludeFile("Extensions/Multiplayer/peer.js").addIncludeFile("Extensions/Multiplayer/peerJsHelper.js").addIncludeFile("Extensions/PlayerAuthentication/playerauthenticationcomponents.js").addIncludeFile("Extensions/PlayerAuthentication/playerauthenticationtools.js").addIncludeFile("Extensions/Multiplayer/messageManager.js").addIncludeFile("Extensions/Multiplayer/multiplayerVariablesManager.js").addIncludeFile("Extensions/Multiplayer/multiplayertools.js").setFunctionName("gdjs.multiplayer.setObjectsSynchronizationRate").setGetter("gdjs.multiplayer.getObjectsSynchronizationRate"),a.addCondition("IsPlayerHost",e("Player is host"),e("Check if the player is the host. (Player 1 is the host)"),e("Player is host"),e("Lobbies"),"JsPlatform/Extensions/multiplayer.svg","JsPlatform/Extensions/multiplayer.svg").getCodeExtraInformation().setIncludeFile("Extensions/Multiplayer/peer.js").addIncludeFile("Extensions/Multiplayer/peerJsHelper.js").addIncludeFile("Extensions/PlayerAuthentication/playerauthenticationcomponents.js").addIncludeFile("Extensions/PlayerAuthentication/playerauthenticationtools.js").addIncludeFile("Extensions/Multiplayer/multiplayercomponents.js").addIncludeFile("Extensions/Multiplayer/messageManager.js").addIncludeFile("Extensions/Multiplayer/multiplayerVariablesManager.js").addIncludeFile("Extensions/Multiplayer/multiplayertools.js").setFunctionName("gdjs.multiplayer.isCurrentPlayerHost"),a.addCondition("HasAnyPlayerLeft",e("Any player has left"),e("Check if any player has left the lobby game."),e("Any player has left"),e("Lobbies"),"JsPlatform/Extensions/multiplayer.svg","JsPlatform/Extensions/multiplayer.svg").getCodeExtraInformation().setIncludeFile("Extensions/Multiplayer/peer.js").addIncludeFile("Extensions/Multiplayer/peerJsHelper.js").addIncludeFile("Extensions/PlayerAuthentication/playerauthenticationcomponents.js").addIncludeFile("Extensions/PlayerAuthentication/playerauthenticationtools.js").addIncludeFile("Extensions/Multiplayer/multiplayercomponents.js").addIncludeFile("Extensions/Multiplayer/messageManager.js").addIncludeFile("Extensions/Multiplayer/multiplayerVariablesManager.js").addIncludeFile("Extensions/Multiplayer/multiplayertools.js").setFunctionName("gdjs.multiplayerMessageManager.hasAnyPlayerJustLeft"),a.addCondition("HasPlayerLeft",e("Player has left"),e("Check if the player has left the lobby game."),e("Player _PARAM0_ has left"),e("Lobbies"),"JsPlatform/Extensions/multiplayer.svg","JsPlatform/Extensions/multiplayer.svg").getCodeExtraInformation().addParameter("number",e("Player number"),"",!1).setIncludeFile("Extensions/Multiplayer/peer.js").addIncludeFile("Extensions/Multiplayer/peerJsHelper.js").addIncludeFile("Extensions/PlayerAuthentication/playerauthenticationcomponents.js").addIncludeFile("Extensions/PlayerAuthentication/playerauthenticationtools.js").addIncludeFile("Extensions/Multiplayer/multiplayercomponents.js").addIncludeFile("Extensions/Multiplayer/messageManager.js").addIncludeFile("Extensions/Multiplayer/multiplayerVariablesManager.js").addIncludeFile("Extensions/Multiplayer/multiplayertools.js").setFunctionName("gdjs.multiplayerMessageManager.hasPlayerJustLeft"),a.addExpression("LastLeftPlayerNumber",e("Player number that just left"),e("Returns the player number of the player that has just left the lobby."),e("Lobbies"),"JsPlatform/Extensions/multiplayer.svg").getCodeExtraInformation().setIncludeFile("Extensions/Multiplayer/peer.js").addIncludeFile("Extensions/Multiplayer/peerJsHelper.js").addIncludeFile("Extensions/PlayerAuthentication/playerauthenticationcomponents.js").addIncludeFile("Extensions/PlayerAuthentication/playerauthenticationtools.js").addIncludeFile("Extensions/Multiplayer/multiplayercomponents.js").addIncludeFile("Extensions/Multiplayer/messageManager.js").addIncludeFile("Extensions/Multiplayer/multiplayerVariablesManager.js").addIncludeFile("Extensions/Multiplayer/multiplayertools.js").setFunctionName("gdjs.multiplayerMessageManager.getLatestPlayerWhoJustLeft"),a.addCondition("HasAnyPlayerJoined",e("Any player has joined"),e("Check if any player has joined the lobby."),e("Any player has joined"),e("Lobbies"),"JsPlatform/Extensions/multiplayer.svg","JsPlatform/Extensions/multiplayer.svg").getCodeExtraInformation().setIncludeFile("Extensions/Multiplayer/peer.js").addIncludeFile("Extensions/Multiplayer/peerJsHelper.js").addIncludeFile("Extensions/PlayerAuthentication/playerauthenticationcomponents.js").addIncludeFile("Extensions/PlayerAuthentication/playerauthenticationtools.js").addIncludeFile("Extensions/Multiplayer/multiplayercomponents.js").addIncludeFile("Extensions/Multiplayer/messageManager.js").addIncludeFile("Extensions/Multiplayer/multiplayerVariablesManager.js").addIncludeFile("Extensions/Multiplayer/multiplayertools.js").setFunctionName("gdjs.multiplayerMessageManager.hasAnyPlayerJustJoined"),a.addCondition("HasPlayerJoined",e("Player has joined"),e("Check if the player has joined the lobby."),e("Player _PARAM0_ has joined"),e("Lobbies"),"JsPlatform/Extensions/multiplayer.svg","JsPlatform/Extensions/multiplayer.svg").getCodeExtraInformation().addParameter("number",e("Player number"),"",!1).setIncludeFile("Extensions/Multiplayer/peer.js").addIncludeFile("Extensions/Multiplayer/peerJsHelper.js").addIncludeFile("Extensions/PlayerAuthentication/playerauthenticationcomponents.js").addIncludeFile("Extensions/PlayerAuthentication/playerauthenticationtools.js").addIncludeFile("Extensions/Multiplayer/multiplayercomponents.js").addIncludeFile("Extensions/Multiplayer/messageManager.js").addIncludeFile("Extensions/Multiplayer/multiplayerVariablesManager.js").addIncludeFile("Extensions/Multiplayer/multiplayertools.js").setFunctionName("gdjs.multiplayerMessageManager.hasPlayerJustJoined"),a.addExpression("LastJoinedPlayerNumber",e("Player number that just joined"),e("Returns the player number of the player that has just joined the lobby."),e("Lobbies"),"JsPlatform/Extensions/multiplayer.svg").getCodeExtraInformation().setIncludeFile("Extensions/Multiplayer/peer.js").addIncludeFile("Extensions/Multiplayer/peerJsHelper.js").addIncludeFile("Extensions/PlayerAuthentication/playerauthenticationcomponents.js").addIncludeFile("Extensions/PlayerAuthentication/playerauthenticationtools.js").addIncludeFile("Extensions/Multiplayer/multiplayercomponents.js").addIncludeFile("Extensions/Multiplayer/messageManager.js").addIncludeFile("Extensions/Multiplayer/multiplayerVariablesManager.js").addIncludeFile("Extensions/Multiplayer/multiplayertools.js").setFunctionName("gdjs.multiplayerMessageManager.getLatestPlayerWhoJustJoined"),a.addCondition("IsMigratingHost",e("Host is migrating"),e("Check if the host is migrating, in order to adapt the game state (like pausing the game)."),e("Host is migrating"),e("Lobbies"),"JsPlatform/Extensions/multiplayer.svg","JsPlatform/Extensions/multiplayer.svg").getCodeExtraInformation().setIncludeFile("Extensions/Multiplayer/peer.js").addIncludeFile("Extensions/Multiplayer/peerJsHelper.js").addIncludeFile("Extensions/PlayerAuthentication/playerauthenticationcomponents.js").addIncludeFile("Extensions/PlayerAuthentication/playerauthenticationtools.js").addIncludeFile("Extensions/Multiplayer/multiplayercomponents.js").addIncludeFile("Extensions/Multiplayer/messageManager.js").addIncludeFile("Extensions/Multiplayer/multiplayerVariablesManager.js").addIncludeFile("Extensions/Multiplayer/multiplayertools.js").setFunctionName("gdjs.multiplayer.isMigratingHost"),a.addAction("EndLobbyWhenHostLeaves",e("Configure lobby game to end when host leaves"),e('Configure the lobby game to end when the host leaves. This will trigger the "Lobby game has just ended" condition. (Default behavior is to migrate the host)'),e("Configure lobby game to end when host leaves"),e("Advanced"),"JsPlatform/Extensions/multiplayer.svg","JsPlatform/Extensions/multiplayer.svg").addParameter("yesorno",e("End lobby game when host leaves"),"",!1).setHelpPath("/all-features/multiplayer").getCodeExtraInformation().setIncludeFile("Extensions/Multiplayer/peer.js").addIncludeFile("Extensions/Multiplayer/peerJsHelper.js").addIncludeFile("Extensions/PlayerAuthentication/playerauthenticationcomponents.js").addIncludeFile("Extensions/PlayerAuthentication/playerauthenticationtools.js").addIncludeFile("Extensions/Multiplayer/messageManager.js").addIncludeFile("Extensions/Multiplayer/multiplayerVariablesManager.js").addIncludeFile("Extensions/Multiplayer/multiplayertools.js").setFunctionName("gdjs.multiplayer.endLobbyWhenHostLeaves"),a.addStrExpression("MessageData",e("Message data"),e("Returns the data received when the specified message was received from another player."),e("Advanced"),"JsPlatform/Extensions/multiplayer.svg").addParameter("string",e("Message name"),"",!1).getCodeExtraInformation().setIncludeFile("Extensions/Multiplayer/peer.js").addIncludeFile("Extensions/Multiplayer/peerJsHelper.js").addIncludeFile("Extensions/PlayerAuthentication/playerauthenticationcomponents.js").addIncludeFile("Extensions/PlayerAuthentication/playerauthenticationtools.js").addIncludeFile("Extensions/Multiplayer/multiplayercomponents.js").addIncludeFile("Extensions/Multiplayer/messageManager.js").addIncludeFile("Extensions/Multiplayer/multiplayerVariablesManager.js").addIncludeFile("Extensions/Multiplayer/multiplayertools.js").setFunctionName("gdjs.multiplayerMessageManager.getCustomMessageData"),a.addExpression("MessageSender",e("Message sender"),e("Returns the player number of the sender of the specified message."),e("Advanced"),"JsPlatform/Extensions/multiplayer.svg").addParameter("string",e("Message name"),"",!1).getCodeExtraInformation().setIncludeFile("Extensions/Multiplayer/peer.js").addIncludeFile("Extensions/Multiplayer/peerJsHelper.js").addIncludeFile("Extensions/PlayerAuthentication/playerauthenticationcomponents.js").addIncludeFile("Extensions/PlayerAuthentication/playerauthenticationtools.js").addIncludeFile("Extensions/Multiplayer/multiplayercomponents.js").addIncludeFile("Extensions/Multiplayer/messageManager.js").addIncludeFile("Extensions/Multiplayer/multiplayerVariablesManager.js").addIncludeFile("Extensions/Multiplayer/multiplayertools.js").setFunctionName("gdjs.multiplayerMessageManager.getCustomMessageSender"),a.addExpressionAndCondition("number","PlayersInLobbyCount",e("Number of players in lobby"),e("the number of players in the lobby"),e("the number of players in the lobby"),e("Lobbies"),"JsPlatform/Extensions/multiplayer.svg").setIncludeFile("Extensions/Multiplayer/peer.js").addIncludeFile("Extensions/Multiplayer/peerJsHelper.js").addIncludeFile("Extensions/PlayerAuthentication/playerauthenticationcomponents.js").addIncludeFile("Extensions/PlayerAuthentication/playerauthenticationtools.js").addIncludeFile("Extensions/Multiplayer/multiplayercomponents.js").addIncludeFile("Extensions/Multiplayer/messageManager.js").addIncludeFile("Extensions/Multiplayer/multiplayerVariablesManager.js").addIncludeFile("Extensions/Multiplayer/multiplayertools.js").useStandardParameters("number",t.ParameterOptions.makeNewOptions()).setFunctionName("gdjs.multiplayer.getPlayersInLobbyCount"),a.addCondition("IsPlayerConnected",e("Player is connected"),e("Check if the specified player is connected to the lobby."),e("Player _PARAM0_ is connected"),e("Lobbies"),"JsPlatform/Extensions/multiplayer.svg","JsPlatform/Extensions/multiplayer.svg").addParameter("number",e("The position of the player in the lobby (1, 2, ...)"),"",!1).setHelpPath("/all-features/multiplayer").getCodeExtraInformation().setIncludeFile("Extensions/Multiplayer/peer.js").addIncludeFile("Extensions/Multiplayer/peerJsHelper.js").addIncludeFile("Extensions/PlayerAuthentication/playerauthenticationcomponents.js").addIncludeFile("Extensions/PlayerAuthentication/playerauthenticationtools.js").addIncludeFile("Extensions/Multiplayer/messageManager.js").addIncludeFile("Extensions/Multiplayer/multiplayerVariablesManager.js").addIncludeFile("Extensions/Multiplayer/multiplayertools.js").setFunctionName("gdjs.multiplayer.isPlayerConnected"),a.addExpressionAndCondition("number","CurrentPlayerNumber",e("Current player number in lobby"),e("the current player number in the lobby (1, 2, ...)"),e("the current player number in the lobby"),e("Lobbies"),"JsPlatform/Extensions/multiplayer.svg").setIncludeFile("Extensions/Multiplayer/peer.js").addIncludeFile("Extensions/Multiplayer/peerJsHelper.js").addIncludeFile("Extensions/PlayerAuthentication/playerauthenticationcomponents.js").addIncludeFile("Extensions/PlayerAuthentication/playerauthenticationtools.js").addIncludeFile("Extensions/Multiplayer/multiplayercomponents.js").addIncludeFile("Extensions/Multiplayer/messageManager.js").addIncludeFile("Extensions/Multiplayer/multiplayerVariablesManager.js").addIncludeFile("Extensions/Multiplayer/multiplayertools.js").useStandardParameters("number",t.ParameterOptions.makeNewOptions()).setFunctionName("gdjs.multiplayer.getCurrentPlayerNumber"),a.addStrExpression("PlayerUsername",e("Player username in lobby"),e("Get the username of the player in the lobby."),e("Lobbies"),"JsPlatform/Extensions/multiplayer.svg").addParameter("number",e("The position of the player in the lobby (1, 2, ...)"),"",!1).getCodeExtraInformation().setIncludeFile("Extensions/Multiplayer/peer.js").addIncludeFile("Extensions/Multiplayer/peerJsHelper.js").addIncludeFile("Extensions/PlayerAuthentication/playerauthenticationcomponents.js").addIncludeFile("Extensions/PlayerAuthentication/playerauthenticationtools.js").addIncludeFile("Extensions/Multiplayer/multiplayercomponents.js").addIncludeFile("Extensions/Multiplayer/messageManager.js").addIncludeFile("Extensions/Multiplayer/multiplayerVariablesManager.js").addIncludeFile("Extensions/Multiplayer/multiplayertools.js").setFunctionName("gdjs.multiplayer.getPlayerUsername"),a.addStrExpression("CurrentPlayerUsername",e("Current player username in lobby"),e("Get the username of the current player in the lobby."),e("Lobbies"),"JsPlatform/Extensions/multiplayer.svg").getCodeExtraInformation().setIncludeFile("Extensions/Multiplayer/peer.js").addIncludeFile("Extensions/Multiplayer/peerJsHelper.js").addIncludeFile("Extensions/PlayerAuthentication/playerauthenticationcomponents.js").addIncludeFile("Extensions/PlayerAuthentication/playerauthenticationtools.js").addIncludeFile("Extensions/Multiplayer/multiplayercomponents.js").addIncludeFile("Extensions/Multiplayer/messageManager.js").addIncludeFile("Extensions/Multiplayer/multiplayerVariablesManager.js").addIncludeFile("Extensions/Multiplayer/multiplayertools.js").setFunctionName("gdjs.multiplayer.getCurrentPlayerUsername"),a.addExpression("PlayerPing",e("Player ping in lobby"),e("Get the ping of the player in the lobby."),e("Lobbies"),"JsPlatform/Extensions/multiplayer.svg").addParameter("number",e("The position of the player in the lobby (1, 2, ...)"),"",!1).getCodeExtraInformation().setIncludeFile("Extensions/Multiplayer/peer.js").addIncludeFile("Extensions/Multiplayer/peerJsHelper.js").addIncludeFile("Extensions/PlayerAuthentication/playerauthenticationcomponents.js").addIncludeFile("Extensions/PlayerAuthentication/playerauthenticationtools.js").addIncludeFile("Extensions/Multiplayer/multiplayercomponents.js").addIncludeFile("Extensions/Multiplayer/messageManager.js").addIncludeFile("Extensions/Multiplayer/multiplayerVariablesManager.js").addIncludeFile("Extensions/Multiplayer/multiplayertools.js").setFunctionName("gdjs.multiplayerMessageManager.getPlayerPing"),a.addExpression("CurrentPlayerPing",e("Current player ping in lobby"),e("Get the ping of the current player in the lobby."),e("Lobbies"),"JsPlatform/Extensions/multiplayer.svg").getCodeExtraInformation().setIncludeFile("Extensions/Multiplayer/peer.js").addIncludeFile("Extensions/Multiplayer/peerJsHelper.js").addIncludeFile("Extensions/PlayerAuthentication/playerauthenticationcomponents.js").addIncludeFile("Extensions/PlayerAuthentication/playerauthenticationtools.js").addIncludeFile("Extensions/Multiplayer/multiplayercomponents.js").addIncludeFile("Extensions/Multiplayer/messageManager.js").addIncludeFile("Extensions/Multiplayer/multiplayerVariablesManager.js").addIncludeFile("Extensions/Multiplayer/multiplayertools.js").setFunctionName("gdjs.multiplayerMessageManager.getCurrentPlayerPing"),a.addExpressionAndConditionAndAction("number","PlayerVariableOwnership",e("Player variable ownership"),e("the player owning the variable"),e("the player owning the variable _PARAM1_"),e("Variables"),"JsPlatform/Extensions/multiplayer.svg").addCodeOnlyParameter("currentScene","").addParameter("variable",e("Variable"),"",!1).setParameterLongDescription(e("Only root variables can change ownership. Arrays and structures children are synchronized with their parent.")).useStandardParameters("number",t.ParameterOptions.makeNewOptions().setDescription(e("Player number"))).setIncludeFile("Extensions/Multiplayer/peer.js").addIncludeFile("Extensions/Multiplayer/peerJsHelper.js").addIncludeFile("Extensions/PlayerAuthentication/playerauthenticationcomponents.js").addIncludeFile("Extensions/PlayerAuthentication/playerauthenticationtools.js").addIncludeFile("Extensions/Multiplayer/messageManager.js").addIncludeFile("Extensions/Multiplayer/multiplayerVariablesManager.js").addIncludeFile("Extensions/Multiplayer/multiplayertools.js").setFunctionName("gdjs.multiplayerVariablesManager.setPlayerVariableOwnership").setGetter("gdjs.multiplayerVariablesManager.getPlayerVariableOwnership"),a.addAction("TakeVariableOwnership",e("Take ownership of variable"),e("Take the ownership of the variable. It will then be synchronized to other players, with the current player as the owner."),e("Take ownership of _PARAM1_"),e("Variables"),"JsPlatform/Extensions/multiplayer.svg","JsPlatform/Extensions/multiplayer.svg").addCodeOnlyParameter("currentScene","").addParameter("variable",e("Variable"),"",!1).setParameterLongDescription(e("Only root variables can change ownership. Arrays and structures children are synchronized with their parent.")).setHelpPath("/all-features/multiplayer").getCodeExtraInformation().setIncludeFile("Extensions/Multiplayer/peer.js").addIncludeFile("Extensions/Multiplayer/peerJsHelper.js").addIncludeFile("Extensions/PlayerAuthentication/playerauthenticationcomponents.js").addIncludeFile("Extensions/PlayerAuthentication/playerauthenticationtools.js").addIncludeFile("Extensions/Multiplayer/messageManager.js").addIncludeFile("Extensions/Multiplayer/multiplayerVariablesManager.js").addIncludeFile("Extensions/Multiplayer/multiplayertools.js").setFunctionName("gdjs.multiplayerVariablesManager.takeVariableOwnership"),a.addAction("RemoveVariableOwnership",e("Remove ownership of variable"),e("Remove the ownership of the variable. It will still be synchronized to other players, but the host owns it."),e("Remove ownership of _PARAM1_"),e("Variables"),"JsPlatform/Extensions/multiplayer.svg","JsPlatform/Extensions/multiplayer.svg").addCodeOnlyParameter("currentScene","").addParameter("variable",e("Variable"),"",!1).setParameterLongDescription(e("Only root variables can change ownership. Arrays and structures children are synchronized with their parent.")).setHelpPath("/all-features/multiplayer").getCodeExtraInformation().setIncludeFile("Extensions/Multiplayer/peer.js").addIncludeFile("Extensions/Multiplayer/peerJsHelper.js").addIncludeFile("Extensions/PlayerAuthentication/playerauthenticationcomponents.js").addIncludeFile("Extensions/PlayerAuthentication/playerauthenticationtools.js").addIncludeFile("Extensions/Multiplayer/messageManager.js").addIncludeFile("Extensions/Multiplayer/multiplayerVariablesManager.js").addIncludeFile("Extensions/Multiplayer/multiplayertools.js").setFunctionName("gdjs.multiplayerVariablesManager.removeVariableOwnership"),a.addAction("DisableVariableSynchronization",e("Disable variable synchronization"),e("Disable synchronization of the variable over the network. It will not be sent to other players anymore."),e("Disable synchronization of _PARAM1_"),e("Variables"),"JsPlatform/Extensions/multiplayer.svg","JsPlatform/Extensions/multiplayer.svg").addCodeOnlyParameter("currentScene","").addParameter("variable",e("Variable"),"",!1).setHelpPath("/all-features/multiplayer").getCodeExtraInformation().setIncludeFile("Extensions/Multiplayer/peer.js").addIncludeFile("Extensions/Multiplayer/peerJsHelper.js").addIncludeFile("Extensions/PlayerAuthentication/playerauthenticationcomponents.js").addIncludeFile("Extensions/PlayerAuthentication/playerauthenticationtools.js").addIncludeFile("Extensions/Multiplayer/messageManager.js").addIncludeFile("Extensions/Multiplayer/multiplayerVariablesManager.js").addIncludeFile("Extensions/Multiplayer/multiplayertools.js").setFunctionName("gdjs.multiplayerVariablesManager.disableVariableSynchronization");var i=new t.BehaviorJsImplementation;i.updateProperty=function(e,t,a){if("actionOnPlayerDisconnect"===t)return e.getChild("actionOnPlayerDisconnect").setStringValue(a),!0;if("playerNumber"===t){var i="Host"===a?0:parseInt(a,10);return e.getChild("playerNumber").setIntValue(i),!0}return!1},i.getProperties=function(a){var i=new t.MapStringPropertyDescriptor,n=a.getChild("playerNumber").getIntValue(),r=0===n?"Host":"".concat(n);return i.getOrCreate("playerNumber").setValue(r).setType("Choice").setLabel(e("Player owning the object")).setDescription(e('Who is synchronizing the object to the players. If this is an object controlled by a player, then assign the player number. Otherwise just leave "Host" and the host of the game will synchronize the object to the players. (Note: you can change the ownership of the object during the game with corresponding actions).')).addExtraInfo("Host").addExtraInfo("1").addExtraInfo("2").addExtraInfo("3").addExtraInfo("4").addExtraInfo("5").addExtraInfo("6").addExtraInfo("7").addExtraInfo("8"),i.getOrCreate("actionOnPlayerDisconnect").setValue(a.getChild("actionOnPlayerDisconnect").getStringValue()).setType("Choice").setLabel(e("Action when player disconnects")).setAdvanced(!0).addExtraInfo("DestroyObject").addExtraInfo("GiveOwnershipToHost").addExtraInfo("DoNothing"),i},i.initializeContent=function(e){e.addChild("playerNumber").setIntValue(0),e.addChild("actionOnPlayerDisconnect").setStringValue("DestroyObject")};var n=new t.BehaviorsSharedData,r=a.addBehavior("MultiplayerObjectBehavior",e("Multiplayer object"),"MultiplayerObject",e("Allow the object to be synchronized with other players in the lobby."),"","JsPlatform/Extensions/multiplayer.svg","MultiplayerObjectBehavior",i,n).setQuickCustomizationVisibility(t.QuickCustomization.Hidden).setIncludeFile("Extensions/Multiplayer/peer.js").addIncludeFile("Extensions/Multiplayer/peerJsHelper.js").addIncludeFile("Extensions/PlayerAuthentication/playerauthenticationcomponents.js").addIncludeFile("Extensions/PlayerAuthentication/playerauthenticationtools.js").addIncludeFile("Extensions/Multiplayer/messageManager.js").addIncludeFile("Extensions/Multiplayer/multiplayerVariablesManager.js").addIncludeFile("Extensions/Multiplayer/multiplayertools.js").addIncludeFile("Extensions/Multiplayer/multiplayerobjectruntimebehavior.js");return r.addExpressionAndConditionAndAction("number","PlayerObjectOwnership",e("Player object ownership"),e("the player owning the object"),e("the player owning the instance"),e("Multiplayer"),"JsPlatform/Extensions/multiplayer.svg").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"MultiplayerObjectBehavior").useStandardParameters("number",t.ParameterOptions.makeNewOptions().setDescription(e("Player number"))).markAsAdvanced().setFunctionName("setPlayerObjectOwnership").setGetter("getPlayerObjectOwnership"),r.addScopedCondition("IsObjectOwnedByCurrentPlayer",e("Is object owned by current player"),e("Check if the object is owned by the current player, as a player or the host."),e("Object _PARAM0_ is owned by current player"),e("Multiplayer"),"JsPlatform/Extensions/multiplayer.svg","JsPlatform/Extensions/multiplayer.svg").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"MultiplayerObjectBehavior",!1).markAsAdvanced().setFunctionName("isObjectOwnedByCurrentPlayer"),r.addScopedAction("TakeObjectOwnership",e("Take ownership of object"),e("Take the ownership of the object. It will then be synchronized to other players, with the current player as the owner."),e("Take ownership of _PARAM0_"),e("Multiplayer"),"JsPlatform/Extensions/multiplayer.svg","JsPlatform/Extensions/multiplayer.svg").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"MultiplayerObjectBehavior",!1).markAsAdvanced().setFunctionName("takeObjectOwnership"),r.addScopedAction("RemoveObjectOwnership",e("Remove object ownership"),e("Remove the ownership of the object from the player. It will still be synchronized to other players, but the host owns it."),e("Remove ownership of _PARAM0_"),e("Multiplayer"),"JsPlatform/Extensions/multiplayer.svg","JsPlatform/Extensions/multiplayer.svg").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"MultiplayerObjectBehavior",!1).markAsAdvanced().setFunctionName("removeObjectOwnership"),r.addScopedAction("EnableBehaviorSynchronization",e("Enable (or disable) the synchronization of a behavior"),e("Enable or disable the synchronization of a behavior over the network. If disabled, the behavior's current state will not be sent to other players anymore."),e("Enable synchronization of _PARAM2_ for _PARAM0_: _PARAM3_"),e("Multiplayer"),"JsPlatform/Extensions/multiplayer.svg","JsPlatform/Extensions/multiplayer.svg").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Multiplayer behavior"),"MultiplayerObjectBehavior",!1).addParameter("behavior",e("Object behavior"),"",!1).addParameter("yesorno",e("Enable synchronization"),"",!1).markAsAdvanced().setFunctionName("enableBehaviorSynchronization"),a},runExtensionSanityTests:function(e,t){return[]}}},82240:function(e){e.exports={createExtension:function(e,t){var a=new t.PlatformExtension;return a.setExtensionInformation("P2P",e("P2P"),"Allow game instances to communicate remotely using messages sent via WebRTC (P2P).","Arthur Pacaud (arthuro555)","MIT").setExtensionHelpPath("/all-features/p2p").setCategory("Network"),a.addInstructionOrExpressionGroupMetadata(e("P2P")).setIcon("JsPlatform/Extensions/p2picon.svg"),a.addCondition("OnEvent",e("Event triggered by peer"),e("Triggers once when a connected client sends the event"),e("Event _PARAM0_ received from other client (data loss: _PARAM1_)"),"","JsPlatform/Extensions/p2picon.svg","JsPlatform/Extensions/p2picon.svg").addParameter("string",e("Event name"),"",!1).addParameter("yesorno",e("Data loss allowed?"),"",!1).getCodeExtraInformation().setIncludeFile("Extensions/P2P/A_peer.js").addIncludeFile("Extensions/P2P/B_p2ptools.js").setFunctionName("gdjs.evtTools.p2p.onEvent"),a.addCondition("IsReady",e("Is P2P ready"),e("True if the peer-to-peer extension initialized and is ready to use."),e("Is P2P ready?"),"","JsPlatform/Extensions/p2picon.svg","JsPlatform/Extensions/p2picon.svg").getCodeExtraInformation().setIncludeFile("Extensions/P2P/A_peer.js").addIncludeFile("Extensions/P2P/B_p2ptools.js").setFunctionName("gdjs.evtTools.p2p.isReady"),a.addCondition("OnError",e("An error occurred"),e("Triggers once when an error occurs. Use P2P::GetLastError() expression to get the content of the error if you want to analyse it or display it to the user."),e("P2P error occurred"),"","JsPlatform/Extensions/p2picon.svg","JsPlatform/Extensions/p2picon.svg").getCodeExtraInformation().setIncludeFile("Extensions/P2P/A_peer.js").addIncludeFile("Extensions/P2P/B_p2ptools.js").setFunctionName("gdjs.evtTools.p2p.onError"),a.addCondition("OnDisconnection",e("Peer disconnected"),e("Triggers once when a peer disconnects."),e("P2P peer disconnected"),"","JsPlatform/Extensions/p2picon.svg","JsPlatform/Extensions/p2picon.svg").getCodeExtraInformation().setIncludeFile("Extensions/P2P/A_peer.js").addIncludeFile("Extensions/P2P/B_p2ptools.js").setFunctionName("gdjs.evtTools.p2p.onDisconnect"),a.addCondition("OnConnection",e("Peer Connected"),e("Triggers once when a remote peer initiates a connection."),e("P2P peer connected"),"","JsPlatform/Extensions/p2picon.svg","JsPlatform/Extensions/p2picon.svg").getCodeExtraInformation().setIncludeFile("Extensions/P2P/A_peer.js").addIncludeFile("Extensions/P2P/B_p2ptools.js").setFunctionName("gdjs.evtTools.p2p.onConnection"),a.addAction("Connect",e("Connect to another client"),e("Connects the current client to another client using its id."),e("Connect to P2P client _PARAM0_"),"","JsPlatform/Extensions/p2picon.svg","JsPlatform/Extensions/p2picon.svg").addParameter("string",e("ID of the other client"),"",!1).getCodeExtraInformation().setIncludeFile("Extensions/P2P/A_peer.js").addIncludeFile("Extensions/P2P/B_p2ptools.js").setFunctionName("gdjs.evtTools.p2p.connect"),a.addAction("UseOwnBroker",e("Connect to a broker server"),e("Connects the extension to a broker server."),e("Connect to the broker server at http://_PARAM0_:_PARAM1_/"),"","JsPlatform/Extensions/p2picon.svg","JsPlatform/Extensions/p2picon.svg").addParameter("string",e("Host"),"",!1).addParameter("expression",e("Port"),"",!1).addParameter("string",e("Path"),"",!1).addParameter("string",e("Key"),"",!1).addParameter("yesorno",e("SSl enabled?"),"",!1).getCodeExtraInformation().setIncludeFile("Extensions/P2P/A_peer.js").addIncludeFile("Extensions/P2P/B_p2ptools.js").setFunctionName("gdjs.evtTools.p2p.useCustomBrokerServer"),a.addAction("UseOwnICEServer",e("Use a custom ICE server"),e("Disables the default ICE (STUN or TURN) servers list and use one of your own. Note that it is recommended to add at least 1 self-hosted STUN and TURN server for games that are not over LAN but over the internet. This action can be used multiple times to add multiple servers. This action needs to be called BEFORE connecting to the broker server."),e("Use ICE server _PARAM0_ (username: _PARAM1_, password: _PARAM2_)"),"","JsPlatform/Extensions/p2picon.svg","JsPlatform/Extensions/p2picon.svg").addParameter("string",e("URL to the ICE server"),"",!1).addParameter("string",e("(Optional) Username"),"",!0).addParameter("string",e("(Optional) Password"),"",!0).getCodeExtraInformation().setIncludeFile("Extensions/P2P/A_peer.js").addIncludeFile("Extensions/P2P/B_p2ptools.js").setFunctionName("gdjs.evtTools.p2p.useCustomICECandidate"),a.addAction("ForceRelayServer",e("Disable IP address sharing"),e("Disables the sharing of IP addresses with the other peers. This action needs to be called BEFORE connecting to the broker server."),e("Disable IP sharing: _PARAM0_"),"","JsPlatform/Extensions/p2picon.svg","JsPlatform/Extensions/p2picon.svg").addParameter("yesorno",e("Disable sharing of IP addresses"),"Generally, it is recommended to keep sharing of IP addressed enabled to make connections faster and more often possible. Disabling IP address sharing will force all connections to pass messages through a TURN relay server, you can make P2P use one by adding one as an ICE candidate.",!1).getCodeExtraInformation().setIncludeFile("Extensions/P2P/A_peer.js").addIncludeFile("Extensions/P2P/B_p2ptools.js").setFunctionName("gdjs.evtTools.p2p.forceUseRelayServer"),a.addAction("UseDefaultBroker",e("Connect to the default broker server"),e("Connects to the default broker server."),e("Connect to the default broker server"),"","JsPlatform/Extensions/p2picon.svg","JsPlatform/Extensions/p2picon.svg").getCodeExtraInformation().setIncludeFile("Extensions/P2P/A_peer.js").addIncludeFile("Extensions/P2P/B_p2ptools.js").setFunctionName("gdjs.evtTools.p2p.useDefaultBrokerServer"),a.addAction("OverrideID",e("Override the client ID"),e("Overrides the client ID of the current game instance with a specified ID. Must be called BEFORE connecting to a broker."),e("Override the client ID with _PARAM0_"),"","JsPlatform/Extensions/p2picon.svg","JsPlatform/Extensions/p2picon.svg").addParameter("string",e("ID"),"",!1).getCodeExtraInformation().setIncludeFile("Extensions/P2P/A_peer.js").addIncludeFile("Extensions/P2P/B_p2ptools.js").setFunctionName("gdjs.evtTools.p2p.overrideId"),a.addAction("SendToAll",e("Trigger event on all connected clients"),e("Triggers an event on all connected clients"),e("Trigger event _PARAM0_ on all connected clients (extra data: _PARAM1_)"),"","JsPlatform/Extensions/p2picon.svg","JsPlatform/Extensions/p2picon.svg").addParameter("string",e("Event name"),"",!1).addParameter("string",e("Extra data (optional)"),"",!1).getCodeExtraInformation().setIncludeFile("Extensions/P2P/A_peer.js").addIncludeFile("Extensions/P2P/B_p2ptools.js").setFunctionName("gdjs.evtTools.p2p.sendDataToAll"),a.addAction("SendToOne",e("Trigger event on a specific client"),e("Triggers an event on a specific connected client"),e("Trigger event _PARAM1_ on client _PARAM0_ (extra data: _PARAM2_)"),"","JsPlatform/Extensions/p2picon.svg","JsPlatform/Extensions/p2picon.svg").addParameter("string",e("ID of the other client"),"",!1).addParameter("string",e("Event name"),"",!1).addParameter("string",e("Extra data (optional)"),"",!1).getCodeExtraInformation().setIncludeFile("Extensions/P2P/A_peer.js").addIncludeFile("Extensions/P2P/B_p2ptools.js").setFunctionName("gdjs.evtTools.p2p.sendDataTo"),a.addAction("SendToAllVariable",e("Trigger event on all connected clients (variable)"),e("Triggers an event on all connected clients"),e("Trigger event _PARAM0_ on all connected clients (extra data: _PARAM1_)"),"","JsPlatform/Extensions/p2picon.svg","JsPlatform/Extensions/p2picon.svg").addParameter("string",e("Event name"),"",!1).addParameter("scenevar",e("Variable containing the extra data"),"",!1).getCodeExtraInformation().setIncludeFile("Extensions/P2P/A_peer.js").addIncludeFile("Extensions/P2P/B_p2ptools.js").setFunctionName("gdjs.evtTools.p2p.sendVariableToAll"),a.addAction("SendToOneVariable",e("Trigger event on a specific client (variable)"),e("Triggers an event on a specific connected client"),e("Trigger event _PARAM1_ on client _PARAM0_ (extra data: _PARAM2_)"),"","JsPlatform/Extensions/p2picon.svg","JsPlatform/Extensions/p2picon.svg").addParameter("string",e("ID of the other client"),"",!1).addParameter("string",e("Event name"),"",!1).addParameter("scenevar",e("Variable containing the extra data"),"",!1).getCodeExtraInformation().setIncludeFile("Extensions/P2P/A_peer.js").addIncludeFile("Extensions/P2P/B_p2ptools.js").setFunctionName("gdjs.evtTools.p2p.sendVariableTo"),a.addAction("GetEventVariable",e("Get event data (variable)"),e('Store the data of the specified event in a variable. Check in the conditions that the event was received using the "Event received" condition.'),e("Overwrite _PARAM1_ with variable sent with last trigger of _PARAM0_"),"","JsPlatform/Extensions/p2picon.svg","JsPlatform/Extensions/p2picon.svg").addParameter("string",e("Event name"),"",!1).addParameter("scenevar",e("Variable where to store the received data"),"",!1).getCodeExtraInformation().setIncludeFile("Extensions/P2P/A_peer.js").addIncludeFile("Extensions/P2P/B_p2ptools.js").setFunctionName("gdjs.evtTools.p2p.getEventVariable"),a.addAction("DisconnectFromPeer",e("Disconnect from a peer"),e("Disconnects this client from another client."),e("Disconnect from client _PARAM0_"),"","JsPlatform/Extensions/p2picon.svg","JsPlatform/Extensions/p2picon.svg").addParameter("string","ID of the peer to disconnect from","",!1).getCodeExtraInformation().setIncludeFile("Extensions/P2P/A_peer.js").addIncludeFile("Extensions/P2P/B_p2ptools.js").setFunctionName("gdjs.evtTools.p2p.disconnectFromPeer"),a.addAction("DisconnectFromAllPeers",e("Disconnect from all peers"),e("Disconnects this client from all other clients."),e("Disconnect from all clients"),"","JsPlatform/Extensions/p2picon.svg","JsPlatform/Extensions/p2picon.svg").getCodeExtraInformation().setIncludeFile("Extensions/P2P/A_peer.js").addIncludeFile("Extensions/P2P/B_p2ptools.js").setFunctionName("gdjs.evtTools.p2p.disconnectFromAllPeers"),a.addAction("DisconnectFromBroker",e("Disconnect from broker"),e("Disconnects the client from the broker server."),e("Disconnect the client from the broker"),"","JsPlatform/Extensions/p2picon.svg","JsPlatform/Extensions/p2picon.svg").getCodeExtraInformation().setIncludeFile("Extensions/P2P/A_peer.js").addIncludeFile("Extensions/P2P/B_p2ptools.js").setFunctionName("gdjs.evtTools.p2p.disconnectFromBroker"),a.addAction("DisconnectFromAll",e("Disconnect from all"),e("Disconnects the client from the broker server and all other clients."),e("Disconnect the client from the broker and other clients"),"","JsPlatform/Extensions/p2picon.svg","JsPlatform/Extensions/p2picon.svg").getCodeExtraInformation().setIncludeFile("Extensions/P2P/A_peer.js").addIncludeFile("Extensions/P2P/B_p2ptools.js").setFunctionName("gdjs.evtTools.p2p.disconnectFromAll"),a.addStrExpression("GetEventData",e("Get event data"),e("Returns the data received when the specified event was last triggered"),"","JsPlatform/Extensions/p2picon.svg").addParameter("string",e("Event name"),"",!1).getCodeExtraInformation().setIncludeFile("Extensions/P2P/A_peer.js").addIncludeFile("Extensions/P2P/B_p2ptools.js").setFunctionName("gdjs.evtTools.p2p.getEventData"),a.addStrExpression("GetEventSender",e("Get event sender"),e("Returns the id of the peer that triggered the event"),"","JsPlatform/Extensions/p2picon.svg").addParameter("string",e("Event name"),"",!1).getCodeExtraInformation().setIncludeFile("Extensions/P2P/A_peer.js").addIncludeFile("Extensions/P2P/B_p2ptools.js").setFunctionName("gdjs.evtTools.p2p.getEventSender"),a.addStrExpression("GetID",e("Get client ID"),e("Gets the client ID of the current game instance"),"","JsPlatform/Extensions/p2picon.svg").getCodeExtraInformation().setIncludeFile("Extensions/P2P/A_peer.js").addIncludeFile("Extensions/P2P/B_p2ptools.js").setFunctionName("gdjs.evtTools.p2p.getCurrentId"),a.addStrExpression("GetLastError",e("Get last error"),e("Gets the description of the last P2P error"),"","JsPlatform/Extensions/p2picon.svg").getCodeExtraInformation().setIncludeFile("Extensions/P2P/A_peer.js").addIncludeFile("Extensions/P2P/B_p2ptools.js").setFunctionName("gdjs.evtTools.p2p.getLastError"),a.addStrExpression("GetLastDisconnectedPeer",e("Get last disconnected peer"),e("Gets the ID of the latest peer that has disconnected."),"","JsPlatform/Extensions/p2picon.svg").getCodeExtraInformation().setIncludeFile("Extensions/P2P/A_peer.js").addIncludeFile("Extensions/P2P/B_p2ptools.js").setFunctionName("gdjs.evtTools.p2p.getDisconnectedPeer"),a.addStrExpression("GetLastConnectedPeer",e("Get ID of the connected peer"),e("Gets the ID of the newly connected peer."),"","JsPlatform/Extensions/p2picon.svg").getCodeExtraInformation().setIncludeFile("Extensions/P2P/A_peer.js").addIncludeFile("Extensions/P2P/B_p2ptools.js").setFunctionName("gdjs.evtTools.p2p.getConnectedPeer"),a},runExtensionSanityTests:function(e,t){return[]}}},30269:function(e){e.exports={createExtension:function(e,t){var a=new t.PlatformExtension;a.setExtensionInformation("Physics2",e("2D Physics Engine"),'The 2D physics engine simulates realistic object physics, with gravity, forces, collisions, joints, etc. It\'s perfect for 2D games that need to have realistic behaving objects and a gameplay centered around it.\n\nObjects like floors or wall objects should usually be set to "Static" as type. Objects that should be moveable are usually "Dynamic" (default). "Kinematic" objects (typically, players or controlled characters) are only moved by their "linear velocity" and "angular velocity" - they can interact with other objects but only these other objects will move.\n\nForces (and impulses) are expressed in all conditions/expressions/actions of the 2D physics engine in Newtons (N). Typical values for a force are 10-200 N. One meter is 100 pixels by default in the game (check the world scale). Mass is expressed in kilograms (kg).',"Florian Rival, Franco Maciel","MIT").setExtensionHelpPath("/behaviors/physics2").setCategory("Movement").setTags("physics, gravity, obstacle, collision"),a.addInstructionOrExpressionGroupMetadata(e("Physics Engine 2.0")).setIcon("res/physics32.png");var i=new t.BehaviorJsImplementation;i.updateProperty=function(e,a,i){if("bodyType"===a)return e.getChild("bodyType").setStringValue(i),!0;if("bullet"===a)return e.getChild("bullet").setBoolValue("1"===i),!0;if("fixedRotation"===a)return e.getChild("fixedRotation").setBoolValue("1"===i),!0;if("canSleep"===a)return e.getChild("canSleep").setBoolValue("1"===i),!0;if("shape"===a)return e.getChild("shape").setStringValue(i),!0;if("shapeDimensionA"===a){var n=parseFloat(i);return n===n&&(e.getChild("shapeDimensionA").setDoubleValue(n),!0)}if("shapeDimensionB"===a){var r=parseFloat(i);return r===r&&(e.getChild("shapeDimensionB").setDoubleValue(r),!0)}if("shapeOffsetX"===a){var s=parseFloat(i);return s===s&&(e.getChild("shapeOffsetX").setDoubleValue(s),!0)}if("shapeOffsetY"===a){var o=parseFloat(i);return o===o&&(e.getChild("shapeOffsetY").setDoubleValue(o),!0)}if("polygonOrigin"===a)return e.addChild("polygonOrigin").setStringValue(i),!0;if("vertices"===a)return e.addChild("vertices"),e.setChild("vertices",t.Serializer.fromJSON(i)),!0;if("density"===a)return e.getChild("density").setDoubleValue(parseFloat(i)),!0;if("friction"===a){var l=parseFloat(i);return l===l&&(e.getChild("friction").setDoubleValue(l),!0)}if("restitution"===a){var d=parseFloat(i);return d===d&&(e.getChild("restitution").setDoubleValue(d),!0)}if("linearDamping"===a){var c=Math.max(0,parseFloat(i));return c===c&&(e.getChild("linearDamping").setDoubleValue(c),!0)}if("angularDamping"===a){var u=Math.max(0,parseFloat(i));return u===u&&(e.getChild("angularDamping").setDoubleValue(u),!0)}if("gravityScale"===a){var h=parseFloat(i);return h===h&&(e.getChild("gravityScale").setDoubleValue(h),!0)}return"layers"===a?(e.getChild("layers").setIntValue(parseInt(i,10)),!0):"masks"===a&&(e.getChild("masks").setIntValue(parseInt(i,10)),!0)},i.getProperties=function(a){var i=new t.MapStringPropertyDescriptor;return i.getOrCreate("bodyType").setValue(a.getChild("bodyType").getStringValue()).setType("Choice").setLabel("Type").setQuickCustomizationVisibility(t.QuickCustomization.Hidden).addExtraInfo("Static").addExtraInfo("Dynamic").addExtraInfo("Kinematic").setDescription(e("A static object won't move (perfect for obstacles). Dynamic objects can move. Kinematic will move according to forces applied to it only (useful for characters or specific mechanisms).")),i.getOrCreate("bullet").setValue(a.getChild("bullet").getBoolValue()?"true":"false").setQuickCustomizationVisibility(t.QuickCustomization.Hidden).setType("Boolean").setLabel(e("Considered as a bullet")).setDescription(e("Useful for fast moving objects which requires a more accurate collision detection.")).setGroup(e("Physics body advanced settings")).setAdvanced(!0),i.getOrCreate("fixedRotation").setValue(a.getChild("fixedRotation").getBoolValue()?"true":"false").setQuickCustomizationVisibility(t.QuickCustomization.Hidden).setType("Boolean").setLabel("Fixed Rotation").setDescription(e("If enabled, the object won't rotate and will stay at the same angle. Useful for characters for example.")).setGroup(e("Movement")),i.getOrCreate("canSleep").setValue(a.getChild("canSleep").getBoolValue()?"true":"false").setQuickCustomizationVisibility(t.QuickCustomization.Hidden).setType("Boolean").setLabel(e("Can be put to sleep by the engine")).setDescription(e("Allows the physics engine to stop computing interaction with the object when it's not touched. It's recommended to keep this on.")).setGroup(e("Physics body advanced settings")).setAdvanced(!0),i.getOrCreate("shape").setValue(a.getChild("shape").getStringValue()).setType("Choice").setLabel("Shape").setQuickCustomizationVisibility(t.QuickCustomization.Hidden).addExtraInfo("Box").addExtraInfo("Circle").addExtraInfo("Edge").addExtraInfo("Polygon"),i.getOrCreate("shapeDimensionA").setValue(a.getChild("shapeDimensionA").getDoubleValue().toString(10)).setType("Number").setMeasurementUnit(t.MeasurementUnit.getPixel()).setLabel("Shape Dimension A").setQuickCustomizationVisibility(t.QuickCustomization.Hidden).setHidden(!0),i.getOrCreate("shapeDimensionB").setValue(a.getChild("shapeDimensionB").getDoubleValue().toString(10)).setType("Number").setMeasurementUnit(t.MeasurementUnit.getPixel()).setLabel("Shape Dimension B").setQuickCustomizationVisibility(t.QuickCustomization.Hidden).setHidden(!0),i.getOrCreate("shapeOffsetX").setValue(a.getChild("shapeOffsetX").getDoubleValue().toString(10)).setType("Number").setMeasurementUnit(t.MeasurementUnit.getPixel()).setLabel("Shape Offset X").setQuickCustomizationVisibility(t.QuickCustomization.Hidden).setHidden(!0),i.getOrCreate("shapeOffsetY").setValue(a.getChild("shapeOffsetY").getDoubleValue().toString(10)).setType("Number").setMeasurementUnit(t.MeasurementUnit.getPixel()).setLabel("Shape Offset Y").setQuickCustomizationVisibility(t.QuickCustomization.Hidden).setHidden(!0),i.getOrCreate("polygonOrigin").setValue(a.hasChild("polygonOrigin")?a.getChild("polygonOrigin").getStringValue():"Center").setType("Choice").setLabel("Polygon Origin").addExtraInfo("Center").addExtraInfo("Origin").addExtraInfo("TopLeft").setQuickCustomizationVisibility(t.QuickCustomization.Hidden).setHidden(!0),i.getOrCreate("vertices").setValue(a.hasChild("vertices")?t.Serializer.toJSON(a.getChild("vertices")):"[]").setLabel("Vertices").setQuickCustomizationVisibility(t.QuickCustomization.Hidden).setHidden(!0),i.getOrCreate("density").setValue(a.getChild("density").getDoubleValue().toString(10)).setType("Number").setLabel(e("Density")).setDescription(e("Define the weight of the object, according to its size. The bigger the density, the heavier the object.")),i.getOrCreate("friction").setValue(a.getChild("friction").getDoubleValue().toString(10)).setType("Number").setLabel(e("Friction")).setDescription(e("The friction applied when touching other objects. The higher the value, the more friction.")).setGroup(e("Movement")),i.getOrCreate("restitution").setValue(a.getChild("restitution").getDoubleValue().toString(10)).setType("Number").setLabel(e("Restitution")).setDescription(e('The "bounciness" of the object. The higher the value, the more other objects will bounce against it.')).setGroup(e("Movement")),i.getOrCreate("linearDamping").setValue(a.getChild("linearDamping").getDoubleValue().toString(10)).setType("Number").setLabel(e("Linear Damping")).setGroup(e("Movement")),i.getOrCreate("angularDamping").setValue(a.getChild("angularDamping").getDoubleValue().toString(10)).setType("Number").setLabel(e("Angular Damping")).setQuickCustomizationVisibility(t.QuickCustomization.Hidden).setGroup(e("Movement")),i.getOrCreate("gravityScale").setValue(a.getChild("gravityScale").getDoubleValue().toString(10)).setType("Number").setLabel("Gravity Scale").setQuickCustomizationVisibility(t.QuickCustomization.Hidden).setGroup(e("Gravity")).setAdvanced(!0),i.getOrCreate("layers").setValue(a.getChild("layers").getIntValue().toString(10)).setType("Number").setLabel("Layers").setQuickCustomizationVisibility(t.QuickCustomization.Hidden).setHidden(!0),i.getOrCreate("masks").setValue(a.getChild("masks").getIntValue().toString(10)).setType("Number").setLabel("Masks").setQuickCustomizationVisibility(t.QuickCustomization.Hidden).setHidden(!0),i},i.initializeContent=function(e){e.addChild("bodyType").setStringValue("Dynamic"),e.addChild("bullet").setBoolValue(!1),e.addChild("fixedRotation").setBoolValue(!1),e.addChild("canSleep").setBoolValue(!0),e.addChild("shape").setStringValue("Box"),e.addChild("shapeDimensionA").setDoubleValue(0),e.addChild("shapeDimensionB").setDoubleValue(0),e.addChild("shapeOffsetX").setDoubleValue(0),e.addChild("shapeOffsetY").setDoubleValue(0),e.addChild("polygonOrigin").setStringValue("Center"),e.addChild("vertices").considerAsArray(),e.addChild("density").setDoubleValue(1),e.addChild("friction").setDoubleValue(.3),e.addChild("restitution").setDoubleValue(.1),e.addChild("linearDamping").setDoubleValue(.1),e.addChild("angularDamping").setDoubleValue(.1),e.addChild("gravityScale").setDoubleValue(1),e.addChild("layers").setIntValue(1),e.addChild("masks").setIntValue(1)};var n=new t.BehaviorSharedDataJsImplementation;n.updateProperty=function(e,t,a){if("gravityX"===t){var i=parseFloat(a);return i===i&&(e.getChild("gravityX").setDoubleValue(i),!0)}if("gravityY"===t){var n=parseFloat(a);return n===n&&(e.getChild("gravityY").setDoubleValue(n),!0)}if("worldScale"===t){var r=parseInt(a,10);return r===r&&(e.hasChild("worldScale")||e.addChild("worldScale"),e.getChild("worldScale").setDoubleValue(r),e.getChild("scaleX").setDoubleValue(r),e.getChild("scaleY").setDoubleValue(r),!0)}return!1},n.getProperties=function(e){var a=new t.MapStringPropertyDescriptor;return a.getOrCreate("gravityX").setValue(e.getChild("gravityX").getDoubleValue().toString(10)).setType("Number").setMeasurementUnit(t.MeasurementUnit.getNewton()),a.getOrCreate("gravityY").setValue(e.getChild("gravityY").getDoubleValue().toString(10)).setType("Number").setMeasurementUnit(t.MeasurementUnit.getNewton()),e.hasChild("worldScale")||(e.addChild("worldScale"),e.getChild("worldScale").setDoubleValue(Math.sqrt(e.getChild("scaleX").getDoubleValue()*e.getChild("scaleY").getDoubleValue()))),a.getOrCreate("worldScale").setValue(e.getChild("worldScale").getDoubleValue().toString(10)).setType("Number"),a},n.initializeContent=function(e){e.addChild("gravityX").setDoubleValue(0),e.addChild("gravityY").setDoubleValue(9.8),e.addChild("worldScale").setDoubleValue(100),e.addChild("scaleX").setDoubleValue(100),e.addChild("scaleY").setDoubleValue(100)};var r=a.addBehavior("Physics2Behavior",e("2D Physics Engine"),"Physics2",e("Simulate realistic 2D physics for the object including gravity, forces, collisions, and joints."),"","res/physics32.png","Physics2Behavior",i,n).markAsIrrelevantForChildObjects().setIncludeFile("Extensions/Physics2Behavior/physics2runtimebehavior.js").addIncludeFile("Extensions/Physics2Behavior/Box2D_v2.3.1_min.wasm.js").addRequiredFile("Extensions/Physics2Behavior/Box2D_v2.3.1_min.wasm.wasm").setOpenFullEditorLabel(e("Edit shape and advanced settings"));return r.addExpression("WorldScale",e("World scale"),e("Return the world scale."),e("Global"),"res/physics32.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").getCodeExtraInformation().setFunctionName("getWorldScale"),r.addCondition("GravityX",e("World gravity on X axis"),e("Compare the world gravity on X axis."),e("the world gravity on X axis"),e("Global"),"res/physics32.png","res/physics32.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").useStandardRelationalOperatorParameters("number",t.ParameterOptions.makeNewOptions().setDescription(e("Gravity to compare to (in pixels per second per second)"))).getCodeExtraInformation().setFunctionName("getGravityX"),r.addExpression("GravityX",e("World gravity on X axis"),e("World gravity on X axis"),e("Global"),"res/physics32.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").getCodeExtraInformation().setFunctionName("getGravityX"),r.addCondition("GravityY",e("World gravity on Y axis"),e("Compare the world gravity on Y axis."),e("the world gravity on Y axis"),e("Global"),"res/physics32.png","res/physics32.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").useStandardRelationalOperatorParameters("number",t.ParameterOptions.makeNewOptions().setDescription(e("Gravity to compare to (in pixels per second per second)"))).getCodeExtraInformation().setFunctionName("getGravityY"),r.addExpression("GravityY",e("World gravity on Y axis"),e("World gravity on Y axis"),e("Global"),"res/physics32.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").getCodeExtraInformation().setFunctionName("getGravityY"),r.addAction("Gravity",e("World gravity"),e("Modify the world gravity.")+" "+e("While an object is needed, this will apply to all objects using the behavior."),e("Set the world gravity of _PARAM0_ to _PARAM2_;_PARAM3_"),e("Global"),"res/physics32.png","res/physics32.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").addParameter("expression",e("Gravity X")).addParameter("expression",e("Gravity Y")).getCodeExtraInformation().setFunctionName("setGravity"),r.addCondition("TimeScale",e("World time scale"),e("Compare the world time scale."),e("the world time scale"),e("Global"),"res/physics32.png","res/physics32.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").useStandardRelationalOperatorParameters("number",t.ParameterOptions.makeNewOptions().setDescription(e("Time scale to compare to (1 by default)"))).getCodeExtraInformation().setFunctionName("getTimeScale"),a.addAction("TimeScale",e("World time scale"),e("Modify the world time scale.")+" "+e("While an object is needed, this will apply to all objects using the behavior."),e("Set the world time scale of _PARAM0_ to _PARAM2_"),e("Global"),"res/physics32.png","res/physics32.png").addParameter("objectList",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").addParameter("expression",e("Time scale (1 by default)")).getCodeExtraInformation().addIncludeFile("Extensions/Physics2Behavior/physics2tools.js").addIncludeFile("Extensions/Physics2Behavior/physics2runtimebehavior.js").setFunctionName("gdjs.physics2.setTimeScale"),r.addExpression("TimeScale",e("World time scale"),e("World time scale"),e("Global"),"res/physics32.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").getCodeExtraInformation().setFunctionName("getTimeScale"),r.addCondition("IsDynamic",e("Is dynamic"),e("Check if an object is dynamic."),e("_PARAM0_ is dynamic"),e("Dynamics"),"res/physics32.png","res/physics32.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").getCodeExtraInformation().setFunctionName("isDynamic"),r.addAction("SetDynamic",e("Set as dynamic"),e("Set an object as dynamic. Is affected by gravity, forces and velocities."),e("Set _PARAM0_ as dynamic"),e("Dynamics"),"res/physics32.png","res/physics32.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").getCodeExtraInformation().setFunctionName("setDynamic"),r.addCondition("IsStatic",e("Is static"),e("Check if an object is static."),e("_PARAM0_ is static"),e("Dynamics"),"res/physics32.png","res/physics32.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").getCodeExtraInformation().setFunctionName("isStatic"),r.addAction("SetStatic",e("Set as static"),e("Set an object as static. Is not affected by gravity, and can't be moved by forces or velocities at all."),e("Set _PARAM0_ as static"),e("Dynamics"),"res/physics32.png","res/physics32.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").getCodeExtraInformation().setFunctionName("setStatic"),r.addCondition("IsKinematic",e("Is kinematic"),e("Check if an object is kinematic."),e("_PARAM0_ is kinematic"),e("Dynamics"),"res/physics32.png","res/physics32.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").getCodeExtraInformation().setFunctionName("isKinematic"),r.addAction("SetKinematic",e("Set as kinematic"),e("Set an object as kinematic. Is like a static body but can be moved through its velocity."),e("Set _PARAM0_ as kinematic"),e("Dynamics"),"res/physics32.png","res/physics32.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").getCodeExtraInformation().setFunctionName("setKinematic"),r.addCondition("IsBullet",e("Is treated as a bullet"),e("Check if the object is being treated as a bullet."),e("_PARAM0_ is treated as a bullet"),e("Dynamics"),"res/physics32.png","res/physics32.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").getCodeExtraInformation().setFunctionName("isBullet"),r.addAction("SetBullet",e("Treat as bullet"),e("Treat the object as a bullet. Better collision handling on high speeds at cost of some performance."),e("Treat _PARAM0_ as bullet: _PARAM2_"),e("Dynamics"),"res/physics32.png","res/physics32.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").addParameter("yesorno",e("Treat as bullet"),"",!1).setDefaultValue("false").getCodeExtraInformation().setFunctionName("setBullet"),r.addCondition("HasFixedRotation",e("Has fixed rotation"),e("Check if an object has fixed rotation."),e("_PARAM0_ has fixed rotation"),e("Dynamics"),"res/physics32.png","res/physics32.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").getCodeExtraInformation().setFunctionName("hasFixedRotation"),r.addAction("SetFixedRotation",e("Fixed rotation"),e("Enable or disable an object fixed rotation. If enabled the object won't be able to rotate."),e("Set _PARAM0_ fixed rotation: _PARAM2_"),e("Dynamics"),"res/physics32.png","res/physics32.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").addParameter("yesorno",e("Fixed rotation"),"",!1).setDefaultValue("false").getCodeExtraInformation().setFunctionName("setFixedRotation"),r.addCondition("IsSleepingAllowed",e("Is sleeping allowed"),e("Check if an object can sleep."),e("_PARAM0_ can sleep"),e("Dynamics"),"res/physics32.png","res/physics32.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").getCodeExtraInformation().setFunctionName("isSleepingAllowed"),r.addAction("SetSleepingAllowed",e("Sleeping allowed"),e("Allow or not an object to sleep. If enabled the object will be able to sleep, improving performance for non-currently-moving objects."),e("Allow _PARAM0_ to sleep: _PARAM2_"),e("Dynamics"),"res/physics32.png","res/physics32.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").addParameter("yesorno",e("Can sleep"),"",!1).setDefaultValue("true").getCodeExtraInformation().setFunctionName("setSleepingAllowed"),r.addDuplicatedAction("SetSleepingaAllowed","SetSleepingAllowed").setHidden(),r.addCondition("IsSleeping",e("Is sleeping"),e("Check if an object is sleeping."),e("_PARAM0_ is sleeping"),e("Dynamics"),"res/physics32.png","res/physics32.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").getCodeExtraInformation().setFunctionName("isSleeping"),r.addAction("ShapeScale",e("Shape scale"),e("Modify an object shape scale. It affects custom shape dimensions and shape offset, if custom dimensions are not set the body will be scaled automatically to the object size."),e("the shape scale"),e("Body settings"),"res/physics32.png","res/physics32.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").useStandardOperatorParameters("number",t.ParameterOptions.makeNewOptions().setDescription(e("Scale (1 by default)"))).getCodeExtraInformation().setFunctionName("setShapeScale").setGetter("getShapeScale"),r.addCondition("Density",e("Density"),e("Test an object density."),e("the _PARAM0_ density"),e("Body settings"),"res/physics32.png","res/physics32.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").useStandardRelationalOperatorParameters("number",t.ParameterOptions.makeNewOptions()).getCodeExtraInformation().setFunctionName("getDensity"),r.addAction("Density",e("Density"),e("Modify an object density. The body's density and volume determine its mass."),e("the density"),e("Body settings"),"res/physics32.png","res/physics32.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").useStandardOperatorParameters("number",t.ParameterOptions.makeNewOptions()).getCodeExtraInformation().setFunctionName("setDensity").setGetter("getDensity"),r.addExpression("Density",e("Density of the object"),e("Get the density of an object."),e("Body settings"),"res/physics32.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").getCodeExtraInformation().setFunctionName("getDensity"),r.addCondition("Friction",e("Friction"),e("Test an object friction."),e("the _PARAM0_ friction"),e("Body settings"),"res/physics32.png","res/physics32.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").useStandardRelationalOperatorParameters("number",t.ParameterOptions.makeNewOptions()).getCodeExtraInformation().setFunctionName("getFriction"),r.addAction("Friction",e("Friction"),e("Modify an object friction. How much energy is lost from the movement of one object over another. The combined friction from two bodies is calculated as 'sqrt(bodyA.friction * bodyB.friction)'."),e("the friction"),e("Body settings"),"res/physics32.png","res/physics32.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").useStandardOperatorParameters("number",t.ParameterOptions.makeNewOptions()).getCodeExtraInformation().setFunctionName("setFriction").setGetter("getFriction"),r.addExpression("Friction",e("Friction of the object"),e("Get the friction of an object."),e("Body settings"),"res/physics32.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").getCodeExtraInformation().setFunctionName("getFriction"),r.addCondition("Restitution",e("Restitution"),e("Test an object restitution."),e("the _PARAM0_ restitution"),e("Body settings"),"res/physics32.png","res/physics32.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").useStandardRelationalOperatorParameters("number",t.ParameterOptions.makeNewOptions()).getCodeExtraInformation().setFunctionName("getRestitution"),r.addAction("Restitution",e("Restitution"),e("Modify an object restitution. Energy conservation on collision. The combined restitution from two bodies is calculated as 'max(bodyA.restitution, bodyB.restitution)'."),e("the restitution"),e("Body settings"),"res/physics32.png","res/physics32.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").useStandardOperatorParameters("number",t.ParameterOptions.makeNewOptions()).getCodeExtraInformation().setFunctionName("setRestitution").setGetter("getRestitution"),r.addExpression("Restitution",e("Restitution of the object"),e("Get the restitution of an object."),e("Body settings"),"res/physics32.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").getCodeExtraInformation().setFunctionName("getRestitution"),r.addCondition("LinearDamping",e("Linear damping"),e("Test an object linear damping."),e("the _PARAM0_ linear damping"),e("Body settings"),"res/physics32.png","res/physics32.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").useStandardRelationalOperatorParameters("number",t.ParameterOptions.makeNewOptions()).getCodeExtraInformation().setFunctionName("getLinearDamping"),r.addAction("LinearDamping",e("Linear damping"),e("Modify an object linear damping. How much movement speed is lost across the time."),e("the linear damping"),e("Body settings"),"res/physics32.png","res/physics32.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").useStandardOperatorParameters("number",t.ParameterOptions.makeNewOptions()).getCodeExtraInformation().setFunctionName("setLinearDamping").setGetter("getLinearDamping"),r.addExpression("LinearDamping",e("Linear damping of the object"),e("Get the linear damping of an object."),e("Body settings"),"res/physics32.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").getCodeExtraInformation().setFunctionName("getLinearDamping"),r.addCondition("AngularDamping",e("Angular damping"),e("Test an object angular damping."),e("the _PARAM0_ angular damping"),e("Body settings"),"res/physics32.png","res/physics32.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").useStandardRelationalOperatorParameters("number",t.ParameterOptions.makeNewOptions()).getCodeExtraInformation().setFunctionName("getAngularDamping"),r.addAction("AngularDamping",e("Angular damping"),e("Modify an object angular damping. How much angular speed is lost across the time."),e("the angular damping"),e("Body settings"),"res/physics32.png","res/physics32.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").useStandardOperatorParameters("number",t.ParameterOptions.makeNewOptions()).getCodeExtraInformation().setFunctionName("setAngularDamping").setGetter("getAngularDamping"),r.addExpression("AngularDamping",e("Angular damping of the object"),e("Get the angular damping of an object."),e("Body settings"),"res/physics32.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").getCodeExtraInformation().setFunctionName("getAngularDamping"),r.addCondition("GravityScale",e("Gravity scale"),e("Test an object gravity scale."),e("the _PARAM0_ gravity scale"),e("Body settings"),"res/physics32.png","res/physics32.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").useStandardRelationalOperatorParameters("number",t.ParameterOptions.makeNewOptions().setDescription(e("Scale to compare to (1 by default)"))).getCodeExtraInformation().setFunctionName("getGravityScale"),r.addAction("GravityScale",e("Gravity scale"),e("Modify an object gravity scale. The gravity applied to an object is the world gravity multiplied by the object gravity scale."),e("the gravity scale"),e("Body settings"),"res/physics32.png","res/physics32.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").useStandardOperatorParameters("number",t.ParameterOptions.makeNewOptions().setDescription(e("Scale (1 by default)"))).getCodeExtraInformation().setFunctionName("setGravityScale").setGetter("getGravityScale"),r.addExpression("GravityScale",e("Gravity scale of the object"),e("Get the gravity scale of an object."),e("Body settings"),"res/physics32.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").getCodeExtraInformation().setFunctionName("getGravityScale"),r.addCondition("LayerEnabled",e("Layer enabled"),e("Check if an object has a specific layer enabled."),e("_PARAM0_ has layer _PARAM2_ enabled"),e("Filtering"),"res/physics32.png","res/physics32.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").addParameter("expression",e("Layer (1 - 16)")).getCodeExtraInformation().setFunctionName("layerEnabled"),r.addAction("EnableLayer",e("Enable layer"),e("Enable or disable a layer for an object. Two objects collide if any layer of the first object matches any mask of the second one and vice versa."),e("Enable layer _PARAM2_ for _PARAM0_: _PARAM3_"),e("Filtering"),"res/physics32.png","res/physics32.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").addParameter("expression",e("Layer (1 - 16)")).addParameter("yesorno",e("Enable"),"",!1).setDefaultValue("true").getCodeExtraInformation().setFunctionName("enableLayer"),r.addCondition("MaskEnabled",e("Mask enabled"),e("Check if an object has a specific mask enabled."),e("_PARAM0_ has mask _PARAM2_ enabled"),e("Filtering"),"res/physics32.png","res/physics32.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").addParameter("expression",e("Mask (1 - 16)")).getCodeExtraInformation().setFunctionName("maskEnabled"),r.addAction("EnableMask",e("Enable mask"),e("Enable or disable a mask for an object. Two objects collide if any layer of the first object matches any mask of the second one and vice versa."),e("Enable mask _PARAM2_ for _PARAM0_: _PARAM3_"),e("Filtering"),"res/physics32.png","res/physics32.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").addParameter("expression",e("Mask (1 - 16)")).addParameter("yesorno",e("Enable"),"",!1).setDefaultValue("true").getCodeExtraInformation().setFunctionName("enableMask"),r.addCondition("LinearVelocityX",e("Linear velocity X"),e("Test an object linear velocity on X."),e("the linear velocity on X"),e("Velocity"),"res/physics32.png","res/physics32.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").useStandardRelationalOperatorParameters("number",t.ParameterOptions.makeNewOptions().setDescription(e("Speed to compare to (in pixels per second)"))).getCodeExtraInformation().setFunctionName("getLinearVelocityX"),r.addAction("LinearVelocityX",e("Linear velocity X"),e("Modify an object linear velocity on X."),e("the linear velocity on X"),e("Velocity"),"res/physics32.png","res/physics32.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").useStandardOperatorParameters("number",t.ParameterOptions.makeNewOptions().setDescription(e("Speed (in pixels per second)"))).getCodeExtraInformation().setFunctionName("setLinearVelocityX").setGetter("getLinearVelocityX"),r.addExpression("LinearVelocityX",e("Linear velocity on X axis"),e("Get the linear velocity of an object on X axis."),e("Velocity"),"res/physics32.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").getCodeExtraInformation().setFunctionName("getLinearVelocityX"),r.addCondition("LinearVelocityY",e("Linear velocity Y"),e("Test an object linear velocity on Y."),e("the linear velocity on Y"),e("Velocity"),"res/physics32.png","res/physics32.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").useStandardRelationalOperatorParameters("number",t.ParameterOptions.makeNewOptions().setDescription(e("Speed to compare to (in pixels per second)"))).getCodeExtraInformation().setFunctionName("getLinearVelocityY"),r.addAction("LinearVelocityY",e("Linear velocity Y"),e("Modify an object linear velocity on Y."),e("the linear velocity on Y"),e("Velocity"),"res/physics32.png","res/physics32.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").useStandardOperatorParameters("number",t.ParameterOptions.makeNewOptions().setDescription(e("Speed (in pixels per second)"))).getCodeExtraInformation().setFunctionName("setLinearVelocityY").setGetter("getLinearVelocityY"),r.addExpression("LinearVelocityY",e("Linear velocity on Y axis"),e("Get the linear velocity of an object on Y axis."),e("Velocity"),"res/physics32.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").getCodeExtraInformation().setFunctionName("getLinearVelocityY"),r.addCondition("LinearVelocityLength",e("Linear velocity"),e("Test an object linear velocity length."),e("the linear velocity length"),e("Velocity"),"res/physics32.png","res/physics32.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").useStandardRelationalOperatorParameters("number",t.ParameterOptions.makeNewOptions().setDescription(e("Speed to compare to (in pixels per second)"))).getCodeExtraInformation().setFunctionName("getLinearVelocityLength"),r.addExpression("LinearVelocity",e("Linear velocity"),e("Get the linear velocity of an object."),e("Velocity"),"res/physics32.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").getCodeExtraInformation().setFunctionName("getLinearVelocityLength"),r.addCondition("LinearVelocityAngle",e("Linear velocity angle"),e("Test an object linear velocity angle."),e("the linear velocity angle"),e("Velocity"),"res/physics32.png","res/physics32.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").useStandardRelationalOperatorParameters("number",t.ParameterOptions.makeNewOptions().setDescription(e("Angle to compare to (in degrees)"))).setHidden().getCodeExtraInformation().setFunctionName("getLinearVelocityAngle"),r.addScopedCondition("IsLinearVelocityAngleAround",e("Linear velocity angle"),e("Compare the linear velocity angle of the object."),e("Angle of movement of _PARAM0_ is _PARAM2_ \xb1 _PARAM3_\xb0"),e("Velocity"),"res/physics32.png","res/physics32.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").addParameter("expression",e("Angle (in degrees)")).addParameter("expression",e("Tolerance (in degrees)")).getCodeExtraInformation().setFunctionName("isLinearVelocityAngleAround"),r.addAction("LinearVelocityAngle",e("Linear velocity towards an angle"),e("Set the linear velocity towards an angle."),e("Set the linear velocity of _PARAM0_ towards angle: _PARAM2_ degrees, speed: _PARAM3_ pixels per second"),e("Velocity"),"res/physics32.png","res/physics32.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").addParameter("expression",e("Angle")).addParameter("expression",e("Speed (in pixels per second)")).getCodeExtraInformation().setFunctionName("setLinearVelocityAngle").setGetter("getLinearVelocityAngle"),r.addExpression("LinearVelocityAngle",e("Linear velocity angle"),e("Get the linear velocity angle of an object."),e("Velocity"),"res/physics32.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").getCodeExtraInformation().setFunctionName("getLinearVelocityAngle"),r.addCondition("AngularVelocity",e("Angular velocity"),e("Test an object angular velocity."),e("the angular velocity"),e("Velocity"),"res/physics32.png","res/physics32.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").useStandardRelationalOperatorParameters("number",t.ParameterOptions.makeNewOptions().setDescription(e("Angular speed to compare to (in degrees per second)"))).getCodeExtraInformation().setFunctionName("getAngularVelocity"),r.addAction("AngularVelocity",e("Angular velocity"),e("Modify an object angular velocity."),e("the angular velocity"),e("Velocity"),"res/physics32.png","res/physics32.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").useStandardOperatorParameters("number",t.ParameterOptions.makeNewOptions().setDescription(e("Angular speed (in degrees per second)"))).getCodeExtraInformation().setFunctionName("setAngularVelocity").setGetter("getAngularVelocity"),r.addExpression("AngularVelocity",e("Angular velocity"),e("Get the angular velocity of an object."),e("Velocity"),"res/physics32.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").getCodeExtraInformation().setFunctionName("getAngularVelocity"),r.addAction("ApplyForce",e("Apply force"),e('Apply a force to the object over time. It "accelerates" an object and must be used every frame during a time period.'),e("Apply to _PARAM0_ a force of _PARAM2_;_PARAM3_"),e("Forces & impulses"),"res/physics32.png","res/physics32.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").addParameter("expression",e("X component (N)")).addParameter("expression",e("Y component (N)")).setParameterLongDescription(e("A force is like an acceleration but depends on the mass.")).addParameter("expression",e("Application point on X axis")).addParameter("expression",e("Application point on Y axis")).setParameterLongDescription(e("Use `MassCenterX` and `MassCenterY` expressions to avoid any rotation.")).getCodeExtraInformation().setFunctionName("applyForce"),r.addAction("ApplyPolarForce",e("Apply force (angle)"),e('Apply a force to the object over time using polar coordinates. It "accelerates" an object and must be used every frame during a time period.'),e("Apply to _PARAM0_ a force of angle _PARAM2_ and length _PARAM3_"),e("Forces & impulses"),"res/physics32.png","res/physics32.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").addParameter("expression",e("Angle")).addParameter("expression",e("Length (N)")).setParameterLongDescription(e("A force is like an acceleration but depends on the mass.")).addParameter("expression",e("Application point on X axis")).addParameter("expression",e("Application point on Y axis")).setParameterLongDescription(e("Use `MassCenterX` and `MassCenterY` expressions to avoid any rotation.")).getCodeExtraInformation().setFunctionName("applyPolarForce"),r.addAction("ApplyForceTowardPosition",e("Apply force toward position"),e('Apply a force to the object over time to move it toward a position. It "accelerates" an object and must be used every frame during a time period.'),e("Apply to _PARAM0_ a force of length _PARAM2_ towards _PARAM3_;_PARAM4_"),e("Forces & impulses"),"res/physics32.png","res/physics32.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").addParameter("expression",e("Length (N)")).setParameterLongDescription(e("A force is like an acceleration but depends on the mass.")).addParameter("expression",e("X position")).addParameter("expression",e("Y position")).addParameter("expression",e("Application point on X axis")).addParameter("expression",e("Application point on Y axis")).setParameterLongDescription(e("Use `MassCenterX` and `MassCenterY` expressions to avoid any rotation.")).getCodeExtraInformation().setFunctionName("applyForceTowardPosition"),r.addAction("ApplyImpulse",e("Apply impulse"),e("Apply an impulse to the object. It instantly changes the speed, to give an initial speed for instance."),e("Apply to _PARAM0_ an impulse of _PARAM2_;_PARAM3_"),e("Forces & impulses"),"res/physics32.png","res/physics32.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").addParameter("expression",e("X component (N\xb7s or kg\xb7m\xb7s\u207b\xb9)")).addParameter("expression",e("Y component (N\xb7s or kg\xb7m\xb7s\u207b\xb9)")).setParameterLongDescription(e("An impulse is like a speed addition but depends on the mass.")).addParameter("expression",e("Application point on X axis")).addParameter("expression",e("Application point on Y axis")).setParameterLongDescription(e("Use `MassCenterX` and `MassCenterY` expressions to avoid any rotation.")).getCodeExtraInformation().setFunctionName("applyImpulse"),r.addAction("ApplyPolarImpulse",e("Apply impulse (angle)"),e("Apply an impulse to the object using polar coordinates. It instantly changes the speed, to give an initial speed for instance."),e("Apply to _PARAM0_ an impulse of angle _PARAM2_ and length _PARAM3_ (applied at _PARAM4_;_PARAM5_)"),e("Forces & impulses"),"res/physics32.png","res/physics32.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").addParameter("expression",e("Angle")).addParameter("expression",e("Length (N\xb7s or kg\xb7m\xb7s\u207b\xb9)")).setParameterLongDescription(e("An impulse is like a speed addition but depends on the mass.")).addParameter("expression",e("Application point on X axis")).addParameter("expression",e("Application point on Y axis")).setParameterLongDescription(e("Use `MassCenterX` and `MassCenterY` expressions to avoid any rotation.")).getCodeExtraInformation().setFunctionName("applyPolarImpulse"),r.addAction("ApplyImpulseTowardPosition",e("Apply impulse toward position"),e("Apply an impulse to the object to move it toward a position. It instantly changes the speed, to give an initial speed for instance."),e("Apply to _PARAM0_ an impulse of length _PARAM2_ towards _PARAM3_;_PARAM4_ (applied at _PARAM5_;_PARAM6_)"),e("Forces & impulses"),"res/physics32.png","res/physics32.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").addParameter("expression",e("Length (N\xb7s or kg\xb7m\xb7s\u207b\xb9)")).setParameterLongDescription(e("An impulse is like a speed addition but depends on the mass.")).addParameter("expression",e("X position")).addParameter("expression",e("Y position")).addParameter("expression",e("Application point on X axis")).addParameter("expression",e("Application point on Y axis")).setParameterLongDescription(e("Use `MassCenterX` and `MassCenterY` expressions to avoid any rotation.")).getCodeExtraInformation().setFunctionName("applyImpulseTowardPosition"),r.addAction("ApplyTorque",e("Apply torque (rotational force)"),e('Apply a torque (also called "rotational force") to the object. It "accelerates" an object rotation and must be used every frame during a time period.'),e("Apply to _PARAM0_ a torque of _PARAM2_"),e("Forces & impulses"),"res/physics32.png","res/physics32.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").addParameter("expression",e("Torque (N\xb7m)")).setParameterLongDescription(e("A torque is like a rotation acceleration but depends on the mass.")).getCodeExtraInformation().setFunctionName("applyTorque"),r.addAction("ApplyAngularImpulse",e("Apply angular impulse (rotational impulse)"),e('Apply an angular impulse (also called a "rotational impulse") to the object. It instantly changes the rotation speed, to give an initial speed for instance.'),e("Apply to _PARAM0_ an angular impulse of _PARAM2_"),e("Forces & impulses"),"res/physics32.png","res/physics32.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").addParameter("expression",e("Angular impulse (N\xb7m\xb7s)")).setParameterLongDescription(e("An impulse is like a rotation speed addition but depends on the mass.")).getCodeExtraInformation().setFunctionName("applyAngularImpulse"),r.addExpression("Mass",e("Mass"),e("Return the mass of the object (in kilograms)"),"","res/physics32.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").getCodeExtraInformation().setFunctionName("getMass"),r.addExpression("Inertia",e("Inertia"),e("Return the rotational inertia of the object (in kilograms \xb7 meters\xb2)"),"","res/physics32.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").getCodeExtraInformation().setFunctionName("getInertia"),r.addExpression("MassCenterX",e("Mass center X"),e("Mass center X"),"","res/physics32.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").getCodeExtraInformation().setFunctionName("getMassCenterX"),r.addExpression("MassCenterY",e("Mass center Y"),e("Mass center Y"),"","res/physics32.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").getCodeExtraInformation().setFunctionName("getMassCenterY"),r.addCondition("JointFirstObject",e("Joint first object"),e("Check if an object is the first object on a joint."),e("_PARAM0_ is the first object for joint _PARAM2_"),e("Joints"),"res/physics32.png","res/physics32.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").addParameter("expression",e("Joint ID")).getCodeExtraInformation().setFunctionName("isJointFirstObject"),r.addCondition("JointSecondObject",e("Joint second object"),e("Check if an object is the second object on a joint."),e("_PARAM0_ is the second object for joint _PARAM2_"),e("Joints"),"res/physics32.png","res/physics32.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").addParameter("expression",e("Joint ID")).getCodeExtraInformation().setFunctionName("isJointSecondObject"),r.addExpression("JointFirstAnchorX",e("Joint first anchor X"),e("Joint first anchor X"),e("Joints"),"res/physics32.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").addParameter("expression",e("Joint ID")).getCodeExtraInformation().setFunctionName("getJointFirstAnchorX"),r.addExpression("JointFirstAnchorY",e("Joint first anchor Y"),e("Joint first anchor Y"),e("Joints"),"res/physics32.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").addParameter("expression",e("Joint ID")).getCodeExtraInformation().setFunctionName("getJointFirstAnchorY"),r.addExpression("JointSecondAnchorX",e("Joint second anchor X"),e("Joint second anchor X"),e("Joints"),"res/physics32.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").addParameter("expression",e("Joint ID")).getCodeExtraInformation().setFunctionName("getJointSecondAnchorX"),r.addExpression("JointSecondAnchorY",e("Joint second anchor Y"),e("Joint second anchor Y"),e("Joints"),"res/physics32.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").addParameter("expression",e("Joint ID")).getCodeExtraInformation().setFunctionName("getJointSecondAnchorY"),r.addCondition("JointReactionForce",e("Joint reaction force"),e("Test a joint reaction force."),e("the joint _PARAM2_ reaction force"),e("Joints"),"res/physics32.png","res/physics32.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").addParameter("expression",e("Joint ID")).useStandardRelationalOperatorParameters("number",t.ParameterOptions.makeNewOptions()).getCodeExtraInformation().setFunctionName("getJointReactionForce"),r.addExpression("JointReactionForce",e("Joint reaction force"),e("Joint reaction force"),e("Joints"),"res/physics32.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").addParameter("expression",e("Joint ID")).getCodeExtraInformation().setFunctionName("getJointReactionForce"),r.addCondition("JointReactionTorque",e("Joint reaction torque"),e("Test a joint reaction torque."),e("the joint _PARAM2_ reaction torque"),e("Joints"),"res/physics32.png","res/physics32.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").addParameter("expression",e("Joint ID")).useStandardRelationalOperatorParameters("number",t.ParameterOptions.makeNewOptions()).getCodeExtraInformation().setFunctionName("getJointReactionTorque"),r.addExpression("JointReactionTorque",e("Joint reaction torque"),e("Joint reaction torque"),e("Joints"),"res/physics32.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").addParameter("expression",e("Joint ID")).getCodeExtraInformation().setFunctionName("getJointReactionTorque"),r.addAction("Remove joint",e("Remove joint"),e("Remove a joint from the scene."),e("Remove joint _PARAM2_"),e("Joints"),"res/physics32.png","res/physics32.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").addParameter("expression",e("Joint ID")).getCodeExtraInformation().setFunctionName("removeJoint"),r.addAction("AddDistanceJoint",e("Add distance joint"),e("Add a distance joint between two objects. The length is converted to meters using the world scale on X. The frequency and damping ratio are related to the joint speed of oscillation and how fast it stops."),e("Add a distance joint between _PARAM0_ and _PARAM4_"),e("Joints \u276f Distance"),"JsPlatform/Extensions/distance_joint24.png","JsPlatform/Extensions/distance_joint16.png").addParameter("object",e("First object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").addParameter("expression",e("Anchor X on first body")).addParameter("expression",e("Anchor Y on first body")).addParameter("objectPtr",e("Second object"),"",!1).addParameter("expression",e("Anchor X on second body")).addParameter("expression",e("Anchor Y on second body")).addParameter("expression",e("Length (-1 to use current objects distance) (default: -1)"),"",!0).setDefaultValue("-1").addParameter("expression",e("Frequency (Hz) (non-negative) (default: 0)"),"",!0).setDefaultValue("0").addParameter("expression",e("Damping ratio (non-negative) (default: 1)"),"",!0).setDefaultValue("1").addParameter("yesorno",e("Allow collision between connected bodies? (default: no)"),"",!0).setDefaultValue("false").addParameter("scenevar",e("Variable where to store the joint ID (default: none)"),"",!0).getCodeExtraInformation().setFunctionName("addDistanceJoint"),r.addAction("DistanceJointLength",e("Distance joint length"),e("Modify a distance joint length."),e("the length for distance joint _PARAM2_"),e("Joints \u276f Distance"),"JsPlatform/Extensions/distance_joint24.png","JsPlatform/Extensions/distance_joint16.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").addParameter("expression",e("Joint ID")).useStandardOperatorParameters("number",t.ParameterOptions.makeNewOptions()).getCodeExtraInformation().setFunctionName("setDistanceJointLength").setGetter("getDistanceJointLength"),r.addExpression("DistanceJointLength",e("Distance joint length"),e("Distance joint length"),e("Joints \u276f Distance"),"JsPlatform/Extensions/distance_joint16.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").addParameter("expression",e("Joint ID")).getCodeExtraInformation().setFunctionName("getDistanceJointLength"),r.addAction("DistanceJointFrequency",e("Distance joint frequency"),e("Modify a distance joint frequency."),e("the frequency for distance joint _PARAM2_"),e("Joints \u276f Distance"),"JsPlatform/Extensions/distance_joint24.png","JsPlatform/Extensions/distance_joint16.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").addParameter("expression",e("Joint ID")).useStandardOperatorParameters("number",t.ParameterOptions.makeNewOptions()).getCodeExtraInformation().setFunctionName("setDistanceJointFrequency").setGetter("getDistanceJointFrequency"),r.addExpression("DistanceJointFrequency",e("Distance joint frequency"),e("Distance joint frequency"),e("Joints \u276f Distance"),"JsPlatform/Extensions/distance_joint16.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").addParameter("expression",e("Joint ID")).getCodeExtraInformation().setFunctionName("getDistanceJointFrequency"),r.addAction("DistanceJointDampingRatio",e("Distance joint damping ratio"),e("Modify a distance joint damping ratio."),e("the damping ratio for distance joint _PARAM2_"),e("Joints \u276f Distance"),"JsPlatform/Extensions/distance_joint24.png","JsPlatform/Extensions/distance_joint16.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").addParameter("expression",e("Joint ID")).useStandardOperatorParameters("number",t.ParameterOptions.makeNewOptions()).getCodeExtraInformation().setFunctionName("setDistanceJointDampingRatio").setGetter("getDistanceJointDampingRatio"),r.addExpression("DistanceJointDampingRatio",e("Distance joint damping ratio"),e("Distance joint damping ratio"),e("Joints \u276f Distance"),"JsPlatform/Extensions/distance_joint16.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").addParameter("expression",e("Joint ID")).getCodeExtraInformation().setFunctionName("getDistanceJointDampingRatio"),r.addAction("AddRevoluteJoint",e("Add revolute joint"),e("Add a revolute joint to an object at a fixed point. The object is attached as the second object in the joint, so you can use this for gear joints."),e("Add a revolute joint to _PARAM0_ at _PARAM2_;_PARAM3_"),e("Joints \u276f Revolute"),"JsPlatform/Extensions/revolute_joint24.png","JsPlatform/Extensions/revolute_joint16.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").addParameter("expression",e("X anchor")).addParameter("expression",e("Y anchor")).addParameter("yesorno",e("Enable angle limits? (default: no)"),"",!0).setDefaultValue("false").addParameter("expression",e("Reference angle (default: 0)"),"",!0).setDefaultValue("0").addParameter("expression",e("Minimum angle (default: 0)"),"",!0).setDefaultValue("0").addParameter("expression",e("Maximum angle (default: 0)"),"",!0).setDefaultValue("0").addParameter("yesorno",e("Enable motor? (default: no)"),"",!0).setDefaultValue("false").addParameter("expression",e("Motor speed (default: 0)"),"",!0).setDefaultValue("0").addParameter("expression",e("Motor maximum torque (default: 0)"),"",!0).setDefaultValue("0").addParameter("scenevar",e("Variable where to store the joint ID (default: none)"),"",!0).getCodeExtraInformation().setFunctionName("addRevoluteJoint"),r.addAction("AddRevoluteJointBetweenTwoBodies",e("Add revolute joint between two bodies"),e("Add a revolute joint between two objects. The reference angle determines what is considered as the base angle at the initial state."),e("Add a revolute joint between _PARAM0_ and _PARAM4_"),e("Joints \u276f Revolute"),"JsPlatform/Extensions/revolute_joint24.png","JsPlatform/Extensions/revolute_joint16.png").addParameter("object",e("First object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").addParameter("expression",e("Anchor X on first body")).addParameter("expression",e("Anchor Y on first body")).addParameter("objectPtr",e("Second object"),"",!1).addParameter("expression",e("Anchor X on second body")).addParameter("expression",e("Anchor Y on second body")).addParameter("yesorno",e("Enable angle limits? (default: no)"),"",!0).setDefaultValue("false").addParameter("expression",e("Reference angle (default: 0)"),"",!0).setDefaultValue("0").addParameter("expression",e("Minimum angle (default: 0)"),"",!0).setDefaultValue("0").addParameter("expression",e("Maximum angle (default: 0)"),"",!0).setDefaultValue("0").addParameter("yesorno",e("Enable motor? (default: no)"),"",!0).setDefaultValue("false").addParameter("expression",e("Motor speed (default: 0)"),"",!0).setDefaultValue("0").addParameter("expression",e("Motor maximum torque (default: 0)"),"",!0).setDefaultValue("0").addParameter("yesorno",e("Allow collision between connected bodies? (default: no)"),"",!0).setDefaultValue("false").addParameter("scenevar",e("Variable where to store the joint ID (default: none)"),"",!0).getCodeExtraInformation().setFunctionName("addRevoluteJointBetweenTwoBodies"),r.addExpression("RevoluteJointReferenceAngle",e("Revolute joint reference angle"),e("Revolute joint reference angle"),e("Joints \u276f Revolute"),"JsPlatform/Extensions/revolute_joint16.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").addParameter("expression",e("Joint ID")).getCodeExtraInformation().setFunctionName("getRevoluteJointReferenceAngle"),r.addExpression("RevoluteJointAngle",e("Revolute joint current angle"),e("Revolute joint current angle"),e("Joints \u276f Revolute"),"JsPlatform/Extensions/revolute_joint16.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").addParameter("expression",e("Joint ID")).getCodeExtraInformation().setFunctionName("getRevoluteJointAngle"),r.addExpression("RevoluteJointSpeed",e("Revolute joint angular speed"),e("Revolute joint angular speed"),e("Joints \u276f Revolute"),"JsPlatform/Extensions/revolute_joint16.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").addParameter("expression",e("Joint ID")).getCodeExtraInformation().setFunctionName("getRevoluteJointSpeed"),r.addCondition("RevoluteJointLimitsEnabled",e("Revolute joint limits enabled"),e("Check if a revolute joint limits are enabled."),e("Limits for revolute joint _PARAM2_ are enabled"),e("Joints \u276f Revolute"),"JsPlatform/Extensions/revolute_joint24.png","JsPlatform/Extensions/revolute_joint16.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").addParameter("expression",e("Joint ID")).getCodeExtraInformation().setFunctionName("isRevoluteJointLimitsEnabled"),r.addAction("EnableRevoluteJointLimits",e("Enable revolute joint limits"),e("Enable or disable a revolute joint angle limits."),e("Enable limits for revolute joint _PARAM2_: _PARAM3_"),e("Joints \u276f Revolute"),"JsPlatform/Extensions/revolute_joint24.png","JsPlatform/Extensions/revolute_joint16.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").addParameter("expression",e("Joint ID")).addParameter("yesorno",e("Enable")).getCodeExtraInformation().setFunctionName("enableRevoluteJointLimits"),r.addAction("RevoluteJointLimits",e("Revolute joint limits"),e("Modify a revolute joint angle limits."),e("Set the limits to _PARAM3_;_PARAM4_ for revolute joint _PARAM2_"),e("Joints \u276f Revolute"),"JsPlatform/Extensions/revolute_joint24.png","JsPlatform/Extensions/revolute_joint16.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").addParameter("expression",e("Joint ID")).addParameter("expression",e("Minimum angle")).addParameter("expression",e("Maximum angle")).getCodeExtraInformation().setFunctionName("setRevoluteJointLimits"),r.addExpression("RevoluteJointMinAngle",e("Revolute joint minimum angle"),e("Revolute joint minimum angle"),e("Joints \u276f Revolute"),"JsPlatform/Extensions/revolute_joint16.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").addParameter("expression",e("Joint ID")).getCodeExtraInformation().setFunctionName("getRevoluteJointMinAngle"),r.addExpression("RevoluteJointMaxAngle",e("Revolute joint maximum angle"),e("Revolute joint maximum angle"),e("Joints \u276f Revolute"),"JsPlatform/Extensions/revolute_joint16.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").addParameter("expression",e("Joint ID")).getCodeExtraInformation().setFunctionName("getRevoluteJointMaxAngle"),r.addCondition("RevoluteJointMotorEnabled",e("Revolute joint motor enabled"),e("Check if a revolute joint motor is enabled."),e("Motor of revolute joint _PARAM2_ is enabled"),e("Joints \u276f Revolute"),"JsPlatform/Extensions/revolute_joint24.png","JsPlatform/Extensions/revolute_joint16.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").addParameter("expression",e("Joint ID")).getCodeExtraInformation().setFunctionName("isRevoluteJointMotorEnabled"),r.addAction("EnableRevoluteJointMotor",e("Enable revolute joint motor"),e("Enable or disable a revolute joint motor."),e("Enable motor for revolute joint _PARAM2_: _PARAM3_"),e("Joints \u276f Revolute"),"JsPlatform/Extensions/revolute_joint24.png","JsPlatform/Extensions/revolute_joint16.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").addParameter("expression",e("Joint ID")).addParameter("yesorno",e("Enable")).getCodeExtraInformation().setFunctionName("enableRevoluteJointMotor"),r.addAction("RevoluteJointMotorSpeed",e("Revolute joint motor speed"),e("Modify a revolute joint motor speed."),e("the motor speed for revolute joint _PARAM2_"),e("Joints \u276f Revolute"),"JsPlatform/Extensions/revolute_joint24.png","JsPlatform/Extensions/revolute_joint16.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").addParameter("expression",e("Joint ID")).useStandardOperatorParameters("number",t.ParameterOptions.makeNewOptions()).getCodeExtraInformation().setFunctionName("setRevoluteJointMotorSpeed").setGetter("getRevoluteJointMotorSpeed"),r.addExpression("RevoluteJointMotorSpeed",e("Revolute joint motor speed"),e("Revolute joint motor speed"),e("Joints \u276f Revolute"),"JsPlatform/Extensions/revolute_joint16.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").addParameter("expression",e("Joint ID")).getCodeExtraInformation().setFunctionName("getRevoluteJointMotorSpeed"),r.addAction("RevoluteJointMaxMotorTorque",e("Revolute joint max motor torque"),e("Modify a revolute joint maximum motor torque."),e("the maximum motor torque for revolute joint _PARAM2_"),e("Joints \u276f Revolute"),"JsPlatform/Extensions/revolute_joint24.png","JsPlatform/Extensions/revolute_joint16.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").addParameter("expression",e("Joint ID")).useStandardOperatorParameters("number",t.ParameterOptions.makeNewOptions()).getCodeExtraInformation().setFunctionName("setRevoluteJointMaxMotorTorque").setGetter("getRevoluteJointMaxMotorTorque"),r.addExpression("RevoluteJointMaxMotorTorque",e("Revolute joint max motor torque"),e("Revolute joint maximum motor torque"),e("Joints \u276f Revolute"),"JsPlatform/Extensions/revolute_joint16.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").addParameter("expression",e("Joint ID")).getCodeExtraInformation().setFunctionName("getRevoluteJointMaxMotorTorque"),r.addExpression("RevoluteJointMotorTorque",e("Revolute joint motor torque"),e("Revolute joint motor torque"),e("Joints \u276f Revolute"),"JsPlatform/Extensions/revolute_joint16.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").addParameter("expression",e("Joint ID")).getCodeExtraInformation().setFunctionName("getRevoluteJointMotorTorque"),r.addAction("AddPrismaticJoint",e("Add prismatic joint"),e("Add a prismatic joint between two objects. The translation limits are converted to meters using the world scale on X."),e("Add a prismatic joint between _PARAM0_ and _PARAM4_"),e("Joints \u276f Prismatic"),"JsPlatform/Extensions/prismatic_joint24.png","JsPlatform/Extensions/prismatic_joint16.png").addParameter("object",e("First object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").addParameter("expression",e("Anchor X on first body")).addParameter("expression",e("Anchor Y on first body")).addParameter("objectPtr",e("Second object"),"",!1).addParameter("expression",e("Anchor X on second body")).addParameter("expression",e("Anchor Y on second body")).addParameter("expression",e("Axis angle")).addParameter("expression",e("Reference angle (default: 0)"),"",!0).setDefaultValue("0").addParameter("yesorno",e("Enable limits? (default: no)"),"",!0).setDefaultValue("false").addParameter("expression",e("Minimum translation (default: 0)"),"",!0).setDefaultValue("0").addParameter("expression",e("Maximum translation (default: 0)"),"",!0).setDefaultValue("0").addParameter("yesorno",e("Enable motor? (default: no)"),"",!0).setDefaultValue("false").addParameter("expression",e("Motor speed (default: 0)"),"",!0).setDefaultValue("0").addParameter("expression",e("Motor maximum force (default: 0)"),"",!0).setDefaultValue("0").addParameter("yesorno",e("Allow collision between connected bodies? (default: no)"),"",!0).setDefaultValue("false").addParameter("scenevar",e("Variable where to store the joint ID (default: none)"),"",!0).getCodeExtraInformation().setFunctionName("addPrismaticJoint"),r.addExpression("PrismaticJointAxisAngle",e("Prismatic joint axis angle"),e("Prismatic joint axis angle"),e("Joints \u276f Prismatic"),"JsPlatform/Extensions/prismatic_joint16.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").addParameter("expression",e("Joint ID")).getCodeExtraInformation().setFunctionName("getPrismaticJointAxisAngle"),r.addExpression("PrismaticJointReferenceAngle",e("Prismatic joint reference angle"),e("Prismatic joint reference angle"),e("Joints \u276f Prismatic"),"JsPlatform/Extensions/prismatic_joint16.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").addParameter("expression",e("Joint ID")).getCodeExtraInformation().setFunctionName("getPrismaticJointReferenceAngle"),r.addExpression("PrismaticJointTranslation",e("Prismatic joint current translation"),e("Prismatic joint current translation"),e("Joints \u276f Prismatic"),"JsPlatform/Extensions/prismatic_joint16.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").addParameter("expression",e("Joint ID")).getCodeExtraInformation().setFunctionName("getPrismaticJointTranslation"),r.addExpression("PrismaticJointSpeed",e("Prismatic joint current speed"),e("Prismatic joint speed"),e("Joints \u276f Prismatic"),"JsPlatform/Extensions/prismatic_joint16.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").addParameter("expression",e("Joint ID")).getCodeExtraInformation().setFunctionName("getPrismaticJointSpeed"),r.addCondition("PrismaticJointLimitsEnabled",e("Prismatic joint limits enabled"),e("Check if a prismatic joint limits are enabled."),e("Limits for prismatic joint _PARAM2_ are enabled"),e("Joints \u276f Prismatic"),"JsPlatform/Extensions/prismatic_joint24.png","JsPlatform/Extensions/prismatic_joint16.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").addParameter("expression",e("Joint ID")).getCodeExtraInformation().setFunctionName("isPrismaticJointLimitsEnabled"),r.addAction("EnablePrismaticJointLimits",e("Enable prismatic joint limits"),e("Enable or disable a prismatic joint limits."),e("Enable limits for prismatic joint _PARAM2_: _PARAM3_"),e("Joints \u276f Prismatic"),"JsPlatform/Extensions/prismatic_joint24.png","JsPlatform/Extensions/prismatic_joint16.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").addParameter("expression",e("Joint ID")).addParameter("yesorno",e("Enable")).getCodeExtraInformation().setFunctionName("enablePrismaticJointLimits"),r.addAction("PrismaticJointLimits",e("Prismatic joint limits"),e("Modify a prismatic joint limits."),e("Set the limits to _PARAM3_;_PARAM4_ for prismatic joint _PARAM2_"),e("Joints \u276f Prismatic"),"JsPlatform/Extensions/prismatic_joint24.png","JsPlatform/Extensions/prismatic_joint16.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").addParameter("expression",e("Joint ID")).addParameter("expression",e("Minimum translation")).addParameter("expression",e("Maximum translation")).getCodeExtraInformation().setFunctionName("setPrismaticJointLimits"),r.addExpression("PrismaticJointMinTranslation",e("Prismatic joint minimum translation"),e("Prismatic joint minimum translation"),e("Joints \u276f Prismatic"),"JsPlatform/Extensions/prismatic_joint16.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").addParameter("expression",e("Joint ID")).getCodeExtraInformation().setFunctionName("getPrismaticJointMinTranslation"),r.addExpression("PrismaticJointMaxTranslation",e("Prismatic joint maximum translation"),e("Prismatic joint maximum translation"),e("Joints \u276f Prismatic"),"JsPlatform/Extensions/prismatic_joint16.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").addParameter("expression",e("Joint ID")).getCodeExtraInformation().setFunctionName("getPrismaticJointMaxTranslation"),r.addCondition("PrismaticJointMotorEnabled",e("Prismatic joint motor enabled"),e("Check if a prismatic joint motor is enabled."),e("Motor for prismatic joint _PARAM2_ is enabled"),e("Joints \u276f Prismatic"),"JsPlatform/Extensions/prismatic_joint24.png","JsPlatform/Extensions/prismatic_joint16.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").addParameter("expression",e("Joint ID")).getCodeExtraInformation().setFunctionName("isPrismaticJointMotorEnabled"),r.addAction("EnablePrismaticJointMotor",e("Enable prismatic joint motor"),e("Enable or disable a prismatic joint motor."),e("Enable motor for prismatic joint _PARAM2_: _PARAM3_"),e("Joints \u276f Prismatic"),"JsPlatform/Extensions/prismatic_joint24.png","JsPlatform/Extensions/prismatic_joint16.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").addParameter("expression",e("Joint ID")).addParameter("yesorno",e("Enable")).getCodeExtraInformation().setFunctionName("enablePrismaticJointMotor"),r.addAction("PrismaticJointMotorSpeed",e("Prismatic joint motor speed"),e("Modify a prismatic joint motor speed."),e("the motor force for prismatic joint _PARAM2_"),e("Joints \u276f Prismatic"),"JsPlatform/Extensions/prismatic_joint24.png","JsPlatform/Extensions/prismatic_joint16.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").addParameter("expression",e("Joint ID")).useStandardOperatorParameters("number",t.ParameterOptions.makeNewOptions()).getCodeExtraInformation().setFunctionName("setPrismaticJointMotorSpeed").setGetter("getPrismaticJointMotorSpeed"),r.addExpression("PrismaticJointMotorSpeed",e("Prismatic joint motor speed"),e("Prismatic joint motor speed"),e("Joints \u276f Prismatic"),"JsPlatform/Extensions/prismatic_joint16.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").addParameter("expression",e("Joint ID")).getCodeExtraInformation().setFunctionName("getPrismaticJointMotorSpeed"),r.addAction("PrismaticJointMaxMotorForce",e("Prismatic joint max motor force"),e("Modify a prismatic joint maximum motor force."),e("the maximum motor force for prismatic joint _PARAM2_"),e("Joints \u276f Prismatic"),"JsPlatform/Extensions/prismatic_joint24.png","JsPlatform/Extensions/prismatic_joint16.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").addParameter("expression",e("Joint ID")).useStandardOperatorParameters("number",t.ParameterOptions.makeNewOptions()).getCodeExtraInformation().setFunctionName("setPrismaticJointMaxMotorForce").setGetter("getPrismaticJointMaxMotorForce"),r.addExpression("PrismaticJointMaxMotorForce",e("Prismatic joint max motor force"),e("Prismatic joint maximum motor force"),e("Joints \u276f Prismatic"),"JsPlatform/Extensions/prismatic_joint16.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").addParameter("expression",e("Joint ID")).getCodeExtraInformation().setFunctionName("getPrismaticJointMaxMotorForce"),r.addExpression("PrismaticJointMotorForce",e("Prismatic joint motor force"),e("Prismatic joint motor force"),e("Joints \u276f Prismatic"),"JsPlatform/Extensions/prismatic_joint16.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").addParameter("expression",e("Joint ID")).getCodeExtraInformation().setFunctionName("getPrismaticJointMotorForce"),r.addAction("AddPulleyJoint",e("Add pulley joint"),e("Add a pulley joint between two objects. Lengths are converted to meters using the world scale on X."),e("Add a pulley joint between _PARAM0_ and _PARAM4_"),e("Joints \u276f Pulley"),"JsPlatform/Extensions/pulley_joint24.png","JsPlatform/Extensions/pulley_joint16.png").addParameter("object",e("First object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").addParameter("expression",e("Anchor X on first body")).addParameter("expression",e("Anchor Y on first body")).addParameter("objectPtr",e("Second object"),"",!1).addParameter("expression",e("Anchor X on second body")).addParameter("expression",e("Anchor Y on second body")).addParameter("expression",e("Ground anchor X for first object")).addParameter("expression",e("Ground anchor Y for first object")).addParameter("expression",e("Ground anchor X for second object")).addParameter("expression",e("Ground anchor Y for second object")).addParameter("expression",e("Length for first object (-1 to use anchor positions) (default: -1)"),"",!0).setDefaultValue("-1").addParameter("expression",e("Length for second object (-1 to use anchor positions) (default: -1)"),"",!0).setDefaultValue("-1").addParameter("expression",e("Ratio (non-negative) (default: 1"),"",!0).setDefaultValue("1").addParameter("yesorno",e("Allow collision between connected bodies? (default: no)"),"",!0).setDefaultValue("false").addParameter("scenevar",e("Variable where to store the joint ID (default: none)"),"",!0).getCodeExtraInformation().setFunctionName("addPulleyJoint"),r.addExpression("PulleyJointFirstGroundAnchorX",e("Pulley joint first ground anchor X"),e("Pulley joint first ground anchor X"),e("Joints \u276f Pulley"),"JsPlatform/Extensions/pulley_joint16.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").addParameter("expression",e("Joint ID")).getCodeExtraInformation().setFunctionName("getPulleyJointFirstGroundAnchorX"),r.addExpression("PulleyJointFirstGroundAnchorY",e("Pulley joint first ground anchor Y"),e("Pulley joint first ground anchor Y"),e("Joints \u276f Pulley"),"JsPlatform/Extensions/pulley_joint16.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").addParameter("expression",e("Joint ID")).getCodeExtraInformation().setFunctionName("getPulleyJointFirstGroundAnchorY"),r.addExpression("PulleyJointSecondGroundAnchorX",e("Pulley joint second ground anchor X"),e("Pulley joint second ground anchor X"),e("Joints \u276f Pulley"),"JsPlatform/Extensions/pulley_joint16.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").addParameter("expression",e("Joint ID")).getCodeExtraInformation().setFunctionName("getPulleyJointSecondGroundAnchorX"),r.addExpression("PulleyJointSecondGroundAnchorY",e("Pulley joint second ground anchor Y"),e("Pulley joint second ground anchor Y"),e("Joints \u276f Pulley"),"JsPlatform/Extensions/pulley_joint16.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").addParameter("expression",e("Joint ID")).getCodeExtraInformation().setFunctionName("getPulleyJointSecondGroundAnchorY"),r.addExpression("PulleyJointFirstLength",e("Pulley joint first length"),e("Pulley joint first length"),e("Joints \u276f Pulley"),"JsPlatform/Extensions/pulley_joint16.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").addParameter("expression",e("Joint ID")).getCodeExtraInformation().setFunctionName("getPulleyJointFirstLength"),r.addExpression("PulleyJointSecondLength",e("Pulley joint second length"),e("Pulley joint second length"),e("Joints \u276f Pulley"),"JsPlatform/Extensions/pulley_joint16.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").addParameter("expression",e("Joint ID")).getCodeExtraInformation().setFunctionName("getPulleyJointSecondLength"),r.addExpression("PulleyJointRatio",e("Pulley joint ratio"),e("Pulley joint ratio"),e("Joints \u276f Pulley"),"JsPlatform/Extensions/pulley_joint16.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").addParameter("expression",e("Joint ID")).getCodeExtraInformation().setFunctionName("getPulleyJointRatio"),r.addAction("AddGearJoint",e("Add gear joint"),e("Add a gear joint between two joints. Attention: Gear joints require the joints to be revolute or prismatic, and both of them to be attached to a static body as first object."),e("Add a gear joint between joints _PARAM2_ and _PARAM3_"),e("Joints \u276f Gear"),"JsPlatform/Extensions/gear_joint24.png","JsPlatform/Extensions/gear_joint16.png").addParameter("object",e("First object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").addParameter("expression",e("First joint ID")).addParameter("expression",e("Second joint ID")).addParameter("expression",e("Ratio (non-zero) (default: 1)"),"",!0).setDefaultValue("1").addParameter("yesorno",e("Allow collision between connected bodies? (default: no)"),"",!0).setDefaultValue("false").addParameter("scenevar",e("Variable where to store the joint ID (default: none)"),"",!0).getCodeExtraInformation().setFunctionName("addGearJoint"),r.addExpression("GearJointFirstJoint",e("Gear joint first joint"),e("Gear joint first joint"),e("Joints \u276f Gear"),"JsPlatform/Extensions/gear_joint16.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").addParameter("expression",e("Joint ID")).getCodeExtraInformation().setFunctionName("getGearJointFirstJoint"),r.addExpression("GearJointSecondJoint",e("Gear joint second joint"),e("Gear joint second joint"),e("Joints \u276f Gear"),"JsPlatform/Extensions/gear_joint16.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").addParameter("expression",e("Joint ID")).getCodeExtraInformation().setFunctionName("getGearJointSecondJoint"),r.addAction("GearJointRatio",e("Gear joint ratio"),e("Modify a Gear joint ratio."),e("the ratio for gear joint _PARAM2_"),e("Joints \u276f Gear"),"JsPlatform/Extensions/gear_joint24.png","JsPlatform/Extensions/gear_joint16.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").addParameter("expression",e("Joint ID")).useStandardOperatorParameters("number",t.ParameterOptions.makeNewOptions()).getCodeExtraInformation().setFunctionName("setGearJointRatio").setGetter("getGearJointRatio"),r.addExpression("GearJointRatio",e("Gear joint ratio"),e("Gear joint ratio"),e("Joints \u276f Gear"),"JsPlatform/Extensions/gear_joint16.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").addParameter("expression",e("Joint ID")).getCodeExtraInformation().setFunctionName("getGearJointRatio"),r.addAction("AddMouseJoint",e("Add mouse joint"),e("Add a mouse joint to an object (makes the object move towards a specific point)."),e("Add a mouse joint to _PARAM0_"),e("Joints \u276f Mouse"),"JsPlatform/Extensions/mouse_joint24.png","JsPlatform/Extensions/mouse_joint16.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").addParameter("expression",e("Target X")).addParameter("expression",e("Target Y")).addParameter("expression",e("Maximum force (N) (non-negative) (default: 500)"),"",!0).setDefaultValue("500").addParameter("expression",e("Frequency (Hz) (positive) (default: 10)"),"",!0).setDefaultValue("10").addParameter("expression",e("Damping ratio (non-negative) (default: 1)"),"",!0).setDefaultValue("1").addParameter("scenevar",e("Variable where to store the joint ID (default: none)"),"",!0).getCodeExtraInformation().setFunctionName("addMouseJoint"),r.addAction("MouseJointTarget",e("Mouse joint target"),e("Set a mouse joint target."),e("Set the target position of mouse joint _PARAM2_ of _PARAM0_ to _PARAM3_;_PARAM4_"),e("Joints \u276f Mouse"),"JsPlatform/Extensions/mouse_joint24.png","JsPlatform/Extensions/mouse_joint16.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").addParameter("expression",e("Joint ID")).addParameter("expression",e("Target X")).addParameter("expression",e("Target Y")).getCodeExtraInformation().setFunctionName("setMouseJointTarget"),r.addExpression("MouseJointTargetX",e("Mouse joint target X"),e("Mouse joint target X"),e("Joints \u276f Mouse"),"JsPlatform/Extensions/mouse_joint16.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").addParameter("expression",e("Joint ID")).getCodeExtraInformation().setFunctionName("getMouseJointTargetX"),r.addExpression("MouseJointTargetY",e("Mouse joint target Y"),e("Mouse joint target Y"),e("Joints \u276f Mouse"),"JsPlatform/Extensions/mouse_joint16.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").addParameter("expression",e("Joint ID")).getCodeExtraInformation().setFunctionName("getMouseJointTargetY"),r.addAction("MouseJointMaxForce",e("Mouse joint max force"),e("Set a mouse joint maximum force."),e("the maximum force for mouse joint _PARAM2_"),e("Joints \u276f Mouse"),"JsPlatform/Extensions/mouse_joint24.png","JsPlatform/Extensions/mouse_joint16.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").addParameter("expression",e("Joint ID")).useStandardOperatorParameters("number",t.ParameterOptions.makeNewOptions()).getCodeExtraInformation().setFunctionName("setMouseJointMaxForce").setGetter("getMouseJointMaxForce"),r.addExpression("MouseJointMaxForce",e("Mouse joint max force"),e("Mouse joint maximum force"),e("Joints \u276f Mouse"),"JsPlatform/Extensions/mouse_joint16.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").addParameter("expression",e("Joint ID")).getCodeExtraInformation().setFunctionName("getMouseJointMaxForce"),r.addAction("MouseJointFrequency",e("Mouse joint frequency"),e("Set a mouse joint frequency."),e("the frequency for mouse joint _PARAM2_"),e("Joints \u276f Mouse"),"JsPlatform/Extensions/mouse_joint24.png","JsPlatform/Extensions/mouse_joint16.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").addParameter("expression",e("Joint ID")).useStandardOperatorParameters("number",t.ParameterOptions.makeNewOptions()).getCodeExtraInformation().setFunctionName("setMouseJointFrequency").setGetter("getMouseJointFrequency"),r.addExpression("MouseJointFrequency",e("Mouse joint frequency"),e("Mouse joint frequency"),e("Joints \u276f Mouse"),"JsPlatform/Extensions/mouse_joint16.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").addParameter("expression",e("Joint ID")).getCodeExtraInformation().setFunctionName("getMouseJointFrequency"),r.addAction("MouseJointDampingRatio",e("Mouse joint damping ratio"),e("Set a mouse joint damping ratio."),e("the damping ratio for mouse joint _PARAM2_"),e("Joints \u276f Mouse"),"JsPlatform/Extensions/mouse_joint24.png","JsPlatform/Extensions/mouse_joint16.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").addParameter("expression",e("Joint ID")).useStandardOperatorParameters("number",t.ParameterOptions.makeNewOptions()).getCodeExtraInformation().setFunctionName("setMouseJointDampingRatio").setGetter("getMouseJointDampingRatio"),r.addExpression("MouseJointDampingRatio",e("Mouse joint damping ratio"),e("Mouse joint damping ratio"),e("Joints \u276f Mouse"),"JsPlatform/Extensions/mouse_joint16.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").addParameter("expression",e("Joint ID")).getCodeExtraInformation().setFunctionName("getMouseJointDampingRatio"),r.addAction("AddWheelJoint",e("Add wheel joint"),e("Add a wheel joint between two objects. Higher frequencies means higher suspensions. Damping determines oscillations, critical damping of 1 means no oscillations."),e("Add a wheel joint between _PARAM0_ and _PARAM4_"),e("Joints \u276f Wheel"),"JsPlatform/Extensions/wheel_joint24.png","JsPlatform/Extensions/wheel_joint16.png").addParameter("object",e("First object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").addParameter("expression",e("Anchor X on first body")).addParameter("expression",e("Anchor Y on first body")).addParameter("objectPtr",e("Second object"),"",!1).addParameter("expression",e("Anchor X on second body")).addParameter("expression",e("Anchor Y on second body")).addParameter("expression",e("Axis angle")).addParameter("expression",e("Frequency (Hz) (non-negative) (default: 10)"),"",!0).setDefaultValue("10").addParameter("expression",e("Damping ratio (non-negative) (default: 1)"),"",!0).setDefaultValue("1").addParameter("yesorno",e("Enable motor? (default: no)"),"",!0).setDefaultValue("false").addParameter("expression",e("Motor speed (default: 0)"),"",!0).setDefaultValue("0").addParameter("expression",e("Motor maximum torque (default: 0)"),"",!0).setDefaultValue("0").addParameter("yesorno",e("Allow collision between connected bodies? (default: no)"),"",!0).setDefaultValue("false").addParameter("scenevar",e("Variable where to store the joint ID (default: none)"),"",!0).getCodeExtraInformation().setFunctionName("addWheelJoint"),r.addExpression("WheelJointAxisAngle",e("Wheel joint axis angle"),e("Wheel joint axis angle"),e("Joints \u276f Wheel"),"JsPlatform/Extensions/wheel_joint16.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").addParameter("expression",e("Joint ID")).getCodeExtraInformation().setFunctionName("getWheelJointAxisAngle"),r.addExpression("WheelJointTranslation",e("Wheel joint current translation"),e("Wheel joint current translation"),e("Joints \u276f Wheel"),"JsPlatform/Extensions/wheel_joint16.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").addParameter("expression",e("Joint ID")).getCodeExtraInformation().setFunctionName("getWheelJointTranslation"),r.addExpression("WheelJointSpeed",e("Wheel joint current speed"),e("Wheel joint speed"),e("Joints \u276f Wheel"),"JsPlatform/Extensions/wheel_joint16.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").addParameter("expression",e("Joint ID")).getCodeExtraInformation().setFunctionName("getWheelJointSpeed"),r.addCondition("WheelJointMotorEnabled",e("Wheel joint motor enabled"),e("Check if a wheel joint motor is enabled."),e("Motor for wheel joint _PARAM2_ is enabled"),e("Joints \u276f Wheel"),"JsPlatform/Extensions/wheel_joint24.png","JsPlatform/Extensions/wheel_joint16.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").addParameter("expression",e("Joint ID")).getCodeExtraInformation().setFunctionName("isWheelJointMotorEnabled"),r.addAction("EnableWheelJointMotor",e("Enable wheel joint motor"),e("Enable or disable a wheel joint motor."),e("Enable motor for wheel joint _PARAM2_: _PARAM3_"),e("Joints \u276f Wheel"),"JsPlatform/Extensions/wheel_joint24.png","JsPlatform/Extensions/wheel_joint16.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").addParameter("expression",e("Joint ID")).addParameter("yesorno",e("Enable")).getCodeExtraInformation().setFunctionName("enableWheelJointMotor"),r.addAction("WheelJointMotorSpeed",e("Wheel joint motor speed"),e("Modify a wheel joint motor speed."),e("the motor speed for wheel joint _PARAM2_"),e("Joints \u276f Wheel"),"JsPlatform/Extensions/wheel_joint24.png","JsPlatform/Extensions/wheel_joint16.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").addParameter("expression",e("Joint ID")).useStandardOperatorParameters("number",t.ParameterOptions.makeNewOptions()).getCodeExtraInformation().setFunctionName("setWheelJointMotorSpeed").setGetter("getWheelJointMotorSpeed"),r.addExpression("WheelJointMotorSpeed",e("Wheel joint motor speed"),e("Wheel joint motor speed"),e("Joints \u276f Wheel"),"JsPlatform/Extensions/wheel_joint16.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").addParameter("expression",e("Joint ID")).getCodeExtraInformation().setFunctionName("getWheelJointMotorSpeed"),r.addAction("WheelJointMaxMotorTorque",e("Wheel joint max motor torque"),e("Modify a wheel joint maximum motor torque."),e("the maximum motor torque for wheel joint _PARAM2_"),e("Joints \u276f Wheel"),"JsPlatform/Extensions/wheel_joint24.png","JsPlatform/Extensions/wheel_joint16.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").addParameter("expression",e("Joint ID")).useStandardOperatorParameters("number",t.ParameterOptions.makeNewOptions()).getCodeExtraInformation().setFunctionName("setWheelJointMaxMotorTorque").setGetter("getWheelJointMaxMotorTorque"),r.addExpression("WheelJointMaxMotorTorque",e("Wheel joint max motor torque"),e("Wheel joint maximum motor torque"),e("Joints \u276f Wheel"),"JsPlatform/Extensions/wheel_joint16.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").addParameter("expression",e("Joint ID")).getCodeExtraInformation().setFunctionName("getWheelJointMaxMotorTorque"),r.addExpression("WheelJointMotorTorque",e("Wheel joint motor torque"),e("Wheel joint motor torque"),e("Joints \u276f Wheel"),"JsPlatform/Extensions/wheel_joint16.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").addParameter("expression",e("Joint ID")).getCodeExtraInformation().setFunctionName("getWheelJointMotorTorque"),r.addAction("WheelJointFrequency",e("Wheel joint frequency"),e("Modify a wheel joint frequency."),e("the frequency for wheel joint _PARAM2_"),e("Joints \u276f Wheel"),"JsPlatform/Extensions/wheel_joint24.png","JsPlatform/Extensions/wheel_joint16.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").addParameter("expression",e("Joint ID")).useStandardOperatorParameters("number",t.ParameterOptions.makeNewOptions()).getCodeExtraInformation().setFunctionName("setWheelJointFrequency").setGetter("getWheelJointFrequency"),r.addExpression("WheelJointFrequency",e("Wheel joint frequency"),e("Wheel joint frequency"),e("Joints \u276f Wheel"),"JsPlatform/Extensions/wheel_joint16.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").addParameter("expression",e("Joint ID")).getCodeExtraInformation().setFunctionName("getWheelJointFrequency"),r.addAction("WheelJointDampingRatio",e("Wheel joint damping ratio"),e("Modify a wheel joint damping ratio."),e("the damping ratio for wheel joint _PARAM2_"),e("Joints \u276f Wheel"),"JsPlatform/Extensions/wheel_joint24.png","JsPlatform/Extensions/wheel_joint16.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").addParameter("expression",e("Joint ID")).useStandardOperatorParameters("number",t.ParameterOptions.makeNewOptions()).getCodeExtraInformation().setFunctionName("setWheelJointDampingRatio").setGetter("getWheelJointDampingRatio"),r.addExpression("WheelJointDampingRatio",e("Wheel joint damping ratio"),e("Wheel joint damping ratio"),e("Joints \u276f Wheel"),"JsPlatform/Extensions/wheel_joint16.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").addParameter("expression",e("Joint ID")).getCodeExtraInformation().setFunctionName("getWheelJointDampingRatio"),r.addAction("AddWeldJoint",e("Add weld joint"),e("Add a weld joint between two objects."),e("Add a weld joint between _PARAM0_ and _PARAM4_"),e("Joints \u276f Weld"),"JsPlatform/Extensions/weld_joint24.png","JsPlatform/Extensions/weld_joint16.png").addParameter("object",e("First object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").addParameter("expression",e("Anchor X on first body")).addParameter("expression",e("Anchor Y on first body")).addParameter("objectPtr",e("Second object"),"",!1).addParameter("expression",e("Anchor X on second body")).addParameter("expression",e("Anchor Y on second body")).addParameter("expression",e("Reference angle (default: 0)"),"",!0).setDefaultValue("0").addParameter("expression",e("Frequency (Hz) (non-negative) (default: 10)"),"",!0).setDefaultValue("10").addParameter("expression",e("Damping ratio (non-negative) (default: 1)"),"",!0).setDefaultValue("1").addParameter("yesorno",e("Allow collision between connected bodies? (default: no)"),"",!0).setDefaultValue("false").addParameter("scenevar",e("Variable where to store the joint ID (default: none)"),"",!0).getCodeExtraInformation().setFunctionName("addWeldJoint"),r.addExpression("WeldJointReferenceAngle",e("Weld joint reference angle"),e("Weld joint reference angle"),e("Joints \u276f Weld"),"JsPlatform/Extensions/weld_joint16.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").addParameter("expression",e("Joint ID")).getCodeExtraInformation().setFunctionName("getWeldJointReferenceAngle"),r.addAction("WeldJointFrequency",e("Weld joint frequency"),e("Modify a weld joint frequency."),e("the frequency for weld joint _PARAM2_"),e("Joints \u276f Weld"),"JsPlatform/Extensions/weld_joint24.png","JsPlatform/Extensions/weld_joint16.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").addParameter("expression",e("Joint ID")).useStandardOperatorParameters("number",t.ParameterOptions.makeNewOptions()).getCodeExtraInformation().setFunctionName("setWeldJointFrequency").setGetter("getWeldJointFrequency"),r.addExpression("WeldJointFrequency",e("Weld joint frequency"),e("Weld joint frequency"),e("Joints \u276f Weld"),"JsPlatform/Extensions/weld_joint16.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").addParameter("expression",e("Joint ID")).getCodeExtraInformation().setFunctionName("getWeldJointFrequency"),r.addAction("WeldJointDampingRatio",e("Weld joint damping ratio"),e("Modify a weld joint damping ratio."),e("the damping ratio for weld joint _PARAM2_"),e("Joints \u276f Weld"),"JsPlatform/Extensions/weld_joint24.png","JsPlatform/Extensions/weld_joint16.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").addParameter("expression",e("Joint ID")).useStandardOperatorParameters("number",t.ParameterOptions.makeNewOptions()).getCodeExtraInformation().setFunctionName("setWeldJointDampingRatio").setGetter("getWeldJointDampingRatio"),r.addExpression("WeldJointDampingRatio",e("Weld joint damping ratio"),e("Weld joint damping ratio"),e("Joints \u276f Weld"),"JsPlatform/Extensions/weld_joint16.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").addParameter("expression",e("Joint ID")).getCodeExtraInformation().setFunctionName("getWeldJointDampingRatio"),r.addAction("AddRopeJoint",e("Add rope joint"),e("Add a rope joint between two objects. The maximum length is converted to meters using the world scale on X."),e("Add a rope joint between _PARAM0_ and _PARAM4_"),e("Joints \u276f Rope"),"JsPlatform/Extensions/rope_joint24.png","JsPlatform/Extensions/rope_joint16.png").addParameter("object",e("First object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").addParameter("expression",e("Anchor X on first body")).addParameter("expression",e("Anchor Y on first body")).addParameter("objectPtr",e("Second object"),"",!1).addParameter("expression",e("Anchor X on second body")).addParameter("expression",e("Anchor Y on second body")).addParameter("expression",e("Maximum length (-1 to use current objects distance) (default: -1)"),"",!0).setDefaultValue("-1").addParameter("yesorno",e("Allow collision between connected bodies? (default: no)"),"",!0).setDefaultValue("false").addParameter("scenevar",e("Variable where to store the joint ID (default: none)"),"",!0).getCodeExtraInformation().setFunctionName("addRopeJoint"),r.addAction("RopeJointMaxLength",e("Rope joint max length"),e("Modify a rope joint maximum length."),e("the maximum length for rope joint _PARAM2_"),e("Joints \u276f Rope"),"JsPlatform/Extensions/rope_joint24.png","JsPlatform/Extensions/rope_joint16.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").addParameter("expression",e("Joint ID")).useStandardOperatorParameters("number",t.ParameterOptions.makeNewOptions()).getCodeExtraInformation().setFunctionName("setRopeJointMaxLength").setGetter("getRopeJointMaxLength"),r.addExpression("RopeJointMaxLength",e("Rope joint max length"),e("Rope joint maximum length"),e("Joints \u276f Rope"),"JsPlatform/Extensions/rope_joint16.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").addParameter("expression",e("Joint ID")).getCodeExtraInformation().setFunctionName("getRopeJointMaxLength"),r.addAction("AddFrictionJoint",e("Add friction joint"),e("Add a friction joint between two objects."),e("Add a friction joint between _PARAM0_ and _PARAM4_"),e("Joints \u276f Friction"),"JsPlatform/Extensions/friction_joint24.png","JsPlatform/Extensions/friction_joint16.png").addParameter("object",e("First object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").addParameter("expression",e("Anchor X on first body")).addParameter("expression",e("Anchor Y on first body")).addParameter("objectPtr",e("Second object"),"",!1).addParameter("expression",e("Anchor X on second body")).addParameter("expression",e("Anchor Y on second body")).addParameter("expression",e("Maximum force (non-negative)")).addParameter("expression",e("Maximum torque (non-negative)")).addParameter("yesorno",e("Allow collision between connected bodies? (default: no)"),"",!0).setDefaultValue("false").addParameter("scenevar",e("Variable where to store the joint ID (default: none)"),"",!0).getCodeExtraInformation().setFunctionName("addFrictionJoint"),r.addAction("FrictionJointMaxForce",e("Friction joint max force"),e("Modify a friction joint maximum force."),e("the maximum force for friction joint _PARAM2_"),e("Joints \u276f Friction"),"JsPlatform/Extensions/friction_joint24.png","JsPlatform/Extensions/friction_joint16.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").addParameter("expression",e("Joint ID")).useStandardOperatorParameters("number",t.ParameterOptions.makeNewOptions()).getCodeExtraInformation().setFunctionName("setFrictionJointMaxForce").setGetter("getFrictionJointMaxForce"),r.addExpression("FrictionJointMaxForce",e("Friction joint max force"),e("Friction joint maximum force"),e("Joints \u276f Friction"),"JsPlatform/Extensions/friction_joint16.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").addParameter("expression",e("Joint ID")).getCodeExtraInformation().setFunctionName("getFrictionJointMaxForce"),r.addAction("FrictionJointMaxTorque",e("Friction joint max torque"),e("Modify a friction joint maximum torque."),e("the maximum torque for friction joint _PARAM2_"),e("Joints \u276f Friction"),"JsPlatform/Extensions/friction_joint24.png","JsPlatform/Extensions/friction_joint16.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").addParameter("expression",e("Joint ID")).useStandardOperatorParameters("number",t.ParameterOptions.makeNewOptions()).getCodeExtraInformation().setFunctionName("setFrictionJointMaxTorque").setGetter("getFrictionJointMaxTorque"),r.addExpression("FrictionJointMaxTorque",e("Friction joint max torque"),e("Friction joint maximum torque"),e("Joints \u276f Friction"),"JsPlatform/Extensions/friction_joint16.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").addParameter("expression",e("Joint ID")).getCodeExtraInformation().setFunctionName("getFrictionJointMaxTorque"),r.addAction("AddMotorJoint",e("Add motor joint"),e("Add a motor joint between two objects. The position and angle offsets are relative to the first object."),e("Add a motor joint between _PARAM0_ and _PARAM2_"),e("Joints \u276f Motor"),"JsPlatform/Extensions/motor_joint24.png","JsPlatform/Extensions/motor_joint16.png").addParameter("object",e("First object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").addParameter("objectPtr",e("Second object"),"",!1).addParameter("expression",e("Offset X position")).addParameter("expression",e("Offset Y position")).addParameter("expression",e("Offset Angle")).addParameter("expression",e("Maximum force (non-negative)")).addParameter("expression",e("Maximum torque (non-negative)")).addParameter("expression",e("Correction factor (default: 1)"),"",!0).setDefaultValue("1").addParameter("yesorno",e("Allow collision between connected bodies? (default: no)"),"",!0).setDefaultValue("false").addParameter("scenevar",e("Variable where to store the joint ID (default: none)"),"",!0).getCodeExtraInformation().setFunctionName("addMotorJoint"),r.addAction("MotorJointOffset",e("Motor joint offset"),e("Modify a motor joint offset."),e("Set offset to _PARAM3_;_PARAM4_ for motor joint _PARAM2_"),e("Joints \u276f Motor"),"JsPlatform/Extensions/motor_joint24.png","JsPlatform/Extensions/motor_joint16.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").addParameter("expression",e("Joint ID")).addParameter("expression",e("Offset X")).addParameter("expression",e("Offset Y")).getCodeExtraInformation().setFunctionName("setMotorJointOffset"),r.addExpression("MotorJointOffsetX",e("Motor joint offset X"),e("Motor joint offset X"),e("Joints \u276f Motor"),"JsPlatform/Extensions/motor_joint16.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").addParameter("expression",e("Joint ID")).getCodeExtraInformation().setFunctionName("getMotorJointOffsetX"),r.addExpression("MotorJointOffsetY",e("Motor joint offset Y"),e("Motor joint offset Y"),e("Joints \u276f Motor"),"JsPlatform/Extensions/motor_joint16.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").addParameter("expression",e("Joint ID")).getCodeExtraInformation().setFunctionName("getMotorJointOffsetY"),r.addAction("MotorJointAngularOffset",e("Motor joint angular offset"),e("Modify a motor joint angular offset."),e("the angular offset for motor joint _PARAM2_"),e("Joints \u276f Motor"),"JsPlatform/Extensions/motor_joint24.png","JsPlatform/Extensions/motor_joint16.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").addParameter("expression",e("Joint ID")).useStandardOperatorParameters("number",t.ParameterOptions.makeNewOptions()).getCodeExtraInformation().setFunctionName("setMotorJointAngularOffset").setGetter("getMotorJointAngularOffset"),r.addExpression("MotorJointAngularOffset",e("Motor joint angular offset"),e("Motor joint angular offset"),e("Joints \u276f Motor"),"JsPlatform/Extensions/motor_joint16.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").addParameter("expression",e("Joint ID")).getCodeExtraInformation().setFunctionName("getMotorJointAngularOffset"),r.addAction("MotorJointMaxForce",e("Motor joint max force"),e("Modify a motor joint maximum force."),e("the maximum force for motor joint _PARAM2_"),e("Joints \u276f Motor"),"JsPlatform/Extensions/motor_joint24.png","JsPlatform/Extensions/motor_joint16.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").addParameter("expression",e("Joint ID")).useStandardOperatorParameters("number",t.ParameterOptions.makeNewOptions()).getCodeExtraInformation().setFunctionName("setMotorJointMaxForce").setGetter("getMotorJointMaxForce"),r.addExpression("MotorJointMaxForce",e("Motor joint max force"),e("Motor joint maximum force"),e("Joints \u276f Motor"),"JsPlatform/Extensions/motor_joint16.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").addParameter("expression",e("Joint ID")).getCodeExtraInformation().setFunctionName("getMotorJointMaxForce"),r.addAction("MotorJointMaxTorque",e("Motor joint max torque"),e("Modify a motor joint maximum torque."),e("the maximum torque for motor joint _PARAM2_"),e("Joints \u276f Motor"),"JsPlatform/Extensions/motor_joint24.png","JsPlatform/Extensions/motor_joint16.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").addParameter("expression",e("Joint ID")).useStandardOperatorParameters("number",t.ParameterOptions.makeNewOptions()).getCodeExtraInformation().setFunctionName("setMotorJointMaxTorque").setGetter("getMotorJointMaxTorque"),r.addExpression("MotorJointMaxTorque",e("Motor joint max torque"),e("Motor joint maximum torque"),e("Joints \u276f Motor"),"JsPlatform/Extensions/motor_joint16.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").addParameter("expression",e("Joint ID")).getCodeExtraInformation().setFunctionName("getMotorJointMaxTorque"),r.addAction("MotorJointCorrectionFactor",e("Motor joint correction factor"),e("Modify a motor joint correction factor."),e("the correction factor for motor joint _PARAM2_"),e("Joints \u276f Motor"),"JsPlatform/Extensions/motor_joint24.png","JsPlatform/Extensions/motor_joint16.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").addParameter("expression",e("Joint ID")).useStandardOperatorParameters("number",t.ParameterOptions.makeNewOptions()).getCodeExtraInformation().setFunctionName("setMotorJointCorrectionFactor").setGetter("getMotorJointCorrectionFactor"),r.addExpression("MotorJointCorrectionFactor",e("Motor joint correction factor"),e("Motor joint correction factor"),e("Joints \u276f Motor"),"JsPlatform/Extensions/motor_joint16.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").addParameter("expression",e("Joint ID")).getCodeExtraInformation().setFunctionName("getMotorJointCorrectionFactor"),a.addCondition("Collision",e("Collision"),e("Check if two objects collide."),e("_PARAM0_ is colliding with _PARAM2_"),"","res/physics32.png","res/physics32.png").addParameter("objectList",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").addParameter("objectList",e("Object"),"",!1).addCodeOnlyParameter("conditionInverted","").getCodeExtraInformation().addIncludeFile("Extensions/Physics2Behavior/physics2tools.js").addIncludeFile("Extensions/Physics2Behavior/physics2runtimebehavior.js").setFunctionName("gdjs.physics2.areObjectsColliding"),a.addCondition("CollisionStarted",e("Collision started"),e("Check if two objects just started colliding during this frame."),e("_PARAM0_ started colliding with _PARAM2_"),e("Collision"),"res/physics32.png","res/physics32.png").addParameter("objectList",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").addParameter("objectList",e("Object"),"",!1).addCodeOnlyParameter("conditionInverted","").getCodeExtraInformation().addIncludeFile("Extensions/Physics2Behavior/physics2tools.js").addIncludeFile("Extensions/Physics2Behavior/physics2runtimebehavior.js").setFunctionName("gdjs.physics2.haveObjectsStartedColliding"),a.addCondition("CollisionStopped",e("Collision stopped"),e("Check if two objects just stopped colliding at this frame."),e("_PARAM0_ stopped colliding with _PARAM2_"),e("Collision"),"res/physics32.png","res/physics32.png").addParameter("objectList",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics2Behavior").addParameter("objectList",e("Object"),"",!1).addCodeOnlyParameter("conditionInverted","").getCodeExtraInformation().addIncludeFile("Extensions/Physics2Behavior/physics2tools.js").addIncludeFile("Extensions/Physics2Behavior/physics2runtimebehavior.js").setFunctionName("gdjs.physics2.haveObjectsStoppedColliding"),a},runExtensionSanityTests:function(e,t){var a=t.getBehaviorMetadata("Physics2::Physics2Behavior").get(),i=t.getBehaviorMetadata("Physics2::Physics2Behavior").getSharedDataInstance();return[e.ProjectHelper.sanityCheckBehaviorProperty(a,"density","123"),e.ProjectHelper.sanityCheckBehaviorsSharedDataProperty(i,"gravityY","456")]}}},87963:function(e){e.exports={createExtension:function(e,t){var a=new t.PlatformExtension;a.setExtensionInformation("Physics3D",e("3D physics engine"),'The 3D physics engine simulates realistic object physics, with gravity, forces, collisions, joints, etc. It\'s perfect for almost all 3D games.\n\nObjects like floors or wall objects should usually be set to "Static" as type. Objects that should be moveable are usually "Dynamic" (default). "Kinematic" objects (typically, players or controlled characters) are only moved by their "linear velocity" and "angular velocity" - they can interact with other objects but only these other objects will move.\n\nForces (and impulses) are expressed in all conditions/expressions/actions of the 3D physics engine in Newtons (N). Typical values for a force are 10-200 N. One meter is 100 pixels by default in the game (check the world scale). Mass is expressed in kilograms (kg).',"Florian Rival","MIT").setExtensionHelpPath("/behaviors/physics3d").setCategory("Movement").setTags("physics, gravity, obstacle, collision"),a.addInstructionOrExpressionGroupMetadata(e("3D physics engine")).setIcon("JsPlatform/Extensions/physics3d.svg");var i=new t.BehaviorJsImplementation;i.updateProperty=function(e,t,a){if("object3D"===t)return e.getChild("object3D").setStringValue(a),!0;if("bodyType"===t)return e.getChild("bodyType").setStringValue(a),!0;if("bullet"===t)return e.getChild("bullet").setBoolValue("1"===a),!0;if("fixedRotation"===t)return e.getChild("fixedRotation").setBoolValue("1"===a),!0;if("shape"===t)return e.getChild("shape").setStringValue(a),!0;if("shapeOrientation"===t)return e.getChild("shapeOrientation").setStringValue(a),!0;if("shapeDimensionA"===t){var i=parseFloat(a);return i===i&&(e.getChild("shapeDimensionA").setDoubleValue(i),!0)}if("shapeDimensionB"===t){var n=parseFloat(a);return n===n&&(e.getChild("shapeDimensionB").setDoubleValue(n),!0)}if("shapeDimensionC"===t){var r=parseFloat(a);return r===r&&(e.getChild("shapeDimensionC").setDoubleValue(r),!0)}if("shapeOffsetX"===t){var s=parseFloat(a);return s===s&&(e.getChild("shapeOffsetX").setDoubleValue(s),!0)}if("shapeOffsetY"===t){var o=parseFloat(a);return o===o&&(e.getChild("shapeOffsetY").setDoubleValue(o),!0)}if("shapeOffsetZ"===t){var l=parseFloat(a);return l===l&&(e.getChild("shapeOffsetZ").setDoubleValue(l),!0)}if("massCenterOffsetX"===t){var d=parseFloat(a);return d===d&&(e.getChild("massCenterOffsetX").setDoubleValue(d),!0)}if("massCenterOffsetY"===t){var c=parseFloat(a);return c===c&&(e.getChild("massCenterOffsetY").setDoubleValue(c),!0)}if("massCenterOffsetZ"===t){var u=parseFloat(a);return u===u&&(e.getChild("massCenterOffsetZ").setDoubleValue(u),!0)}if("density"===t)return e.getChild("density").setDoubleValue(parseFloat(a)),!0;if("massOverride"===t)return e.getChild("massOverride").setDoubleValue(parseFloat(a)),!0;if("friction"===t){var h=parseFloat(a);return h===h&&(e.getChild("friction").setDoubleValue(h),!0)}if("restitution"===t){var f=parseFloat(a);return f===f&&(e.getChild("restitution").setDoubleValue(f),!0)}if("linearDamping"===t){var p=Math.max(0,parseFloat(a));return p===p&&(e.getChild("linearDamping").setDoubleValue(p),!0)}if("angularDamping"===t){var m=Math.max(0,parseFloat(a));return m===m&&(e.getChild("angularDamping").setDoubleValue(m),!0)}if("gravityScale"===t){var g=parseFloat(a);return g===g&&(e.getChild("gravityScale").setDoubleValue(g),!0)}return"layers"===t?(e.getChild("layers").setIntValue(parseInt(a,10)),!0):"masks"===t&&(e.getChild("masks").setIntValue(parseInt(a,10)),!0)},i.getProperties=function(a){var i=new t.MapStringPropertyDescriptor;return i.getOrCreate("object3D").setValue(a.getChild("object3D").getStringValue()).setType("Behavior").setLabel("3D capability").setQuickCustomizationVisibility(t.QuickCustomization.Hidden).addExtraInfo("Scene3D::Base3DBehavior"),i.getOrCreate("bodyType").setValue(a.getChild("bodyType").getStringValue()).setType("Choice").setLabel("Type").setQuickCustomizationVisibility(t.QuickCustomization.Hidden).addExtraInfo("Static").addExtraInfo("Dynamic").addExtraInfo("Kinematic").setDescription(e("A static object won't move (perfect for obstacles). Dynamic objects can move. Kinematic will move according to forces applied to it only (useful for characters or specific mechanisms).")),i.getOrCreate("bullet").setValue(a.getChild("bullet").getBoolValue()?"true":"false").setQuickCustomizationVisibility(t.QuickCustomization.Hidden).setType("Boolean").setLabel(e("Considered as a bullet")).setDescription(e("Useful for fast moving objects which requires a more accurate collision detection.")).setGroup(e("Physics body advanced settings")).setAdvanced(!0),i.getOrCreate("fixedRotation").setValue(a.getChild("fixedRotation").getBoolValue()?"true":"false").setQuickCustomizationVisibility(t.QuickCustomization.Hidden).setType("Boolean").setLabel("Fixed Rotation").setDescription(e("If enabled, the object won't rotate and will stay at the same angle.")).setGroup(e("Movement")),i.getOrCreate("shape").setValue(a.getChild("shape").getStringValue()).setType("Choice").setLabel("Shape").setQuickCustomizationVisibility(t.QuickCustomization.Hidden).addExtraInfo("Box").addExtraInfo("Capsule").addExtraInfo("Cylinder").addExtraInfo("Sphere"),i.getOrCreate("shapeOrientation").setValue(a.getChild("shapeOrientation").getStringValue()).setType("Choice").setLabel("Shape orientation").setQuickCustomizationVisibility(t.QuickCustomization.Hidden).addExtraInfo("Z").addExtraInfo("Y").addExtraInfo("X"),i.getOrCreate("shapeDimensionA").setValue(a.getChild("shapeDimensionA").getDoubleValue().toString(10)).setType("Number").setMeasurementUnit(t.MeasurementUnit.getPixel()).setLabel("Shape Dimension A").setQuickCustomizationVisibility(t.QuickCustomization.Hidden).setHidden(!0),i.getOrCreate("shapeDimensionB").setValue(a.getChild("shapeDimensionB").getDoubleValue().toString(10)).setType("Number").setMeasurementUnit(t.MeasurementUnit.getPixel()).setLabel("Shape Dimension B").setQuickCustomizationVisibility(t.QuickCustomization.Hidden).setHidden(!0),i.getOrCreate("shapeDimensionC").setValue(a.getChild("shapeDimensionC").getDoubleValue().toString(10)).setType("Number").setMeasurementUnit(t.MeasurementUnit.getPixel()).setLabel("Shape Dimension C").setQuickCustomizationVisibility(t.QuickCustomization.Hidden).setHidden(!0),a.hasChild("shapeOffsetX")||a.addChild("shapeOffsetX").setDoubleValue(0),i.getOrCreate("shapeOffsetX").setValue(a.getChild("shapeOffsetX").getDoubleValue().toString(10)).setType("Number").setMeasurementUnit(t.MeasurementUnit.getPixel()).setLabel("Shape offset X").setQuickCustomizationVisibility(t.QuickCustomization.Hidden).setAdvanced(!0).setHidden(!0),a.hasChild("shapeOffsetY")||a.addChild("shapeOffsetY").setDoubleValue(0),i.getOrCreate("shapeOffsetY").setValue(a.getChild("shapeOffsetY").getDoubleValue().toString(10)).setType("Number").setMeasurementUnit(t.MeasurementUnit.getPixel()).setLabel("Shape offset Y").setQuickCustomizationVisibility(t.QuickCustomization.Hidden).setHidden(!0),a.hasChild("shapeOffsetZ")||a.addChild("shapeOffsetZ").setDoubleValue(0),i.getOrCreate("shapeOffsetZ").setValue(a.getChild("shapeOffsetZ").getDoubleValue().toString(10)).setType("Number").setMeasurementUnit(t.MeasurementUnit.getPixel()).setLabel("Shape offset Z").setQuickCustomizationVisibility(t.QuickCustomization.Hidden).setAdvanced(!0).setHidden(!0),a.hasChild("massCenterOffsetX")||a.addChild("massCenterOffsetX").setDoubleValue(0),i.getOrCreate("massCenterOffsetX").setValue(a.getChild("massCenterOffsetX").getDoubleValue().toString(10)).setType("Number").setMeasurementUnit(t.MeasurementUnit.getPixel()).setLabel("Center of mass offset X").setQuickCustomizationVisibility(t.QuickCustomization.Hidden).setAdvanced(!0).setHidden(!0),a.hasChild("massCenterOffsetY")||a.addChild("massCenterOffsetY").setDoubleValue(0),i.getOrCreate("massCenterOffsetY").setValue(a.getChild("massCenterOffsetY").getDoubleValue().toString(10)).setType("Number").setMeasurementUnit(t.MeasurementUnit.getPixel()).setLabel("Center of mass offset Y").setQuickCustomizationVisibility(t.QuickCustomization.Hidden).setAdvanced(!0).setHidden(!0),a.hasChild("massCenterOffsetZ")||a.addChild("massCenterOffsetZ").setDoubleValue(0),i.getOrCreate("massCenterOffsetZ").setValue(a.getChild("massCenterOffsetZ").getDoubleValue().toString(10)).setType("Number").setMeasurementUnit(t.MeasurementUnit.getPixel()).setLabel("Center of mass offset Z").setQuickCustomizationVisibility(t.QuickCustomization.Hidden).setAdvanced(!0).setHidden(!0),i.getOrCreate("density").setValue(a.getChild("density").getDoubleValue().toString(10)).setType("Number").setLabel(e("Density")).setDescription(e("Define the weight of the object, according to its size. The bigger the density, the heavier the object.")),a.hasChild("massOverride")||a.addChild("massOverride").setDoubleValue(0),i.getOrCreate("massOverride").setLabel(e("Mass override")).setGroup("").setType("Number").setValue(a.getChild("massOverride").getDoubleValue().toString(10)).setDescription(e("Leave at 0 to use the density.")),i.getOrCreate("friction").setValue(a.getChild("friction").getDoubleValue().toString(10)).setType("Number").setLabel(e("Friction")).setDescription(e("The friction applied when touching other objects. The higher the value, the more friction.")).setGroup(e("Movement")),i.getOrCreate("restitution").setValue(a.getChild("restitution").getDoubleValue().toString(10)).setType("Number").setLabel(e("Restitution")).setDescription(e('The "bounciness" of the object. The higher the value, the more other objects will bounce against it.')).setGroup(e("Movement")),i.getOrCreate("linearDamping").setValue(a.getChild("linearDamping").getDoubleValue().toString(10)).setType("Number").setLabel(e("Linear Damping")).setGroup(e("Movement")),i.getOrCreate("angularDamping").setValue(a.getChild("angularDamping").getDoubleValue().toString(10)).setType("Number").setLabel(e("Angular Damping")).setQuickCustomizationVisibility(t.QuickCustomization.Hidden).setGroup(e("Movement")),i.getOrCreate("gravityScale").setValue(a.getChild("gravityScale").getDoubleValue().toString(10)).setType("Number").setLabel("Gravity Scale").setQuickCustomizationVisibility(t.QuickCustomization.Hidden).setGroup(e("Gravity")).setAdvanced(!0),i.getOrCreate("layers").setValue(a.getChild("layers").getIntValue().toString(10)).setType("Number").setLabel("Layers").setQuickCustomizationVisibility(t.QuickCustomization.Hidden).setHidden(!0),i.getOrCreate("masks").setValue(a.getChild("masks").getIntValue().toString(10)).setType("Number").setLabel("Masks").setQuickCustomizationVisibility(t.QuickCustomization.Hidden).setHidden(!0),i},i.initializeContent=function(e){e.addChild("object3D").setStringValue(""),e.addChild("bodyType").setStringValue("Dynamic"),e.addChild("bullet").setBoolValue(!1),e.addChild("fixedRotation").setBoolValue(!1),e.addChild("shape").setStringValue("Box"),e.addChild("shapeOrientation").setStringValue("Z"),e.addChild("shapeDimensionA").setDoubleValue(0),e.addChild("shapeDimensionB").setDoubleValue(0),e.addChild("shapeDimensionC").setDoubleValue(0),e.addChild("shapeOffsetX").setDoubleValue(0),e.addChild("shapeOffsetY").setDoubleValue(0),e.addChild("shapeOffsetZ").setDoubleValue(0),e.addChild("massCenterOffsetX").setDoubleValue(0),e.addChild("massCenterOffsetY").setDoubleValue(0),e.addChild("massCenterOffsetZ").setDoubleValue(0),e.addChild("massOverride").setDoubleValue(0),e.addChild("density").setDoubleValue(1),e.addChild("friction").setDoubleValue(.3),e.addChild("restitution").setDoubleValue(.1),e.addChild("linearDamping").setDoubleValue(.1),e.addChild("angularDamping").setDoubleValue(.1),e.addChild("gravityScale").setDoubleValue(1),e.addChild("layers").setIntValue(17),e.addChild("masks").setIntValue(17)};var n=new t.BehaviorSharedDataJsImplementation;n.updateProperty=function(e,t,a){if("gravityX"===t){var i=parseFloat(a);return i===i&&(e.getChild("gravityX").setDoubleValue(i),!0)}if("gravityY"===t){var n=parseFloat(a);return n===n&&(e.getChild("gravityY").setDoubleValue(n),!0)}if("gravityZ"===t){var r=parseFloat(a);return r===r&&(e.getChild("gravityZ").setDoubleValue(r),!0)}if("worldScale"===t){var s=parseInt(a,10);return s===s&&(e.hasChild("worldScale")||e.addChild("worldScale"),e.getChild("worldScale").setDoubleValue(s),!0)}return!1},n.getProperties=function(e){var a=new t.MapStringPropertyDescriptor;return a.getOrCreate("gravityX").setValue(e.getChild("gravityX").getDoubleValue().toString(10)).setType("Number").setMeasurementUnit(t.MeasurementUnit.getNewton()),a.getOrCreate("gravityY").setValue(e.getChild("gravityY").getDoubleValue().toString(10)).setType("Number").setMeasurementUnit(t.MeasurementUnit.getNewton()),a.getOrCreate("gravityZ").setValue(e.getChild("gravityZ").getDoubleValue().toString(10)).setType("Number").setMeasurementUnit(t.MeasurementUnit.getNewton()),a.getOrCreate("worldScale").setValue(e.getChild("worldScale").getDoubleValue().toString(10)).setType("Number"),a},n.initializeContent=function(e){e.addChild("gravityX").setDoubleValue(0),e.addChild("gravityY").setDoubleValue(0),e.addChild("gravityZ").setDoubleValue(-9.8),e.addChild("worldScale").setDoubleValue(100)};var r=a.addBehavior("Physics3DBehavior",e("3D physics engine"),"Physics3D",e("Simulate realistic 3D physics for this object including gravity, forces, collisions, etc."),"","JsPlatform/Extensions/physics3d.svg","Physics3DBehavior",i,n).markAsIrrelevantForChildObjects().addIncludeFile("Extensions/Physics3DBehavior/Physics3DRuntimeBehavior.js").addRequiredFile("Extensions/Physics3DBehavior/jolt-physics.wasm.js").addRequiredFile("Extensions/Physics3DBehavior/jolt-physics.wasm.wasm").setOpenFullEditorLabel(e("Edit shape and advanced settings"));r.addExpression("WorldScale",e("World scale"),e("Return the world scale."),e("Global"),"JsPlatform/Extensions/physics3d.svg").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics3DBehavior").getCodeExtraInformation().setFunctionName("getWorldScale"),r.addExpressionAndConditionAndAction("number","GravityX",e("World gravity on X axis"),e("the world gravity on X axis")+" "+e("While an object is needed, this will apply to all objects using the behavior."),e("the world gravity on X axis"),e("Global"),"JsPlatform/Extensions/physics3d.svg").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics3DBehavior").useStandardParameters("number",t.ParameterOptions.makeNewOptions().setDescription(e("Gravity (in Newton)"))).setFunctionName("setGravityX").setGetter("getGravityX"),r.addExpressionAndConditionAndAction("number","GravityY",e("World gravity on Y axis"),e("the world gravity on Y axis")+" "+e("While an object is needed, this will apply to all objects using the behavior."),e("the world gravity on Y axis"),e("Global"),"JsPlatform/Extensions/physics3d.svg").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics3DBehavior").useStandardParameters("number",t.ParameterOptions.makeNewOptions().setDescription(e("Gravity (in Newton)"))).setFunctionName("setGravityY").setGetter("getGravityY"),r.addExpressionAndConditionAndAction("number","GravityZ",e("World gravity on Z axis"),e("the world gravity on Z axis")+" "+e("While an object is needed, this will apply to all objects using the behavior."),e("the world gravity on Z axis"),e("Global"),"JsPlatform/Extensions/physics3d.svg").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics3DBehavior").useStandardParameters("number",t.ParameterOptions.makeNewOptions().setDescription(e("Gravity (in Newton)"))).setFunctionName("setGravityZ").setGetter("getGravityZ"),r.addScopedCondition("IsDynamic",e("Is dynamic"),e("Check if an object is dynamic."),e("_PARAM0_ is dynamic"),e("Dynamics"),"JsPlatform/Extensions/physics3d.svg","JsPlatform/Extensions/physics3d.svg").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics3DBehavior").getCodeExtraInformation().setFunctionName("isDynamic"),r.addScopedCondition("IsStatic",e("Is static"),e("Check if an object is static."),e("_PARAM0_ is static"),e("Dynamics"),"JsPlatform/Extensions/physics3d.svg","JsPlatform/Extensions/physics3d.svg").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics3DBehavior").getCodeExtraInformation().setFunctionName("isStatic"),r.addScopedCondition("IsKinematic",e("Is kinematic"),e("Check if an object is kinematic."),e("_PARAM0_ is kinematic"),e("Dynamics"),"JsPlatform/Extensions/physics3d.svg","JsPlatform/Extensions/physics3d.svg").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics3DBehavior").getCodeExtraInformation().setFunctionName("isKinematic"),r.addScopedCondition("IsBullet",e("Is treated as a bullet"),e("Check if the object is being treated as a bullet."),e("_PARAM0_ is treated as a bullet"),e("Dynamics"),"JsPlatform/Extensions/physics3d.svg","JsPlatform/Extensions/physics3d.svg").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics3DBehavior").getCodeExtraInformation().setFunctionName("isBullet"),r.addScopedAction("SetBullet",e("Treat as bullet"),e("Treat the object as a bullet. Better collision handling on high speeds at cost of some performance."),e("Treat _PARAM0_ as bullet: _PARAM2_"),e("Dynamics"),"JsPlatform/Extensions/physics3d.svg","JsPlatform/Extensions/physics3d.svg").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics3DBehavior").addParameter("yesorno",e("Treat as bullet"),"",!1).setDefaultValue("false").getCodeExtraInformation().setFunctionName("setBullet"),r.addScopedCondition("HasFixedRotation",e("Has fixed rotation"),e("Check if an object has fixed rotation."),e("_PARAM0_ has fixed rotation"),e("Dynamics"),"JsPlatform/Extensions/physics3d.svg","JsPlatform/Extensions/physics3d.svg").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics3DBehavior").getCodeExtraInformation().setFunctionName("hasFixedRotation"),r.addScopedAction("SetFixedRotation",e("Fixed rotation"),e("Enable or disable an object fixed rotation. If enabled the object won't be able to rotate. This action has no effect on characters."),e("Set _PARAM0_ fixed rotation: _PARAM2_"),e("Dynamics"),"JsPlatform/Extensions/physics3d.svg","JsPlatform/Extensions/physics3d.svg").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics3DBehavior").addParameter("yesorno",e("Fixed rotation"),"",!1).setDefaultValue("false").getCodeExtraInformation().setFunctionName("setFixedRotation"),r.addScopedAction("ShapeScale",e("Shape scale"),e("Modify an object shape scale. It affects custom shape dimensions, if custom dimensions are not set the body will be scaled automatically to the object size."),e("the shape scale"),e("Body settings"),"JsPlatform/Extensions/physics3d.svg","JsPlatform/Extensions/physics3d.svg").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics3DBehavior").useStandardOperatorParameters("number",t.ParameterOptions.makeNewOptions().setDescription(e("Scale (1 by default)"))).getCodeExtraInformation().setFunctionName("setShapeScale").setGetter("getShapeScale"),r.addExpressionAndConditionAndAction("number","Density",e("Density"),e("the object density. The body's density and volume determine its mass."),e("the density"),e("Body settings"),"JsPlatform/Extensions/physics3d.svg").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics3DBehavior").useStandardParameters("number",t.ParameterOptions.makeNewOptions()).setFunctionName("setDensity").setGetter("getDensity"),r.addExpressionAndConditionAndAction("number","ShapeOffsetX",e("Shape offset X"),e("the object shape offset on X."),e("the shape offset on X"),e("Body settings"),"JsPlatform/Extensions/physics3d.svg").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics3DBehavior").useStandardParameters("number",t.ParameterOptions.makeNewOptions()).setFunctionName("setShapeOffsetX").setGetter("getShapeOffsetX"),r.addExpressionAndConditionAndAction("number","ShapeOffsetY",e("Shape offset Y"),e("the object shape offset on Y."),e("the shape offset on Y"),e("Body settings"),"JsPlatform/Extensions/physics3d.svg").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics3DBehavior").useStandardParameters("number",t.ParameterOptions.makeNewOptions()).setFunctionName("setShapeOffsetY").setGetter("getShapeOffsetY"),r.addExpressionAndConditionAndAction("number","ShapeOffsetZ",e("Shape offset Z"),e("the object shape offset on Z."),e("the shape offset on Z"),e("Body settings"),"JsPlatform/Extensions/physics3d.svg").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics3DBehavior").useStandardParameters("number",t.ParameterOptions.makeNewOptions()).setFunctionName("setShapeOffsetZ").setGetter("getShapeOffsetZ"),r.addExpressionAndConditionAndAction("number","Friction",e("Friction"),e("the object friction. How much energy is lost from the movement of one object over another. The combined friction from two bodies is calculated as 'sqrt(bodyA.friction * bodyB.friction)'."),e("the friction"),e("Body settings"),"JsPlatform/Extensions/physics3d.svg").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics3DBehavior").useStandardParameters("number",t.ParameterOptions.makeNewOptions()).setFunctionName("setFriction").setGetter("getFriction"),r.addExpressionAndConditionAndAction("number","Restitution",e("Restitution"),e("the object restitution. Energy conservation on collision. The combined restitution from two bodies is calculated as 'max(bodyA.restitution, bodyB.restitution)'."),e("the restitution"),e("Body settings"),"JsPlatform/Extensions/physics3d.svg").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics3DBehavior").useStandardParameters("number",t.ParameterOptions.makeNewOptions()).setFunctionName("setRestitution").setGetter("getRestitution"),r.addExpressionAndConditionAndAction("number","LinearDamping",e("Linear damping"),e("the object linear damping. How much movement speed is lost across the time."),e("the linear damping"),e("Body settings"),"JsPlatform/Extensions/physics3d.svg").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics3DBehavior").useStandardParameters("number",t.ParameterOptions.makeNewOptions()).setFunctionName("setLinearDamping").setGetter("getLinearDamping"),r.addExpressionAndConditionAndAction("number","AngularDamping",e("Angular damping"),e("the object angular damping. How much angular speed is lost across the time."),e("the angular damping"),e("Body settings"),"JsPlatform/Extensions/physics3d.svg").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics3DBehavior").useStandardParameters("number",t.ParameterOptions.makeNewOptions()).setFunctionName("setAngularDamping").setGetter("getAngularDamping"),r.addExpressionAndConditionAndAction("number","GravityScale",e("Gravity scale"),e("the object gravity scale. The gravity applied to an object is the world gravity multiplied by the object gravity scale."),e("the gravity scale"),e("Body settings"),"JsPlatform/Extensions/physics3d.svg").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics3DBehavior").useStandardParameters("number",t.ParameterOptions.makeNewOptions().setDescription(e("Scale (1 by default)"))).setFunctionName("setGravityScale").setGetter("getGravityScale"),r.addScopedCondition("LayerEnabled",e("Layer enabled"),e("Check if an object has a specific layer enabled."),e("_PARAM0_ has layer _PARAM2_ enabled"),e("Filtering"),"JsPlatform/Extensions/physics3d.svg","JsPlatform/Extensions/physics3d.svg").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics3DBehavior").addParameter("expression",e("Layer (1 - 8)")).getCodeExtraInformation().setFunctionName("layerEnabled"),r.addScopedAction("EnableLayer",e("Enable layer"),e("Enable or disable a layer for an object. Two objects collide if any layer of the first object matches any mask of the second one and vice versa."),e("Enable layer _PARAM2_ for _PARAM0_: _PARAM3_"),e("Filtering"),"JsPlatform/Extensions/physics3d.svg","JsPlatform/Extensions/physics3d.svg").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics3DBehavior").addParameter("expression",e("Layer (1 - 8)")).addParameter("yesorno",e("Enable"),"",!1).setDefaultValue("true").getCodeExtraInformation().setFunctionName("enableLayer"),r.addScopedCondition("MaskEnabled",e("Mask enabled"),e("Check if an object has a specific mask enabled."),e("_PARAM0_ has mask _PARAM2_ enabled"),e("Filtering"),"JsPlatform/Extensions/physics3d.svg","JsPlatform/Extensions/physics3d.svg").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics3DBehavior").addParameter("expression",e("Mask (1 - 8)")).getCodeExtraInformation().setFunctionName("maskEnabled"),r.addScopedAction("EnableMask",e("Enable mask"),e("Enable or disable a mask for an object. Two objects collide if any layer of the first object matches any mask of the second one and vice versa."),e("Enable mask _PARAM2_ for _PARAM0_: _PARAM3_"),e("Filtering"),"JsPlatform/Extensions/physics3d.svg","JsPlatform/Extensions/physics3d.svg").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics3DBehavior").addParameter("expression",e("Mask (1 - 8)")).addParameter("yesorno",e("Enable"),"",!1).setDefaultValue("true").getCodeExtraInformation().setFunctionName("enableMask"),r.addExpressionAndConditionAndAction("number","LinearVelocityX",e("Linear velocity X"),e("the object linear velocity on X"),e("the linear velocity on X"),e("Velocity"),"JsPlatform/Extensions/physics3d.svg").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics3DBehavior").useStandardParameters("number",t.ParameterOptions.makeNewOptions().setDescription(e("Speed (in pixels per second)"))).setFunctionName("setLinearVelocityX").setGetter("getLinearVelocityX"),r.addExpressionAndConditionAndAction("number","LinearVelocityY",e("Linear velocity Y"),e("the object linear velocity on Y"),e("the linear velocity on Y"),e("Velocity"),"JsPlatform/Extensions/physics3d.svg").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics3DBehavior").useStandardParameters("number",t.ParameterOptions.makeNewOptions().setDescription(e("Speed (in pixels per second)"))).setFunctionName("setLinearVelocityY").setGetter("getLinearVelocityY"),r.addExpressionAndConditionAndAction("number","LinearVelocityZ",e("Linear velocity Z"),e("the object linear velocity on Z"),e("the linear velocity on Z"),e("Velocity"),"JsPlatform/Extensions/physics3d.svg").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics3DBehavior").useStandardParameters("number",t.ParameterOptions.makeNewOptions().setDescription(e("Speed (in pixels per second)"))).setFunctionName("setLinearVelocityZ").setGetter("getLinearVelocityZ"),r.addExpressionAndCondition("number","LinearVelocityLength",e("Linear velocity"),e("the object linear velocity length"),e("the linear velocity length"),e("Velocity"),"JsPlatform/Extensions/physics3d.svg").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics3DBehavior").useStandardParameters("number",t.ParameterOptions.makeNewOptions().setDescription(e("Speed to compare to (in pixels per second)"))).setFunctionName("getLinearVelocityLength"),r.addExpressionAndConditionAndAction("number","AngularVelocityX",e("Angular velocity X"),e("the object angular velocity around X"),e("the angular velocity around X"),e("Velocity"),"JsPlatform/Extensions/physics3d.svg").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics3DBehavior").useStandardParameters("number",t.ParameterOptions.makeNewOptions().setDescription(e("Angular speed (in degrees per second)"))).setFunctionName("setAngularVelocityX").setGetter("getAngularVelocityX"),r.addExpressionAndConditionAndAction("number","AngularVelocityY",e("Angular velocity Y"),e("the object angular velocity around Y"),e("the angular velocity around Y"),e("Velocity"),"JsPlatform/Extensions/physics3d.svg").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics3DBehavior").useStandardParameters("number",t.ParameterOptions.makeNewOptions().setDescription(e("Angular speed (in degrees per second)"))).setFunctionName("setAngularVelocityY").setGetter("getAngularVelocityY"),r.addExpressionAndConditionAndAction("number","AngularVelocityZ",e("Angular velocity Z"),e("the object angular velocity around Z"),e("the angular velocity around Z"),e("Velocity"),"JsPlatform/Extensions/physics3d.svg").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics3DBehavior").useStandardParameters("number",t.ParameterOptions.makeNewOptions().setDescription(e("Angular speed (in degrees per second)"))).setFunctionName("setAngularVelocityZ").setGetter("getAngularVelocityZ"),r.addScopedAction("ApplyForce",e("Apply force (at a point)"),e('Apply a force to the object over time. It "accelerates" an object and must be used every frame during a time period.'),e("Apply a force of _PARAM2_ ; _PARAM3_ ; _PARAM4_ to _PARAM0_ at _PARAM5_ ; _PARAM6_ ; _PARAM7_"),e("Forces & impulses"),"JsPlatform/Extensions/physics3d.svg","JsPlatform/Extensions/physics3d.svg").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics3DBehavior").addParameter("expression",e("X component (N)")).addParameter("expression",e("Y component (N)")).addParameter("expression",e("Z component (N)")).setParameterLongDescription(e("A force is like an acceleration but depends on the mass.")).addParameter("expression",e("Application point on X axis")).addParameter("expression",e("Application point on Y axis")).addParameter("expression",e("Application point on Z axis")).setParameterLongDescription(e("Use `MassCenterX`, `MassCenterY` and `MassCenterZ` expressions to avoid any rotation.")).getCodeExtraInformation().setFunctionName("applyForce"),r.addScopedAction("ApplyForceAtCenter",e("Apply force (at center)"),e('Apply a force to the object over time. It "accelerates" an object and must be used every frame during a time period.'),e("Apply a force of _PARAM2_ ; _PARAM3_ ; _PARAM4_ at the center of _PARAM0_"),e("Forces & impulses"),"JsPlatform/Extensions/physics3d.svg","JsPlatform/Extensions/physics3d.svg").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics3DBehavior").addParameter("expression",e("X component (N)")).addParameter("expression",e("Y component (N)")).addParameter("expression",e("Z component (N)")).setParameterLongDescription(e("A force is like an acceleration but depends on the mass.")).getCodeExtraInformation().setFunctionName("applyForceAtCenter"),r.addScopedAction("ApplyForceTowardPosition",e("Apply force toward position"),e('Apply a force to the object over time to move it toward a position. It "accelerates" an object and must be used every frame during a time period.'),e("Apply to _PARAM0_ a force of length _PARAM2_ towards _PARAM3_ ; _PARAM4_ ; _PARAM5_"),e("Forces & impulses"),"JsPlatform/Extensions/physics3d.svg","JsPlatform/Extensions/physics3d.svg").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics3DBehavior").addParameter("expression",e("Length (N)")).setParameterLongDescription(e("A force is like an acceleration but depends on the mass.")).addParameter("expression",e("X position")).addParameter("expression",e("Y position")).addParameter("expression",e("Z position")).getCodeExtraInformation().setFunctionName("applyForceTowardPosition"),r.addScopedAction("ApplyImpulse",e("Apply impulse (at a point)"),e("Apply an impulse to the object. It instantly changes the speed, to give an initial speed for instance."),e("Apply an impulse of _PARAM2_ ; _PARAM3_ ; _PARAM4_ to _PARAM0_ at _PARAM5_ ; _PARAM6_ ; _PARAM7_"),e("Forces & impulses"),"JsPlatform/Extensions/physics3d.svg","JsPlatform/Extensions/physics3d.svg").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics3DBehavior").addParameter("expression",e("X component (N\xb7s or kg\xb7m\xb7s\u207b\xb9)")).addParameter("expression",e("Y component (N\xb7s or kg\xb7m\xb7s\u207b\xb9)")).addParameter("expression",e("Z component (N\xb7s or kg\xb7m\xb7s\u207b\xb9)")).setParameterLongDescription(e("An impulse is like a speed addition but depends on the mass.")).addParameter("expression",e("Application point on X axis")).addParameter("expression",e("Application point on Y axis")).addParameter("expression",e("Application point on Z axis")).setParameterLongDescription(e("Use `MassCenterX`, `MassCenterY` and `MassCenterZ` expressions to avoid any rotation.")).getCodeExtraInformation().setFunctionName("applyImpulse"),r.addScopedAction("ApplyImpulseAtCenter",e("Apply impulse (at center)"),e("Apply an impulse to the object. It instantly changes the speed, to give an initial speed for instance."),e("Apply an impulse of _PARAM2_ ; _PARAM3_ ; _PARAM4_ at the center of _PARAM0_"),e("Forces & impulses"),"JsPlatform/Extensions/physics3d.svg","JsPlatform/Extensions/physics3d.svg").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics3DBehavior").addParameter("expression",e("X component (N\xb7s or kg\xb7m\xb7s\u207b\xb9)")).addParameter("expression",e("Y component (N\xb7s or kg\xb7m\xb7s\u207b\xb9)")).addParameter("expression",e("Z component (N\xb7s or kg\xb7m\xb7s\u207b\xb9)")).setParameterLongDescription(e("An impulse is like a speed addition but depends on the mass.")).getCodeExtraInformation().setFunctionName("applyImpulseAtCenter"),r.addScopedAction("ApplyImpulseTowardPosition",e("Apply impulse toward position"),e("Apply an impulse to the object to move it toward a position. It instantly changes the speed, to give an initial speed for instance."),e("Apply to _PARAM0_ an impulse of length _PARAM2_ towards _PARAM3_ ; _PARAM4_ ; _PARAM5_"),e("Forces & impulses"),"JsPlatform/Extensions/physics3d.svg","JsPlatform/Extensions/physics3d.svg").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics3DBehavior").addParameter("expression",e("Length (N\xb7s or kg\xb7m\xb7s\u207b\xb9)")).setParameterLongDescription(e("An impulse is like a speed addition but depends on the mass.")).addParameter("expression",e("X position")).addParameter("expression",e("Y position")).addParameter("expression",e("Z position")).getCodeExtraInformation().setFunctionName("applyImpulseTowardPosition"),r.addScopedAction("ApplyTorque",e("Apply torque (rotational force)"),e('Apply a torque (also called "rotational force") to the object. It "accelerates" an object rotation and must be used every frame during a time period.'),e("Apply a torque of _PARAM2_ ; _PARAM3_ ; _PARAM4_ to _PARAM0_ an"),e("Forces & impulses"),"JsPlatform/Extensions/physics3d.svg","JsPlatform/Extensions/physics3d.svg").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics3DBehavior").addParameter("expression",e("Torque around X (N\xb7m)")).addParameter("expression",e("Torque around Y (N\xb7m)")).addParameter("expression",e("Torque around Z (N\xb7m)")).setParameterLongDescription(e("A torque is like a rotation acceleration but depends on the mass.")).getCodeExtraInformation().setFunctionName("applyTorque"),r.addScopedAction("ApplyAngularImpulse",e("Apply angular impulse (rotational impulse)"),e('Apply an angular impulse (also called a "rotational impulse") to the object. It instantly changes the rotation speed, to give an initial speed for instance.'),e("Apply angular impulse of _PARAM2_ ; _PARAM3_ ; _PARAM4_ to _PARAM0_ an"),e("Forces & impulses"),"JsPlatform/Extensions/physics3d.svg","JsPlatform/Extensions/physics3d.svg").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics3DBehavior").addParameter("expression",e("Angular impulse around X (N\xb7m\xb7s)")).addParameter("expression",e("Angular impulse around Y (N\xb7m\xb7s)")).addParameter("expression",e("Angular impulse around Z (N\xb7m\xb7s)")).setParameterLongDescription(e("An impulse is like a rotation speed addition but depends on the mass.")).getCodeExtraInformation().setFunctionName("applyAngularImpulse"),r.addExpression("Mass",e("Mass"),e("Return the mass of the object (in kilograms)"),"","JsPlatform/Extensions/physics3d.svg").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics3DBehavior").getCodeExtraInformation().setFunctionName("getMass"),r.addExpression("InertiaAroundX",e("Inertia around X"),e("Return the inertia around X axis of the object (in kilograms \xb7 meters\xb2) when for its default rotation is (0\xb0; 0\xb0; 0\xb0)"),"","JsPlatform/Extensions/physics3d.svg").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics3DBehavior").getCodeExtraInformation().setFunctionName("getInertiaAroundX"),r.addExpression("InertiaAroundY",e("Inertia around Y"),e("Return the inertia around Y axis of the object (in kilograms \xb7 meters\xb2) when for its default rotation is (0\xb0; 0\xb0; 0\xb0)"),"","JsPlatform/Extensions/physics3d.svg").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics3DBehavior").getCodeExtraInformation().setFunctionName("getInertiaAroundY"),r.addExpression("InertiaAroundZ",e("Inertia around Z"),e("Return the inertia around Z axis of the object (in kilograms \xb7 meters\xb2) when for its default rotation is (0\xb0; 0\xb0; 0\xb0)"),"","JsPlatform/Extensions/physics3d.svg").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics3DBehavior").getCodeExtraInformation().setFunctionName("getInertiaAroundZ"),r.addExpression("MassCenterX",e("Mass center X"),e("Mass center X"),"","JsPlatform/Extensions/physics3d.svg").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics3DBehavior").getCodeExtraInformation().setFunctionName("getMassCenterX"),r.addExpression("MassCenterY",e("Mass center Y"),e("Mass center Y"),"","JsPlatform/Extensions/physics3d.svg").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics3DBehavior").getCodeExtraInformation().setFunctionName("getMassCenterY"),r.addExpression("MassCenterZ",e("Mass center Z"),e("Mass center Z"),"","JsPlatform/Extensions/physics3d.svg").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics3DBehavior").getCodeExtraInformation().setFunctionName("getMassCenterZ"),a.addCondition("Collision",e("Collision"),e("Check if two objects collide."),e("_PARAM0_ is colliding with _PARAM2_"),"","JsPlatform/Extensions/physics3d.svg","JsPlatform/Extensions/physics3d.svg").addParameter("objectList",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics3DBehavior").addParameter("objectList",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics3DBehavior").addCodeOnlyParameter("conditionInverted","").getCodeExtraInformation().addIncludeFile("Extensions/Physics3DBehavior/Physics3DTools.js").addIncludeFile("Extensions/Physics3DBehavior/Physics3DRuntimeBehavior.js").setFunctionName("gdjs.physics3d.areObjectsColliding"),a.addCondition("CollisionStarted",e("Collision started"),e("Check if two objects just started colliding during this frame."),e("_PARAM0_ started colliding with _PARAM2_"),e("Collision"),"JsPlatform/Extensions/physics3d.svg","JsPlatform/Extensions/physics3d.svg").addParameter("objectList",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics3DBehavior").addParameter("objectList",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics3DBehavior").addCodeOnlyParameter("conditionInverted","").getCodeExtraInformation().addIncludeFile("Extensions/Physics3DBehavior/Physics3DTools.js").addIncludeFile("Extensions/Physics3DBehavior/Physics3DRuntimeBehavior.js").setFunctionName("gdjs.physics3d.haveObjectsStartedColliding"),a.addCondition("CollisionStopped",e("Collision stopped"),e("Check if two objects just stopped colliding at this frame."),e("_PARAM0_ stopped colliding with _PARAM2_"),e("Collision"),"JsPlatform/Extensions/physics3d.svg","JsPlatform/Extensions/physics3d.svg").addParameter("objectList",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics3DBehavior").addParameter("objectList",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"Physics3DBehavior").addCodeOnlyParameter("conditionInverted","").getCodeExtraInformation().addIncludeFile("Extensions/Physics3DBehavior/Physics3DTools.js").addIncludeFile("Extensions/Physics3DBehavior/Physics3DRuntimeBehavior.js").setFunctionName("gdjs.physics3d.haveObjectsStoppedColliding");var s=new t.BehaviorJsImplementation;s.updateProperty=function(e,t,a){if("physics3D"===t)return e.getChild("physics3D").setStringValue(a),!0;if("jumpHeight"===t){var i=parseFloat(a);return i===i&&(e.getChild("jumpHeight").setDoubleValue(i),!0)}if("jumpSustainTime"===t){var n=parseFloat(a);return n===n&&(e.getChild("jumpSustainTime").setDoubleValue(n),!0)}if("gravity"===t){var r=parseFloat(a);return r===r&&(e.getChild("gravity").setDoubleValue(r),!0)}if("fallingSpeedMax"===t){var s=parseFloat(a);return s===s&&(e.getChild("fallingSpeedMax").setDoubleValue(s),!0)}if("forwardAcceleration"===t){var o=parseFloat(a);return o===o&&(e.getChild("forwardAcceleration").setDoubleValue(o),!0)}if("forwardDeceleration"===t){var l=parseFloat(a);return l===l&&(e.getChild("forwardDeceleration").setDoubleValue(l),!0)}if("forwardSpeedMax"===t){var d=parseFloat(a);return d===d&&(e.getChild("forwardSpeedMax").setDoubleValue(d),!0)}if("sidewaysAcceleration"===t){var c=parseFloat(a);return c===c&&(e.getChild("sidewaysAcceleration").setDoubleValue(c),!0)}if("sidewaysDeceleration"===t){var u=parseFloat(a);return u===u&&(e.getChild("sidewaysDeceleration").setDoubleValue(u),!0)}if("sidewaysSpeedMax"===t){var h=parseFloat(a);return h===h&&(e.getChild("sidewaysSpeedMax").setDoubleValue(h),!0)}if("slopeMaxAngle"===t){var f=parseFloat(a);return f===f&&(e.getChild("slopeMaxAngle").setDoubleValue(f),!0)}if("stairHeightMax"===t){var p=parseFloat(a);return p===p&&(e.getChild("stairHeightMax").setDoubleValue(p),!0)}return"shouldBindObjectAndForwardAngle"===t?(e.getChild("shouldBindObjectAndForwardAngle").setBoolValue("1"===a),!0):"canBePushed"===t&&(e.getChild("canBePushed").setBoolValue("1"===a),!0)},s.getProperties=function(a){var i=new t.MapStringPropertyDescriptor;return i.getOrCreate("physics3D").setValue(a.getChild("physics3D").getStringValue()).setType("Behavior").setLabel("3D physics").setQuickCustomizationVisibility(t.QuickCustomization.Hidden).addExtraInfo("Physics3D::Physics3DBehavior"),i.getOrCreate("jumpHeight").setLabel(e("Jump height")).setGroup(e("Jump")).setType("Number").setMeasurementUnit(t.MeasurementUnit.getPixel()).setValue(a.getChild("jumpHeight").getDoubleValue().toString(10)),i.getOrCreate("jumpSustainTime").setLabel(e("Jump sustain time")).setQuickCustomizationVisibility(t.QuickCustomization.Hidden).setGroup(e("Jump")).setType("Number").setMeasurementUnit(t.MeasurementUnit.getSecond()).setValue(a.getChild("jumpSustainTime").getDoubleValue().toString(10)).setDescription(e("Maximum time (in seconds) during which the jump strength is sustained if the jump key is held - allowing variable height jumps.")),i.getOrCreate("gravity").setLabel(e("Gravity")).setGroup(e("Jump")).setType("Number").setMeasurementUnit(t.MeasurementUnit.getPixelAcceleration()).setValue(a.getChild("gravity").getDoubleValue().toString(10)),i.getOrCreate("fallingSpeedMax").setLabel(e("Max. falling speed")).setGroup(e("Jump")).setType("Number").setMeasurementUnit(t.MeasurementUnit.getPixelSpeed()).setValue(a.getChild("fallingSpeedMax").getDoubleValue().toString(10)),i.getOrCreate("forwardAcceleration").setLabel(e("Forward acceleration")).setGroup(e("Walk")).setType("Number").setMeasurementUnit(t.MeasurementUnit.getPixelAcceleration()).setValue(a.getChild("forwardAcceleration").getDoubleValue().toString(10)),i.getOrCreate("forwardDeceleration").setLabel(e("Forward deceleration")).setGroup(e("Walk")).setType("Number").setMeasurementUnit(t.MeasurementUnit.getPixelAcceleration()).setValue(a.getChild("forwardDeceleration").getDoubleValue().toString(10)),i.getOrCreate("forwardSpeedMax").setLabel(e("Max. forward speed")).setGroup(e("Walk")).setType("Number").setMeasurementUnit(t.MeasurementUnit.getPixelSpeed()).setValue(a.getChild("forwardSpeedMax").getDoubleValue().toString(10)),i.getOrCreate("sidewaysAcceleration").setLabel(e("Sideways acceleration")).setGroup(e("Walk")).setType("Number").setMeasurementUnit(t.MeasurementUnit.getPixelAcceleration()).setValue(a.getChild("sidewaysAcceleration").getDoubleValue().toString(10)).setAdvanced(!0),i.getOrCreate("sidewaysDeceleration").setLabel(e("Sideways deceleration")).setGroup(e("Walk")).setType("Number").setMeasurementUnit(t.MeasurementUnit.getPixelAcceleration()).setValue(a.getChild("sidewaysDeceleration").getDoubleValue().toString(10)).setAdvanced(!0),i.getOrCreate("sidewaysSpeedMax").setLabel(e("Max. sideways speed")).setGroup(e("Walk")).setType("Number").setMeasurementUnit(t.MeasurementUnit.getPixelSpeed()).setValue(a.getChild("sidewaysSpeedMax").getDoubleValue().toString(10)).setAdvanced(!0),i.getOrCreate("slopeMaxAngle").setLabel("Slope max. angle").setGroup(e("Walk")).setType("Number").setMeasurementUnit(t.MeasurementUnit.getDegreeAngle()).setValue(a.getChild("slopeMaxAngle").getDoubleValue().toString(10)).setAdvanced(!0).setQuickCustomizationVisibility(t.QuickCustomization.Hidden),a.hasChild("stairHeightMax")||a.addChild("stairHeightMax").setDoubleValue(20),i.getOrCreate("stairHeightMax").setLabel("Max. stair height").setGroup(e("Walk")).setType("Number").setMeasurementUnit(t.MeasurementUnit.getPixel()).setValue(a.getChild("stairHeightMax").getDoubleValue().toString(10)).setAdvanced(!0).setQuickCustomizationVisibility(t.QuickCustomization.Hidden),i.getOrCreate("shouldBindObjectAndForwardAngle").setLabel("Keep object angle and forward direction the same").setGroup(e("Walk")).setType("Boolean").setValue(a.getChild("shouldBindObjectAndForwardAngle").getBoolValue()?"true":"false").setAdvanced(!0).setQuickCustomizationVisibility(t.QuickCustomization.Hidden),a.hasChild("canBePushed")||a.addChild("canBePushed").setBoolValue(!0),i.getOrCreate("canBePushed").setLabel("Can be pushed by other characters").setGroup(e("Walk")).setType("Boolean").setValue(a.getChild("canBePushed").getBoolValue()?"true":"false").setAdvanced(!0).setQuickCustomizationVisibility(t.QuickCustomization.Hidden),i},s.initializeContent=function(e){e.addChild("physics3D").setStringValue(""),e.addChild("jumpHeight").setDoubleValue(200),e.addChild("jumpSustainTime").setDoubleValue(.2),e.addChild("gravity").setDoubleValue(1e3),e.addChild("fallingSpeedMax").setDoubleValue(700),e.addChild("forwardAcceleration").setDoubleValue(1200),e.addChild("forwardDeceleration").setDoubleValue(1200),e.addChild("forwardSpeedMax").setDoubleValue(600),e.addChild("sidewaysAcceleration").setDoubleValue(800),e.addChild("sidewaysDeceleration").setDoubleValue(800),e.addChild("sidewaysSpeedMax").setDoubleValue(400),e.addChild("slopeMaxAngle").setDoubleValue(50),e.addChild("stairHeightMax").setDoubleValue(20),e.addChild("shouldBindObjectAndForwardAngle").setBoolValue(!0),e.addChild("canBePushed").setBoolValue(!0)};var o=a.addBehavior("PhysicsCharacter3D",e("3D physics character"),"PhysicsCharacter3D",e('Allow an object to jump and run on platforms that have the 3D physics behavior(and which are generally set to "Static" as type, unless the platform is animated/moved in events).\n\nThis behavior is usually used with one or more "mapper" behavior to let the player move it.'),"","JsPlatform/Extensions/physics_character3d.svg","PhysicsCharacter3D",s,new t.BehaviorsSharedData).addIncludeFile("Extensions/Physics3DBehavior/PhysicsCharacter3DRuntimeBehavior.js");o.addScopedAction("SimulateForwardKey",e("Simulate move forward key press"),e("Simulate a press of the move forward key."),e("Simulate pressing Forward key for _PARAM0_"),e("Character controls"),"JsPlatform/Extensions/physics_character3d.svg","JsPlatform/Extensions/physics_character3d.svg").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"PhysicsCharacter3D").setFunctionName("simulateForwardKey"),o.addScopedAction("SimulateBackwardKey",e("Simulate move backward key press"),e("Simulate a press of the move backward key."),e("Simulate pressing Backward key for _PARAM0_"),e("Character controls"),"JsPlatform/Extensions/physics_character3d.svg","JsPlatform/Extensions/physics_character3d.svg").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"PhysicsCharacter3D").setFunctionName("simulateBackwardKey"),o.addScopedAction("SimulateRightKey",e("Simulate move right key press"),e("Simulate a press of the move right key."),e("Simulate pressing Right key for _PARAM0_"),e("Character controls"),"JsPlatform/Extensions/physics_character3d.svg","JsPlatform/Extensions/physics_character3d.svg").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"PhysicsCharacter3D").setFunctionName("simulateRightKey"),o.addScopedAction("SimulateLeftKey",e("Simulate move left key press"),e("Simulate a press of the move left key."),e("Simulate pressing Left key for _PARAM0_"),e("Character controls"),"JsPlatform/Extensions/physics_character3d.svg","JsPlatform/Extensions/physics_character3d.svg").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"PhysicsCharacter3D").setFunctionName("simulateLeftKey"),o.addScopedAction("SimulateJumpKey",e("Simulate jump key press"),e("Simulate a press of the jump key."),e("Simulate pressing Jump key for _PARAM0_"),e("Character controls"),"JsPlatform/Extensions/physics_character3d.svg","JsPlatform/Extensions/physics_character3d.svg").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"PhysicsCharacter3D").setFunctionName("simulateJumpKey"),o.addScopedAction("SimulateStick",e("Simulate stick control"),e("Simulate a stick control."),e("Simulate a stick control for _PARAM0_ with a _PARAM2_ angle and a _PARAM3_ force"),e("Character controls"),"JsPlatform/Extensions/physics_character3d.svg","JsPlatform/Extensions/physics_character3d.svg").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"PhysicsCharacter3D").addParameter("expression",e("Stick angle (in degrees)")).addParameter("expression",e("Stick force (between 0 and 1)")).markAsAdvanced().setFunctionName("simulateStick"),o.addScopedAction("SetCanJump",e("Allow jumping again"),e("When this action is executed, the object is able to jump again, even if it is in the air: this can be useful to allow a double jump for example. This is not a permanent effect: you must call again this action every time you want to allow the object to jump (apart if it's on the floor)."),e("Allow _PARAM0_ to jump again"),e("Character state"),"JsPlatform/Extensions/physics_character3d.svg","JsPlatform/Extensions/physics_character3d.svg").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"PhysicsCharacter3D").markAsSimple().setFunctionName("setCanJump"),o.addScopedAction("SetCanNotAirJump",e("Forbid jumping again in the air"),e('This revokes the effect of "Allow jumping again". The object is made unable to jump while in mid air. This has no effect if the object is not in the air.'),e("Forbid _PARAM0_ to air jump"),e("Character state"),"JsPlatform/Extensions/physics_character3d.svg","JsPlatform/Extensions/physics_character3d.svg").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"PhysicsCharacter3D").setFunctionName("setCanNotAirJump"),o.addScopedAction("AbortJump",e("Abort jump"),e("Abort the current jump and stop the object vertically. This action doesn't have any effect when the character is not jumping."),e("Abort the current jump of _PARAM0_"),e("Character state"),"JsPlatform/Extensions/physics_character3d.svg","JsPlatform/Extensions/physics_character3d.svg").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"PhysicsCharacter3D").setFunctionName("abortJump"),o.addScopedCondition("CanJump",e("Can jump"),e("Check if the object can jump."),e("_PARAM0_ can jump"),e("Character state"),"JsPlatform/Extensions/physics_character3d.svg","JsPlatform/Extensions/physics_character3d.svg").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"PhysicsCharacter3D").markAsSimple().setFunctionName("canJump"),o.addScopedCondition("IsMovingEvenALittle",e("Is moving"),e("Check if the object is moving (whether it is on the floor or in the air)."),e("_PARAM0_ is moving"),e("Character state"),"JsPlatform/Extensions/physics_character3d.svg","JsPlatform/Extensions/physics_character3d.svg").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"PhysicsCharacter3D").markAsSimple().setFunctionName("isMovingEvenALittle"),o.addScopedCondition("IsOnFloor",e("Is on floor"),e("Check if the object is on a platform."),e("_PARAM0_ is on floor"),e("Character state"),"JsPlatform/Extensions/physics_character3d.svg","JsPlatform/Extensions/physics_character3d.svg").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"PhysicsCharacter3D").markAsSimple().setFunctionName("isOnFloor"),o.addScopedCondition("IsJumping",e("Is jumping"),e("Check if the object is jumping."),e("_PARAM0_ is jumping"),e("Character state"),"JsPlatform/Extensions/physics_character3d.svg","JsPlatform/Extensions/physics_character3d.svg").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"PhysicsCharacter3D").markAsSimple().setFunctionName("isJumping"),o.addScopedCondition("IsFalling",e("Is falling"),e("Check if the object is falling.\nNote that the object can be flagged as jumping and falling at the same time: at the end of a jump, the fall speed becomes higher than the jump speed."),e("_PARAM0_ is falling"),e("Character state"),"JsPlatform/Extensions/physics_character3d.svg","JsPlatform/Extensions/physics_character3d.svg").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"PhysicsCharacter3D").setFunctionName("isFalling"),o.addScopedCondition("ShouldBindObjectAndForwardAngle",e("Should bind object and forward angle"),e("Check if the object angle and forward angle should be kept the same."),e("Keep _PARAM0_ angle and forward angle the same"),e("Character configuration"),"JsPlatform/Extensions/physics_character3d.svg","JsPlatform/Extensions/physics_character3d.svg").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"PhysicsCharacter3D").getCodeExtraInformation().setFunctionName("shouldBindObjectAndForwardAngle"),o.addScopedAction("SetShouldBindObjectAndForwardAngle",e("Should bind object and forward angle"),e("Enable or disable keeping the object angle and forward angle the same."),e("Should bind _PARAM0_ angle and forward angle: _PARAM2_"),e("Character configuration"),"JsPlatform/Extensions/physics_character3d.svg","JsPlatform/Extensions/physics_character3d.svg").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"PhysicsCharacter3D").addParameter("yesorno",e("Keep object angle and forward direction the same"),"",!1).setDefaultValue("false").getCodeExtraInformation().setFunctionName("setShouldBindObjectAndForwardAngle"),o.addScopedCondition("IsForwardAngleAround",e("Forward angle"),e("Compare the angle used by the character to go forward."),e("Forward angle of _PARAM0_ is _PARAM2_ \xb1 _PARAM3_\xb0"),e("Character state"),"JsPlatform/Extensions/physics_character3d.svg","JsPlatform/Extensions/physics_character3d.svg").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"PhysicsCharacter3D").addParameter("expression",e("Angle (in degrees)")).addParameter("expression",e("Tolerance (in degrees)")).setFunctionName("isForwardAngleAround"),o.addScopedAction("SetForwardAngle",e("Forward angle"),e("Change the angle used by the character to go forward."),e("the forward angle"),e("Character state"),"JsPlatform/Extensions/physics_character3d.svg","JsPlatform/Extensions/physics_character3d.svg").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"PhysicsCharacter3D").useStandardOperatorParameters("number",t.ParameterOptions.makeNewOptions().setDescription(e("Angle (in degrees)"))).setFunctionName("setForwardAngle").setGetter("getForwardAngle"),o.addExpression("ForwardAngle",e("Forward angle of the character"),e("Return the angle used by the character to go forward."),e("Character state"),"JsPlatform/Extensions/physics_character3d.svg").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"PhysicsCharacter3D").setFunctionName("getForwardAngle"),o.addExpressionAndConditionAndAction("number","CurrentForwardSpeed",e("Current forward speed"),e("the current forward speed of the object. The object moves backward with negative values and forward with positive ones"),e("the current forward speed"),e("Character state"),"JsPlatform/Extensions/physics_character3d.svg").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"PhysicsCharacter3D").useStandardParameters("number",t.ParameterOptions.makeNewOptions().setDescription(e("Speed (in pixels per second)"))).setFunctionName("setCurrentForwardSpeed").setGetter("getCurrentForwardSpeed"),o.addExpressionAndConditionAndAction("number","ForwardAcceleration",e("Forward acceleration"),e("the forward acceleration of an object"),e("the forward acceleration"),e("Character configuration"),"JsPlatform/Extensions/physics_character3d.svg").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"PhysicsCharacter3D").useStandardParameters("number",t.ParameterOptions.makeNewOptions().setDescription(e("Acceleration (in pixels per second per second)"))).markAsAdvanced().setFunctionName("setForwardAcceleration").setGetter("getForwardAcceleration"),o.addExpressionAndConditionAndAction("number","ForwardDeceleration",e("Forward deceleration"),e("the forward deceleration of an object"),e("the forward deceleration"),e("Character configuration"),"JsPlatform/Extensions/physics_character3d.svg").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"PhysicsCharacter3D").useStandardParameters("number",t.ParameterOptions.makeNewOptions().setDescription(e("Deceleration (in pixels per second per second)"))).markAsAdvanced().setFunctionName("setForwardDeceleration").setGetter("getForwardDeceleration"),o.addExpressionAndConditionAndAction("number","ForwardSpeedMax",e("Forward max speed"),e("the forward max speed of the object"),e("the forward max speed"),e("Character configuration"),"JsPlatform/Extensions/physics_character3d.svg").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"PhysicsCharacter3D").useStandardParameters("number",t.ParameterOptions.makeNewOptions().setDescription(e("Speed (in pixels per second)"))).setFunctionName("setForwardSpeedMax").setGetter("getForwardSpeedMax"),o.addExpressionAndConditionAndAction("number","CurrentSidewaysSpeed",e("Current sideways speed"),e("the current sideways speed of the object. The object moves to the left with negative values and to the right with positive ones"),e("the current sideways speed"),e("Character state"),"JsPlatform/Extensions/physics_character3d.svg").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"PhysicsCharacter3D").useStandardParameters("number",t.ParameterOptions.makeNewOptions().setDescription(e("Speed (in pixels per second)"))).setFunctionName("setCurrentSidewaysSpeed").setGetter("getCurrentSidewaysSpeed"),o.addExpressionAndConditionAndAction("number","SidewaysAcceleration",e("Sideways acceleration"),e("the sideways acceleration of an object"),e("the sideways acceleration"),e("Character configuration"),"JsPlatform/Extensions/physics_character3d.svg").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"PhysicsCharacter3D").useStandardParameters("number",t.ParameterOptions.makeNewOptions().setDescription(e("Acceleration (in pixels per second per second)"))).markAsAdvanced().setFunctionName("setSidewaysAcceleration").setGetter("getSidewaysAcceleration"),o.addExpressionAndConditionAndAction("number","SidewaysDeceleration",e("Sideways deceleration"),e("the sideways deceleration of an object"),e("the sideways deceleration"),e("Character configuration"),"JsPlatform/Extensions/physics_character3d.svg").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"PhysicsCharacter3D").useStandardParameters("number",t.ParameterOptions.makeNewOptions().setDescription(e("Deceleration (in pixels per second per second)"))).markAsAdvanced().setFunctionName("setSidewaysDeceleration").setGetter("getSidewaysDeceleration"),o.addExpressionAndConditionAndAction("number","SidewaysSpeedMax",e("Sideways max speed"),e("the sideways max speed of the object"),e("the sideways max speed"),e("Character configuration"),"JsPlatform/Extensions/physics_character3d.svg").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"PhysicsCharacter3D").useStandardParameters("number",t.ParameterOptions.makeNewOptions().setDescription(e("Speed (in pixels per second)"))).setFunctionName("setSidewaysSpeedMax").setGetter("getSidewaysSpeedMax"),o.addExpressionAndConditionAndAction("number","CurrentFallSpeed",e("Current falling speed"),e("Compare the current falling speed of the object. Its value is always positive."),e("the current falling speed"),e("Character state"),"JsPlatform/Extensions/physics_character3d.svg").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"PhysicsCharacter3D").useStandardParameters("number",t.ParameterOptions.makeNewOptions().setDescription(e("Speed to compare to (in pixels per second)"))).markAsAdvanced().setFunctionName("setCurrentFallSpeed").setGetter("getCurrentFallSpeed"),o.addExpressionAndConditionAndAction("number","CurrentJumpSpeed",e("Current jump speed"),e("Compare the current jump speed of the object. Its value is always positive."),e("the current jump speed"),e("Character state"),"JsPlatform/Extensions/physics_character3d.svg").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"PhysicsCharacter3D").useStandardParameters("number",t.ParameterOptions.makeNewOptions().setDescription(e("Speed to compare to (in pixels per second)"))).markAsAdvanced().setFunctionName("setCurrentJumpSpeed").setGetter("getCurrentJumpSpeed"),o.addExpressionAndConditionAndAction("number","JumpSpeed",e("Jump speed"),e("the jump speed of an object. Its value is always positive"),e("the jump speed"),e("Character configuration"),"JsPlatform/Extensions/physics_character3d.svg").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"PhysicsCharacter3D").useStandardParameters("number",t.ParameterOptions.makeNewOptions().setDescription(e("Speed (in pixels per second)"))).setFunctionName("setJumpSpeed").setGetter("getJumpSpeed"),o.addExpressionAndConditionAndAction("number","JumpSustainTime",e("Jump sustain time"),e("the jump sustain time of an object. This is the time during which keeping the jump button held allow the initial jump speed to be maintained"),e("the jump sustain time"),e("Character configuration"),"JsPlatform/Extensions/physics_character3d.svg").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"PhysicsCharacter3D").useStandardParameters("number",t.ParameterOptions.makeNewOptions().setDescription(e("Duration (in seconds)"))).setFunctionName("setJumpSustainTime").setGetter("getJumpSustainTime"),o.addExpressionAndConditionAndAction("number","Gravity",e("Gravity"),e("the gravity applied on an object"),e("the gravity"),e("Character configuration"),"JsPlatform/Extensions/physics_character3d.svg").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"PhysicsCharacter3D").useStandardParameters("number",t.ParameterOptions.makeNewOptions().setDescription(e("Gravity (in pixels per second per second)"))).markAsAdvanced().setFunctionName("setGravity").setGetter("getGravity"),o.addExpressionAndCondition("number","FallingSpeedMax",e("Maximum falling speed"),e("the maximum falling speed of an object"),e("the maximum falling speed"),e("Character configuration"),"JsPlatform/Extensions/physics_character3d.svg").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"PhysicsCharacter3D").useStandardParameters("number",t.ParameterOptions.makeNewOptions().setDescription(e("Max speed (in pixels per second)"))).markAsAdvanced().setFunctionName("getMaxFallingSpeed"),o.addScopedAction("FallingSpeedMax",e("Maximum falling speed"),e("Change the maximum falling speed of an object."),e("the maximum falling speed"),e("Character configuration"),"JsPlatform/Extensions/physics_character3d.svg","JsPlatform/Extensions/physics_character3d.svg").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"PhysicsCharacter3D").useStandardOperatorParameters("number",t.ParameterOptions.makeNewOptions().setDescription(e("Max speed (in pixels per second)"))).addParameter("yesorno",e("If jumping, try to preserve the current speed in the air")).markAsAdvanced().setFunctionName("setMaxFallingSpeed").setGetter("getMaxFallingSpeed");var l=new t.BehaviorJsImplementation;l.updateProperty=function(e,t,a){if("physics3D"===t)return e.getChild("physics3D").setStringValue(a),!0;if("steerAngleMax"===t){var i=parseFloat(a);return i===i&&(e.getChild("steerAngleMax").setDoubleValue(i),!0)}if("beginningSteerSpeed"===t){var n=parseFloat(a);return n===n&&(e.getChild("beginningSteerSpeed").setDoubleValue(n),!0)}if("endSteerSpeed"===t){var r=parseFloat(a);return r===r&&(e.getChild("endSteerSpeed").setDoubleValue(r),!0)}if("engineTorqueMax"===t){var s=parseFloat(a);return s===s&&(e.getChild("engineTorqueMax").setDoubleValue(s),!0)}if("engineSpeedMax"===t){var o=parseFloat(a);return o===o&&(e.getChild("engineSpeedMax").setDoubleValue(o),!0)}if("engineInertia"===t){var l=parseFloat(a);return l===l&&(e.getChild("engineInertia").setDoubleValue(l),!0)}if("reverseGearRatio1"===t){var d=parseFloat(a);return d===d&&(e.getChild("reverseGearRatio1").setDoubleValue(d),!0)}if("gearRatio1"===t){var c=parseFloat(a);return c===c&&(e.getChild("gearRatio1").setDoubleValue(c),!0)}if("gearRatio2"===t){var u=parseFloat(a);return u===u&&(e.getChild("gearRatio2").setDoubleValue(u),!0)}if("gearRatio2"===t){var h=parseFloat(a);return h===h&&(e.getChild("gearRatio2").setDoubleValue(h),!0)}if("gearRatio3"===t){var f=parseFloat(a);return f===f&&(e.getChild("gearRatio3").setDoubleValue(f),!0)}if("gearRatio4"===t){var p=parseFloat(a);return p===p&&(e.getChild("gearRatio4").setDoubleValue(p),!0)}if("gearRatio5"===t){var m=parseFloat(a);return m===m&&(e.getChild("gearRatio5").setDoubleValue(m),!0)}if("gearRatio6"===t){var g=parseFloat(a);return g===g&&(e.getChild("gearRatio6").setDoubleValue(g),!0)}if("wheelRadius"===t){var v=parseFloat(a);return v===v&&(e.getChild("wheelRadius").setDoubleValue(v),!0)}if("wheelWidth"===t){var b=parseFloat(a);return b===b&&(e.getChild("wheelWidth").setDoubleValue(b),!0)}if("backWheelOffsetX"===t){var y=parseFloat(a);return y===y&&(e.getChild("backWheelOffsetX").setDoubleValue(y),!0)}if("frontWheelOffsetX"===t){var x=parseFloat(a);return x===x&&(e.getChild("frontWheelOffsetX").setDoubleValue(x),!0)}if("wheelOffsetY"===t){var _=parseFloat(a);return _===_&&(e.getChild("wheelOffsetY").setDoubleValue(_),!0)}if("wheelOffsetZ"===t){var P=parseFloat(a);return P===P&&(e.getChild("wheelOffsetZ").setDoubleValue(P),!0)}if("brakeTorqueMax"===t){var A=parseFloat(a);return A===A&&(e.getChild("brakeTorqueMax").setDoubleValue(A),!0)}if("handBrakeTorqueMax"===t){var E=parseFloat(a);return E===E&&(e.getChild("handBrakeTorqueMax").setDoubleValue(E),!0)}if("hasBackWheelDrive"===t)return e.getChild("hasBackWheelDrive").setBoolValue("1"===a),!0;if("hasFrontWheelDrive"===t)return e.getChild("hasFrontWheelDrive").setBoolValue("1"===a),!0;if("pitchRollAngleMax"===t){var T=parseFloat(a);return T===T&&(e.getChild("pitchRollAngleMax").setDoubleValue(T),!0)}return!1},l.getProperties=function(a){var i=new t.MapStringPropertyDescriptor;return i.getOrCreate("physics3D").setValue(a.getChild("physics3D").getStringValue()).setType("Behavior").setLabel("3D physics").setQuickCustomizationVisibility(t.QuickCustomization.Hidden).addExtraInfo("Physics3D::Physics3DBehavior"),i.getOrCreate("steerAngleMax").setLabel(e("Max steer angle")).setGroup(e("Steering")).setType("Number").setMeasurementUnit(t.MeasurementUnit.getDegreeAngle()).setValue(a.getChild("steerAngleMax").getDoubleValue().toString(10)).setQuickCustomizationVisibility(t.QuickCustomization.Hidden),i.getOrCreate("beginningSteerSpeed").setLabel(e("Beginning steer speed")).setGroup(e("Steering")).setType("Number").setMeasurementUnit(t.MeasurementUnit.getAngularSpeed()).setValue(a.getChild("beginningSteerSpeed").getDoubleValue().toString(10)).setQuickCustomizationVisibility(t.QuickCustomization.Hidden),i.getOrCreate("endSteerSpeed").setLabel(e("End steer speed")).setGroup(e("Steering")).setType("Number").setMeasurementUnit(t.MeasurementUnit.getAngularSpeed()).setValue(a.getChild("endSteerSpeed").getDoubleValue().toString(10)).setQuickCustomizationVisibility(t.QuickCustomization.Hidden),i.getOrCreate("engineTorqueMax").setLabel(e("Max engine torque")).setGroup(e("Speed")).setType("Number").setDescription(e("Allow cars to climb steep slopes and push heavy obstacles.")).setValue(a.getChild("engineTorqueMax").getDoubleValue().toString(10)),i.getOrCreate("engineSpeedMax").setLabel(e("Max engine speed")).setGroup(e("Speed")).setType("Number").setValue(a.getChild("engineSpeedMax").getDoubleValue().toString(10)),i.getOrCreate("engineInertia").setLabel(e("Engine inertia")).setGroup(e("Speed")).setType("Number").setDescription(e("Slow down car acceleration.")).setValue(a.getChild("engineInertia").getDoubleValue().toString(10)),i.getOrCreate("reverseGearRatio1").setLabel(e("Reverse gear ratio")).setGroup(e("Speed")).setType("Number").setValue(a.getChild("reverseGearRatio1").getDoubleValue().toString(10)).setAdvanced(!0).setQuickCustomizationVisibility(t.QuickCustomization.Hidden),i.getOrCreate("gearRatio1").setLabel(e("1st gear ratio")).setGroup(e("Speed")).setType("Number").setValue(a.getChild("gearRatio1").getDoubleValue().toString(10)).setAdvanced(!0).setQuickCustomizationVisibility(t.QuickCustomization.Hidden),i.getOrCreate("gearRatio2").setLabel(e("2nd gear ratio")).setGroup(e("Speed")).setType("Number").setValue(a.getChild("gearRatio2").getDoubleValue().toString(10)).setAdvanced(!0).setQuickCustomizationVisibility(t.QuickCustomization.Hidden),i.getOrCreate("gearRatio3").setLabel(e("3rd gear ratio")).setGroup(e("Speed")).setType("Number").setValue(a.getChild("gearRatio3").getDoubleValue().toString(10)).setAdvanced(!0).setQuickCustomizationVisibility(t.QuickCustomization.Hidden),i.getOrCreate("gearRatio4").setLabel(e("4th gear ratio")).setGroup(e("Speed")).setType("Number").setValue(a.getChild("gearRatio4").getDoubleValue().toString(10)).setAdvanced(!0).setQuickCustomizationVisibility(t.QuickCustomization.Hidden),i.getOrCreate("gearRatio5").setLabel(e("5th gear ratio")).setGroup(e("Speed")).setType("Number").setValue(a.getChild("gearRatio5").getDoubleValue().toString(10)).setAdvanced(!0).setQuickCustomizationVisibility(t.QuickCustomization.Hidden),i.getOrCreate("gearRatio6").setLabel(e("6th gear ratio")).setGroup(e("Speed")).setType("Number").setValue(a.getChild("gearRatio6").getDoubleValue().toString(10)).setAdvanced(!0).setQuickCustomizationVisibility(t.QuickCustomization.Hidden),i.getOrCreate("wheelRadius").setLabel(e("Wheel radius")).setGroup(e("Wheels")).setType("Number").setMeasurementUnit(t.MeasurementUnit.getPixel()).setValue(a.getChild("wheelRadius").getDoubleValue().toString(10)).setQuickCustomizationVisibility(t.QuickCustomization.Hidden),i.getOrCreate("wheelWidth").setLabel(e("Wheel width")).setGroup(e("Wheels")).setType("Number").setMeasurementUnit(t.MeasurementUnit.getPixel()).setValue(a.getChild("wheelWidth").getDoubleValue().toString(10)).setQuickCustomizationVisibility(t.QuickCustomization.Hidden),i.getOrCreate("backWheelOffsetX").setLabel(e("Back wheel offset X")).setGroup(e("Wheels")).setType("Number").setMeasurementUnit(t.MeasurementUnit.getPixel()).setDescription(e("Positive values move wheels outside.")).setValue(a.getChild("backWheelOffsetX").getDoubleValue().toString(10)).setAdvanced(!0).setQuickCustomizationVisibility(t.QuickCustomization.Hidden),i.getOrCreate("frontWheelOffsetX").setLabel(e("Front wheel offset X")).setGroup(e("Wheels")).setType("Number").setMeasurementUnit(t.MeasurementUnit.getPixel()).setDescription(e("Positive values move wheels outside.")).setValue(a.getChild("frontWheelOffsetX").getDoubleValue().toString(10)).setAdvanced(!0).setQuickCustomizationVisibility(t.QuickCustomization.Hidden),i.getOrCreate("wheelOffsetY").setLabel(e("Wheel offset Y")).setGroup(e("Wheels")).setType("Number").setMeasurementUnit(t.MeasurementUnit.getPixel()).setDescription(e("Positive values move wheels outside.")).setValue(a.getChild("wheelOffsetY").getDoubleValue().toString(10)).setAdvanced(!0).setQuickCustomizationVisibility(t.QuickCustomization.Hidden),i.getOrCreate("wheelOffsetZ").setLabel(e("Wheel offset Z")).setGroup(e("Wheels")).setType("Number").setMeasurementUnit(t.MeasurementUnit.getPixel()).setDescription(e("Positive values move wheels outside.")).setValue(a.getChild("wheelOffsetZ").getDoubleValue().toString(10)).setAdvanced(!0).setQuickCustomizationVisibility(t.QuickCustomization.Hidden),i.getOrCreate("brakeTorqueMax").setLabel(e("Brake max torque")).setGroup(e("Brakes")).setType("Number").setValue(a.getChild("brakeTorqueMax").getDoubleValue().toString(10)).setQuickCustomizationVisibility(t.QuickCustomization.Hidden),i.getOrCreate("handBrakeTorqueMax").setLabel(e("Hand brake max torque")).setGroup(e("Brakes")).setType("Number").setValue(a.getChild("handBrakeTorqueMax").getDoubleValue().toString(10)).setQuickCustomizationVisibility(t.QuickCustomization.Hidden),i.getOrCreate("hasBackWheelDrive").setValue(a.getChild("hasBackWheelDrive").getBoolValue()?"true":"false").setQuickCustomizationVisibility(t.QuickCustomization.Hidden).setType("Boolean").setLabel(e("Back wheel drive")).setGroup(e("Wheels")).setAdvanced(!0).setQuickCustomizationVisibility(t.QuickCustomization.Hidden),i.getOrCreate("hasFrontWheelDrive").setValue(a.getChild("hasFrontWheelDrive").getBoolValue()?"true":"false").setQuickCustomizationVisibility(t.QuickCustomization.Hidden).setType("Boolean").setLabel(e("Front wheel drive")).setGroup(e("Wheels")).setAdvanced(!0).setQuickCustomizationVisibility(t.QuickCustomization.Hidden),i.getOrCreate("pitchRollAngleMax").setLabel(e("Pitch and roll max angle")).setGroup("").setType("Number").setMeasurementUnit(t.MeasurementUnit.getDegreeAngle()).setValue(a.getChild("pitchRollAngleMax").getDoubleValue().toString(10)).setAdvanced(!0).setQuickCustomizationVisibility(t.QuickCustomization.Hidden),i},l.initializeContent=function(e){e.addChild("physics3D").setStringValue(""),e.addChild("steerAngleMax").setDoubleValue(70),e.addChild("beginningSteerSpeed").setDoubleValue(140),e.addChild("endSteerSpeed").setDoubleValue(10),e.addChild("engineTorqueMax").setDoubleValue(4500),e.addChild("engineSpeedMax").setDoubleValue(6e3),e.addChild("engineInertia").setDoubleValue(.5),e.addChild("reverseGearRatio1").setDoubleValue(-2.9),e.addChild("gearRatio1").setDoubleValue(2.66),e.addChild("gearRatio2").setDoubleValue(1.78),e.addChild("gearRatio3").setDoubleValue(1.3),e.addChild("gearRatio4").setDoubleValue(1),e.addChild("gearRatio5").setDoubleValue(.74),e.addChild("gearRatio6").setDoubleValue(0),e.addChild("backWheelOffsetX").setDoubleValue(0),e.addChild("frontWheelOffsetX").setDoubleValue(0),e.addChild("wheelOffsetY").setDoubleValue(0),e.addChild("wheelOffsetZ").setDoubleValue(0),e.addChild("wheelRadius").setDoubleValue(10),e.addChild("wheelWidth").setDoubleValue(5),e.addChild("brakeTorqueMax").setDoubleValue(1500),e.addChild("handBrakeTorqueMax").setDoubleValue(4e3),e.addChild("hasBackWheelDrive").setBoolValue(!1),e.addChild("hasFrontWheelDrive").setBoolValue(!0),e.addChild("pitchRollAngleMax").setDoubleValue(90)};var d=a.addBehavior("PhysicsCar3D",e("3D physics car"),"PhysicsCar3D",e('Simulate a realistic car using the 3D physics engine. This is mostly useful for the car controlled by the player (it\'s usually too complex for other cars in a game).\n\nThis behavior is usually used with one or more "mapper" behavior to let the player move it.'),"","JsPlatform/Extensions/physics_car3d.svg","PhysicsCar3D",l,new t.BehaviorsSharedData).addIncludeFile("Extensions/Physics3DBehavior/PhysicsCar3DRuntimeBehavior.js");return d.addScopedAction("SimulateForwardKey",e("Simulate move forward key press"),e("Simulate a press of the move forward key."),e("Simulate pressing Forward key for _PARAM0_"),e("Car controls"),"JsPlatform/Extensions/physics_car3d.svg","JsPlatform/Extensions/physics_car3d.svg").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"PhysicsCar3D").setFunctionName("simulateForwardKey"),d.addScopedAction("SimulateBackwardKey",e("Simulate move backward key press"),e("Simulate a press of the move backward key."),e("Simulate pressing Backward key for _PARAM0_"),e("Car controls"),"JsPlatform/Extensions/physics_car3d.svg","JsPlatform/Extensions/physics_car3d.svg").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"PhysicsCar3D").setFunctionName("simulateBackwardKey"),d.addScopedAction("SimulateRightKey",e("Simulate move right key press"),e("Simulate a press of the move right key."),e("Simulate pressing Right key for _PARAM0_"),e("Car controls"),"JsPlatform/Extensions/physics_car3d.svg","JsPlatform/Extensions/physics_car3d.svg").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"PhysicsCar3D").setFunctionName("simulateRightKey"),d.addScopedAction("SimulateLeftKey",e("Simulate move left key press"),e("Simulate a press of the move left key."),e("Simulate pressing Left key for _PARAM0_"),e("Car controls"),"JsPlatform/Extensions/physics_car3d.svg","JsPlatform/Extensions/physics_car3d.svg").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"PhysicsCar3D").setFunctionName("simulateLeftKey"),d.addScopedAction("SimulateHandBrakeKey",e("Simulate hand brake key press"),e("Simulate a press of the hand brake key."),e("Simulate pressing hand brake key for _PARAM0_"),e("Car controls"),"JsPlatform/Extensions/physics_car3d.svg","JsPlatform/Extensions/physics_car3d.svg").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"PhysicsCar3D").setFunctionName("simulateHandBrakeKey"),d.addScopedAction("SimulateAcceleratorStick",e("Simulate accelerator stick control"),e("Simulate an accelerator stick control."),e("Simulate an accelerator stick control for _PARAM0_ with a _PARAM2_ force"),e("Car controls"),"JsPlatform/Extensions/physics_car3d.svg","JsPlatform/Extensions/physics_car3d.svg").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"PhysicsCar3D").addParameter("expression",e("Stick force (between -1 and 1)")).markAsAdvanced().setFunctionName("simulateAcceleratorStick"),d.addScopedAction("SimulateSteeringStick",e("Simulate steering stick control"),e("Simulate a steering stick control."),e("Simulate a steering stick control for _PARAM0_ with a _PARAM2_ force"),e("Car controls"),"JsPlatform/Extensions/physics_car3d.svg","JsPlatform/Extensions/physics_car3d.svg").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"PhysicsCar3D").addParameter("expression",e("Stick force (between -1 and 1)")).markAsAdvanced().setFunctionName("simulateSteeringStick"),d.addExpressionAndCondition("number","SteerAngle",e("Steer angle"),e("the current steer angle (in degree). The value is negative when cars turn left"),e("the steer angle"),e("Car state"),"JsPlatform/Extensions/physics_car3d.svg").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"PhysicsCar3D").useStandardParameters("number",t.ParameterOptions.makeNewOptions().setDescription(e("Steer angle (in degree)"))).setFunctionName("getSteerAngle"),d.addExpressionAndCondition("number","EngineSpeed",e("Engine speed"),e("the current engine speed (RPM)"),e("the engine speed"),e("Car state"),"JsPlatform/Extensions/physics_car3d.svg").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"PhysicsCar3D").useStandardParameters("number",t.ParameterOptions.makeNewOptions().setDescription(e("Engine speed (RPM)"))).setFunctionName("getEngineSpeed"),d.addExpressionAndCondition("number","CurrentGear",e("Current gear"),e("the current gear (-1 = reverse, 0 = neutral, 1 = 1st gear)"),e("the current gear"),e("Car state"),"JsPlatform/Extensions/physics_car3d.svg").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"PhysicsCar3D").useStandardParameters("number",t.ParameterOptions.makeNewOptions().setDescription(e("Current gear"))).setFunctionName("getCurrentGear"),d.addScopedCondition("IsOnFloor",e("Is on floor"),e("Check if any wheel is in contact with the ground."),e("_PARAM0_ is on floor"),e("Car state"),"JsPlatform/Extensions/physics_car3d.svg","JsPlatform/Extensions/physics_car3d.svg").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"PhysicsCar3D").markAsSimple().setFunctionName("isOnFloor"),d.addExpressionAndConditionAndAction("number","EngineTorqueMax",e("Engine max torque"),e("the engine max torque (N\xb7m). It allows cars to climb steep slopes and push heavy obstacles"),e("the engine max torque"),e("Car configuration"),"JsPlatform/Extensions/physics_car3d.svg").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"PhysicsCar3D").useStandardParameters("number",t.ParameterOptions.makeNewOptions().setDescription(e("Engine max torque (N\xb7m)"))).setFunctionName("setEngineTorqueMax").setGetter("getEngineTorqueMax"),d.addExpressionAndConditionAndAction("number","EngineSpeedMax",e("Engine max speed"),e("the engine max speed (RPM)"),e("the engine max speed"),e("Car configuration"),"JsPlatform/Extensions/physics_car3d.svg").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"PhysicsCar3D").useStandardParameters("number",t.ParameterOptions.makeNewOptions().setDescription(e("Engine max speed (RPM)"))).setFunctionName("setEngineSpeedMax").setGetter("getEngineSpeedMax"),d.addExpressionAndConditionAndAction("number","EngineInertia",e("Engine inertia"),e("the engine inertia (kg\xb7m\xb2). It slows down car acceleration"),e("the engine inertia"),e("Car configuration"),"JsPlatform/Extensions/physics_car3d.svg").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"PhysicsCar3D").useStandardParameters("number",t.ParameterOptions.makeNewOptions().setDescription(e("Engine inertia (kg\xb7m\xb2)"))).setFunctionName("setEngineInertia").setGetter("getEngineInertia"),a.addCondition("IsObjectOnGivenFloor",e("Character is on given platform"),e("Check if a 3D physics character is on a given platform."),e("_PARAM0_ is on platform _PARAM2_"),e("Collision"),"JsPlatform/Extensions/physics_car3d.svg","JsPlatform/Extensions/physics_car3d.svg").addParameter("objectList",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"PhysicsCharacter3D").addParameter("objectList",e("Platforms"),"",!1).addParameter("behavior",e("Behavior"),"Physics3DBehavior").addCodeOnlyParameter("conditionInverted","").setFunctionName("gdjs.physics3d.isOnPlatform").addIncludeFile("Extensions/Physics3DBehavior/Physics3DTools.js"),a},runExtensionSanityTests:function(e,t){var a=t.getBehaviorMetadata("Physics3D::Physics3DBehavior").get(),i=t.getBehaviorMetadata("Physics3D::Physics3DBehavior").getSharedDataInstance();return[e.ProjectHelper.sanityCheckBehaviorProperty(a,"density","123"),e.ProjectHelper.sanityCheckBehaviorsSharedDataProperty(i,"gravityY","456")]}}},17681:function(e){e.exports={createExtension:function(e,t){var a=new t.PlatformExtension;return a.setExtensionInformation("PlayerAuthentication",e("Player Authentication"),e("Allow your game to authenticate players."),"Florian Rival","Open source (MIT License)").setExtensionHelpPath("/all-features/player-authentication").setCategory("Players"),a.addInstructionOrExpressionGroupMetadata(e("Player Authentication")).setIcon("JsPlatform/Extensions/authentication.svg"),a.addDependency().setName("Safari View Controller Cordova plugin").setDependencyType("cordova").setExportName("@gdevelop/cordova-plugin-safariviewcontroller"),a.addAction("DisplayAuthenticationBanner",e("Display authentication banner"),e("Display an authentication banner at the top of the game screen, for the player to log in."),e("Display an authentication banner"),"","JsPlatform/Extensions/authentication.svg","JsPlatform/Extensions/authentication.svg").addCodeOnlyParameter("currentScene","").setHelpPath("/all-features/player-authentication").getCodeExtraInformation().setIncludeFile("Extensions/PlayerAuthentication/playerauthenticationcomponents.js").addIncludeFile("Extensions/PlayerAuthentication/playerauthenticationtools.js").setFunctionName("gdjs.playerAuthentication.displayAuthenticationBanner"),a.addAction("HideAuthenticationBanner",e("Hide authentication banner"),e("Hide the authentication banner from the top of the game screen."),e("Hide the authentication banner"),"","JsPlatform/Extensions/authentication.svg","JsPlatform/Extensions/authentication.svg").addCodeOnlyParameter("currentScene","").setHelpPath("/all-features/player-authentication").getCodeExtraInformation().setIncludeFile("Extensions/PlayerAuthentication/playerauthenticationcomponents.js").addIncludeFile("Extensions/PlayerAuthentication/playerauthenticationtools.js").setFunctionName("gdjs.playerAuthentication.removeAuthenticationBanner"),a.addAction("OpenAuthenticationWindow",e("Open authentication window"),e("Open an authentication window for the player to log in."),e("Open an authentication window"),"","JsPlatform/Extensions/authentication.svg","JsPlatform/Extensions/authentication.svg").addCodeOnlyParameter("currentScene","").setHelpPath("/all-features/player-authentication").getCodeExtraInformation().setIncludeFile("Extensions/PlayerAuthentication/playerauthenticationcomponents.js").addIncludeFile("Extensions/PlayerAuthentication/playerauthenticationtools.js").setFunctionName("gdjs.playerAuthentication.openAuthenticationWindow").setAsyncFunctionName("gdjs.playerAuthentication.openAuthenticationWindow"),a.addCondition("IsAuthenticationWindowOpen",e("Authentication window is open"),e("Check if the authentication window is open."),e("Authentication window is open"),"","JsPlatform/Extensions/authentication.svg","JsPlatform/Extensions/authentication.svg").getCodeExtraInformation().setIncludeFile("Extensions/PlayerAuthentication/playerauthenticationcomponents.js").addIncludeFile("Extensions/PlayerAuthentication/playerauthenticationtools.js").setFunctionName("gdjs.playerAuthentication.isAuthenticationWindowOpen"),a.addAction("LogOut",e("Log out the player"),e("Log out the player."),e("Log out the player"),"","JsPlatform/Extensions/authentication.svg","JsPlatform/Extensions/authentication.svg").addCodeOnlyParameter("currentScene","").setHelpPath("/all-features/player-authentication").getCodeExtraInformation().setIncludeFile("Extensions/PlayerAuthentication/playerauthenticationcomponents.js").addIncludeFile("Extensions/PlayerAuthentication/playerauthenticationtools.js").setFunctionName("gdjs.playerAuthentication.logout"),a.addStrExpression("Username",e("Username"),e("Get the username of the authenticated player."),"","JsPlatform/Extensions/authentication.svg").getCodeExtraInformation().setIncludeFile("Extensions/PlayerAuthentication/playerauthenticationcomponents.js").addIncludeFile("Extensions/PlayerAuthentication/playerauthenticationtools.js").setFunctionName("gdjs.playerAuthentication.getUsername"),a.addStrExpression("UserID",e("User ID"),e("Get the unique user ID of the authenticated player."),"","JsPlatform/Extensions/authentication.svg").getCodeExtraInformation().setIncludeFile("Extensions/PlayerAuthentication/playerauthenticationcomponents.js").addIncludeFile("Extensions/PlayerAuthentication/playerauthenticationtools.js").setFunctionName("gdjs.playerAuthentication.getUserId"),a.addCondition("IsPlayerAuthenticated",e("Player is authenticated"),e("Check if the player is authenticated."),e("Player is authenticated"),"","JsPlatform/Extensions/authentication.svg","JsPlatform/Extensions/authentication.svg").getCodeExtraInformation().setIncludeFile("Extensions/PlayerAuthentication/playerauthenticationcomponents.js").addIncludeFile("Extensions/PlayerAuthentication/playerauthenticationtools.js").setFunctionName("gdjs.playerAuthentication.isAuthenticated"),a.addCondition("HasPlayerLoggedIn",e("Player has logged in"),e("Check if the player has just logged in."),e("Player has logged in"),"","JsPlatform/Extensions/authentication.svg","JsPlatform/Extensions/authentication.svg").getCodeExtraInformation().setIncludeFile("Extensions/PlayerAuthentication/playerauthenticationcomponents.js").addIncludeFile("Extensions/PlayerAuthentication/playerauthenticationtools.js").setFunctionName("gdjs.playerAuthentication.hasLoggedIn"),a},runExtensionSanityTests:function(e,t){return[]}}},51678:function(e){e.exports={createExtension:function(e,t){var a=new t.PlatformExtension;a.setExtensionInformation("SaveState",e("Save State (experimental)"),e('Allows to save and load the full state of a game, usually on the device storage. A Save State, by default, contains the full state of the game (objects, variables, sounds, music, effects etc.). Using the "Save Configuration" behavior, you can customize which objects should not be saved in a Save State. You can also use the "Change the save configuration of a variable" action to change the save configuration of a variable. Finally, both objects, variables and scene/game data can be given a profile name: in this case, when saving or loading with one or more profile names specified, only the object/variables/data belonging to one of the specified profiles will be saved or loaded.'),"Neyl Mahfouf","Open source (MIT License)").setExtensionHelpPath("/all-features/save-state").setCategory("Game mechanic").addInstructionOrExpressionGroupMetadata(e("Save State (experimental)")).setIcon("res/actions/saveDown.svg"),a.addAction("CreateGameSaveStateInVariable",e("Save game to a variable"),e('Create a Save State and save it to a variable. This is for advanced usage, prefer to use "Save game to device storage" in most cases.'),e("Save game in variable _PARAM1_ (profile(s): _PARAM2_)"),e("Save"),"res/actions/saveDown.svg","res/actions/saveDown.svg").addCodeOnlyParameter("currentScene","").addParameter("variable",e("Variable to store the save to"),"",!1).addParameter("string",e("Profile(s) to save"),"",!0).setDefaultValue('"default"').setParameterLongDescription(e('Comma-separated list of profile names that must be saved. Only objects tagged with at least one of these profiles will be saved. If no profile names are specified, all objects will be saved (unless they have a "Save Configuration" behavior set to "Do not save").')).getCodeExtraInformation().setIncludeFile("Extensions/SaveState/SaveStateTools.js").addIncludeFile("Extensions/SaveState/SaveConfigurationRuntimeBehavior.js").setFunctionName("gdjs.saveState.createGameSaveStateInVariable"),a.addAction("CreateGameSaveStateInStorage",e("Save game to device storage"),e("Create a Save State and save it to device storage."),e("Save game to device storage named _PARAM1_ (profile(s): _PARAM2_)"),e("Save"),"res/actions/saveDown.svg","res/actions/saveDown.svg").addCodeOnlyParameter("currentScene","").addParameter("string",e("Storage key to save to"),"",!1).addParameter("string",e("Profile(s) to save"),"",!0).setDefaultValue('"default"').setParameterLongDescription(e('Comma-separated list of profile names that must be saved. Only objects tagged with at least one of these profiles will be saved. If no profile names are specified, all objects will be saved (unless they have a "Save Configuration" behavior set to "Do not save").')).setDefaultValue("no").getCodeExtraInformation().setIncludeFile("Extensions/SaveState/SaveStateTools.js").addIncludeFile("Extensions/SaveState/SaveConfigurationRuntimeBehavior.js").setFunctionName("gdjs.saveState.createGameSaveStateInStorage"),a.addAction("RestoreGameSaveStateFromVariable",e("Load game from variable"),e('Restore the game from a Save State stored in the specified variable. This is for advanced usage, prefer to use "Load game from device storage" in most cases.'),e("Load game from variable _PARAM1_ (profile(s): _PARAM2_, stop and restart all the scenes currently played: _PARAM3_)"),e("Load"),"res/actions/saveUp.svg","res/actions/saveUp.svg").addCodeOnlyParameter("currentScene","").addParameter("variable",e("Variable to load the game from"),"",!1).addParameter("string",e("Profile(s) to load"),"",!0).setDefaultValue('"default"').setParameterLongDescription(e('Comma-separated list of profile names that must be loaded. Only objects tagged with at least one of these profiles will be loaded - others will be left alone. If no profile names are specified, all objects will be loaded (unless they have a "Save Configuration" behavior set to "Do not save").')).addParameter("yesorno",e("Stop and restart all the scenes currently played?"),"",!0).setDefaultValue("no").getCodeExtraInformation().setIncludeFile("Extensions/SaveState/SaveStateTools.js").addIncludeFile("Extensions/SaveState/SaveConfigurationRuntimeBehavior.js").setFunctionName("gdjs.saveState.restoreGameSaveStateFromVariable"),a.addAction("RestoreGameSaveStateFromStorage",e("Load game from device storage"),e("Restore the game from a Save State stored on the device."),e("Load game from device storage named _PARAM1_ (profile(s): _PARAM2_, stop and restart all the scenes currently played: _PARAM3_)"),e("Load"),"res/actions/saveUp.svg","res/actions/saveUp.svg").addCodeOnlyParameter("currentScene","").addParameter("string",e("Storage name to load the game from"),"",!1).addParameter("string",e("Profile(s) to load"),"",!0).setDefaultValue('"default"').setParameterLongDescription(e("Comma-separated list of profile names that must be loaded. Only objects tagged with at least one of these profiles will be loaded - others will be left alone. If no profile names are specified, all objects will be loaded.")).addParameter("yesorno",e("Stop and restart all the scenes currently played?"),"",!0).setDefaultValue("no").getCodeExtraInformation().setIncludeFile("Extensions/SaveState/SaveStateTools.js").addIncludeFile("Extensions/SaveState/SaveConfigurationRuntimeBehavior.js").setFunctionName("gdjs.saveState.restoreGameSaveStateFromStorage"),a.addExpressionAndCondition("number","TimeSinceLastSave",e("Time since last save"),e("Time since the last save, in seconds. Returns -1 if no save happened, and a positive number otherwise."),e("Time since the last save"),"","res/actions/saveDown.svg").addCodeOnlyParameter("currentScene","").useStandardParameters("number",t.ParameterOptions.makeNewOptions()).setIncludeFile("Extensions/SaveState/SaveStateTools.js").addIncludeFile("Extensions/SaveState/SaveConfigurationRuntimeBehavior.js").setFunctionName("gdjs.saveState.getSecondsSinceLastSave").setGetter("gdjs.saveState.getSecondsSinceLastSave"),a.addExpressionAndCondition("number","TimeSinceLastLoad",e("Time since last load"),e("Time since the last load, in seconds. Returns -1 if no load happened, and a positive number otherwise."),e("Time since the last load"),"","res/actions/saveDown.svg").addCodeOnlyParameter("currentScene","").useStandardParameters("number",t.ParameterOptions.makeNewOptions()).setIncludeFile("Extensions/SaveState/SaveStateTools.js").addIncludeFile("Extensions/SaveState/SaveConfigurationRuntimeBehavior.js").setFunctionName("gdjs.saveState.getSecondsSinceLastLoad").setGetter("gdjs.saveState.getSecondsSinceLastLoad"),a.addCondition("SaveJustSucceeded",e("Save just succeeded"),e("The last save attempt just succeeded."),e("Save just succeeded"),e("Save"),"res/actions/saveDown.svg","res/actions/saveDown.svg").addCodeOnlyParameter("currentScene","").getCodeExtraInformation().setIncludeFile("Extensions/SaveState/SaveStateTools.js").addIncludeFile("Extensions/SaveState/SaveConfigurationRuntimeBehavior.js").setFunctionName("gdjs.saveState.hasSaveJustSucceeded"),a.addCondition("SaveJustFailed",e("Save just failed"),e("The last save attempt just failed."),e("Save just failed"),e("Save"),"res/actions/saveDown.svg","res/actions/saveDown.svg").addCodeOnlyParameter("currentScene","").getCodeExtraInformation().setIncludeFile("Extensions/SaveState/SaveStateTools.js").addIncludeFile("Extensions/SaveState/SaveConfigurationRuntimeBehavior.js").setFunctionName("gdjs.saveState.hasSaveJustFailed"),a.addCondition("LoadJustSucceeded",e("Load just succeeded"),e("The last load attempt just succeeded."),e("Load just succeeded"),e("Load"),"res/actions/saveUp.svg","res/actions/saveUp.svg").addCodeOnlyParameter("currentScene","").getCodeExtraInformation().setIncludeFile("Extensions/SaveState/SaveStateTools.js").addIncludeFile("Extensions/SaveState/SaveConfigurationRuntimeBehavior.js").setFunctionName("gdjs.saveState.hasLoadJustSucceeded"),a.addCondition("LoadJustFailed",e("Load just failed"),e("The last load attempt just failed."),e("Load just failed"),e("Load"),"res/actions/saveUp.svg","res/actions/saveUp.svg").addCodeOnlyParameter("currentScene","").getCodeExtraInformation().setIncludeFile("Extensions/SaveState/SaveStateTools.js").addIncludeFile("Extensions/SaveState/SaveConfigurationRuntimeBehavior.js").setFunctionName("gdjs.saveState.hasLoadJustFailed"),a.addAction("SetVariableSaveConfiguration",e("Change the save configuration of a variable"),e("Set if a scene or global variable should be saved in the default save state. Also allow to specify one or more profiles in which the variable should be saved."),e("Change save configuration of _PARAM1_: save it in the default save states: _PARAM2_ and in profiles: _PARAM3_"),e("Advanced configuration"),"res/actions/saveDown.svg","res/actions/saveDown.svg").addCodeOnlyParameter("currentScene","").addParameter("variable",e("Variable for which configuration should be changed"),"",!1).addParameter("yesorno",e("Persist in default save states"),"",!1).setDefaultValue("yes").addParameter("string",e("Profiles in which the variable should be saved"),"",!0).setDefaultValue("").setParameterLongDescription(e("Comma-separated list of profile names in which the variable will be saved. When a save state is created with one or more profile names specified, the variable will be saved only if it matches one of these profiles.")).getCodeExtraInformation().setIncludeFile("Extensions/SaveState/SaveStateTools.js").addIncludeFile("Extensions/SaveState/SaveConfigurationRuntimeBehavior.js").setFunctionName("gdjs.saveState.setVariableSaveConfiguration"),a.addAction("SetGameDataSaveConfiguration",e("Change the save configuration of the global game data"),e("Set if the global game data (audio & global variables) should be saved in the default save state. Also allow to specify one or more profiles in which the global game data should be saved."),e("Change save configuration of global game data: save them in the default save states: _PARAM1_ and in profiles: _PARAM2_"),e("Advanced configuration"),"res/actions/saveDown.svg","res/actions/saveDown.svg").addCodeOnlyParameter("currentScene","").addParameter("yesorno",e("Persist in default save states"),"",!1).setDefaultValue("yes").addParameter("string",e("Profiles in which the global game data should be saved"),"",!0).setDefaultValue("").setParameterLongDescription(e("Comma-separated list of profile names in which the global game data will be saved. When a save state is created with one or more profile names specified, the global game data will be saved only if it matches one of these profiles.")).getCodeExtraInformation().setIncludeFile("Extensions/SaveState/SaveStateTools.js").addIncludeFile("Extensions/SaveState/SaveConfigurationRuntimeBehavior.js").setFunctionName("gdjs.saveState.setGameDataSaveConfiguration"),a.addAction("SetSceneDataSaveConfiguration",e("Change the save configuration of a scene data"),e('Set if the data of the specified scene (scene variables, timers, trigger once, wait actions, layers, etc.) should be saved in the default save state. Also allow to specify one or more profiles in which the scene data should be saved. Note: objects are always saved separately from the scene data (use the "Save Configuration" behavior to customize the configuration of objects).'),e("Change save configuration of scene _PARAM1_: save it in the default save states: _PARAM2_ and in profiles: _PARAM3_"),e("Advanced configuration"),"res/actions/saveDown.svg","res/actions/saveDown.svg").addCodeOnlyParameter("currentScene","").addParameter("sceneName",e("Scene name for which configuration should be changed"),"",!1).addParameter("yesorno",e("Persist in default save states"),"",!1).setDefaultValue("yes").addParameter("string",e("Profiles in which the scene data should be saved"),"",!0).setDefaultValue("").setParameterLongDescription(e("Comma-separated list of profile names in which the scene data will be saved. When a save state is created with one or more profile names specified, the scene data will be saved only if it matches one of these profiles.")).getCodeExtraInformation().setIncludeFile("Extensions/SaveState/SaveStateTools.js").addIncludeFile("Extensions/SaveState/SaveConfigurationRuntimeBehavior.js").setFunctionName("gdjs.saveState.setSceneDataSaveConfiguration");var i=new t.BehaviorJsImplementation;i.updateProperty=function(e,t,a){return"defaultProfilePersistence"===t?(e.getChild("defaultProfilePersistence").setStringValue(a),!0):"persistedInProfiles"===t&&(e.getChild("persistedInProfiles").setStringValue(a),!0)},i.getProperties=function(a){var i=new t.MapStringPropertyDescriptor;return i.getOrCreate("defaultProfilePersistence").setValue(a.getChild("defaultProfilePersistence").getStringValue()).setType("Choice").setLabel(e("Persistence mode")).addChoice("Persisted",e("Include in save states (default)")).addChoice("DoNotSave",e("Do not save")),i.getOrCreate("persistedInProfiles").setValue(a.getChild("persistedInProfiles").getStringValue()).setType("String").setLabel(e("Save profile names")).setDescription(e("Comma-separated list of profile names in which the object is saved. When a save state is created with one or more profile names specified, the object will be saved only if it matches one of these profiles.")).setAdvanced(!0),i},i.initializeContent=function(e){e.addChild("defaultProfilePersistence").setStringValue("Persisted"),e.addChild("persistedInProfiles").setStringValue("")};var n=new t.BehaviorsSharedData;return a.addBehavior("SaveConfiguration",e("Save state configuration"),"SaveConfiguration",e("Allow the customize how the object is persisted in a save state."),"","res/actions/saveUp.svg","SaveConfiguration",i,n).setQuickCustomizationVisibility(t.QuickCustomization.Hidden).setIncludeFile("Extensions/SaveState/SaveStateTools.js").addIncludeFile("Extensions/SaveState/SaveConfigurationRuntimeBehavior.js"),a},runExtensionSanityTests:function(e,t){return[]}}},93905:function(e){e.exports={createExtension:function(e,t){var a=new t.PlatformExtension;return a.setExtensionInformation("Screenshot",e("Screenshot"),"Allows to save screenshots of a running game.","Matthias Meike","Open source (MIT License)").setExtensionHelpPath("/all-features/screenshot").setCategory("Advanced"),a.addInstructionOrExpressionGroupMetadata(e("Screenshot")).setIcon("JsPlatform/Extensions/take_screenshot32.png"),a.addAction("TakeScreenshot",e("Take screenshot"),e("Take a screenshot of the game, and save it to a png file (supported only when running on Windows/Linux/macOS)."),e("Take a screenshot and save at _PARAM1_"),"","JsPlatform/Extensions/take_screenshot32.png","JsPlatform/Extensions/take_screenshot32.png").addCodeOnlyParameter("currentScene","").addParameter("string",e("Save path"),"",!1).getCodeExtraInformation().setIncludeFile("Extensions/Screenshot/screenshottools.js").setFunctionName("gdjs.screenshot.takeScreenshot"),a},runExtensionSanityTests:function(e,t){return[]}}},83915:function(e){e.exports={createExtension:function(e,t){var a=new t.PlatformExtension;return a.setExtensionInformation("SpatialSound",e("Spatial sound"),e("Allow positioning sounds in a 3D space. The stereo system of the device is used to simulate the position of the sound and to give the impression that the sound is located somewhere around the player."),"Arthur Pacaud (arthuro555)","MIT").setCategory("Audio"),a.addInstructionOrExpressionGroupMetadata(e("Spatial sound")).setIcon("res/actions/son24.png"),a.addAction("SetSoundPosition",e("Set position of sound"),e("Sets the spatial position of a sound. When a sound is at a distance of 1 to the listener, it's heard at 100% volume. Then, it follows an *inverse distance model*. At a distance of 2, it's heard at 50%, and at a distance of 4 it's heard at 25%."),e("Set position of sound on channel _PARAM1_ to position _PARAM2_, _PARAM3_, _PARAM4_"),"","res/actions/son24.png","res/actions/son.png").addCodeOnlyParameter("currentScene","").addParameter("expression",e("Channel"),"",!1).addParameter("expression",e("X position"),"",!1).addParameter("expression",e("Y position"),"",!1).addParameter("expression",e("Z position"),"",!1).getCodeExtraInformation().setIncludeFile("Extensions/SpatialSound/howler.spatial.min.js").addIncludeFile("Extensions/SpatialSound/spatialsoundtools.js").setFunctionName("gdjs.evtTools.spatialSound.setSoundPosition"),a.addAction("SetListenerPosition",e("Listener position"),e("Change the spatial position of the listener/player."),e("Change the listener position to _PARAM0_, _PARAM1_, _PARAM2_"),"","res/actions/son24.png","res/actions/son.png").addParameter("expression",e("X position"),"",!1).addParameter("expression",e("Y position"),"",!1).addParameter("expression",e("Z position"),"",!1).getCodeExtraInformation().setIncludeFile("Extensions/SpatialSound/howler.spatial.min.js").setFunctionName("Howler.pos"),a},runExtensionSanityTests:function(e,t){return[]}}},68708:function(e,t,a){var i=a(56690).default,n=a(89728).default,r=a(66115).default,s=a(41588).default,o=a(73808).default,l=a(61655).default,d=a(26389).default,c=a(38416).default;e.exports={createExtension:function(e,t){var a=new t.PlatformExtension;a.setExtensionInformation("SpineObject",e("Spine (experimental)"),e("Displays a Spine animation."),"Vladyslav Pohorielov","Open source (MIT License)").setExtensionHelpPath("/objects/spine").setCategory("Advanced"),a.addInstructionOrExpressionGroupMetadata(e("Spine")).setIcon("JsPlatform/Extensions/spine.svg");var i=a.addObject("SpineObject",e("Spine (experimental)"),e("Display and smoothly animate a 2D object with skeletal animations made with Spine. Use files exported from Spine (json, atlas and image)."),"JsPlatform/Extensions/spine.svg",new t.SpineObjectConfiguration).addDefaultBehavior("EffectCapability::EffectBehavior").addDefaultBehavior("ResizableCapability::ResizableBehavior").addDefaultBehavior("ScalableCapability::ScalableBehavior").addDefaultBehavior("FlippableCapability::FlippableBehavior").addDefaultBehavior("OpacityCapability::OpacityBehavior").addDefaultBehavior("AnimatableCapability::AnimatableBehavior").setIncludeFile("Extensions/Spine/spineruntimeobject.js").addIncludeFile("Extensions/Spine/spineruntimeobject-pixi-renderer.js").addIncludeFile("Extensions/Spine/pixi-spine/pixi-spine.js").addIncludeFile("Extensions/Spine/managers/pixi-spine-atlas-manager.js").addIncludeFile("Extensions/Spine/managers/pixi-spine-manager.js").setCategoryFullName(e("Advanced")).setOpenFullEditorLabel(e("Edit animations"));return i.addExpressionAndConditionAndAction("number","Animation",e("Animation mixing duration"),e("the duration of the smooth transition between 2 animations (in second)"),e("the animation mixing duration"),e("Animations and images"),"JsPlatform/Extensions/spine.svg").addParameter("object",e("Spine"),"SpineObject").useStandardParameters("number",t.ParameterOptions.makeNewOptions()).setFunctionName("setAnimationMixingDuration").setGetter("getAnimationMixingDuration"),i.addExpressionAndCondition("number","PointAttachmentX",e("Point attachment X position"),e("x position of spine point attachment"),e("x position of spine _PARAM1_ point attachment for _PARAM2_ slot"),e("Animations and images"),"JsPlatform/Extensions/spine.svg").addParameter("object",e("Spine"),"SpineObject").addParameter("string",e("Attachment name")).addParameter("string",e('Slot name (use "" if names are the same)')).useStandardParameters("number",t.ParameterOptions.makeNewOptions()).setFunctionName("getPointAttachmentX"),i.addExpressionAndCondition("number","PointAttachmentY",e("Point attachment Y position"),e("y position of spine point attachment"),e("y position of spine _PARAM1_ point attachment for _PARAM2_ slot"),e("Animations and images"),"JsPlatform/Extensions/spine.svg").addParameter("object",e("Spine"),"SpineObject").addParameter("string",e("Attachment name")).addParameter("string",e('Slot name (use "" if names are the same)')).useStandardParameters("number",t.ParameterOptions.makeNewOptions()).setFunctionName("getPointAttachmentY"),a},runExtensionSanityTests:function(e,t){return[]},registerEditorConfigurations:function(e){},registerInstanceRenderers:function(e){var t=e.PIXI,a=e.RenderedInstance,u=e.gd,h=function(e){"use strict";l(f,e);var h=d(f);function f(e,a,n,s,o){var l;return i(this,f),l=h.call(this,e,a,n,s,o),c(r(l),"_spine",null),c(r(l),"_rect",new t.Graphics),c(r(l),"_initialWidth",256),c(r(l),"_initialHeight",256),c(r(l),"_animationIndex",-1),c(r(l),"_spineOriginOffsetX",0),c(r(l),"_spineOriginOffsetY",0),l._rect.alpha=0,l._pixiObject=new t.Container,l._pixiObject.addChild(l._rect),l._pixiContainer.addChild(l._pixiObject),l._spineResourceName="",l._loadSpine(),l}return n(f,[{key:"update",value:function(){var e=u.castObject(this._associatedObjectConfiguration,u.SpineObjectConfiguration),t=e.getSpineResourceName();this._spineResourceName!==t&&(this._spineResourceName=t,this._loadSpine()),this._pixiObject.position.set(this._instance.getX(),this._instance.getY()),this._pixiObject.rotation=a.toRad(this._instance.getAngle());var i=Math.max(this._instance.getOpacity()/255,.5);this._pixiObject.alpha=i,this._pixiObject.scale.x=Math.abs(this._pixiObject.scale.x)*(this._instance.isFlippedX()?-1:1),this._pixiObject.scale.y=Math.abs(this._pixiObject.scale.y)*(this._instance.isFlippedY()?-1:1),this.setAnimation(this._instance.getRawDoubleProperty("animation"));var n=e.getScale()||1,r=this._spine;if(r){var s=r.getLocalBounds(void 0,!0);this._initialWidth=s.width*n,this._initialHeight=s.height*n}var o=this.getWidth(),l=this.getHeight();if(r){r.width=o,r.height=l;var d=r.getLocalBounds(void 0,!0);this._spineOriginOffsetX=d.x*r.scale.x,this._spineOriginOffsetY=d.y*r.scale.y,this._rect.position.set(this._spineOriginOffsetX,this._spineOriginOffsetY)}this._rect.clear(),this._rect.beginFill(16777215),this._rect.lineStyle(1,16711680),this._rect.drawRect(0,0,o,l)}},{key:"getOriginX",value:function(){return-this._spineOriginOffsetX}},{key:"getOriginY",value:function(){return-this._spineOriginOffsetY}},{key:"getCenterX",value:function(){return this.getOriginX()}},{key:"getCenterY",value:function(){return this.getOriginY()}},{key:"setAnimation",value:function(e){var t=this._spine,a=u.asSpineConfiguration(this._associatedObjectConfiguration);if(t&&!a.hasNoAnimations()&&e!==this._animationIndex){!Number.isInteger(e)||e<0?e=0:a.getAnimationsCount()<=e&&(e=a.getAnimationsCount()-1),this._animationIndex=e;var i=a.getAnimation(e),n=i.getSource(),r=i.shouldLoop();t.scale.set(1,1),t.state.setAnimation(0,n,r),t.state.tracks[0].trackTime=0,t.update(0),t.autoUpdate=!1}}},{key:"getDefaultWidth",value:function(){return this._initialWidth}},{key:"getDefaultHeight",value:function(){return this._initialHeight}},{key:"onRemovedFromScene",value:function(){s(o(f.prototype),"onRemovedFromScene",this).call(this),this._pixiObject.destroy({children:!0})}},{key:"_loadSpine",value:function(){var e=this;this._pixiResourcesLoader.getSpineData(this._project,this._spineResourceName).then((function(a){if(!e._wasDestroyed){if(e._spine&&e._pixiObject.removeChild(e._spine),!a.skeleton)return console.error("Unable to load Spine ("+(a.loadingErrorReason||"Unknown reason")+")",a.loadingError),void(e._spine=null);try{e._spine=new t.Spine(a.skeleton),e._pixiObject.addChild(e._spine)}catch(i){console.error("Exception while loading Spine.",i),e._spine=null}}}))}}],[{key:"getThumbnail",value:function(e,t,a){return"JsPlatform/Extensions/spine.svg"}}]),f}(a);e.registerInstanceRenderer("SpineObject::SpineObject",h)}}},88306:function(e,t,a){var i=a(56690).default,n=a(89728).default,r=a(41588).default,s=a(73808).default,o=a(61655).default,l=a(26389).default;e.exports={createExtension:function(e,t){var a=new t.PlatformExtension;a.setExtensionInformation("TextInput",e("Text Input"),e("A text field the player can type text into."),"Florian Rival","MIT").setCategory("User interface"),a.addInstructionOrExpressionGroupMetadata(e("Text Input")).setIcon("JsPlatform/Extensions/text_input.svg");var i=new t.ObjectJsImplementation;i.updateProperty=function(e,t){var a=this.content;return"initialValue"===e?(a.initialValue=t,!0):"placeholder"===e?(a.placeholder=t,!0):"fontResourceName"===e?(a.fontResourceName=t,!0):"fontSize"===e?(a.fontSize=Math.max(1,parseFloat(t)),!0):"inputType"===e?(a.inputType=t,!0):"textColor"===e?(a.textColor=t,!0):"fillColor"===e?(a.fillColor=t,!0):"fillOpacity"===e?(a.fillOpacity=Math.max(0,Math.min(255,parseFloat(t))),!0):"borderColor"===e?(a.borderColor=t,!0):"borderOpacity"===e?(a.borderOpacity=Math.max(0,Math.min(255,parseFloat(t))),!0):"borderWidth"===e?(a.borderWidth=Math.max(0,parseFloat(t)),!0):"readOnly"===e?(a.readOnly="1"===t,!0):"disabled"===e?(a.disabled="1"===t,!0):"spellCheck"===e?(a.spellCheck="1"===t,!0):"maxLength"===e?(a.maxLength=t,!0):"paddingX"===e?(a.paddingX=Math.max(0,parseFloat(t)),!0):"paddingY"===e?(a.paddingY=Math.max(0,parseFloat(t)),!0):"textAlign"===e&&(a.textAlign=t,!0)},i.getProperties=function(){var a=new t.MapStringPropertyDescriptor,i=this.content;return a.getOrCreate("initialValue").setValue(i.initialValue).setType("string").setLabel(e("Initial value")).setGroup(e("Content")),a.getOrCreate("placeholder").setValue(i.placeholder).setType("string").setLabel(e("Placeholder")).setGroup(e("Content")),a.getOrCreate("fontResourceName").setValue(i.fontResourceName||"").setType("resource").addExtraInfo("font").setLabel(e("Font")).setGroup(e("Font")),a.getOrCreate("fontSize").setValue((i.fontSize||20).toString()).setType("number").setLabel(e("Font size (px)")).setGroup(e("Font")),a.getOrCreate("inputType").setValue(i.inputType||"").setType("choice").addChoice("text",e("Text")).addChoice("text area",e("Text area")).addChoice("email",e("Email")).addChoice("password",e("Password")).addChoice("number",e("Number")).addChoice("telephone number",e("Telephone number")).addChoice("url",e("URL")).addChoice("search",e("Search")).setLabel(e("Input type")).setDescription(e('By default, a "text" is single line. Choose "text area" to allow multiple lines to be entered.')),a.getOrCreate("readOnly").setValue(i.readOnly?"true":"false").setType("boolean").setLabel(e("Read only")).setGroup(e("Field")),a.getOrCreate("disabled").setValue(i.disabled?"true":"false").setType("boolean").setLabel(e("Disabled")).setGroup(e("Field")),a.getOrCreate("spellCheck").setValue(i.spellCheck?"true":"false").setType("boolean").setLabel(e("Enable spell check")).setGroup(e("Field")),a.getOrCreate("textColor").setValue(i.textColor||"0;0;0").setType("color").setLabel(e("Text color")).setGroup(e("Font")),a.getOrCreate("fillColor").setValue(i.fillColor||"255;255;255").setType("color").setLabel(e("Fill color")).setGroup(e("Field appearance")),a.getOrCreate("fillOpacity").setValue((void 0!=i.fillOpacity?i.fillOpacity:255).toString()).setType("number").setLabel(e("Fill opacity")).setGroup(e("Field appearance")),a.getOrCreate("borderColor").setValue(i.borderColor||"0;0;0").setType("color").setLabel(e("Color")).setGroup(e("Border appearance")),a.getOrCreate("borderOpacity").setValue((void 0!=i.borderOpacity?i.borderOpacity:255).toString()).setType("number").setLabel(e("Opacity")).setGroup(e("Border appearance")),a.getOrCreate("borderWidth").setValue((i.borderWidth||0).toString()).setType("number").setLabel(e("Width")).setGroup(e("Border appearance")),a.getOrCreate("paddingX").setValue((void 0!==i.paddingX?i.paddingX:2).toString()).setType("number").setLabel(e("Padding (horizontal)")).setGroup(e("Field appearance")),a.getOrCreate("paddingY").setValue((void 0!==i.paddingY?i.paddingY:1).toString()).setType("number").setLabel(e("Padding (vertical)")).setGroup(e("Field appearance")),a.getOrCreate("maxLength").setValue((i.maxLength||0).toString()).setType("number").setLabel(e("Max length")).setDescription(e("The maximum length of the input value (this property will be ignored if the input type is a number).")).setAdvanced(!0),a.getOrCreate("textAlign").setValue(i.textAlign||"left").setType("choice").addChoice("left",e("Left")).addChoice("center",e("Center")).addChoice("right",e("Right")).setLabel(e("Text alignment")).setGroup(e("Field appearance")),a},i.content={initialValue:"",placeholder:"Touch to start typing",fontResourceName:"",fontSize:20,inputType:"text",textColor:"0;0;0",fillColor:"255;255;255",fillOpacity:255,borderColor:"0;0;0",borderOpacity:255,borderWidth:1,readOnly:!1,disabled:!1,spellCheck:!1,paddingX:2,paddingY:1,textAlign:"left",maxLength:0},i.updateInitialInstanceProperty=function(e,t,a){return"initialValue"===t?(e.setRawStringProperty("initialValue",a),!0):"placeholder"===t&&(e.setRawStringProperty("placeholder",a),!0)},i.getInitialInstanceProperties=function(a){var i=new t.MapStringPropertyDescriptor;return i.getOrCreate("initialValue").setValue(a.getRawStringProperty("initialValue")).setType("string").setLabel(e("Initial value")),i.getOrCreate("placeholder").setValue(a.getRawStringProperty("placeholder")).setType("string").setLabel(e("Placeholder")),i};var n=a.addObject("TextInputObject",e("Text input"),e("A text field the player can type text into."),"JsPlatform/Extensions/text_input.svg",i).setCategoryFullName(e("User interface")).setIncludeFile("Extensions/TextInput/textinputruntimeobject.js").addIncludeFile("Extensions/TextInput/textinputruntimeobject-pixi-renderer.js").addDefaultBehavior("TextContainerCapability::TextContainerBehavior").addDefaultBehavior("ResizableCapability::ResizableBehavior").addDefaultBehavior("OpacityCapability::OpacityBehavior");return n.addExpressionAndConditionAndAction("string","Text",e("Text"),e("the text"),e("the text"),"","res/conditions/text24_black.png").setHidden().addParameter("object",e("Text input"),"TextInputObject",!1).useStandardParameters("string",t.ParameterOptions.makeNewOptions().setDescription(e("Text"))).setFunctionName("setText").setGetter("getText"),n.addStrExpression("Text",e("Text"),e("Return the text."),"","res/conditions/text24_black.png").setHidden().addParameter("object",e("Text input"),"TextInputObject",!1).setFunctionName("getText"),n.addExpressionAndConditionAndAction("string","Placeholder",e("Placeholder"),e("the placeholder"),e("the placeholder"),"","res/conditions/text24_black.png").addParameter("object",e("Text input"),"TextInputObject",!1).useStandardParameters("string",t.ParameterOptions.makeNewOptions().setDescription(e("Text"))).setFunctionName("setPlaceholder").setGetter("getPlaceholder"),n.addExpressionAndConditionAndAction("number","Font size",e("Font size"),e("the font size"),e("the font size"),e("Font"),"res/conditions/opacity24.png").addParameter("object",e("Text input"),"TextInputObject",!1).useStandardParameters("number",t.ParameterOptions.makeNewOptions()).setFunctionName("setFontSize").setGetter("getFontSize"),n.addExpressionAndCondition("string","FontResourceName",e("Font name"),e("the font name"),e("the font name"),e("Font"),"res/conditions/font24.png").addParameter("object",e("Text input"),"TextInputObject",!1).useStandardParameters("string",t.ParameterOptions.makeNewOptions()).setFunctionName("getFontResourceName"),n.addScopedAction("SetFontResourceName",e("Font name"),e("Set the font of the object."),e("Set the font of _PARAM0_ to _PARAM1_"),e("Font"),"res/actions/font24.png","res/actions/font.png").addParameter("object",e("Text input"),"TextInputObject",!1).addParameter("fontResource",e("Font resource name"),"",!1).getCodeExtraInformation().setFunctionName("setFontResourceName"),n.addExpressionAndConditionAndAction("string","InputType",e("Input type"),e("the input type"),e("the input type"),e("Type"),"res/conditions/text24_black.png").addParameter("object",e("Text input"),"TextInputObject",!1).useStandardParameters("stringWithSelector",t.ParameterOptions.makeNewOptions().setDescription(e("Input type")).setTypeExtraInfo(JSON.stringify(["text","text area","email","password","number","telephone number","url","search"]))).setFunctionName("setInputType").setGetter("getInputType"),n.addScopedAction("SetTextColor",e("Text color"),e("Set the text color of the object."),e("Set the text color of _PARAM0_ to _PARAM1_"),e("Field appearance"),"res/actions/color24.png","res/actions/color.png").addParameter("object",e("Text input"),"TextInputObject",!1).addParameter("color",e("Color"),"",!1).getCodeExtraInformation().setFunctionName("setTextColor"),n.addScopedAction("SetFillColor",e("Fill color"),e("Set the fill color of the object."),e("Set the fill color of _PARAM0_ to _PARAM1_"),e("Field appearance"),"res/actions/color24.png","res/actions/color.png").addParameter("object",e("Text input"),"TextInputObject",!1).addParameter("color",e("Color"),"",!1).getCodeExtraInformation().setFunctionName("setFillColor"),n.addExpressionAndConditionAndAction("number","FillOpacity",e("Fill opacity"),e("the fill opacity, between 0 (fully transparent) and 255 (opaque)"),e("the fill opacity"),e("Field appearance"),"res/conditions/opacity24.png").addParameter("object",e("Text input"),"TextInputObject",!1).useStandardParameters("number",t.ParameterOptions.makeNewOptions().setDescription(e("Opacity (0-255)"))).setFunctionName("setFillOpacity").setGetter("getFillOpacity"),n.addScopedAction("SetBorderColor",e("Border color"),e("Set the border color of the object."),e("Set the border color of _PARAM0_ to _PARAM1_"),e("Field appearance"),"res/actions/color24.png","res/actions/color.png").addParameter("object",e("Text input"),"TextInputObject",!1).addParameter("color",e("Color"),"",!1).getCodeExtraInformation().setFunctionName("setBorderColor"),n.addExpressionAndConditionAndAction("number","BorderOpacity",e("Border opacity"),e("the border opacity, between 0 (fully transparent) and 255 (opaque)"),e("the border opacity"),e("Field appearance"),"res/conditions/opacity24.png").addParameter("object",e("Text input"),"TextInputObject",!1).useStandardParameters("number",t.ParameterOptions.makeNewOptions().setDescription(e("Opacity (0-255)"))).setFunctionName("setBorderOpacity").setGetter("getBorderOpacity"),n.addExpressionAndConditionAndAction("number","BorderWidth",e("Border width"),e("the border width"),e("the border width"),e("Field appearance"),"res/conditions/outlineSize24_black.png").addParameter("object",e("Text input"),"TextInputObject",!1).useStandardParameters("number",t.ParameterOptions.makeNewOptions()).setFunctionName("setBorderWidth").setGetter("getBorderWidth"),n.addExpressionAndConditionAndAction("boolean","ReadOnly",e("Read-only"),e("the text input is read-only"),e("read-only"),"","res/conditions/text24_black.png").addParameter("object",e("Text input"),"TextInputObject",!1).useStandardParameters("boolean",t.ParameterOptions.makeNewOptions().setDescription(e("Read-only?"))).setFunctionName("setReadOnly").setGetter("isReadOnly"),n.addExpressionAndConditionAndAction("boolean","Disabled",e("Disabled"),e("the text input is disabled"),e("disabled"),"","res/conditions/text24_black.png").addParameter("object",e("Text input"),"TextInputObject",!1).useStandardParameters("boolean",t.ParameterOptions.makeNewOptions()).setFunctionName("setDisabled").setGetter("isDisabled"),n.addExpressionAndConditionAndAction("boolean","SpellCheck",e("Spell check enabled"),e("spell check is enabled"),e("spell check enabled"),"","res/conditions/text24_black.png").addParameter("object",e("Text input"),"TextInputObject",!1).useStandardParameters("boolean",t.ParameterOptions.makeNewOptions()).setFunctionName("setSpellCheck").setGetter("isSpellCheckEnabled"),n.addExpressionAndConditionAndAction("number","Opacity",e("Opacity"),e("the opacity, between 0 (fully transparent) and 255 (opaque)"),e("the opacity"),"","res/conditions/opacity24.png").addParameter("object",e("Text input"),"TextInputObject",!1).useStandardParameters("number",t.ParameterOptions.makeNewOptions().setDescription(e("Opacity (0-255)"))).setFunctionName("setOpacity").setGetter("getOpacity").setHidden(),n.addScopedCondition("Focused",e("Focused"),e("Check if the text input is focused (the cursor is in the field and player can type text in)."),e("_PARAM0_ is focused"),"","res/conditions/surObjet24.png","res/conditions/surObjet.png").addParameter("object",e("Text input"),"TextInputObject",!1).getCodeExtraInformation().setFunctionName("isFocused"),n.addScopedCondition("IsInputSubmitted",e("Input is submitted"),e("Check if the input is submitted, which usually happens when the Enter key is pressed on a keyboard, or a specific button on mobile virtual keyboards."),e("_PARAM0_ value was submitted"),"","res/conditions/surObjet24.png","res/conditions/surObjet.png").addParameter("object",e("Text input"),"TextInputObject",!1).getCodeExtraInformation().setFunctionName("isSubmitted"),n.addScopedAction("Focus",e("Focus"),e("Focus the input so that text can be entered (like if it was touched/clicked)."),e("Focus _PARAM0_"),e(""),"res/conditions/surObjet24.png","res/conditions/surObjet.png").addParameter("object",e("Text input"),"TextInputObject",!1).getCodeExtraInformation().setFunctionName("focus"),a},runExtensionSanityTests:function(e,t){return[]},registerEditorConfigurations:function(e){e.registerEditorConfiguration("TextInput::TextInputObject",e.getDefaultObjectJsImplementationPropertiesEditor({helpPagePath:"/objects/text_input"}))},registerInstanceRenderers:function(e){var t=e.RenderedInstance,a=e.PIXI,d=function(d){"use strict";o(u,d);var c=l(u);function u(e,t,n,r,s){var o;return i(this,u),(o=c.call(this,e,t,n,r,s))._fontResourceName="",o._finalTextColor=0,o._pixiGraphics=new a.Graphics,o._pixiTextMask=new a.Graphics,o._pixiText=new a.Text(" ",{align:"left",fontSize:20}),o._pixiText.mask=o._pixiTextMask,o._pixiObject=new a.Container,o._pixiObject.addChild(o._pixiGraphics),o._pixiObject.addChild(o._pixiText),o._pixiObject.addChild(o._pixiTextMask),o._pixiContainer.addChild(o._pixiObject),o.update(),o}return n(u,[{key:"onRemovedFromScene",value:function(){r(s(u.prototype),"onRemovedFromScene",this).call(this),this._pixiText.destroy(!0),this._pixiObject.destroy({children:!0})}},{key:"update",value:function(){var a=this,i=this._instance,n=gd.castObject(this._associatedObjectConfiguration,gd.ObjectJsImplementation),r=i.getRawStringProperty("placeholder")||n.content.placeholder,s=i.getRawStringProperty("initialValue")||n.content.initialValue,o=""!==s;this._pixiText.text=o?s:r;var l=n.content.textColor,d=o?e.rgbOrHexToHexNumber(l):8947848;this._finalTextColor!==d&&(this._finalTextColor=d,this._pixiText.style.fill=d,this._pixiText.dirty=!0);var c=n.content.fontSize;this._pixiText.style.fontSize!==c&&(this._pixiText.style.fontSize=c,this._pixiText.dirty=!0);var u=n.content.fontResourceName;this._fontResourceName!==u&&(this._fontResourceName=u,this._pixiResourcesLoader.loadFontFamily(this._project,u).then((function(e){a._wasDestroyed||(a._pixiText.style.fontFamily=e,a._pixiText.dirty=!0)})).catch((function(e){console.warn("Unable to load font family for RenderedTextInputObjectInstance",e)})));var h=300,f=30;i.hasCustomSize()&&(h=this.getCustomWidth(),f=this.getCustomHeight()),this._pixiObject.pivot.x=h/2,this._pixiObject.pivot.y=f/2,this._pixiObject.position.x=i.getX()+h/2,this._pixiObject.position.y=i.getY()+f/2,this._pixiObject.rotation=t.toRad(this._instance.getAngle());var p=n.content.borderWidth||0,m=void 0!==n.content.paddingX?Math.min(parseFloat(n.content.paddingX),h/2-p):2,g=void 0!==n.content.paddingY?Math.min(parseFloat(n.content.paddingY),f/2-p):1,v=p+m,b=p;this._pixiTextMask.clear(),this._pixiTextMask.beginFill(14540253,1),this._pixiTextMask.drawRect(v,b,h-2*v,f-2*b),this._pixiTextMask.endFill();var y="text area"===n.content.inputType,x=n.content.textAlign?n.content.textAlign:"left";"left"===x?this._pixiText.position.x=v:"right"===x?this._pixiText.position.x=0+h-this._pixiText.width-v:"center"===x&&(this._pixiText.align="center",this._pixiText.position.x=0+h/2-this._pixiText.width/2),this._pixiText.position.y=y?b+g:f/2-this._pixiText.height/2;var _=n.content.fillColor,P=n.content.fillOpacity,A=n.content.borderColor,E=n.content.borderOpacity;this._pixiGraphics.clear(),this._pixiGraphics.lineStyle(p,e.rgbOrHexToHexNumber(A),E/255),this._pixiGraphics.beginFill(e.rgbOrHexToHexNumber(_),P/255),this._pixiGraphics.drawRect(0,0,h,f),this._pixiGraphics.endFill();var T=Math.max(this._instance.getOpacity()/255,.5);this._pixiObject.alpha=T}},{key:"getDefaultWidth",value:function(){return 300}},{key:"getDefaultHeight",value:function(){return 30}}],[{key:"getThumbnail",value:function(e,t,a){return"JsPlatform/Extensions/text_input.svg"}}]),u}(t);e.registerInstanceRenderer("TextInput::TextInputObject",d)}}},24767:function(e,t,a){var i="/",n=a(66115).default,r=a(38416).default,s=a(74704).default,o=a(17061).default,l=a(17156).default,d=a(56690).default,c=a(89728).default,u=a(41588).default,h=a(73808).default,f=a(61655).default,p=a(26389).default;e.exports={createExtension:function(e,t){var a=new t.PlatformExtension;return a.setExtensionInformation("TileMap",e("Tile map"),e("The Tilemap object can be used to display tile-based objects. It's a good way to create maps for RPG, strategy games or create objects by assembling tiles, useful for platformer, retro-looking games, etc... External tilemaps are also supported - but it's recommended to use the built-in, simple Tilemap object for most use cases."),"Todor Imreorov","Open source (MIT License)").setCategory("Advanced").setExtensionHelpPath("/objects/tilemap"),a.addInstructionOrExpressionGroupMetadata(e("Tilemap")).setIcon("JsPlatform/Extensions/tile_map.svg"),function(e,t,a){var i=new a.ObjectJsImplementation;i.updateProperty=function(e,t){var a=this.content;return"tilemapJsonFile"===e?(a.tilemapJsonFile=t,!0):"tilesetJsonFile"===e?(a.tilesetJsonFile=t,!0):"tilemapAtlasImage"===e?(a.tilemapAtlasImage=t,!0):"displayMode"===e?(a.displayMode=t,!0):"layerIndex"===e?(a.layerIndex=parseFloat(t),!0):"levelIndex"===e?(a.levelIndex=parseFloat(t),!0):"animationSpeedScale"===e?(a.animationSpeedScale=parseFloat(t),!0):"animationFps"===e&&(a.animationFps=parseFloat(t),!0)},i.getProperties=function(){var e=new a.MapStringPropertyDescriptor,i=this.content;return e.set("tilemapJsonFile",new a.PropertyDescriptor(i.tilemapJsonFile).setType("resource").addExtraInfo("tilemap").addExtraInfo("json").setLabel(t("Tilemap file (Tiled or LDtk)")).setDescription(t("This is the file that was saved or exported from Tiled or LDtk.")).setGroup(t("LDtk or Tiled"))),e.set("tilesetJsonFile",new a.PropertyDescriptor(i.tilesetJsonFile||"").setType("resource").addExtraInfo("tileset").addExtraInfo("json").setLabel(t("Tileset JSON file (optional)")).setDescription(t("Optional: specify this if you've saved the tileset in a different file as the Tiled tilemap.")).setGroup(t("Tiled only"))),e.set("tilemapAtlasImage",new a.PropertyDescriptor(i.tilemapAtlasImage).setType("resource").addExtraInfo("image").setLabel(t("Atlas image")).setDescription(t("The Atlas image containing the tileset.")).setGroup(t("Tiled only"))),e.set("displayMode",new a.PropertyDescriptor(i.displayMode).setType("choice").addChoice("visible",t("Visible layers")).addChoice("all",t("All layers")).addChoice("index",t("Only the layer with the specified index")).setLabel(t("Display mode")).setGroup(t("Appearance"))),e.set("layerIndex",new a.PropertyDescriptor(i.layerIndex.toString()).setType("number").setLabel(t("Layer index to display")).setDescription(t('If "index" is selected as the display mode, this is the index of the layer to display.')).setGroup(t("Appearance"))),e.set("levelIndex",new a.PropertyDescriptor((i.levelIndex||0).toString()).setType("number").setLabel(t("Level index to display")).setDescription(t("Select which level to render via its index (LDtk)")).setGroup(t("Appearance"))),e.set("animationSpeedScale",new a.PropertyDescriptor(i.animationSpeedScale.toString()).setType("number").setLabel(t("Animation speed scale")).setGroup(t("Animation"))),e.set("animationFps",new a.PropertyDescriptor(i.animationFps.toString()).setType("number").setLabel(t("Animation FPS")).setGroup(t("Animation"))),e},i.content={tilemapJsonFile:"",tilesetJsonFile:"",tilemapAtlasImage:"",displayMode:"visible",layerIndex:0,levelIndex:0,animationSpeedScale:1,animationFps:4},i.updateInitialInstanceProperty=function(e,t,a){return!1},i.getInitialInstanceProperties=function(e){return new a.MapStringPropertyDescriptor};var n=e.addObject("TileMap",t("External Tilemap (Tiled/LDtk)"),t("Displays a tiled-based map, made with the Tiled editor (https://www.mapeditor.org/) or the LDtk editor (https://ldtk.io/)."),"JsPlatform/Extensions/tile_map.svg",i).setCategoryFullName(t("Advanced")).addDefaultBehavior("ResizableCapability::ResizableBehavior").addDefaultBehavior("ScalableCapability::ScalableBehavior").addDefaultBehavior("OpacityCapability::OpacityBehavior").setIncludeFile("Extensions/TileMap/tilemapruntimeobject.js").addIncludeFile("Extensions/TileMap/TileMapRuntimeManager.js").addIncludeFile("Extensions/TileMap/tilemapruntimeobject-pixi-renderer.js").addIncludeFile("Extensions/TileMap/pixi-tilemap/dist/pixi-tilemap.umd.js").addIncludeFile("Extensions/TileMap/pako/dist/pako.min.js").addIncludeFile("Extensions/TileMap/helper/TileMapHelper.js");n.addCondition("TilemapJsonFile",t("Tilemap file (Tiled or LDtk)"),t("Check the tilemap file (Tiled or LDtk) being used."),t("The tilemap file of _PARAM0_ is _PARAM1_"),"","JsPlatform/Extensions/tile_map.svg","JsPlatform/Extensions/tile_map.svg").addParameter("object",t("Tile map"),"TileMap",!1).addParameter("tilemapResource",t("Tilemap file (Tiled or LDtk)"),"",!1).getCodeExtraInformation().setFunctionName("isTilemapJsonFile"),n.addAction("SetTilemapJsonFile",t("Tilemap file (Tiled or LDtk)"),t("Set the Tiled or LDtk file containing the Tilemap data to display. This is usually the main file exported from Tiled/LDtk."),t("Set the tilemap file of _PARAM0_ to _PARAM1_"),"","JsPlatform/Extensions/tile_map.svg","JsPlatform/Extensions/tile_map.svg").addParameter("object",t("Tile map"),"TileMap",!1).addParameter("tilemapResource",t("Tilemap file (Tiled or LDtk)"),"",!1).getCodeExtraInformation().setFunctionName("setTilemapJsonFile"),n.addCondition("TilesetJsonFile",t("Tileset JSON file"),t("Check the tileset JSON file being used."),t("The tileset JSON file of _PARAM0_ is _PARAM1_"),"","JsPlatform/Extensions/tile_map.svg","JsPlatform/Extensions/tile_map.svg").addParameter("object",t("Tile map"),"TileMap",!1).addParameter("tilesetResource",t("Tileset JSON file"),"",!1).getCodeExtraInformation().setFunctionName("isTilesetJsonFile"),n.addAction("SetTilesetJsonFile",t("Tileset JSON file"),t("Set the JSON file with the tileset data (sometimes that is embedded in the Tilemap, so not needed)"),t("Set the tileset JSON file of _PARAM0_ to _PARAM1_"),"","JsPlatform/Extensions/tile_map.svg","JsPlatform/Extensions/tile_map.svg").addParameter("object",t("Tile map"),"TileMap",!1).addParameter("tilesetResource",t("Tileset JSON file"),"",!1).getCodeExtraInformation().setFunctionName("setTilesetJsonFile"),n.addCondition("DisplayMode",t("Display mode"),t("Compare the value of the display mode."),t("The display mode of _PARAM0_ is _PARAM1_"),"","JsPlatform/Extensions/tile_map.svg","JsPlatform/Extensions/tile_map.svg").addParameter("object",t("Tile map"),"TileMap",!1).addParameter("stringWithSelector",t("Display mode"),'["visible", "all", "index"]',!1).getCodeExtraInformation().setFunctionName("isDisplayMode"),n.addAction("SetDisplayMode",t("Display mode"),t("Set the display mode"),t("Set the display mode of _PARAM0_ to _PARAM1_"),"","JsPlatform/Extensions/tile_map.svg","JsPlatform/Extensions/tile_map.svg").addParameter("object",t("Tile map"),"TileMap",!1).addParameter("stringWithSelector",t("Display mode"),'["visible", "all", "index"]',!1).getCodeExtraInformation().setFunctionName("setDisplayMode"),n.addCondition("LayerIndex",t("Layer index"),t("Compare the value of the layer index."),t("the layer index"),"","JsPlatform/Extensions/tile_map.svg","JsPlatform/Extensions/tile_map.svg").addParameter("object",t("Tile map"),"TileMap",!1).useStandardRelationalOperatorParameters("number",a.ParameterOptions.makeNewOptions()).getCodeExtraInformation().setFunctionName("getLayerIndex"),n.addAction("SetLayerIndex",t("Layer index"),t("Set the layer index of the Tilemap."),t("the layer index"),"","JsPlatform/Extensions/tile_map.svg","JsPlatform/Extensions/tile_map.svg").addParameter("object",t("Tile map"),"TileMap",!1).useStandardOperatorParameters("number",a.ParameterOptions.makeNewOptions()).getCodeExtraInformation().setFunctionName("setLayerIndex").setGetter("getLayerIndex"),n.addExpression("LayerIndex",t("Layer index"),t("Get the layer index being displayed"),"","JsPlatform/Extensions/tile_map.svg").addParameter("object",t("Tile map"),"TileMap",!1).getCodeExtraInformation().setFunctionName("getLayerIndex"),n.addExpressionAndCondition("number","LevelIndex",t("Level index"),t("the level index being displayed."),t("the level index"),"","JsPlatform/Extensions/tile_map.svg").addParameter("object",t("Tile map"),"TileMap",!1).useStandardParameters("number",a.ParameterOptions.makeNewOptions()).setFunctionName("getLevelIndex"),n.addCondition("AnimationSpeedScale",t("Animation speed scale"),t("Compare the animation speed scale."),t("the animation speed scale"),"","JsPlatform/Extensions/tile_map.svg","JsPlatform/Extensions/tile_map.svg").addParameter("object",t("Tile map"),"TileMap",!1).useStandardRelationalOperatorParameters("number",a.ParameterOptions.makeNewOptions().setDescription(t("Speed scale to compare to (1 by default)"))).getCodeExtraInformation().setFunctionName("getAnimationSpeedScale"),n.addAction("SetAnimationSpeedScale",t("Animation speed scale"),t("Set the animation speed scale of the Tilemap."),t("the animation speed scale"),"","JsPlatform/Extensions/tile_map.svg","JsPlatform/Extensions/tile_map.svg").addParameter("object",t("Tile map"),"TileMap",!1).useStandardOperatorParameters("number",a.ParameterOptions.makeNewOptions().setDescription(t("Speed scale (1 by default)"))).getCodeExtraInformation().setFunctionName("setAnimationSpeedScale").setGetter("getAnimationSpeedScale"),n.addExpression("AnimationSpeedScale",t("Animation speed scale"),t("Get the Animation speed scale"),"","JsPlatform/Extensions/tile_map.svg").addParameter("object",t("Tile map"),"TileMap",!1).getCodeExtraInformation().setFunctionName("getAnimationSpeedScale"),n.addCondition("AnimationFps",t("Animation speed (FPS)"),t("Compare the animation speed."),t("the animation speed (FPS)"),"","JsPlatform/Extensions/tile_map.svg","JsPlatform/Extensions/tile_map.svg").addParameter("object",t("Tile map"),"TileMap",!1).useStandardRelationalOperatorParameters("number",a.ParameterOptions.makeNewOptions().setDescription(t("Animation speed to compare to (in frames per second)"))).getCodeExtraInformation().setFunctionName("getAnimationFps"),n.addAction("SetAnimationFps",t("Animation speed (FPS)"),t("Set the animation speed of the Tilemap."),t("the animation speed (FPS)"),"","JsPlatform/Extensions/tile_map.svg","JsPlatform/Extensions/tile_map.svg").addParameter("object",t("Tile map"),"TileMap",!1).useStandardOperatorParameters("number",a.ParameterOptions.makeNewOptions().setDescription(t("Animation speed (in frames per second)"))).getCodeExtraInformation().setFunctionName("setAnimationFps").setGetter("getAnimationFps"),n.addExpression("AnimationFps",t("Animation speed (FPS)"),t("Get the animation speed (in frames per second)"),"","JsPlatform/Extensions/tile_map.svg").addParameter("object",t("Tile map"),"TileMap",!1).getCodeExtraInformation().setFunctionName("getAnimationFps"),n.addAction("Scale",t("Scale"),t("Modify the scale of the specified object."),t("the scale"),t("Size"),"res/actions/scale24_black.png","res/actions/scale_black.png").addParameter("object",t("Tile map"),"TileMap",!1).useStandardOperatorParameters("number",a.ParameterOptions.makeNewOptions().setDescription(t("Scale (1 by default)"))).markAsAdvanced().setHidden().getCodeExtraInformation().setFunctionName("setScale").setGetter("getScale"),n.addExpressionAndConditionAndAction("number","ScaleX",t("Scale on X axis"),t("the width's scale of an object"),t("the width's scale"),t("Size"),"res/actions/scaleWidth24_black.png").addParameter("object",t("Tile map"),"TileMap",!1).useStandardParameters("number",a.ParameterOptions.makeNewOptions().setDescription(t("Scale (1 by default)"))).markAsAdvanced().setHidden().setFunctionName("setScaleX").setGetter("getScaleX"),n.addExpressionAndConditionAndAction("number","ScaleY",t("Scale on Y axis"),t("the height's scale of an object"),t("the height's scale"),t("Size"),"res/actions/scaleHeight24_black.png").addParameter("object",t("Tile map"),"TileMap",!1).useStandardParameters("number",a.ParameterOptions.makeNewOptions().setDescription(t("Scale (1 by default)"))).markAsAdvanced().setHidden().setFunctionName("setScaleY").setGetter("getScaleY"),n.addAction("Width",t("Width"),t("Change the width of an object."),t("the width"),t("Size"),"res/actions/scaleWidth24_black.png","res/actions/scaleWidth_black.png").addParameter("object",t("Tile map"),"TileMap",!1).useStandardOperatorParameters("number",a.ParameterOptions.makeNewOptions()).markAsAdvanced().setHidden().getCodeExtraInformation().setFunctionName("setWidth"),n.addAction("Height",t("Height"),t("Change the height of an object."),t("the height"),t("Size"),"res/actions/scaleHeight24_black.png","res/actions/scaleHeight_black.png").addParameter("object",t("Tile map"),"TileMap",!1).useStandardOperatorParameters("number",a.ParameterOptions.makeNewOptions()).markAsAdvanced().setHidden().getCodeExtraInformation().setFunctionName("setHeight")}(a,e,t),function(e,t,a){var i=new a.ObjectJsImplementation;i.updateProperty=function(e,t){var a=this.content;return"atlasImage"===e?(a.atlasImage=t,!0):"columnCount"===e?(a.columnCount=parseFloat(t),!0):"rowCount"===e?(a.rowCount=parseFloat(t),!0):"tileSize"===e?(a.tileSize=parseFloat(t),!0):"tilesWithHitBox"===e&&(a.tilesWithHitBox=t,!0)},i.getProperties=function(){var e=new a.MapStringPropertyDescriptor,i=this.content;return e.set("columnCount",new a.PropertyDescriptor(("undefined"===typeof i.columnCount?4:i.columnCount).toString()).setType("number").setLabel(t("Columns")).setDescription(t("Number of columns.")).setHidden(!0)),e.set("rowCount",new a.PropertyDescriptor(("undefined"===typeof i.rowCount?4:i.rowCount).toString()).setType("number").setLabel(t("Rows")).setDescription(t("Number of rows.")).setHidden(!0)),e.set("tileSize",new a.PropertyDescriptor(("undefined"===typeof i.tileSize?8:i.tileSize).toString()).setType("number").setLabel(t("Tile size")).setDescription(t("Tile size in pixels.")).setHidden(!0)),e.set("tilesWithHitBox",new a.PropertyDescriptor(i.tilesWithHitBox||"").setType("string").setLabel(t("Tile ids with hit box")).setDescription(t("The list of tile ids with a hit box (separated by commas).")).setHidden(!0)),e.set("atlasImage",new a.PropertyDescriptor(i.atlasImage).setType("resource").addExtraInfo("image").setLabel(t("Atlas image")).setDescription(t("The Atlas image containing the tileset.")).setHidden(!0)),e},i.content={atlasImage:"",rowCount:1,columnCount:1,tileSize:8,tilesWithHitBox:""},i.updateInitialInstanceProperty=function(e,t,a){return"tilemap"===t&&(e.setRawStringProperty("tilemap",a),!0)},i.getInitialInstanceProperties=function(e){var t=new a.MapStringPropertyDescriptor;return t.getOrCreate("tilemap").setValue(e.getRawStringProperty("tileMap")).setType("string").setLabel("Tilemap").setHidden(!0),t};var n=e.addObject("SimpleTileMap",t("Tile map"),t("Displays a tile-based map. Recommended for most games that need to use static tiles."),"JsPlatform/Extensions/tile_map.svg",i).setCategoryFullName(t("General")).setOpenFullEditorLabel(t("Edit tileset and collisions")).addDefaultBehavior("ResizableCapability::ResizableBehavior").addDefaultBehavior("ScalableCapability::ScalableBehavior").addDefaultBehavior("OpacityCapability::OpacityBehavior").setIncludeFile("Extensions/TileMap/simpletilemapruntimeobject.js").addIncludeFile("Extensions/TileMap/TileMapRuntimeManager.js").addIncludeFile("Extensions/TileMap/tilemapruntimeobject-pixi-renderer.js").addIncludeFile("Extensions/TileMap/pixi-tilemap/dist/pixi-tilemap.umd.js").addIncludeFile("Extensions/TileMap/collision/TransformedTileMap.js").addIncludeFile("Extensions/TileMap/pako/dist/pako.min.js").addIncludeFile("Extensions/TileMap/helper/TileMapHelper.js");n.addExpression("TilesetColumnCount",t("Tileset column count"),t("Get the number of columns in the tileset."),"","JsPlatform/Extensions/tile_map.svg").addParameter("object",t("Tile map"),"SimpleTileMap",!1).setFunctionName("getTilesetColumnCount"),n.addExpression("TilesetRowCount",t("Tileset row count"),t("Get the number of rows in the tileset."),"","JsPlatform/Extensions/tile_map.svg").addParameter("object",t("Tile map"),"SimpleTileMap",!1).setFunctionName("getTilesetRowCount"),n.addExpression("TileCenterX",t("Scene X coordinate of tile"),t("Get the scene X position of the center of the tile."),"","JsPlatform/Extensions/tile_map.svg").addParameter("object",t("Tile map"),"SimpleTileMap",!1).addParameter("number",t("Grid X"),"",!1).addParameter("number",t("Grid Y"),"",!1).setFunctionName("getSceneXCoordinateOfTileCenter"),n.addExpression("TileCenterY",t("Scene Y coordinate of tile"),t("Get the scene Y position of the center of the tile."),"","JsPlatform/Extensions/tile_map.svg").addParameter("object",t("Tile map"),"SimpleTileMap",!1).addParameter("number",t("Grid X"),"",!1).addParameter("number",t("Grid Y"),"",!1).setFunctionName("getSceneYCoordinateOfTileCenter"),n.addExpression("GridX",t("Tile map grid column coordinate"),t("Get the grid column coordinates in the tile map corresponding to the scene coordinates."),"","JsPlatform/Extensions/tile_map.svg").addParameter("object",t("Tile map"),"SimpleTileMap",!1).addParameter("number",t("Position X"),"",!1).addParameter("number",t("Position Y"),"",!1).setFunctionName("getColumnIndexAtPosition"),n.addExpression("GridY",t("Tile map grid row coordinate"),t("Get the grid row coordinates in the tile map corresponding to the scene coordinates."),"","JsPlatform/Extensions/tile_map.svg").addParameter("object",t("Tile map"),"SimpleTileMap",!1).addParameter("number",t("Position X"),"",!1).addParameter("number",t("Position Y"),"",!1).setFunctionName("getRowIndexAtPosition"),n.addExpressionAndConditionAndAction("number","TileIdAtPosition",t("Tile (at position)"),t("the id of the tile at the scene coordinates"),t("the tile id in _PARAM0_ at scene coordinates _PARAM3_ ; _PARAM4_"),"","JsPlatform/Extensions/tile_map.svg").addParameter("object",t("Tile map"),"SimpleTileMap",!1).useStandardParameters("number",a.ParameterOptions.makeNewOptions()).addParameter("number",t("Position X"),"",!1).addParameter("number",t("Position Y"),"",!1).setFunctionName("setTileAtPosition").setGetter("getTileAtPosition"),n.addAction("FlipTileOnYAtPosition",t("Flip tile vertically (at position)"),t("Flip tile vertically at scene coordinates."),t("Flip tile vertically in _PARAM0_ at scene coordinates _PARAM1_ ; _PARAM2_: _PARAM3_"),t("Effects"),"res/actions/flipY24.png","res/actions/flipY.png").addParameter("object",t("Tile map"),"SimpleTileMap",!1).addParameter("number",t("Position X"),"",!1).addParameter("number",t("Position Y"),"",!1).addParameter("yesorno",t("Flip vertically"),"",!1).setDefaultValue("false").setFunctionName("flipTileOnYAtPosition"),n.addAction("FlipTileOnXAtPosition",t("Flip tile horizontally (at position)"),t("Flip tile horizontally at scene coordinates."),t("Flip tile horizontally in _PARAM0_ at scene coordinates _PARAM1_ ; _PARAM2_: _PARAM3_"),t("Effects"),"res/actions/flipX24.png","res/actions/flipX.png").addParameter("object",t("Tile map"),"SimpleTileMap",!1).addParameter("number",t("Position X"),"",!1).addParameter("number",t("Position Y"),"",!1).addParameter("yesorno",t("Flip horizontally"),"",!1).setDefaultValue("false").setFunctionName("flipTileOnXAtPosition"),n.addAction("RemoveTileAtPosition",t("Remove tile (at position)"),t("Remove the tile at the scene coordinates."),t("Remove tile in _PARAM0_ at scene coordinates _PARAM1_ ; _PARAM2_"),"","JsPlatform/Extensions/tile_map.svg","JsPlatform/Extensions/tile_map.svg").addParameter("object",t("Tile map"),"SimpleTileMap",!1).addParameter("number",t("Position X"),"",!1).addParameter("number",t("Position Y"),"",!1).getCodeExtraInformation().setFunctionName("removeTileAtPosition"),n.addExpressionAndConditionAndAction("number","TileIdAtGrid",t("Tile (on the grid)"),t("the id of the tile at the grid coordinates"),t("the tile id at grid coordinates _PARAM3_ ; _PARAM4_"),"","JsPlatform/Extensions/tile_map.svg").addParameter("object",t("Tile map"),"SimpleTileMap",!1).useStandardParameters("number",a.ParameterOptions.makeNewOptions()).addParameter("number",t("Grid X"),"",!1).addParameter("number",t("Grid Y"),"",!1).setFunctionName("setTileAtGridCoordinates").setGetter("getTileAtGridCoordinates"),n.addAction("FlipTileOnYAtGridCoordinates",t("Flip tile vertically (on the grid)"),t("Flip tile vertically at grid coordinates."),t("Flip tile vertically in _PARAM0_ at grid coordinates _PARAM1_ ; _PARAM2_: _PARAM3_"),t("Effects"),"res/actions/flipY24.png","res/actions/flipY.png").addParameter("object",t("Tile map"),"SimpleTileMap",!1).addParameter("number",t("Grid X"),"",!1).addParameter("number",t("Grid Y"),"",!1).addParameter("yesorno",t("Flip vertically"),"",!1).setDefaultValue("false").setFunctionName("flipTileOnYAtGridCoordinates"),n.addAction("FlipTileOnXAtGridCoordinates",t("Flip tile horizontally (on the grid)"),t("Flip tile horizontally at grid coordinates."),t("Flip tile horizontally in _PARAM0_ at grid coordinates _PARAM1_ ; _PARAM2_: _PARAM3_"),t("Effects"),"res/actions/flipX24.png","res/actions/flipX.png").addParameter("object",t("Tile map"),"SimpleTileMap",!1).addParameter("number",t("Grid X"),"",!1).addParameter("number",t("Grid Y"),"",!1).addParameter("yesorno",t("Flip horizontally"),"",!1).setDefaultValue("false").setFunctionName("flipTileOnXAtGridCoordinates"),n.addAction("RemoveTileAtGridCoordinates",t("Remove tile (on the grid)"),t("Remove the tile at the grid coordinates."),t("Remove tile in _PARAM0_ at grid coordinates _PARAM1_ ; _PARAM2_"),"","JsPlatform/Extensions/tile_map.svg","JsPlatform/Extensions/tile_map.svg").addParameter("object",t("Tile map"),"SimpleTileMap",!1).addParameter("number",t("Grid X"),"",!1).addParameter("number",t("Grid Y"),"",!1).getCodeExtraInformation().setFunctionName("removeTileAtGridCoordinates"),n.addCondition("IsTileFlippedOnXAtPosition",t("Tile flipped horizontally (at position)"),t("Check if tile at scene coordinates is flipped horizontally."),t("The tile in _PARAM0_ at scene coordinates _PARAM1_ ; _PARAM2_ is flipped horizontally"),t("Effects"),"res/actions/flipX24.png","res/actions/flipX.png").addParameter("object",t("Tile map"),"SimpleTileMap",!1).addParameter("number",t("Position X"),"",!1).addParameter("number",t("Position Y"),"",!1).getCodeExtraInformation().setFunctionName("isTileFlippedOnXAtPosition"),n.addCondition("IsTileFlippedOnYAtPosition",t("Tile flipped vertically (at position)"),t("Check if tile at scene coordinates is flipped vertically."),t("The tile in _PARAM0_ at scene coordinates _PARAM1_ ; _PARAM2_ is flipped vertically"),t("Effects"),"res/actions/flipY24.png","res/actions/flipY.png").addParameter("object",t("Tile map"),"SimpleTileMap",!1).addParameter("number",t("Position X"),"",!1).addParameter("number",t("Position Y"),"",!1).getCodeExtraInformation().setFunctionName("isTileFlippedOnYAtPosition"),n.addCondition("IsTileFlippedOnXAtGridCoordinates",t("Tile flipped horizontally (on the grid)"),t("Check if tile at grid coordinates is flipped horizontally."),t("The tile in _PARAM0_ at grid coordinates _PARAM1_ ; _PARAM2_ is flipped horizontally"),t("Effects"),"res/actions/flipX24.png","res/actions/flipX.png").addParameter("object",t("Tile map"),"SimpleTileMap",!1).addParameter("number",t("Grid X"),"",!1).addParameter("number",t("Grid Y"),"",!1).getCodeExtraInformation().setFunctionName("isTileFlippedOnXAtGridCoordinates"),n.addCondition("IsTileFlippedOnYAtGridCoordinates",t("Tile flipped vertically (on the grid)"),t("Check if tile at grid coordinates is flipped vertically."),t("The tile in _PARAM0_ at grid coordinates _PARAM1_ ; _PARAM2_ is flipped vertically"),t("Effects"),"res/actions/flipY24.png","res/actions/flipY.png").addParameter("object",t("Tile map"),"SimpleTileMap",!1).addParameter("number",t("Grid X"),"",!1).addParameter("number",t("Grid Y"),"",!1).getCodeExtraInformation().setFunctionName("isTileFlippedOnYAtGridCoordinates"),n.addExpressionAndConditionAndAction("number","GridRowCount",t("Grid row count"),t("the grid row count in the tile map"),t("the grid row count"),t("Size"),"res/actions/scaleHeight24_black.png").addParameter("object",t("Tile map"),"SimpleTileMap",!1).useStandardParameters("number",a.ParameterOptions.makeNewOptions()).setFunctionName("setGridRowCount").setGetter("getGridRowCount"),n.addExpressionAndConditionAndAction("number","GridColumnCount",t("Grid column count"),t("the grid column count in the tile map"),t("the grid column count"),t("Size"),"res/actions/scaleWidth24_black.png").addParameter("object",t("Tile map"),"SimpleTileMap",!1).useStandardParameters("number",a.ParameterOptions.makeNewOptions()).setFunctionName("setGridColumnCount").setGetter("getGridColumnCount")}(a,e,t),function(e,t,a){var i=new a.ObjectJsImplementation;i.updateProperty=function(e,t){var a=this.content;return"tilemapJsonFile"===e?(a.tilemapJsonFile=t,!0):"tilesetJsonFile"===e?(a.tilesetJsonFile=t,!0):"collisionMaskTag"===e?(a.collisionMaskTag=t,!0):"layerIndex"===e?(a.layerIndex=parseFloat(t),!0):"useAllLayers"===e?(a.useAllLayers="1"===t,!0):"debugMode"===e?(a.debugMode="1"===t,!0):"fillColor"===e?(a.fillColor=t,!0):"outlineColor"===e?(a.outlineColor=t,!0):"fillOpacity"===e?(a.fillOpacity=parseFloat(t),!0):"outlineOpacity"===e?(a.outlineOpacity=parseFloat(t),!0):"outlineSize"===e&&(a.outlineSize=parseFloat(t),!0)},i.getProperties=function(){var e=new a.MapStringPropertyDescriptor,i=this.content;return e.set("tilemapJsonFile",new a.PropertyDescriptor(i.tilemapJsonFile).setType("resource").addExtraInfo("tilemap").addExtraInfo("json").setLabel(t("Tilemap JSON file")).setDescription(t("This is the JSON file that was saved or exported from Tiled. LDtk is not supported yet for collisions."))),e.set("tilesetJsonFile",new a.PropertyDescriptor(i.tilesetJsonFile||"").setType("resource").addExtraInfo("tileset").addExtraInfo("json").setLabel(t("Tileset JSON file (optional)")).setDescription(t("Optional, don't specify it if you've not saved the tileset in a different file."))),e.set("collisionMaskTag",new a.PropertyDescriptor(i.collisionMaskTag).setType("string").setLabel(t("Class filter")).setDescription(t("Only the tiles with the given class (set in Tiled 1.9+) will have hitboxes created."))),e.set("layerIndex",new a.PropertyDescriptor((i.layerIndex||1).toString()).setType("number").setLabel(t("Layer index")).setGroup(t("Layers")).setAdvanced(!0)),e.set("useAllLayers",new a.PropertyDescriptor(i.useAllLayers||void 0===i.useAllLayers||null===i.useAllLayers?"true":"false").setType("boolean").setLabel(t("Use all layers")).setGroup(t("Layers")).setAdvanced(!0)),e.set("debugMode",new a.PropertyDescriptor(i.debugMode?"true":"false").setType("boolean").setLabel(t("Debug mode")).setDescription(t("When activated, it displays the hitboxes in the given color.")).setGroup(t("Appearance"))),e.set("outlineColor",new a.PropertyDescriptor(i.outlineColor).setType("color").setLabel(t("Outline color")).setGroup(t("Appearance"))),e.set("outlineOpacity",new a.PropertyDescriptor(void 0===i.outlineOpacity?"64":i.outlineOpacity.toString()).setType("number").setLabel(t("Outline opacity (0-255)")).setGroup(t("Appearance"))),e.set("outlineSize",new a.PropertyDescriptor(void 0===i.outlineSize?"1":i.outlineSize.toString()).setType("number").setLabel(t("Outline size (in pixels)")).setGroup(t("Appearance"))),e.set("fillColor",new a.PropertyDescriptor(i.fillColor).setType("color").setLabel(t("Fill color")).setGroup(t("Appearance"))),e.set("fillOpacity",new a.PropertyDescriptor(void 0===i.fillOpacity?"32":i.fillOpacity.toString()).setType("number").setLabel(t("Fill opacity (0-255)")).setGroup(t("Appearance"))),e},i.content={tilemapJsonFile:"",tilesetJsonFile:"",collisionMaskTag:"",layerIndex:1,useAllLayers:!0,debugMode:!1,fillColor:"255;255;255",outlineColor:"255;255;255",fillOpacity:64,outlineOpacity:128,outlineSize:1},i.updateInitialInstanceProperty=function(e,t,a){return!1},i.getInitialInstanceProperties=function(e){return new a.MapStringPropertyDescriptor};var n=e.addObject("CollisionMask",t("External Tilemap (Tiled/LDtk) collision mask"),t("Invisible object handling collisions with parts of a tilemap."),"JsPlatform/Extensions/tile_map_collision_mask32.svg",i).setCategoryFullName(t("Advanced")).addDefaultBehavior("ResizableCapability::ResizableBehavior").addDefaultBehavior("ScalableCapability::ScalableBehavior").setIncludeFile("Extensions/TileMap/tilemapcollisionmaskruntimeobject.js").addIncludeFile("Extensions/TileMap/TileMapRuntimeManager.js").addIncludeFile("Extensions/TileMap/pako/dist/pako.min.js").addIncludeFile("Extensions/TileMap/helper/TileMapHelper.js").addIncludeFile("Extensions/TileMap/collision/TransformedTileMap.js").addIncludeFile("Extensions/TileMap/collision/TileMapCollisionMaskRenderer.js");n.addScopedCondition("TilemapJsonFile",t("Tilemap JSON file"),t("Check the Tilemap JSON file being used."),t("The Tilemap JSON file of _PARAM0_ is _PARAM1_"),"","JsPlatform/Extensions/tile_map_collision_mask24.svg","JsPlatform/Extensions/tile_map_collision_mask32.svg").addParameter("object",t("Tile map collision mask"),"CollisionMask",!1).addParameter("jsonResource",t("Tilemap JSON file"),"",!1).getCodeExtraInformation().setFunctionName("isTilemapJsonFile"),n.addScopedAction("SetTilemapJsonFile",t("Tilemap JSON file"),t("Set the JSON file containing the Tilemap data to display. This is usually the JSON file exported from Tiled."),t("Set the Tilemap JSON file of _PARAM0_ to _PARAM1_"),"","JsPlatform/Extensions/tile_map_collision_mask24.svg","JsPlatform/Extensions/tile_map_collision_mask32.svg").addParameter("object",t("Tile map collision mask"),"CollisionMask",!1).addParameter("jsonResource",t("Tilemap JSON file"),"",!1).getCodeExtraInformation().setFunctionName("setTilemapJsonFile"),n.addScopedCondition("TilesetJsonFile",t("Tileset JSON file"),t("Check the tileset JSON file being used."),t("The tileset JSON file of _PARAM0_ is _PARAM1_"),"","JsPlatform/Extensions/tile_map_collision_mask24.svg","JsPlatform/Extensions/tile_map_collision_mask32.svg").addParameter("object",t("Tile map collision mask"),"CollisionMask",!1).addParameter("jsonResource",t("Tileset JSON file"),"",!1).getCodeExtraInformation().setFunctionName("isTilesetJsonFile"),n.addScopedAction("SetTilesetJsonFile",t("Tileset JSON file"),t("Set the JSON file with the tileset data (sometimes that is embedded in the Tilemap, so not needed)"),t("Set the tileset JSON file of _PARAM0_ to _PARAM1_"),"","JsPlatform/Extensions/tile_map_collision_mask24.svg","JsPlatform/Extensions/tile_map_collision_mask32.svg").addParameter("object",t("Tile map collision mask"),"CollisionMask",!1).addParameter("jsonResource",t("Tileset JSON file"),"",!1).getCodeExtraInformation().setFunctionName("setTilesetJsonFile"),n.addScopedAction("Scale",t("Scale"),t("Modify the scale of the specified object."),t("the scale"),t("Size"),"res/actions/scale24_black.png","res/actions/scale_black.png").addParameter("object",t("Tile map collision mask"),"CollisionMask",!1).useStandardOperatorParameters("number",a.ParameterOptions.makeNewOptions().setDescription(t("Scale (1 by default)"))).markAsAdvanced().setHidden().getCodeExtraInformation().setFunctionName("setScale").setGetter("getScale"),n.addExpressionAndConditionAndAction("number","ScaleX",t("Scale on X axis"),t("the width's scale of an object"),t("the width's scale"),t("Size"),"res/actions/scaleWidth24_black.png").addParameter("object",t("Tile map collision mask"),"CollisionMask",!1).useStandardParameters("number",a.ParameterOptions.makeNewOptions().setDescription(t("Scale (1 by default)"))).markAsAdvanced().setHidden().setFunctionName("setScaleX").setGetter("getScaleX"),n.addExpressionAndConditionAndAction("number","ScaleY",t("Scale on Y axis"),t("the height's scale of an object"),t("the height's scale"),t("Size"),"res/actions/scaleHeight24_black.png").addParameter("object",t("Tile map collision mask"),"CollisionMask",!1).useStandardParameters("number",a.ParameterOptions.makeNewOptions().setDescription(t("Scale (1 by default)"))).markAsAdvanced().setHidden().setFunctionName("setScaleY").setGetter("getScaleY"),n.addScopedAction("Width",t("Width"),t("Change the width of an object."),t("the width"),t("Size"),"res/actions/scaleWidth24_black.png","res/actions/scaleWidth_black.png").addParameter("object",t("Tile map collision mask"),"CollisionMask",!1).useStandardOperatorParameters("number",a.ParameterOptions.makeNewOptions()).markAsAdvanced().setHidden().getCodeExtraInformation().setFunctionName("setWidth"),n.addScopedAction("Height",t("Height"),t("Change the height of an object."),t("the height"),t("Size"),"res/actions/scaleHeight24_black.png","res/actions/scaleHeight_black.png").addParameter("object",t("Tile map collision mask"),"CollisionMask",!1).useStandardOperatorParameters("number",a.ParameterOptions.makeNewOptions()).markAsAdvanced().setHidden().getCodeExtraInformation().setFunctionName("setHeight")}(a,e,t),a},registerClearCache:function(e){var t=e.requireModule(i,"helper/TileMapHelper");e.registerClearCache((function(e){t.TileMapManager.getManager(e).clearCaches()}))},runExtensionSanityTests:function(e,t){return[]},registerEditorConfigurations:function(e){e.registerEditorConfiguration("TileMap::TileMap",e.getDefaultObjectJsImplementationPropertiesEditor({helpPagePath:"/objects/tilemap"})),e.registerEditorConfiguration("TileMap::CollisionMask",e.getDefaultObjectJsImplementationPropertiesEditor({helpPagePath:"/objects/tilemap"}))},registerInstanceRenderers:function(e){var t=e.RenderedInstance,a=e.PIXI,m=e.requireModule(i,"pixi-tilemap/dist/pixi-tilemap.umd"),g=e.requireModule(i,"helper/TileMapHelper"),v=e.requireModule(i,"pako/dist/pako.min");a.extensions.add({name:"tilemap",type:a.ExtensionType.RendererPlugin,ref:m.TileRenderer});var b=function(e){"use strict";f(n,e);var i=p(n);function n(e,t,r,s,o){var l;return d(this,n),l=i.call(this,e,t,r,s,o),m.settings.use32bitIndex=!0,l.tileMapPixiObject=new m.CompositeTilemap,l._pixiObject=l.tileMapPixiObject,l._editableTileMap=null,l._pixiObject.containsPoint=function(e){if(!l._pixiObject)throw new Error("containsPoint called on a destroyed PIXI object - this object was not properly removed from the PIXI container.");var t=new a.Point;return l._pixiObject.worldTransform.applyInverse(e,t),t.x>=0&&t.x<l.width&&t.y>=0&&t.y<l.height},l._pixiContainer.addChild(l._pixiObject),l.width=48,l.height=48,l.update(),l}return c(n,[{key:"onRemovedFromScene",value:function(){u(h(n.prototype),"onRemovedFromScene",this).call(this),this._pixiObject.destroy(!1),this._pixiObject=null}},{key:"_replacePixiObject",value:function(e){null!==this._pixiObject&&this._pixiContainer.removeChild(this._pixiObject),this._pixiObject=e,this._pixiContainer.addChild(this._pixiObject)}},{key:"_onLoadingError",value:function(){this.errorPixiObject=this.errorPixiObject||new a.Sprite(this._pixiResourcesLoader.getInvalidPIXITexture()),this._replacePixiObject(this.errorPixiObject)}},{key:"_onLoadingSuccess",value:function(){this.errorPixiObject&&(this._replacePixiObject(this.tileMapPixiObject),this.errorPixiObject=null)}},{key:"updateTileMap",value:function(){var e=this,t=this._tilemapAtlasImage,a=this._tilemapJsonFile,i=this._tilesetJsonFile,n=this._layerIndex,r=this._levelIndex,s=this._displayMode,o=this._project.getResourcesManager().getResource(a),l={};try{var d=o.getMetadata();d&&(l=JSON.parse(d))}catch(f){console.warn("Malformed metadata in a tilemap object:",f)}var c=l.embeddedResourcesMapping||{},u=this._pixiResourcesLoader.getPIXITexture(this._project,t),h=function(){var o=g.TileMapManager.getManager(e._project);o.getOrLoadTileMap(e._loadTileMapWithCallback.bind(e),a,i,r,v,(function(l){e._wasDestroyed||(l?(e._editableTileMap=l,o.getOrLoadTextureCache(e._loadTileMapWithCallback.bind(e),(function(t){return e._pixiResourcesLoader.getPIXITexture(e._project,c[t]||t)}),t,a,i,r,(function(t){e._wasDestroyed||(t?(e._onLoadingSuccess(),e._editableTileMap&&(e.width=e._editableTileMap.getWidth(),e.height=e._editableTileMap.getHeight(),g.PixiTileMapHelper.updatePixiTileMap(e.tileMapPixiObject,e._editableTileMap,t,s,n))):e._onLoadingError())}))):e._onLoadingError())}))};u.valid?h():u.once("update",(function(){e._wasDestroyed||h()}))}},{key:"updatePixiTileMap",value:function(){var e=this,t=this._tilemapAtlasImage,a=this._tilemapJsonFile,i=this._tilesetJsonFile,n=this._layerIndex,r=this._levelIndex,s=this._displayMode,o=this._project.getResourcesManager().getResource(a),l={};try{var d=o.getMetadata();d&&(l=JSON.parse(d))}catch(u){console.warn("Malformed metadata in a tilemap object:",u)}var c=l.embeddedResourcesMapping||{};g.TileMapManager.getManager(this._project).getOrLoadTextureCache(this._loadTileMapWithCallback.bind(this),(function(t){return e._pixiResourcesLoader.getPIXITexture(e._project,c[t]||t)}),t,a,i,r,(function(t){e._wasDestroyed||(t?(e._onLoadingSuccess(),e._editableTileMap&&(e.width=e._editableTileMap.getWidth(),e.height=e._editableTileMap.getHeight(),g.PixiTileMapHelper.updatePixiTileMap(e.tileMapPixiObject,e._editableTileMap,t,s,n))):e._onLoadingError())}))}},{key:"_loadTileMapWithCallback",value:function(e,t,a){this._loadTileMap(e,t).then(a)}},{key:"_loadTileMap",value:function(){var e=l(o().mark((function e(t,a){var i,n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this._pixiResourcesLoader.getResourceJsonData(this._project,t);case 3:if(i=e.sent,"tiled"!==(n=g.TileMapManager.identify(i)).kind){e.next=15;break}if(!a){e.next=12;break}return e.next=9,this._pixiResourcesLoader.getResourceJsonData(this._project,a);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:(r=e.t0)&&(i.tilesets=[r]);case 15:return e.abrupt("return",n);case 18:e.prev=18,e.t1=e.catch(0),console.error("Unable to load a Tilemap JSON data: ",e.t1);case 21:return e.abrupt("return",null);case 22:case"end":return e.stop()}}),e,this,[[0,18]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"update",value:function(){var e=gd.castObject(this._associatedObjectConfiguration,gd.ObjectJsImplementation),a=e.content.tilemapAtlasImage,i=e.content.tilemapJsonFile,n=e.content.tilesetJsonFile,r=e.content.layerIndex,o=e.content.levelIndex,l=e.content.displayMode;a===this._tilemapAtlasImage&&i===this._tilemapJsonFile&&n===this._tilesetJsonFile&&r===this._layerIndex&&o===this._levelIndex&&l===this._displayMode||(this._tilemapAtlasImage=a,this._tilemapJsonFile=i,this._tilesetJsonFile=n,this._layerIndex=r,this._levelIndex=o,this._displayMode=l,this.updateTileMap()),this._instance.hasCustomSize()?(this._pixiObject.scale.x=this.getCustomWidth()/this.width,this._pixiObject.scale.y=this.getCustomHeight()/this.height):(this._pixiObject.scale.x=1,this._pixiObject.scale.y=1);var d=this.width,c=this.height;this._pixiObject.pivot.x=d/2,this._pixiObject.pivot.y=c/2,this._pixiObject.x=this._instance.getX()+this._pixiObject.pivot.x*this._pixiObject.scale.x,this._pixiObject.y=this._instance.getY()+this._pixiObject.pivot.y*this._pixiObject.scale.y,this._pixiObject.rotation=t.toRad(this._instance.getAngle());var u=Math.max(this._instance.getOpacity()/255,.5);if(this._editableTileMap&&this._pixiObject.alpha!==u){this._pixiObject.alpha=u;var h,f=s(this._editableTileMap.getLayers());try{for(f.s();!(h=f.n()).done;){var p=h.value;if(!("index"===l&&r!==p.id||"visible"===l&&!p.isVisible()))if(p.setAlpha)p.setAlpha(u)}}catch(m){f.e(m)}finally{f.f()}this.updatePixiTileMap()}}},{key:"getDefaultWidth",value:function(){return this.width}},{key:"getDefaultHeight",value:function(){return this.height}}],[{key:"getThumbnail",value:function(e,t,a){return"JsPlatform/Extensions/tile_map.svg"}}]),n}(t);e.registerInstanceRenderer("TileMap::TileMap",b);var y=function(e){"use strict";f(o,e);var i=p(o);function o(e,t,s,l,c){var u;return d(this,o),u=i.call(this,e,t,s,l,c),r(n(u),"_getStartedText","Select this instance\nto start painting"),r(n(u),"_noAtlasText","Set up an atlas image\nin the tilemap object."),r(n(u),"_placeholderTextPixiObject",new a.Text("",new a.TextStyle({fontFamily:"Arial",fontSize:16,align:"center",padding:5}))),r(n(u),"_placeholderImagePixiObject",new a.Sprite(a.Texture.from("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgAgMAAAAOFJJnAAAADFBMVEUAAAAkMoYsfqH///8FP6xgAAAAAXRSTlMAQObYZgAAAAFiS0dEAxEMTPIAAAAjSURBVBjTpcYxAQAADIMwTGISlTsmoVcCQClzSmvNo2ueGnMajGpBwI5BnwAAAABJRU5ErkJggg=="))),r(n(u),"_placeholderPixiObject",new a.Container),m.settings.use32bitIndex=!0,u.tileMapPixiObject=new m.CompositeTilemap,u._pixiObject=new a.Container,u._pixiObject.addChild(u.tileMapPixiObject),u._editableTileMap=null,u._pixiObject.containsPoint=function(e){if(!u._pixiObject)throw new Error("containsPoint called on a destroyed PIXI object - this object was not properly removed from the PIXI container.");var t=new a.Point;return u.tileMapPixiObject.visible?u.tileMapPixiObject.worldTransform.applyInverse(e,t):u._placeholderImagePixiObject.worldTransform.applyInverse(e,t),t.x>=0&&t.x<u.width&&t.y>=0&&t.y<u.height},u._placeholderTextPixiObject.eventMode="static",u._placeholderImagePixiObject.eventMode="static",u._placeholderTextPixiObject.anchor.x=.5,u._placeholderTextPixiObject.anchor.y=.5,u._placeholderTextPixiObject.y=30,u._placeholderImagePixiObject.y=-30,u._placeholderImagePixiObject.x=-16,u._placeholderPixiObject.addChild(u._placeholderTextPixiObject),u._placeholderPixiObject.addChild(u._placeholderImagePixiObject),u._pixiObject.addChild(u._placeholderPixiObject),u._pixiContainer.addChild(u._pixiObject),u.width=48,u.height=48,u._objectName=t.getObjectName(),u.update(),u.updateTileMap(),u}return c(o,[{key:"onRemovedFromScene",value:function(){u(h(o.prototype),"onRemovedFromScene",this).call(this),this._pixiObject.destroy(!1),this._pixiObject=null}},{key:"_replacePixiObject",value:function(e){null!==this._pixiObject&&this._pixiContainer.removeChild(this._pixiObject),this._pixiObject=e,this._pixiContainer.addChild(this._pixiObject)}},{key:"_onLoadingError",value:function(){this.errorPixiObject=this.errorPixiObject||new a.Sprite(this._pixiResourcesLoader.getInvalidPIXITexture()),this._replacePixiObject(this.errorPixiObject)}},{key:"_onLoadingSuccess",value:function(){this.errorPixiObject&&(this._replacePixiObject(this.tileMapPixiObject),this.errorPixiObject=null)}},{key:"getEditableTileMap",value:function(){return this._editableTileMap}},{key:"updateTileMap",value:function(){var e=this,t=gd.castObject(this._associatedObjectConfiguration,gd.ObjectJsImplementation),a=t.content.atlasImage;if(a){var i=JSON.parse(this._instance.getRawStringProperty("tilemap")||"{}"),n=t.content.tileSize,r=t.content.columnCount,s=t.content.rowCount,o=this._pixiResourcesLoader.getPIXITexture(this._project,a),l=function(){var t=g.TileMapManager.getManager(e._project);try{t.getOrLoadSimpleTileMap(i,e._objectName,n,r,s,(function(i){if(!e._wasDestroyed){if(!i)return e._onLoadingError(),void console.error("Could not parse tilemap.");e._editableTileMap=i,t.getOrLoadSimpleTileMapTextureCache((function(t){return e._pixiResourcesLoader.getPIXITexture(e._project,t)}),a,n,r,s,(function(t){e._wasDestroyed||(e._onLoadingSuccess(),e._editableTileMap&&(e.width=e._editableTileMap.getWidth(),e.height=e._editableTileMap.getHeight(),g.PixiTileMapHelper.updatePixiTileMap(e.tileMapPixiObject,e._editableTileMap,t,"all",0)))}))}}))}catch(o){e._onLoadingError(),console.error("Could not load tilemap:",o)}};o.valid?l():o.once("update",(function(){e._wasDestroyed||l()}))}}},{key:"updatePixiTileMap",value:function(){var e=this,t=gd.castObject(this._associatedObjectConfiguration,gd.ObjectJsImplementation),a=t.content.atlasImage,i=t.content.tileSize,n=t.content.columnCount,r=t.content.rowCount;g.TileMapManager.getManager(this._project).getOrLoadSimpleTileMapTextureCache((function(t){return e._pixiResourcesLoader.getPIXITexture(e._project,t)}),a,i,n,r,(function(t){e._wasDestroyed||(e._onLoadingSuccess(),e._editableTileMap&&(e.width=e._editableTileMap.getWidth(),e.height=e._editableTileMap.getHeight(),g.PixiTileMapHelper.updatePixiTileMap(e.tileMapPixiObject,e._editableTileMap,t,"all",0)))}))}},{key:"update",value:function(){var e,a=gd.castObject(this._associatedObjectConfiguration,gd.ObjectJsImplementation).content.atlasImage,i=!!this._editableTileMap&&this._editableTileMap.isEmpty();if(this.errorPixiObject?e=this.errorPixiObject:i||!a?(this.tileMapPixiObject.visible=!1,this._placeholderPixiObject.visible=!0,this._placeholderTextPixiObject.text=a?this._getStartedText:this._noAtlasText,e=this._placeholderPixiObject):(this._placeholderPixiObject.visible=!1,this.tileMapPixiObject.visible=!0,e=this.tileMapPixiObject),!i){this._instance.hasCustomSize()?(e.scale.x=this.getCustomWidth()/this.width,e.scale.y=this.getCustomHeight()/this.height):(e.scale.x=1,e.scale.y=1);var n=this.width,r=this.height;e.pivot.x=n/2,e.pivot.y=r/2}e.x=this._instance.getX()+e.pivot.x*e.scale.x,e.y=this._instance.getY()+e.pivot.y*e.scale.y,e.rotation=t.toRad(this._instance.getAngle());var o=Math.max(this._instance.getOpacity()/255,.5);if(this._editableTileMap&&e.alpha!==o){e.alpha=o;var l,d=s(this._editableTileMap.getLayers());try{for(d.s();!(l=d.n()).done;){var c=l.value;if(c.setAlpha)c.setAlpha(o)}}catch(u){d.e(u)}finally{d.f()}this.updatePixiTileMap()}}},{key:"getDefaultWidth",value:function(){return this.width}},{key:"getDefaultHeight",value:function(){return this.height}}],[{key:"getThumbnail",value:function(e,t,a){var i=gd.castObject(a,gd.ObjectJsImplementation).content.atlasImage||"";return t.getResourceFullUrl(e,i,{})}}]),o}(t);e.registerInstanceRenderer("TileMap::SimpleTileMap",y);var x=function(i){"use strict";f(m,i);var s=p(m);function m(e,t,i,o,l){var c;return d(this,m),c=s.call(this,e,t,i,o,l),r(n(c),"_tilemapJsonFile",""),r(n(c),"_tilesetJsonFile",""),r(n(c),"_collisionMaskTag",""),r(n(c),"_layerIndex",null),r(n(c),"_outlineColor",16777215),r(n(c),"_fillColor",16777215),r(n(c),"_outlineOpacity",0),r(n(c),"_fillOpacity",0),r(n(c),"_outlineSize",1),c.tileMapPixiObject=new a.Graphics,c._pixiObject=c.tileMapPixiObject,c._pixiObject.containsPoint=function(e){if(!c._pixiObject)throw new Error("containsPoint called on a destroyed PIXI object - this object was not properly removed from the PIXI container.");var t=new a.Point;return c._pixiObject.worldTransform.applyInverse(e,t),t.x>=0&&t.x<c.width&&t.y>=0&&t.y<c.height},c._pixiContainer.addChild(c._pixiObject),c.width=48,c.height=48,c.update(),c}return c(m,[{key:"onRemovedFromScene",value:function(){u(h(m.prototype),"onRemovedFromScene",this).call(this),this._pixiObject.destroy(),this._pixiObject=null}},{key:"_replacePixiObject",value:function(e){null!==this._pixiObject&&this._pixiContainer.removeChild(this._pixiObject),this._pixiObject=e,this._pixiContainer.addChild(this._pixiObject)}},{key:"_onLoadingError",value:function(){this.errorPixiObject=this.errorPixiObject||new a.Sprite(this._pixiResourcesLoader.getInvalidPIXITexture()),this._replacePixiObject(this.errorPixiObject)}},{key:"_onLoadingSuccess",value:function(){this.errorPixiObject&&(this._replacePixiObject(this.tileMapPixiObject),this.errorPixiObject=null)}},{key:"updateTileMap",value:function(){var e=this,t=this._tilemapJsonFile,a=this._tilesetJsonFile,i=this._collisionMaskTag,n=this._layerIndex,r=this._outlineColor,s=this._fillColor,o=this._outlineOpacity,l=this._fillOpacity,d=this._outlineSize;g.TileMapManager.getManager(this._project).getOrLoadTileMap(this._loadTiledMapWithCallback.bind(this),t,a,0,v,(function(t){e._wasDestroyed||(t?(e._onLoadingSuccess(),e.width=t.getWidth(),e.height=t.getHeight(),g.PixiTileMapHelper.updatePixiCollisionMask(e._pixiObject,t,i,n,d,r,o,s,l)):e._onLoadingError())}))}},{key:"_loadTiledMapWithCallback",value:function(e,t,a){this._loadTileMap(e,t).then(a)}},{key:"_loadTileMap",value:function(){var e=l(o().mark((function e(t,a){var i,n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this._pixiResourcesLoader.getResourceJsonData(this._project,t);case 3:if(i=e.sent,"tiled"!==(n=g.TileMapManager.identify(i)).kind){e.next=15;break}if(!a){e.next=12;break}return e.next=9,this._pixiResourcesLoader.getResourceJsonData(this._project,a);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:(r=e.t0)&&(i.tilesets=[r]);case 15:return e.abrupt("return",n);case 18:e.prev=18,e.t1=e.catch(0),console.error("Unable to load a Tilemap JSON data: ",e.t1);case 21:return e.abrupt("return",null);case 22:case"end":return e.stop()}}),e,this,[[0,18]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"update",value:function(){var a=gd.castObject(this._associatedObjectConfiguration,gd.ObjectJsImplementation),i=a.content.tilemapJsonFile,n=a.content.tilesetJsonFile,r=a.content.collisionMaskTag,s=a.content.useAllLayers?null:a.content.layerIndex,o=e.rgbOrHexToHexNumber(a.content.outlineColor),l=e.rgbOrHexToHexNumber(a.content.fillColor),d=a.content.outlineOpacity/255,c=a.content.fillOpacity/255,u=a.content.outlineSize||0;i===this._tilemapJsonFile&&n===this._tilesetJsonFile&&r===this._collisionMaskTag&&s===this._layerIndex&&o===this._outlineColor&&l===this._fillColor&&d===this._outlineOpacity&&c===this._fillOpacity&&u===this._outlineSize||(this._tilemapJsonFile=i,this._tilesetJsonFile=n,this._collisionMaskTag=r,this._layerIndex=s,this._outlineColor=o,this._fillColor=l,this._outlineOpacity=d,this._fillOpacity=c,this._outlineSize=u,this.updateTileMap()),this._instance.hasCustomSize()?(this._pixiObject.scale.x=this.getCustomWidth()/this.width,this._pixiObject.scale.y=this.getCustomHeight()/this.height):(this._pixiObject.scale.x=1,this._pixiObject.scale.y=1);var h=this.width,f=this.height;this._pixiObject.pivot.x=h/2,this._pixiObject.pivot.y=f/2,this._pixiObject.x=this._instance.getX()+this._pixiObject.pivot.x*this._pixiObject.scale.x,this._pixiObject.y=this._instance.getY()+this._pixiObject.pivot.y*this._pixiObject.scale.y,this._pixiObject.rotation=t.toRad(this._instance.getAngle())}},{key:"getDefaultWidth",value:function(){return this.width}},{key:"getDefaultHeight",value:function(){return this.height}}],[{key:"getThumbnail",value:function(e,t,a){return"JsPlatform/Extensions/tile_map_collision_mask24.svg"}}]),m}(t);e.registerInstanceRenderer("TileMap::CollisionMask",x)}}},69835:function(e,t,a){var i=a(27424).default,n=a(861).default,r=a(61655).default,s=a(26389).default,o=a(74704).default,l=a(56690).default,d=a(89728).default;!function(e){"use strict";var t,a=2147483648,c=1073741824,u=536870912;function h(e){var a=t.isFlippedDiagonally(e),i=t.isFlippedHorizontally(e),n=t.isFlippedVertically(e),r=0;return a?(r=10,!i&&n?r=2:i&&!n?r=6:i&&n&&(r=14)):(r=0,!i&&n?r=8:i&&!n?r=12:i&&n&&(r=4)),r}function f(e,t,i,n){var r=e;return t&&(r|=a),i&&(r|=c),n&&(r|=u),r}!function(e){e.tileIdMask=536870911,e.getTileId=function(t){return t&e.tileIdMask},e.setFlippedHorizontally=function(e,t){return e&=2147483647,t&&(e|=a),e},e.setFlippedVertically=function(e,t){return e&=-1073741825,t&&(e|=c),e},e.setFlippedDiagonally=function(e,t){return e&=-536870913,t&&(e|=u),e},e.isFlippedHorizontally=function(e){return!!(e&a)},e.isFlippedVertically=function(e){return!!(e&c)},e.isFlippedDiagonally=function(e){return!!(e&u)}}(t||(t={}));var p,m,g,v,b,y=function(){function e(t,a,i,n,r){l(this,e),this.tileWidth=t,this.tileHeight=a,this.dimX=i,this.dimY=n,this._tileSet=r,this._layers=[]}return d(e,[{key:"toJSObject",value:function(){return{tileWidth:this.tileWidth,tileHeight:this.tileHeight,dimX:this.dimX,dimY:this.dimY,layers:this._layers.map((function(e){return e.toJSObject()}))}}},{key:"getWidth",value:function(){return this.tileWidth*this.dimX}},{key:"getHeight",value:function(){return this.tileHeight*this.dimY}},{key:"getTileHeight",value:function(){return this.tileHeight}},{key:"getTileWidth",value:function(){return this.tileWidth}},{key:"getDimensionX",value:function(){return this.dimX}},{key:"getDimensionY",value:function(){return this.dimY}},{key:"setDimensionX",value:function(e){if(e!==this.dimX){var t,a=e-this.dimX,i=o(this.getLayers());try{for(i.s();!(t=i.n()).done;){var n=t.value;n instanceof A&&(a>0?n.increaseDimensions(a,0,0,0):n.reduceDimensions(-a,0,0,0))}}catch(r){i.e(r)}finally{i.f()}this.dimX=e}}},{key:"increaseDimensions",value:function(e,t,a,i){if(!(e<0||t<0||a<0||i<0||0===e&&0===t&&0===a&&0===i)){var n,r=o(this.getLayers());try{for(r.s();!(n=r.n()).done;){var s=n.value;s instanceof A&&s.increaseDimensions(e,t,a,i)}}catch(l){r.e(l)}finally{r.f()}this.dimX=this.dimX+e+t,this.dimY=this.dimY+a+i}}},{key:"setDimensionY",value:function(e){if(e!==this.dimY){var t,a=e-this.dimY,i=o(this.getLayers());try{for(i.s();!(t=i.n()).done;){var n=t.value;n instanceof A&&(a>0?n.increaseDimensions(0,0,a,0):n.reduceDimensions(0,0,-a,0))}}catch(r){i.e(r)}finally{i.f()}this.dimY=e}}},{key:"getTileDefinition",value:function(e){return this._tileSet.get(e)}},{key:"getTileDefinitions",value:function(){return this._tileSet.values()}},{key:"addNewTileLayer",value:function(e){var t=new A(this,e);return this._layers.push(t),t}},{key:"addTileLayer",value:function(e){this._layers.push(e)}},{key:"getTileLayer",value:function(e){var t=this._layers.find((function(t){return t.id===e}));return t instanceof A?t:null}},{key:"addObjectLayer",value:function(e){var t=new _(this,e);return this._layers.push(t),t}},{key:"getBackgroundResourceName",value:function(){return this._backgroundResourceName}},{key:"getLayers",value:function(){return this._layers}},{key:"pointIsInsideTile",value:function(e,t,a){var i,n=Math.floor(e/this.tileWidth),r=Math.floor(t/this.tileHeight),s=o(this._layers);try{for(s.s();!(i=s.n()).done;){var l=i.value;if(l){var d=l.getTileId(n,r);if(void 0===d)return!1;if(this._tileSet.get(d).hasTaggedHitBox(a))return!0}}}catch(c){s.e(c)}finally{s.f()}return!1}},{key:"setBackgroundResourceName",value:function(e){this._backgroundResourceName=e}},{key:"isEmpty",value:function(){return this._layers.every((function(e){return e.isEmpty()}))}},{key:"getTileId",value:function(e,t,a){var i=this.getTileLayer(a);if(!i)return-1;var n=i.getTileId(e,t);return void 0===n?-1:n}},{key:"setTile",value:function(e,t,a,i){var n=this.getTileLayer(a);n&&n.setTile(e,t,i)}},{key:"flipTileOnY",value:function(e,t,a,i){var n=this.getTileLayer(a);n&&n.setFlippedVertically(e,t,i)}},{key:"flipTileOnX",value:function(e,t,a,i){var n=this.getTileLayer(a);n&&n.setFlippedHorizontally(e,t,i)}},{key:"isTileFlippedOnX",value:function(e,t,a){var i=this.getTileLayer(a);return!!i&&i.isFlippedHorizontally(e,t)}},{key:"isTileFlippedOnY",value:function(e,t,a){var i=this.getTileLayer(a);return!!i&&i.isFlippedVertically(e,t)}},{key:"removeTile",value:function(e,t,a){if(!(e<0||e>=this.dimX||t<0||t>=this.dimY)){var i=this.getTileLayer(a);i&&i.removeTile(e,t)}}},{key:"trimEmptyColumnsAndRowToFitLayer",value:function(e){var t=this.getTileLayer(e);if(t){var a=this.dimY,i=this.dimX;if(t.isEmpty()&&1===this._layers.length)return t.buildEmptyLayer(1,1),this.dimX=1,this.dimY=1,{shiftedRows:0,shiftedColumns:0,poppedRows:a-1,poppedColumns:i-1};var n,r=t.getTrimmingData(),s=o(this.getLayers());try{for(s.s();!(n=s.n()).done;){var l=n.value;l instanceof A&&l.reduceDimensions(r.columnsToPop,r.columnsToShift,r.rowsToPop,r.rowsToShift)}}catch(d){s.e(d)}finally{s.f()}return this.dimX=i-r.columnsToPop-r.columnsToShift,this.dimY=a-r.rowsToPop-r.rowsToShift,{poppedRows:r.rowsToPop,poppedColumns:r.columnsToPop,shiftedRows:r.rowsToShift,shiftedColumns:r.columnsToShift}}}}],[{key:"from",value:function(t,a){var i=a.tileSize,n=a.tileSetColumnCount,r=a.tileSetRowCount,s=new Map;if(!Number.isInteger(n)||n<=0||!Number.isInteger(r)||r<=0)throw new Error("Tilemap object badly configured. Tile size ".concat(i," is not compatible with atlas image dimensions, resulting in having ").concat(n," columns and ").concat(r," rows."));new Array(n*r).fill(0).forEach((function(e,t){s.set(t,new E(0))}));var o=new e(i||t.tileWidth,i||t.tileHeight,t.dimX||1,t.dimY||1,s);return t.layers?t.layers.forEach((function(e){o.addTileLayer(A.from(e,o,(function(e){return e<n*r})))})):o.addNewTileLayer(0),o}}]),e}(),x=function(){function e(t,a){l(this,e),this.visible=!0,this.tileMap=t,this.id=a}return d(e,[{key:"setVisible",value:function(e){this.visible=e}},{key:"toJSObject",value:function(){return{}}},{key:"isVisible",value:function(){return this.visible}},{key:"isEmpty",value:function(){return!0}}]),e}(),_=function(e){r(a,e);var t=s(a);function a(e,i){var n;return l(this,a),(n=t.call(this,e,i)).objects=[],n}return d(a,[{key:"add",value:function(e){this.objects.push(e)}},{key:"isEmpty",value:function(){return 0===this.objects.length}}]),a}(x),P=function(){function e(t,a,i){l(this,e),this.tileId=i,this.x=t,this.y=a}return d(e,[{key:"getTileId",value:function(){return t.getTileId(this.tileId)}},{key:"setFlippedHorizontally",value:function(e){this.tileId=t.setFlippedHorizontally(this.tileId,e)}},{key:"setFlippedVertically",value:function(e){this.tileId=t.setFlippedVertically(this.tileId,e)}},{key:"setFlippedDiagonally",value:function(e){this.tileId=t.setFlippedDiagonally(this.tileId,e)}},{key:"isFlippedHorizontally",value:function(){return t.isFlippedHorizontally(this.tileId)}},{key:"isFlippedVertically",value:function(){return t.isFlippedVertically(this.tileId)}},{key:"isFlippedDiagonally",value:function(){return t.isFlippedDiagonally(this.tileId)}}]),e}(),A=function(e){r(i,e);var a=s(i);function i(e,t){var n;return l(this,i),(n=a.call(this,e,t)).buildEmptyLayer(n.tileMap.getDimensionX(),n.tileMap.getDimensionY()),n._alpha=1,n}return d(i,[{key:"buildEmptyLayer",value:function(e,t){this._tiles=[],this._tiles.length=t;for(var a=0;a<this._tiles.length;a++)this._tiles[a]=new Int32Array(e)}},{key:"toJSObject",value:function(){var e=this;return{id:this.id,alpha:this._alpha,tiles:this._tiles.map((function(t,a){return Array.from(t.map((function(t,i){var n=e.getTileGID(i,a);return void 0===n?-1:n})))}))}}},{key:"getAlpha",value:function(){return this._alpha}},{key:"setAlpha",value:function(e){this._alpha=e}},{key:"isEmpty",value:function(){return this._tiles.every((function(e){return e.every((function(e){return 0===e}))}))}},{key:"reduceDimensions",value:function(e,t,a,i){var n=this;(a>0||i>0)&&(this._tiles=this._tiles.slice(i,a?-a:void 0)),(e>0||t>0)&&this._tiles.forEach((function(a,i){n._tiles[i]=n._tiles[i].slice(t,e?-e:void 0)}))}},{key:"increaseDimensions",value:function(e,t,a,i){var r=this,s=this._tiles.length,o=this._tiles[0].length;if((e>0||t>0)&&this._tiles.forEach((function(a,i){var n=new Int32Array(o+e+t).fill(0);n.set(a,t),r._tiles[i]=n})),a>0||i>0){var l;(l=this._tiles).unshift.apply(l,n(new Array(i).fill(0).map((function(){return new Int32Array(o+e+t).fill(0)})))),this._tiles.length=s+a+i;for(var d=s+i;d<this._tiles.length;d++)this._tiles[d]=new Int32Array(o+e+t).fill(0)}}},{key:"setTile",value:function(e,t,a){if(this.tileMap.getTileDefinition(a)){var i=this._tiles[t];!i||e>=i.length||(i[e]=a+1)}else console.error("Invalid tile definition index: ".concat(a))}},{key:"setTileGID",value:function(e,t,a){var i=this._tiles[t];!i||e>=i.length||(i[e]=a+1)}},{key:"getTrimmingData",value:function(){for(var e=0,t=0,a=this.getDimensionX(),i=this.getDimensionY(),r=new Array(this._tiles.length).fill(this._tiles[0].length),s=new Array(this._tiles.length).fill(this._tiles[0].length),o=!1,l=0;l<this._tiles.length;l++){for(var d=this._tiles[l],c=!1,u=0;u<d.length;u++)0!==d[u]&&(s[l]=d.length-1-u,c||(r[l]=u,c=!0));!c||(t=this._tiles.length-1-l,o||(e=l,o=!0))}return o?{rowsToShift:e,columnsToShift:Math.min.apply(Math,n(r)),rowsToPop:t,columnsToPop:Math.min.apply(Math,n(s))}:{columnsToShift:0,rowsToShift:0,columnsToPop:a-1,rowsToPop:i-1}}},{key:"removeTile",value:function(e,t){var a=this._tiles[t];!a||e>=a.length||(a[e]=0)}},{key:"setFlippedHorizontally",value:function(e,a,i){var n=this._tiles[a];if(n&&!(e>=n.length)){var r=n[e];0!==r&&(n[e]=t.setFlippedHorizontally(r,i))}}},{key:"setFlippedVertically",value:function(e,a,i){var n=this._tiles[a];if(n&&!(e>=n.length)){var r=n[e];0!==r&&(n[e]=t.setFlippedVertically(r,i))}}},{key:"setFlippedDiagonally",value:function(e,a,i){var n=this._tiles[a];if(n&&!(e>=n.length)){var r=n[e];0!==r&&(n[e]=t.setFlippedDiagonally(r,i))}}},{key:"isFlippedHorizontally",value:function(e,a){var i=this._tiles[a];return!(!i||e>=i.length)&&t.isFlippedHorizontally(i[e])}},{key:"isFlippedVertically",value:function(e,a){var i=this._tiles[a];return!(!i||e>=i.length)&&t.isFlippedVertically(i[e])}},{key:"isFlippedDiagonally",value:function(e,a){var i=this._tiles[a];return!(!i||e>=i.length)&&t.isFlippedDiagonally(i[e])}},{key:"getTileGID",value:function(e,t){var a=this._tiles[t];if(a&&!(e>=a.length)&&0!==a[e])return a[e]-1}},{key:"getTileId",value:function(e,a){var i=this._tiles[a];if(i&&!(e>=i.length)&&0!==i[e])return t.getTileId(i[e]-1)}},{key:"getDimensionX",value:function(){return 0===this._tiles.length?0:this._tiles[0].length}},{key:"getDimensionY",value:function(){return this._tiles.length}},{key:"getWidth",value:function(){return this.tileMap.getWidth()}},{key:"getHeight",value:function(){return this.tileMap.getHeight()}}],[{key:"from",value:function(e,a,n){var r=new i(a,e.id);return r.setAlpha(e.alpha),e.tiles.forEach((function(e,a){return e.forEach((function(e,i){var s=t.getTileId(e);n(s)&&r.setTileGID(i,a,e)}))})),r}}]),i}(x),E=function(){function e(t){l(this,e),this.taggedHitBoxes=[],this.animationLength=null!=t?t:0,this.stackedTiles=[]}return d(e,[{key:"addHitBox",value:function(e,t,a){var i=this.taggedHitBoxes.find((function(t){return t.tag===e}));i||(i={tag:e,polygons:[],hasFullHitBox:!1},this.taggedHitBoxes.push(i)),i.hasFullHitBox||(i.hasFullHitBox=a),i.polygons.push(t)}},{key:"hasTaggedHitBox",value:function(e){return this.taggedHitBoxes.some((function(t){return t.tag===e}))}},{key:"getHitBoxes",value:function(e){var t=this.taggedHitBoxes.find((function(t){return t.tag===e}));return t&&t.polygons}},{key:"hasFullHitBox",value:function(e){var t=this.taggedHitBoxes.find((function(t){return t.tag===e}));return t&&t.hasFullHitBox}},{key:"getAnimationLength",value:function(){return this.animationLength}},{key:"getStackTileId",value:function(){return this.stackTileId}},{key:"getStackedTiles",value:function(){return this.stackedTiles}},{key:"hasStackedTiles",value:function(){return this.stackedTiles.length>0}},{key:"setStackedTiles",value:function(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),i=1;i<t;i++)a[i-1]=arguments[i];this.stackedTiles=a,this.stackTileId=e}}]),e}(),T=function(){function e(){l(this,e),this._cachedValues=new Map,this._callbacks=new Map}return d(e,[{key:"getOrLoad",value:function(e,t,a){var i=this,n=this._cachedValues.get(e);if(n)a(n);else{var r=this._callbacks.get(e);r?r.push(a):(this._callbacks.set(e,[a]),t((function(t){t&&i._cachedValues.set(e,t);var a=i._callbacks.get(e);i._callbacks.delete(e);var n,r=o(a);try{for(r.s();!(n=r.n()).done;)(0,n.value)(t)}catch(s){r.e(s)}finally{r.f()}})))}}}]),e}(),w=function(){function e(){l(this,e),this._levelBackgroundTextures=new Map,this._textures=new Map}return d(e,[{key:"setTexture",value:function(e,t){this._textures.set(e,t)}},{key:"getTexture",value:function(e){return this._textures.get(e)}},{key:"getLevelBackgroundTexture",value:function(e){return this._levelBackgroundTextures.get(e)}},{key:"setLevelBackgroundTexture",value:function(e,t){this._levelBackgroundTextures.set(e,t)}}]),e}(),S=function(e,t){var a=t.data,i=t.compression;if(!a)return a;var n=4,r=[],s=atob(a).split("").map((function(e){return e.charCodeAt(0)}));try{var o=function(e,t){return e[t]+(e[t+1]<<8)+(e[t+2]<<16)+(e[t+3]<<24)>>>0};if("zlib"===i)for(var l=new Uint8Array(s),d=e.inflate(l);n<=d.length;)r.push(o(d,n-4)),n+=4;else{if("zstd"===i)return console.error("Zstandard compression is not supported for layers in a Tilemap. Use instead zlib compression or no compression."),null;for(;n<=s.length;)r.push(o(s,n-4)),n+=4}return r}catch(e){return console.error("Failed to decompress and unzip base64 layer.data string",e),null}},C=function(e){var t=e&a,i=e&c,n=e&u;return{id:F(536870911&e),flippedHorizontally:!!t,flippedVertically:!!i,flippedDiagonally:!!n}};function F(e){return 0===e?void 0:e-1}function I(e,t){var a=e<<16;return a+=t}function j(e,t,a,i){var n;if(e[i])return e[i];var r=null,s=t[i];return(null==s?void 0:s.relPath)?"res/invalid_texture.png"===(null===(n=(r=a(s.relPath)).baseTexture)||void 0===n?void 0:n.cacheId)&&(console.error('The atlas texture "'.concat(s.relPath,"\" can't be loaded")),r=null):console.error('The tileset "'.concat(s.identifier,"\" doesn't seems to contain an atlas texture")),e[i]=r,r}!function(e){e.parseAtlas=function(e,t,a,i){if(!e.tiledversion)return console.warn("The loaded Tiled map does not contain a 'tiledversion' key. Are you sure this file has been exported from Tiled (mapeditor.org)?"),null;if(!e.tilesets.length||"source"in e.tilesets[0])return console.warn("The loaded Tiled map seems not to contain any tileset data (nothing in 'tilesets' key)."),null;var n=e.tilesets[0],r=n.tilewidth,s=n.tileheight,o=n.tilecount,l=n.image,d=n.columns,c=n.spacing,u=n.margin,h=void 0===n.firstgid?1:n.firstgid;a||(a=i(l));var f=o/d,p=r*d+c*(d-1)+2*u,m=s*f+c*(f-1)+2*u;if(a.width<p||a.height<m)return console.error("It seems the atlas file was resized, which is not supported. It should be ".concat(p,"x").concat(m," px, but it's actually ").concat(a.width,"x").concat(a.height," px.")),null;a.width===p&&a.height===m||console.warn("It seems the atlas file has unused pixels. It should be ".concat(p,"x").concat(m," px, but it's actually ").concat(a.width,"x").concat(a.height," px."));for(var g=new w,v=0;v<o;v++){var b=u+Math.floor(v%d)*(r+c),y=u+Math.floor(v/d)*(s+c),x=F(h+v);try{var _=new PIXI.Rectangle(b,y,r,s),P=new PIXI.Texture(a,_);g.setTexture(x,P)}catch(e){console.error("An error occurred while creating a PIXI.Texture to be used in a TileMap:",e)}}return g}}(p||(p={})),function(e){e.parseAtlas=function(e,t,a,r){var s=e.levels[t>-1?t:0];if(!s||!s.layerInstances)return null;var l,d={},c=o(e.defs.tilesets);try{for(c.s();!(l=c.n()).done;){var u=l.value;d[u.uid]=u}}catch(B){c.e(B)}finally{c.f()}for(var h=new w,f={},p={},m=s.layerInstances.length-1;m>=0;--m){var g=s.layerInstances[m];if("Entities"!==g.__type){var v=g.__tilesetDefUid;if("number"==typeof v){var b=d[v],y=j(p,d,r,v);if(y)for(var x={},_=b.tileGridSize,P=0,A=[].concat(n(g.autoLayerTiles),n(g.gridTiles));P<A.length;P++){var E=A[P];if(!x[E.t]){var T=I(v,E.t);if(f[T])x[E.t]=!0;else{try{var S=i(E.src,2),C=S[0],F=S[1],M=new PIXI.Rectangle(C,F,_,_),O=new PIXI.Texture(y,M);h.setTexture(T,O)}catch(e){console.error("An error occurred while creating a PIXI.Texture to be used in a TileMap:",e)}x[E.t]=!0,f[T]=!0}}}}}}if(s.bgRelPath){var R=r(s.bgRelPath),k=new PIXI.Rectangle(0,0,s.pxWid,s.pxHei),D=new PIXI.Texture(R,k);h.setLevelBackgroundTexture(s.bgRelPath,D)}return h}}(m||(m={})),e.PixiTileMapHelper=void 0,function(e){function a(e,t,a,i,n){for(var r=t.tileMap,s=r.getTileWidth(),l=r.getTileHeight(),d=0;d<r.getDimensionY();d++)for(var c=0;c<r.getDimensionX();c++){var u=s*c,h=l*d,f=t.getTileId(c,d),p=t.isFlippedHorizontally(c,d),m=t.isFlippedVertically(c,d),g=t.isFlippedDiagonally(c,d),v=r.getTileDefinition(f);if(v){var b=v.getHitBoxes(a);if(b){var y,x=o(b);try{for(x.s();!(y=x.n()).done;){var _=y.value;if(0!==_.length){e.beginFill(i,n);for(var P=0;P<_.length;P++){var A=_[P][0],E=_[P][1];if(g){var T=A;A=E,E=T}p&&(A=s-A),m&&(E=l-E),0===P?e.moveTo(u+A,h+E):e.lineTo(u+A,h+E)}e.closePath(),e.endFill()}}}catch(w){x.e(w)}finally{x.f()}}}}}e.parseAtlas=function(e,t,a,i){return"ldtk"===e.kind?m.parseAtlas(e.data,t,a,i):"tiled"===e.kind?p.parseAtlas(e.data,t,a,i):(console.warn("The loaded Tiled map data does not contain a 'tiledversion' or '__header__' key. Are you sure this file has been exported from Tiled (mapeditor.org) or LDtk (ldtk.io)?"),null)},e.parseSimpleTileMapAtlas=function(e,t,a,i){for(var n=new w,r=0;r<t;r++)for(var s=0;s<a;s++){var o=new PIXI.Rectangle(r*i,s*i,i,i),l=new PIXI.Texture(e,o);n.setTexture(t*s+r,l)}return n},e.updatePixiTileMap=function(e,a,i,n,r){var s=e;if(s){s.clear();var l=a.getBackgroundResourceName();if(l){var d=i.getLevelBackgroundTexture(l);s.tile(d,0,0)}var c,u=o(a.getLayers());try{for(u.s();!(c=u.n()).done;){var f=c.value;if(!("index"===n&&r!==f.id||"visible"===n&&!f.isVisible()))if(f instanceof _){var p,m=f,g=o(m.objects);try{for(g.s();!(p=g.n()).done;){var v=p.value,b=v.getTileId(),y=i.getTexture(b);if(y){var x=h(b);s.tile(y,v.x,v.y-m.tileMap.getTileHeight(),{rotate:x})}}}catch(W){g.e(W)}finally{g.f()}}else if(f instanceof A)for(var P=f,E=P.tileMap.getTileWidth(),T=P.tileMap.getTileHeight(),w=P.tileMap.getDimensionX(),S=P.tileMap.getDimensionY(),C=P.getAlpha(),F=0;F<S;F++)for(var I=0;I<w;I++){var j=E*I,M=T*F,O=P.getTileGID(I,F);if(void 0!==O){var R=t.getTileId(O),k=P.tileMap.getTileDefinition(R);if(k.hasStackedTiles()){var D,B=o(k.getStackedTiles());try{for(B.s();!(D=B.n()).done;){var N=D.value,L=t.getTileId(N),V=i.getTexture(L);if(V){var J=h(N);s.tile(V,j,M,{alpha:C,rotate:J})}}}catch(W){B.e(W)}finally{B.f()}}else{var G=i.getTexture(R);if(!G){console.warn("Unknown tile id: ".concat(R," at (").concat(I,", ").concat(F,")"));continue}var U=h(O),H=s.tile(G,j,M,{alpha:C,rotate:U});k.getAnimationLength()>0&&H.tileAnimX(E,k.getAnimationLength())}}}}}catch(W){u.e(W)}finally{u.f()}}},e.updatePixiCollisionMask=function(e,t,i,n,r,s,l,d,c){if(e)if(e.clear(),e.lineStyle(r,s,l),e.drawRect(0,0,t.getWidth(),t.getHeight()),n)a(e,t.getTileLayer(n),i,d,c);else{var u,h=o(t.getLayers());try{for(h.s();!(u=h.n()).done;){var f=u.value;f instanceof A&&a(e,f,i,d,c)}}catch(p){h.e(p)}finally{h.f()}}}}(e.PixiTileMapHelper||(e.PixiTileMapHelper={})),function(e){e.load=function(e,t){var a=e.levels[t>-1?t:0];if(!a||!a.layerInstances)return null;for(var i=new Map,r=0,s=0,o=0,l=a.layerInstances.length-1;l>=0;--l){for(var d=a.layerInstances[l],c=d.__tilesetDefUid,u={},h=0,p=[].concat(n(d.autoLayerTiles),n(d.gridTiles));h<p.length;h++){var m=p[h];if(!u[m.t]){var g=I(c,m.t);if(i.has(g))u[m.t]=!0;else{var v=new E(0);u[m.t]=!0,i.set(g,v)}}}"IntGrid"!==d.__type&&"AutoLayer"!==d.__type&&"Tiles"!==d.__type||(0===r?(r=d.__gridSize,s=d.__cWid,o=d.__cHei):d.__gridSize!==r&&console.warn("Grid size is different across layers. Only the first layer grid size will be followed."))}for(var b=new y(r,r,s,o,i),x=new Map,_=268435455,P=a.layerInstances.length-1;P>=0;--P){var A=a.layerInstances[P],T=A.__gridSize,w=A.__tilesetDefUid,S=b.addNewTileLayer(P);S.setAlpha(A.__opacity),S.setVisible(A.visible);for(var C=0,F=[].concat(n(A.autoLayerTiles),n(A.gridTiles));C<F.length;C++){var j=F[C],M=Math.floor(j.px[0]/T),O=Math.floor(j.px[1]/T),R=I(w,j.t),k=S.getTileId(M,O);if(void 0===k)S.setTile(M,O,R),S.setFlippedHorizontally(M,O,1===j.f||3===j.f),S.setFlippedVertically(M,O,2===j.f||3===j.f);else{var D=f(R,1===j.f||3===j.f,2===j.f||3===j.f,!1),B=i.get(k);if(null==B?void 0:B.hasStackedTiles()){var N="".concat(B.getStackedTiles().map((function(e){return"".concat(e)})).join(";"),";").concat(D),L=x.get(N);if(L)S.setTile(M,O,L.getStackTileId());else{var V=new E(0);V.setStackedTiles.apply(V,[_].concat(n(B.getStackedTiles()),[D])),i.set(_,V),_-=1,x.set(N,V),S.setTile(M,O,V.getStackTileId())}}else{var J=S.getTileGID(M,O),G="".concat(J,";").concat(D),U=new E(0);U.setStackedTiles(_,J,D),i.set(_,U),_-=1,x.set(G,U),S.setTile(M,O,U.getStackTileId())}}}}return a.bgRelPath&&b.setBackgroundResourceName(a.bgRelPath),b}}(g||(g={})),function(e){e.load=function(e,t){if(!e.tiledversion)return console.warn("The loaded Tiled map does not contain a 'tiledversion' key. Are you sure this file has been exported from Tiled (mapeditor.org)?"),null;var a,i=new Map,n=o(e.tilesets);try{for(n.s();!(a=n.n()).done;){var r=a.value,s=void 0===r.firstgid?1:r.firstgid;if(r.tiles){var l,d=o(r.tiles);try{for(d.s();!(l=d.n()).done;){var c=l.value,u=new E(c.animation?c.animation.length:0),h=c.type||c.class;if(c.objectgroup){var f,p=o(c.objectgroup.objects);try{var m=function(){var t=f.value,a=t.type||t.class||h;if(!a||0===a.length)return 1;var i=null,n=!1;if(t.polygon){var r=t.rotation*Math.PI/180,s=Math.cos(r),o=Math.sin(r);-1!==s&&1!==s||(o=0),-1!==o&&1!==o||(s=0),i=t.polygon.map((function(e){return[t.x+e.x*s-e.y*o,t.y+e.x*o+e.y*s]}))}else void 0!==t.x&&void 0!==t.y&&void 0!==t.width&&void 0!==t.height&&(i=[[t.x,t.y],[t.x,t.y+t.height],[t.x+t.width,t.y+t.height],[t.x+t.width,t.y]],n=0===t.x&&0===t.y&&t.width===e.tilewidth&&t.height===e.tileheight);i&&u.addHitBox(a,i,n)};for(p.s();!(f=p.n()).done;)m()}catch(G){p.e(G)}finally{p.f()}}else if(h){var g=[[0,0],[0,e.tileheight],[e.tilewidth,e.tileheight],[e.tilewidth,0]];u.addHitBox(h,g,!0)}i.set(F(s+c.id),u)}}catch(G){d.e(G)}finally{d.f()}}for(var v=0;v<r.tilecount;v++){var b=F(s+v);i.has(b)||i.set(b,new E(0))}}}catch(G){n.e(G)}finally{n.f()}var x,_=new y(e.tilewidth,e.tileheight,e.width,e.height,i),A=o(e.layers);try{for(A.s();!(x=A.n()).done;){var T=x.value;if("objectgroup"===T.type){var w=_.addObjectLayer(T.id);w.setVisible(T.visible);var I,j=o(T.objects);try{for(j.s();!(I=j.n()).done;){var M=I.value;if(M.visible&&M.gid){var O=C(M.gid),R=new P(M.x,M.y,O.id);w.add(R),R.setFlippedHorizontally(O.flippedHorizontally),R.setFlippedVertically(O.flippedVertically),R.setFlippedDiagonally(O.flippedDiagonally)}}}catch(G){j.e(G)}finally{j.f()}}else if("tilelayer"===T.type){var k=0,D=null;if("base64"===T.encoding?(D=S(t,T))||console.warn("Failed to uncompress layer.data"):D=T.data,D){var B=_.addNewTileLayer(T.id);B.setAlpha(T.opacity),B.setVisible(T.visible);for(var N=0;N<T.height;N++)for(var L=0;L<T.width;L++){var V=D[k],J=C(V);void 0!==J.id&&(B.setTile(L,N,J.id),B.setFlippedHorizontally(L,N,J.flippedHorizontally),B.setFlippedVertically(L,N,J.flippedVertically),B.setFlippedDiagonally(L,N,J.flippedDiagonally)),k+=1}}}}}catch(G){A.e(G)}finally{A.f()}return _}}(v||(v={})),function(e){e.load=function(e,t,a){return"ldtk"===e.kind?g.load(e.data,t):"tiled"===e.kind?v.load(e.data,a):(console.warn("The loaded Tile Map data does not contain a 'tiledversion' or '__header__' key. Are you sure this file has been exported from Tiled (mapeditor.org) or LDtk (ldtk.io)?"),null)}}(b||(b={}));var M=function(){function t(){l(this,t),this._tileMapCache=new T,this._textureCacheCaches=new T}return d(t,[{key:"getOrLoadTileMap",value:function(e,t,a,i,n,r){var s=t+"|"+a+"|"+i;this._tileMapCache.getOrLoad(s,(function(r){e(t,a,(function(e){if(e){var t=b.load(e,i,n);r(t)}else r(null)}))}),r)}},{key:"getOrLoadSimpleTileMap",value:function(e,t,a,i,n,r){r(y.from(e,{tileSize:a,tileSetColumnCount:i,tileSetRowCount:n}))}},{key:"getOrLoadTextureCache",value:function(t,a,i,n,r,s,o){var l=n+"|"+r+"|"+i+"|"+s;this._textureCacheCaches.getOrLoad(l,(function(o){t(n,r,(function(t){if(t){var n=i?a(i):null,r=e.PixiTileMapHelper.parseAtlas(t,s,n,a);o(r)}else o(null)}))}),o)}},{key:"getOrLoadSimpleTileMapTextureCache",value:function(t,a,i,n,r,s){var o="".concat(a,"|").concat(i,"|").concat(n,"|").concat(r);this._textureCacheCaches.getOrLoad(o,(function(s){if(a){var o=t(a);s(e.PixiTileMapHelper.parseSimpleTileMapAtlas(o,n,r,i))}else s(null)}),s)}},{key:"clearCaches",value:function(){this._tileMapCache=new T,this._textureCacheCaches=new T}}],[{key:"getManager",value:function(e){return e.tileMapCollisionMaskManager||(e.tileMapCollisionMaskManager=new t),e.tileMapCollisionMaskManager}},{key:"identify",value:function(e){return e.tiledversion?(console.info("Detected the json file was created in Tiled"),{kind:"tiled",data:e}):e.__header__&&"LDtk"===e.__header__.app?(console.info("Detected the json/ldtk file was created in LDtk"),{kind:"ldtk",data:e}):(console.warn("The loaded Tile Map data does not contain a 'tiledversion' or '__header__' key. Are you sure this file has been exported from Tiled (mapeditor.org) or LDtk (ldtk.io)?"),null)}}]),t}();e.EditableTileMap=y,e.EditableTileMapLayer=A,e.TileDefinition=E,e.TileMapManager=M,e.TileTextureCache=w,Object.defineProperty(e,"__esModule",{value:!0})}(t)},53663:function(e,t){!function(e){"use strict";function t(e){for(var t=e.length;--t>=0;)e[t]=0}var a=256,i=286,n=30,r=15,s=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),o=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),l=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),d=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),c=new Array(576);t(c);var u=new Array(60);t(u);var h=new Array(512);t(h);var f=new Array(256);t(f);var p=new Array(29);t(p);var m,g,v,b=new Array(n);function y(e,t,a,i,n){this.static_tree=e,this.extra_bits=t,this.extra_base=a,this.elems=i,this.max_length=n,this.has_stree=e&&e.length}function x(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}t(b);var _=function(e){return e<256?h[e]:h[256+(e>>>7)]},P=function(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255},A=function(e,t,a){e.bi_valid>16-a?(e.bi_buf|=t<<e.bi_valid&65535,P(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=a-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=a)},E=function(e,t,a){A(e,a[2*t],a[2*t+1])},T=function(e,t){var a=0;do{a|=1&e,e>>>=1,a<<=1}while(--t>0);return a>>>1},w=function(e,t,a){var i,n,s=new Array(16),o=0;for(i=1;i<=r;i++)s[i]=o=o+a[i-1]<<1;for(n=0;n<=t;n++){var l=e[2*n+1];0!==l&&(e[2*n]=T(s[l]++,l))}},S=function(e){var t;for(t=0;t<i;t++)e.dyn_ltree[2*t]=0;for(t=0;t<n;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0},C=function(e){e.bi_valid>8?P(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},F=function(e,t,a,i){var n=2*t,r=2*a;return e[n]<e[r]||e[n]===e[r]&&i[t]<=i[a]},I=function(e,t,a){for(var i=e.heap[a],n=a<<1;n<=e.heap_len&&(n<e.heap_len&&F(t,e.heap[n+1],e.heap[n],e.depth)&&n++,!F(t,i,e.heap[n],e.depth));)e.heap[a]=e.heap[n],a=n,n<<=1;e.heap[a]=i},j=function(e,t,i){var n,r,l,d,c=0;if(0!==e.last_lit)do{n=e.pending_buf[e.d_buf+2*c]<<8|e.pending_buf[e.d_buf+2*c+1],r=e.pending_buf[e.l_buf+c],c++,0===n?E(e,r,t):(l=f[r],E(e,l+a+1,t),0!==(d=s[l])&&(r-=p[l],A(e,r,d)),n--,l=_(n),E(e,l,i),0!==(d=o[l])&&(n-=b[l],A(e,n,d)))}while(c<e.last_lit);E(e,256,t)},M=function(e,t){var a,i,n,s=t.dyn_tree,o=t.stat_desc.static_tree,l=t.stat_desc.has_stree,d=t.stat_desc.elems,c=-1;for(e.heap_len=0,e.heap_max=573,a=0;a<d;a++)0!==s[2*a]?(e.heap[++e.heap_len]=c=a,e.depth[a]=0):s[2*a+1]=0;for(;e.heap_len<2;)s[2*(n=e.heap[++e.heap_len]=c<2?++c:0)]=1,e.depth[n]=0,e.opt_len--,l&&(e.static_len-=o[2*n+1]);for(t.max_code=c,a=e.heap_len>>1;a>=1;a--)I(e,s,a);n=d;do{a=e.heap[1],e.heap[1]=e.heap[e.heap_len--],I(e,s,1),i=e.heap[1],e.heap[--e.heap_max]=a,e.heap[--e.heap_max]=i,s[2*n]=s[2*a]+s[2*i],e.depth[n]=(e.depth[a]>=e.depth[i]?e.depth[a]:e.depth[i])+1,s[2*a+1]=s[2*i+1]=n,e.heap[1]=n++,I(e,s,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],function(e,t){var a,i,n,s,o,l,d=t.dyn_tree,c=t.max_code,u=t.stat_desc.static_tree,h=t.stat_desc.has_stree,f=t.stat_desc.extra_bits,p=t.stat_desc.extra_base,m=t.stat_desc.max_length,g=0;for(s=0;s<=r;s++)e.bl_count[s]=0;for(d[2*e.heap[e.heap_max]+1]=0,a=e.heap_max+1;a<573;a++)(s=d[2*d[2*(i=e.heap[a])+1]+1]+1)>m&&(s=m,g++),d[2*i+1]=s,i>c||(e.bl_count[s]++,o=0,i>=p&&(o=f[i-p]),l=d[2*i],e.opt_len+=l*(s+o),h&&(e.static_len+=l*(u[2*i+1]+o)));if(0!==g){do{for(s=m-1;0===e.bl_count[s];)s--;e.bl_count[s]--,e.bl_count[s+1]+=2,e.bl_count[m]--,g-=2}while(g>0);for(s=m;0!==s;s--)for(i=e.bl_count[s];0!==i;)(n=e.heap[--a])>c||(d[2*n+1]!==s&&(e.opt_len+=(s-d[2*n+1])*d[2*n],d[2*n+1]=s),i--)}}(e,t),w(s,c,e.bl_count)},O=function(e,t,a){var i,n,r=-1,s=t[1],o=0,l=7,d=4;for(0===s&&(l=138,d=3),t[2*(a+1)+1]=65535,i=0;i<=a;i++)n=s,s=t[2*(i+1)+1],++o<l&&n===s||(o<d?e.bl_tree[2*n]+=o:0!==n?(n!==r&&e.bl_tree[2*n]++,e.bl_tree[32]++):o<=10?e.bl_tree[34]++:e.bl_tree[36]++,o=0,r=n,0===s?(l=138,d=3):n===s?(l=6,d=3):(l=7,d=4))},R=function(e,t,a){var i,n,r=-1,s=t[1],o=0,l=7,d=4;for(0===s&&(l=138,d=3),i=0;i<=a;i++)if(n=s,s=t[2*(i+1)+1],!(++o<l&&n===s)){if(o<d)do{E(e,n,e.bl_tree)}while(0!=--o);else 0!==n?(n!==r&&(E(e,n,e.bl_tree),o--),E(e,16,e.bl_tree),A(e,o-3,2)):o<=10?(E(e,17,e.bl_tree),A(e,o-3,3)):(E(e,18,e.bl_tree),A(e,o-11,7));o=0,r=n,0===s?(l=138,d=3):n===s?(l=6,d=3):(l=7,d=4)}},k=!1,D=function(e,t,a,i){A(e,0+(i?1:0),3),function(e,t,a,i){C(e),i&&(P(e,a),P(e,~a)),e.pending_buf.set(e.window.subarray(t,t+a),e.pending),e.pending+=a}(e,t,a,!0)},B={_tr_init:function(e){k||(function(){var e,t,a,d,x,_=new Array(16);for(a=0,d=0;d<28;d++)for(p[d]=a,e=0;e<1<<s[d];e++)f[a++]=d;for(f[a-1]=d,x=0,d=0;d<16;d++)for(b[d]=x,e=0;e<1<<o[d];e++)h[x++]=d;for(x>>=7;d<n;d++)for(b[d]=x<<7,e=0;e<1<<o[d]-7;e++)h[256+x++]=d;for(t=0;t<=r;t++)_[t]=0;for(e=0;e<=143;)c[2*e+1]=8,e++,_[8]++;for(;e<=255;)c[2*e+1]=9,e++,_[9]++;for(;e<=279;)c[2*e+1]=7,e++,_[7]++;for(;e<=287;)c[2*e+1]=8,e++,_[8]++;for(w(c,287,_),e=0;e<n;e++)u[2*e+1]=5,u[2*e]=T(e,5);m=new y(c,s,257,i,r),g=new y(u,o,0,n,r),v=new y(new Array(0),l,0,19,7)}(),k=!0),e.l_desc=new x(e.dyn_ltree,m),e.d_desc=new x(e.dyn_dtree,g),e.bl_desc=new x(e.bl_tree,v),e.bi_buf=0,e.bi_valid=0,S(e)},_tr_stored_block:D,_tr_flush_block:function(e,t,i,n){var r,s,o=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,i=4093624447;for(t=0;t<=31;t++,i>>>=1)if(1&i&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<a;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0}(e)),M(e,e.l_desc),M(e,e.d_desc),o=function(e){var t;for(O(e,e.dyn_ltree,e.l_desc.max_code),O(e,e.dyn_dtree,e.d_desc.max_code),M(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*d[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),r=e.opt_len+3+7>>>3,(s=e.static_len+3+7>>>3)<=r&&(r=s)):r=s=i+5,i+4<=r&&-1!==t?D(e,t,i,n):4===e.strategy||s===r?(A(e,2+(n?1:0),3),j(e,c,u)):(A(e,4+(n?1:0),3),function(e,t,a,i){var n;for(A(e,t-257,5),A(e,a-1,5),A(e,i-4,4),n=0;n<i;n++)A(e,e.bl_tree[2*d[n]+1],3);R(e,e.dyn_ltree,t-1),R(e,e.dyn_dtree,a-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,o+1),j(e,e.dyn_ltree,e.dyn_dtree)),S(e),n&&C(e)},_tr_tally:function(e,t,i){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&i,e.last_lit++,0===t?e.dyn_ltree[2*i]++:(e.matches++,t--,e.dyn_ltree[2*(f[i]+a+1)]++,e.dyn_dtree[2*_(t)]++),e.last_lit===e.lit_bufsize-1},_tr_align:function(e){A(e,2,3),E(e,256,c),function(e){16===e.bi_valid?(P(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},N=function(e,t,a,i){for(var n=65535&e|0,r=e>>>16&65535|0,s=0;0!==a;){a-=s=a>2e3?2e3:a;do{r=r+(n=n+t[i++]|0)|0}while(--s);n%=65521,r%=65521}return n|r<<16|0},L=new Uint32Array(function(){for(var e,t=[],a=0;a<256;a++){e=a;for(var i=0;i<8;i++)e=1&e?3988292384^e>>>1:e>>>1;t[a]=e}return t}()),V=function(e,t,a,i){var n=L,r=i+a;e^=-1;for(var s=i;s<r;s++)e=e>>>8^n[255&(e^t[s])];return-1^e},J={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},G={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},U=B._tr_init,H=B._tr_stored_block,W=B._tr_flush_block,z=B._tr_tally,X=B._tr_align,Y=G.Z_NO_FLUSH,q=G.Z_PARTIAL_FLUSH,Z=G.Z_FULL_FLUSH,Q=G.Z_FINISH,K=G.Z_BLOCK,$=G.Z_OK,ee=G.Z_STREAM_END,te=G.Z_STREAM_ERROR,ae=G.Z_DATA_ERROR,ie=G.Z_BUF_ERROR,ne=G.Z_DEFAULT_COMPRESSION,re=G.Z_FILTERED,se=G.Z_HUFFMAN_ONLY,oe=G.Z_RLE,le=G.Z_FIXED,de=G.Z_DEFAULT_STRATEGY,ce=G.Z_UNKNOWN,ue=G.Z_DEFLATED,he=258,fe=262,pe=103,me=113,ge=666,ve=function(e,t){return e.msg=J[t],t},be=function(e){return(e<<1)-(e>4?9:0)},ye=function(e){for(var t=e.length;--t>=0;)e[t]=0},xe=function(e,t,a){return(t<<e.hash_shift^a)&e.hash_mask},_e=function(e){var t=e.state,a=t.pending;a>e.avail_out&&(a=e.avail_out),0!==a&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+a),e.next_out),e.next_out+=a,t.pending_out+=a,e.total_out+=a,e.avail_out-=a,t.pending-=a,0===t.pending&&(t.pending_out=0))},Pe=function(e,t){W(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,_e(e.strm)},Ae=function(e,t){e.pending_buf[e.pending++]=t},Ee=function(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t},Te=function(e,t,a,i){var n=e.avail_in;return n>i&&(n=i),0===n?0:(e.avail_in-=n,t.set(e.input.subarray(e.next_in,e.next_in+n),a),1===e.state.wrap?e.adler=N(e.adler,t,n,a):2===e.state.wrap&&(e.adler=V(e.adler,t,n,a)),e.next_in+=n,e.total_in+=n,n)},we=function(e,t){var a,i,n=e.max_chain_length,r=e.strstart,s=e.prev_length,o=e.nice_match,l=e.strstart>e.w_size-fe?e.strstart-(e.w_size-fe):0,d=e.window,c=e.w_mask,u=e.prev,h=e.strstart+he,f=d[r+s-1],p=d[r+s];e.prev_length>=e.good_match&&(n>>=2),o>e.lookahead&&(o=e.lookahead);do{if(d[(a=t)+s]===p&&d[a+s-1]===f&&d[a]===d[r]&&d[++a]===d[r+1]){r+=2,a++;do{}while(d[++r]===d[++a]&&d[++r]===d[++a]&&d[++r]===d[++a]&&d[++r]===d[++a]&&d[++r]===d[++a]&&d[++r]===d[++a]&&d[++r]===d[++a]&&d[++r]===d[++a]&&r<h);if(i=he-(h-r),r=h-he,i>s){if(e.match_start=t,s=i,i>=o)break;f=d[r+s-1],p=d[r+s]}}}while((t=u[t&c])>l&&0!=--n);return s<=e.lookahead?s:e.lookahead},Se=function(e){var t,a,i,n,r,s=e.w_size;do{if(n=e.window_size-e.lookahead-e.strstart,e.strstart>=s+(s-fe)){e.window.set(e.window.subarray(s,s+s),0),e.match_start-=s,e.strstart-=s,e.block_start-=s,t=a=e.hash_size;do{i=e.head[--t],e.head[t]=i>=s?i-s:0}while(--a);t=a=s;do{i=e.prev[--t],e.prev[t]=i>=s?i-s:0}while(--a);n+=s}if(0===e.strm.avail_in)break;if(a=Te(e.strm,e.window,e.strstart+e.lookahead,n),e.lookahead+=a,e.lookahead+e.insert>=3)for(r=e.strstart-e.insert,e.ins_h=e.window[r],e.ins_h=xe(e,e.ins_h,e.window[r+1]);e.insert&&(e.ins_h=xe(e,e.ins_h,e.window[r+3-1]),e.prev[r&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=r,r++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<fe&&0!==e.strm.avail_in)},Ce=function(e,t){for(var a,i;;){if(e.lookahead<fe){if(Se(e),e.lookahead<fe&&t===Y)return 1;if(0===e.lookahead)break}if(a=0,e.lookahead>=3&&(e.ins_h=xe(e,e.ins_h,e.window[e.strstart+3-1]),a=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==a&&e.strstart-a<=e.w_size-fe&&(e.match_length=we(e,a)),e.match_length>=3)if(i=z(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do{e.strstart++,e.ins_h=xe(e,e.ins_h,e.window[e.strstart+3-1]),a=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=xe(e,e.ins_h,e.window[e.strstart+1]);else i=z(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(i&&(Pe(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,t===Q?(Pe(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(Pe(e,!1),0===e.strm.avail_out)?1:2},Fe=function(e,t){for(var a,i,n;;){if(e.lookahead<fe){if(Se(e),e.lookahead<fe&&t===Y)return 1;if(0===e.lookahead)break}if(a=0,e.lookahead>=3&&(e.ins_h=xe(e,e.ins_h,e.window[e.strstart+3-1]),a=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==a&&e.prev_length<e.max_lazy_match&&e.strstart-a<=e.w_size-fe&&(e.match_length=we(e,a),e.match_length<=5&&(e.strategy===re||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){n=e.strstart+e.lookahead-3,i=z(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=n&&(e.ins_h=xe(e,e.ins_h,e.window[e.strstart+3-1]),a=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,i&&(Pe(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if((i=z(e,0,e.window[e.strstart-1]))&&Pe(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(i=z(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,t===Q?(Pe(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(Pe(e,!1),0===e.strm.avail_out)?1:2};function Ie(e,t,a,i,n){this.good_length=e,this.max_lazy=t,this.nice_length=a,this.max_chain=i,this.func=n}var je=[new Ie(0,0,0,0,(function(e,t){var a=65535;for(a>e.pending_buf_size-5&&(a=e.pending_buf_size-5);;){if(e.lookahead<=1){if(Se(e),0===e.lookahead&&t===Y)return 1;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var i=e.block_start+a;if((0===e.strstart||e.strstart>=i)&&(e.lookahead=e.strstart-i,e.strstart=i,Pe(e,!1),0===e.strm.avail_out))return 1;if(e.strstart-e.block_start>=e.w_size-fe&&(Pe(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===Q?(Pe(e,!0),0===e.strm.avail_out?3:4):(e.strstart>e.block_start&&(Pe(e,!1),e.strm.avail_out),1)})),new Ie(4,4,8,4,Ce),new Ie(4,5,16,8,Ce),new Ie(4,6,32,32,Ce),new Ie(4,4,16,16,Fe),new Ie(8,16,32,32,Fe),new Ie(8,16,128,128,Fe),new Ie(8,32,128,256,Fe),new Ie(32,128,258,1024,Fe),new Ie(32,258,258,4096,Fe)];function Me(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=ue,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),ye(this.dyn_ltree),ye(this.dyn_dtree),ye(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),ye(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),ye(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}var Oe=function(e){if(!e||!e.state)return ve(e,te);e.total_in=e.total_out=0,e.data_type=ce;var t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?42:me,e.adler=2===t.wrap?0:1,t.last_flush=Y,U(t),$},Re=function(e){var t,a=Oe(e);return a===$&&((t=e.state).window_size=2*t.w_size,ye(t.head),t.max_lazy_match=je[t.level].max_lazy,t.good_match=je[t.level].good_length,t.nice_match=je[t.level].nice_length,t.max_chain_length=je[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=2,t.match_available=0,t.ins_h=0),a},ke=function(e,t,a,i,n,r){if(!e)return te;var s=1;if(t===ne&&(t=6),i<0?(s=0,i=-i):i>15&&(s=2,i-=16),n<1||n>9||a!==ue||i<8||i>15||t<0||t>9||r<0||r>le)return ve(e,te);8===i&&(i=9);var o=new Me;return e.state=o,o.strm=e,o.wrap=s,o.gzhead=null,o.w_bits=i,o.w_size=1<<o.w_bits,o.w_mask=o.w_size-1,o.hash_bits=n+7,o.hash_size=1<<o.hash_bits,o.hash_mask=o.hash_size-1,o.hash_shift=~~((o.hash_bits+3-1)/3),o.window=new Uint8Array(2*o.w_size),o.head=new Uint16Array(o.hash_size),o.prev=new Uint16Array(o.w_size),o.lit_bufsize=1<<n+6,o.pending_buf_size=4*o.lit_bufsize,o.pending_buf=new Uint8Array(o.pending_buf_size),o.d_buf=1*o.lit_bufsize,o.l_buf=3*o.lit_bufsize,o.level=t,o.strategy=r,o.method=a,Re(e)},De={deflateInit:function(e,t){return ke(e,t,ue,15,8,de)},deflateInit2:ke,deflateReset:Re,deflateResetKeep:Oe,deflateSetHeader:function(e,t){return e&&e.state?2!==e.state.wrap?te:(e.state.gzhead=t,$):te},deflate:function(e,t){var a,i;if(!e||!e.state||t>K||t<0)return e?ve(e,te):te;var n=e.state;if(!e.output||!e.input&&0!==e.avail_in||n.status===ge&&t!==Q)return ve(e,0===e.avail_out?ie:te);n.strm=e;var r=n.last_flush;if(n.last_flush=t,42===n.status)if(2===n.wrap)e.adler=0,Ae(n,31),Ae(n,139),Ae(n,8),n.gzhead?(Ae(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),Ae(n,255&n.gzhead.time),Ae(n,n.gzhead.time>>8&255),Ae(n,n.gzhead.time>>16&255),Ae(n,n.gzhead.time>>24&255),Ae(n,9===n.level?2:n.strategy>=se||n.level<2?4:0),Ae(n,255&n.gzhead.os),n.gzhead.extra&&n.gzhead.extra.length&&(Ae(n,255&n.gzhead.extra.length),Ae(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(e.adler=V(e.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=69):(Ae(n,0),Ae(n,0),Ae(n,0),Ae(n,0),Ae(n,0),Ae(n,9===n.level?2:n.strategy>=se||n.level<2?4:0),Ae(n,3),n.status=me);else{var s=ue+(n.w_bits-8<<4)<<8;s|=(n.strategy>=se||n.level<2?0:n.level<6?1:6===n.level?2:3)<<6,0!==n.strstart&&(s|=32),s+=31-s%31,n.status=me,Ee(n,s),0!==n.strstart&&(Ee(n,e.adler>>>16),Ee(n,65535&e.adler)),e.adler=1}if(69===n.status)if(n.gzhead.extra){for(a=n.pending;n.gzindex<(65535&n.gzhead.extra.length)&&(n.pending!==n.pending_buf_size||(n.gzhead.hcrc&&n.pending>a&&(e.adler=V(e.adler,n.pending_buf,n.pending-a,a)),_e(e),a=n.pending,n.pending!==n.pending_buf_size));)Ae(n,255&n.gzhead.extra[n.gzindex]),n.gzindex++;n.gzhead.hcrc&&n.pending>a&&(e.adler=V(e.adler,n.pending_buf,n.pending-a,a)),n.gzindex===n.gzhead.extra.length&&(n.gzindex=0,n.status=73)}else n.status=73;if(73===n.status)if(n.gzhead.name){a=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>a&&(e.adler=V(e.adler,n.pending_buf,n.pending-a,a)),_e(e),a=n.pending,n.pending===n.pending_buf_size)){i=1;break}i=n.gzindex<n.gzhead.name.length?255&n.gzhead.name.charCodeAt(n.gzindex++):0,Ae(n,i)}while(0!==i);n.gzhead.hcrc&&n.pending>a&&(e.adler=V(e.adler,n.pending_buf,n.pending-a,a)),0===i&&(n.gzindex=0,n.status=91)}else n.status=91;if(91===n.status)if(n.gzhead.comment){a=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>a&&(e.adler=V(e.adler,n.pending_buf,n.pending-a,a)),_e(e),a=n.pending,n.pending===n.pending_buf_size)){i=1;break}i=n.gzindex<n.gzhead.comment.length?255&n.gzhead.comment.charCodeAt(n.gzindex++):0,Ae(n,i)}while(0!==i);n.gzhead.hcrc&&n.pending>a&&(e.adler=V(e.adler,n.pending_buf,n.pending-a,a)),0===i&&(n.status=pe)}else n.status=pe;if(n.status===pe&&(n.gzhead.hcrc?(n.pending+2>n.pending_buf_size&&_e(e),n.pending+2<=n.pending_buf_size&&(Ae(n,255&e.adler),Ae(n,e.adler>>8&255),e.adler=0,n.status=me)):n.status=me),0!==n.pending){if(_e(e),0===e.avail_out)return n.last_flush=-1,$}else if(0===e.avail_in&&be(t)<=be(r)&&t!==Q)return ve(e,ie);if(n.status===ge&&0!==e.avail_in)return ve(e,ie);if(0!==e.avail_in||0!==n.lookahead||t!==Y&&n.status!==ge){var o=n.strategy===se?function(e,t){for(var a;;){if(0===e.lookahead&&(Se(e),0===e.lookahead)){if(t===Y)return 1;break}if(e.match_length=0,a=z(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,a&&(Pe(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===Q?(Pe(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(Pe(e,!1),0===e.strm.avail_out)?1:2}(n,t):n.strategy===oe?function(e,t){for(var a,i,n,r,s=e.window;;){if(e.lookahead<=he){if(Se(e),e.lookahead<=he&&t===Y)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(i=s[n=e.strstart-1])===s[++n]&&i===s[++n]&&i===s[++n]){r=e.strstart+he;do{}while(i===s[++n]&&i===s[++n]&&i===s[++n]&&i===s[++n]&&i===s[++n]&&i===s[++n]&&i===s[++n]&&i===s[++n]&&n<r);e.match_length=he-(r-n),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(a=z(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(a=z(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),a&&(Pe(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===Q?(Pe(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(Pe(e,!1),0===e.strm.avail_out)?1:2}(n,t):je[n.level].func(n,t);if(3!==o&&4!==o||(n.status=ge),1===o||3===o)return 0===e.avail_out&&(n.last_flush=-1),$;if(2===o&&(t===q?X(n):t!==K&&(H(n,0,0,!1),t===Z&&(ye(n.head),0===n.lookahead&&(n.strstart=0,n.block_start=0,n.insert=0))),_e(e),0===e.avail_out))return n.last_flush=-1,$}return t!==Q?$:n.wrap<=0?ee:(2===n.wrap?(Ae(n,255&e.adler),Ae(n,e.adler>>8&255),Ae(n,e.adler>>16&255),Ae(n,e.adler>>24&255),Ae(n,255&e.total_in),Ae(n,e.total_in>>8&255),Ae(n,e.total_in>>16&255),Ae(n,e.total_in>>24&255)):(Ee(n,e.adler>>>16),Ee(n,65535&e.adler)),_e(e),n.wrap>0&&(n.wrap=-n.wrap),0!==n.pending?$:ee)},deflateEnd:function(e){if(!e||!e.state)return te;var t=e.state.status;return 42!==t&&69!==t&&73!==t&&91!==t&&t!==pe&&t!==me&&t!==ge?ve(e,te):(e.state=null,t===me?ve(e,ae):$)},deflateSetDictionary:function(e,t){var a=t.length;if(!e||!e.state)return te;var i=e.state,n=i.wrap;if(2===n||1===n&&42!==i.status||i.lookahead)return te;if(1===n&&(e.adler=N(e.adler,t,a,0)),i.wrap=0,a>=i.w_size){0===n&&(ye(i.head),i.strstart=0,i.block_start=0,i.insert=0);var r=new Uint8Array(i.w_size);r.set(t.subarray(a-i.w_size,a),0),t=r,a=i.w_size}var s=e.avail_in,o=e.next_in,l=e.input;for(e.avail_in=a,e.next_in=0,e.input=t,Se(i);i.lookahead>=3;){var d=i.strstart,c=i.lookahead-2;do{i.ins_h=xe(i,i.ins_h,i.window[d+3-1]),i.prev[d&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=d,d++}while(--c);i.strstart=d,i.lookahead=2,Se(i)}return i.strstart+=i.lookahead,i.block_start=i.strstart,i.insert=i.lookahead,i.lookahead=0,i.match_length=i.prev_length=2,i.match_available=0,e.next_in=o,e.input=l,e.avail_in=s,i.wrap=n,$},deflateInfo:"pako deflate (from Nodeca project)"},Be=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},Ne=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var a=t.shift();if(a){if("object"!=typeof a)throw new TypeError(a+"must be non-object");for(var i in a)Be(a,i)&&(e[i]=a[i])}}return e},Le=function(e){for(var t=0,a=0,i=e.length;a<i;a++)t+=e[a].length;for(var n=new Uint8Array(t),r=0,s=0,o=e.length;r<o;r++){var l=e[r];n.set(l,s),s+=l.length}return n},Ve=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){Ve=!1}for(var Je=new Uint8Array(256),Ge=0;Ge<256;Ge++)Je[Ge]=Ge>=252?6:Ge>=248?5:Ge>=240?4:Ge>=224?3:Ge>=192?2:1;Je[254]=Je[254]=1;var Ue=function(e){var t,a,i,n,r,s=e.length,o=0;for(n=0;n<s;n++)55296==(64512&(a=e.charCodeAt(n)))&&n+1<s&&56320==(64512&(i=e.charCodeAt(n+1)))&&(a=65536+(a-55296<<10)+(i-56320),n++),o+=a<128?1:a<2048?2:a<65536?3:4;for(t=new Uint8Array(o),r=0,n=0;r<o;n++)55296==(64512&(a=e.charCodeAt(n)))&&n+1<s&&56320==(64512&(i=e.charCodeAt(n+1)))&&(a=65536+(a-55296<<10)+(i-56320),n++),a<128?t[r++]=a:a<2048?(t[r++]=192|a>>>6,t[r++]=128|63&a):a<65536?(t[r++]=224|a>>>12,t[r++]=128|a>>>6&63,t[r++]=128|63&a):(t[r++]=240|a>>>18,t[r++]=128|a>>>12&63,t[r++]=128|a>>>6&63,t[r++]=128|63&a);return t},He=function(e,t){var a,i,n=t||e.length,r=new Array(2*n);for(i=0,a=0;a<n;){var s=e[a++];if(s<128)r[i++]=s;else{var o=Je[s];if(o>4)r[i++]=65533,a+=o-1;else{for(s&=2===o?31:3===o?15:7;o>1&&a<n;)s=s<<6|63&e[a++],o--;o>1?r[i++]=65533:s<65536?r[i++]=s:(s-=65536,r[i++]=55296|s>>10&1023,r[i++]=56320|1023&s)}}}return function(e,t){if(t<65534&&e.subarray&&Ve)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));for(var a="",i=0;i<t;i++)a+=String.fromCharCode(e[i]);return a}(r,i)},We=function(e,t){(t=t||e.length)>e.length&&(t=e.length);for(var a=t-1;a>=0&&128==(192&e[a]);)a--;return a<0||0===a?t:a+Je[e[a]]>t?a:t},ze=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0},Xe=Object.prototype.toString,Ye=G.Z_NO_FLUSH,qe=G.Z_SYNC_FLUSH,Ze=G.Z_FULL_FLUSH,Qe=G.Z_FINISH,Ke=G.Z_OK,$e=G.Z_STREAM_END,et=G.Z_DEFAULT_COMPRESSION,tt=G.Z_DEFAULT_STRATEGY,at=G.Z_DEFLATED;function it(e){this.options=Ne({level:et,method:at,chunkSize:16384,windowBits:15,memLevel:8,strategy:tt},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ze,this.strm.avail_out=0;var a=De.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(a!==Ke)throw new Error(J[a]);if(t.header&&De.deflateSetHeader(this.strm,t.header),t.dictionary){var i;if(i="string"==typeof t.dictionary?Ue(t.dictionary):"[object ArrayBuffer]"===Xe.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,(a=De.deflateSetDictionary(this.strm,i))!==Ke)throw new Error(J[a]);this._dict_set=!0}}function nt(e,t){var a=new it(t);if(a.push(e,!0),a.err)throw a.msg||J[a.err];return a.result}it.prototype.push=function(e,t){var a,i,n=this.strm,r=this.options.chunkSize;if(this.ended)return!1;for(i=t===~~t?t:!0===t?Qe:Ye,"string"==typeof e?n.input=Ue(e):"[object ArrayBuffer]"===Xe.call(e)?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;)if(0===n.avail_out&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),(i===qe||i===Ze)&&n.avail_out<=6)this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;else{if((a=De.deflate(n,i))===$e)return n.next_out>0&&this.onData(n.output.subarray(0,n.next_out)),a=De.deflateEnd(this.strm),this.onEnd(a),this.ended=!0,a===Ke;if(0!==n.avail_out){if(i>0&&n.next_out>0)this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;else if(0===n.avail_in)break}else this.onData(n.output)}return!0},it.prototype.onData=function(e){this.chunks.push(e)},it.prototype.onEnd=function(e){e===Ke&&(this.result=Le(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var rt={Deflate:it,deflate:nt,deflateRaw:function(e,t){return(t=t||{}).raw=!0,nt(e,t)},gzip:function(e,t){return(t=t||{}).gzip=!0,nt(e,t)},constants:G},st=function(e,t){var a,i,n,r,s,o,l,d,c,u,h,f,p,m,g,v,b,y,x,_,P,A,E,T,w=e.state;a=e.next_in,E=e.input,i=a+(e.avail_in-5),n=e.next_out,T=e.output,r=n-(t-e.avail_out),s=n+(e.avail_out-257),o=w.dmax,l=w.wsize,d=w.whave,c=w.wnext,u=w.window,h=w.hold,f=w.bits,p=w.lencode,m=w.distcode,g=(1<<w.lenbits)-1,v=(1<<w.distbits)-1;e:do{f<15&&(h+=E[a++]<<f,f+=8,h+=E[a++]<<f,f+=8),b=p[h&g];t:for(;;){if(h>>>=y=b>>>24,f-=y,0===(y=b>>>16&255))T[n++]=65535&b;else{if(!(16&y)){if(0==(64&y)){b=p[(65535&b)+(h&(1<<y)-1)];continue t}if(32&y){w.mode=12;break e}e.msg="invalid literal/length code",w.mode=30;break e}x=65535&b,(y&=15)&&(f<y&&(h+=E[a++]<<f,f+=8),x+=h&(1<<y)-1,h>>>=y,f-=y),f<15&&(h+=E[a++]<<f,f+=8,h+=E[a++]<<f,f+=8),b=m[h&v];a:for(;;){if(h>>>=y=b>>>24,f-=y,!(16&(y=b>>>16&255))){if(0==(64&y)){b=m[(65535&b)+(h&(1<<y)-1)];continue a}e.msg="invalid distance code",w.mode=30;break e}if(_=65535&b,f<(y&=15)&&(h+=E[a++]<<f,(f+=8)<y&&(h+=E[a++]<<f,f+=8)),(_+=h&(1<<y)-1)>o){e.msg="invalid distance too far back",w.mode=30;break e}if(h>>>=y,f-=y,_>(y=n-r)){if((y=_-y)>d&&w.sane){e.msg="invalid distance too far back",w.mode=30;break e}if(P=0,A=u,0===c){if(P+=l-y,y<x){x-=y;do{T[n++]=u[P++]}while(--y);P=n-_,A=T}}else if(c<y){if(P+=l+c-y,(y-=c)<x){x-=y;do{T[n++]=u[P++]}while(--y);if(P=0,c<x){x-=y=c;do{T[n++]=u[P++]}while(--y);P=n-_,A=T}}}else if(P+=c-y,y<x){x-=y;do{T[n++]=u[P++]}while(--y);P=n-_,A=T}for(;x>2;)T[n++]=A[P++],T[n++]=A[P++],T[n++]=A[P++],x-=3;x&&(T[n++]=A[P++],x>1&&(T[n++]=A[P++]))}else{P=n-_;do{T[n++]=T[P++],T[n++]=T[P++],T[n++]=T[P++],x-=3}while(x>2);x&&(T[n++]=T[P++],x>1&&(T[n++]=T[P++]))}break}}break}}while(a<i&&n<s);a-=x=f>>3,h&=(1<<(f-=x<<3))-1,e.next_in=a,e.next_out=n,e.avail_in=a<i?i-a+5:5-(a-i),e.avail_out=n<s?s-n+257:257-(n-s),w.hold=h,w.bits=f},ot=15,lt=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),dt=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),ct=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),ut=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),ht=function(e,t,a,i,n,r,s,o){var l,d,c,u,h,f,p,m,g,v=o.bits,b=0,y=0,x=0,_=0,P=0,A=0,E=0,T=0,w=0,S=0,C=null,F=0,I=new Uint16Array(16),j=new Uint16Array(16),M=null,O=0;for(b=0;b<=ot;b++)I[b]=0;for(y=0;y<i;y++)I[t[a+y]]++;for(P=v,_=ot;_>=1&&0===I[_];_--);if(P>_&&(P=_),0===_)return n[r++]=20971520,n[r++]=20971520,o.bits=1,0;for(x=1;x<_&&0===I[x];x++);for(P<x&&(P=x),T=1,b=1;b<=ot;b++)if(T<<=1,(T-=I[b])<0)return-1;if(T>0&&(0===e||1!==_))return-1;for(j[1]=0,b=1;b<ot;b++)j[b+1]=j[b]+I[b];for(y=0;y<i;y++)0!==t[a+y]&&(s[j[t[a+y]]++]=y);if(0===e?(C=M=s,f=19):1===e?(C=lt,F-=257,M=dt,O-=257,f=256):(C=ct,M=ut,f=-1),S=0,y=0,b=x,h=r,A=P,E=0,c=-1,u=(w=1<<P)-1,1===e&&w>852||2===e&&w>592)return 1;for(;;){p=b-E,s[y]<f?(m=0,g=s[y]):s[y]>f?(m=M[O+s[y]],g=C[F+s[y]]):(m=96,g=0),l=1<<b-E,x=d=1<<A;do{n[h+(S>>E)+(d-=l)]=p<<24|m<<16|g|0}while(0!==d);for(l=1<<b-1;S&l;)l>>=1;if(0!==l?(S&=l-1,S+=l):S=0,y++,0==--I[b]){if(b===_)break;b=t[a+s[y]]}if(b>P&&(S&u)!==c){for(0===E&&(E=P),h+=x,T=1<<(A=b-E);A+E<_&&!((T-=I[A+E])<=0);)A++,T<<=1;if(w+=1<<A,1===e&&w>852||2===e&&w>592)return 1;n[c=S&u]=P<<24|A<<16|h-r|0}}return 0!==S&&(n[h+S]=b-E<<24|64<<16|0),o.bits=P,0},ft=G.Z_FINISH,pt=G.Z_BLOCK,mt=G.Z_TREES,gt=G.Z_OK,vt=G.Z_STREAM_END,bt=G.Z_NEED_DICT,yt=G.Z_STREAM_ERROR,xt=G.Z_DATA_ERROR,_t=G.Z_MEM_ERROR,Pt=G.Z_BUF_ERROR,At=G.Z_DEFLATED,Et=12,Tt=30,wt=function(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)};function St(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}var Ct,Ft,It=function(e){if(!e||!e.state)return yt;var t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=1,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(852),t.distcode=t.distdyn=new Int32Array(592),t.sane=1,t.back=-1,gt},jt=function(e){if(!e||!e.state)return yt;var t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,It(e)},Mt=function(e,t){var a;if(!e||!e.state)return yt;var i=e.state;return t<0?(a=0,t=-t):(a=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?yt:(null!==i.window&&i.wbits!==t&&(i.window=null),i.wrap=a,i.wbits=t,jt(e))},Ot=function(e,t){if(!e)return yt;var a=new St;e.state=a,a.window=null;var i=Mt(e,t);return i!==gt&&(e.state=null),i},Rt=!0,kt=function(e){if(Rt){Ct=new Int32Array(512),Ft=new Int32Array(32);for(var t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(ht(1,e.lens,0,288,Ct,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;ht(2,e.lens,0,32,Ft,0,e.work,{bits:5}),Rt=!1}e.lencode=Ct,e.lenbits=9,e.distcode=Ft,e.distbits=5},Dt=function(e,t,a,i){var n,r=e.state;return null===r.window&&(r.wsize=1<<r.wbits,r.wnext=0,r.whave=0,r.window=new Uint8Array(r.wsize)),i>=r.wsize?(r.window.set(t.subarray(a-r.wsize,a),0),r.wnext=0,r.whave=r.wsize):((n=r.wsize-r.wnext)>i&&(n=i),r.window.set(t.subarray(a-i,a-i+n),r.wnext),(i-=n)?(r.window.set(t.subarray(a-i,a),0),r.wnext=i,r.whave=r.wsize):(r.wnext+=n,r.wnext===r.wsize&&(r.wnext=0),r.whave<r.wsize&&(r.whave+=n))),0},Bt={inflateReset:jt,inflateReset2:Mt,inflateResetKeep:It,inflateInit:function(e){return Ot(e,15)},inflateInit2:Ot,inflate:function(e,t){var a,i,n,r,s,o,l,d,c,u,h,f,p,m,g,v,b,y,x,_,P,A,E,T,w=0,S=new Uint8Array(4),C=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return yt;(a=e.state).mode===Et&&(a.mode=13),s=e.next_out,n=e.output,l=e.avail_out,r=e.next_in,i=e.input,o=e.avail_in,d=a.hold,c=a.bits,u=o,h=l,A=gt;e:for(;;)switch(a.mode){case 1:if(0===a.wrap){a.mode=13;break}for(;c<16;){if(0===o)break e;o--,d+=i[r++]<<c,c+=8}if(2&a.wrap&&35615===d){a.check=0,S[0]=255&d,S[1]=d>>>8&255,a.check=V(a.check,S,2,0),d=0,c=0,a.mode=2;break}if(a.flags=0,a.head&&(a.head.done=!1),!(1&a.wrap)||(((255&d)<<8)+(d>>8))%31){e.msg="incorrect header check",a.mode=Tt;break}if((15&d)!==At){e.msg="unknown compression method",a.mode=Tt;break}if(c-=4,P=8+(15&(d>>>=4)),0===a.wbits)a.wbits=P;else if(P>a.wbits){e.msg="invalid window size",a.mode=Tt;break}a.dmax=1<<a.wbits,e.adler=a.check=1,a.mode=512&d?10:Et,d=0,c=0;break;case 2:for(;c<16;){if(0===o)break e;o--,d+=i[r++]<<c,c+=8}if(a.flags=d,(255&a.flags)!==At){e.msg="unknown compression method",a.mode=Tt;break}if(57344&a.flags){e.msg="unknown header flags set",a.mode=Tt;break}a.head&&(a.head.text=d>>8&1),512&a.flags&&(S[0]=255&d,S[1]=d>>>8&255,a.check=V(a.check,S,2,0)),d=0,c=0,a.mode=3;case 3:for(;c<32;){if(0===o)break e;o--,d+=i[r++]<<c,c+=8}a.head&&(a.head.time=d),512&a.flags&&(S[0]=255&d,S[1]=d>>>8&255,S[2]=d>>>16&255,S[3]=d>>>24&255,a.check=V(a.check,S,4,0)),d=0,c=0,a.mode=4;case 4:for(;c<16;){if(0===o)break e;o--,d+=i[r++]<<c,c+=8}a.head&&(a.head.xflags=255&d,a.head.os=d>>8),512&a.flags&&(S[0]=255&d,S[1]=d>>>8&255,a.check=V(a.check,S,2,0)),d=0,c=0,a.mode=5;case 5:if(1024&a.flags){for(;c<16;){if(0===o)break e;o--,d+=i[r++]<<c,c+=8}a.length=d,a.head&&(a.head.extra_len=d),512&a.flags&&(S[0]=255&d,S[1]=d>>>8&255,a.check=V(a.check,S,2,0)),d=0,c=0}else a.head&&(a.head.extra=null);a.mode=6;case 6:if(1024&a.flags&&((f=a.length)>o&&(f=o),f&&(a.head&&(P=a.head.extra_len-a.length,a.head.extra||(a.head.extra=new Uint8Array(a.head.extra_len)),a.head.extra.set(i.subarray(r,r+f),P)),512&a.flags&&(a.check=V(a.check,i,f,r)),o-=f,r+=f,a.length-=f),a.length))break e;a.length=0,a.mode=7;case 7:if(2048&a.flags){if(0===o)break e;f=0;do{P=i[r+f++],a.head&&P&&a.length<65536&&(a.head.name+=String.fromCharCode(P))}while(P&&f<o);if(512&a.flags&&(a.check=V(a.check,i,f,r)),o-=f,r+=f,P)break e}else a.head&&(a.head.name=null);a.length=0,a.mode=8;case 8:if(4096&a.flags){if(0===o)break e;f=0;do{P=i[r+f++],a.head&&P&&a.length<65536&&(a.head.comment+=String.fromCharCode(P))}while(P&&f<o);if(512&a.flags&&(a.check=V(a.check,i,f,r)),o-=f,r+=f,P)break e}else a.head&&(a.head.comment=null);a.mode=9;case 9:if(512&a.flags){for(;c<16;){if(0===o)break e;o--,d+=i[r++]<<c,c+=8}if(d!==(65535&a.check)){e.msg="header crc mismatch",a.mode=Tt;break}d=0,c=0}a.head&&(a.head.hcrc=a.flags>>9&1,a.head.done=!0),e.adler=a.check=0,a.mode=Et;break;case 10:for(;c<32;){if(0===o)break e;o--,d+=i[r++]<<c,c+=8}e.adler=a.check=wt(d),d=0,c=0,a.mode=11;case 11:if(0===a.havedict)return e.next_out=s,e.avail_out=l,e.next_in=r,e.avail_in=o,a.hold=d,a.bits=c,bt;e.adler=a.check=1,a.mode=Et;case Et:if(t===pt||t===mt)break e;case 13:if(a.last){d>>>=7&c,c-=7&c,a.mode=27;break}for(;c<3;){if(0===o)break e;o--,d+=i[r++]<<c,c+=8}switch(a.last=1&d,c-=1,3&(d>>>=1)){case 0:a.mode=14;break;case 1:if(kt(a),a.mode=20,t===mt){d>>>=2,c-=2;break e}break;case 2:a.mode=17;break;case 3:e.msg="invalid block type",a.mode=Tt}d>>>=2,c-=2;break;case 14:for(d>>>=7&c,c-=7&c;c<32;){if(0===o)break e;o--,d+=i[r++]<<c,c+=8}if((65535&d)!=(d>>>16^65535)){e.msg="invalid stored block lengths",a.mode=Tt;break}if(a.length=65535&d,d=0,c=0,a.mode=15,t===mt)break e;case 15:a.mode=16;case 16:if(f=a.length){if(f>o&&(f=o),f>l&&(f=l),0===f)break e;n.set(i.subarray(r,r+f),s),o-=f,r+=f,l-=f,s+=f,a.length-=f;break}a.mode=Et;break;case 17:for(;c<14;){if(0===o)break e;o--,d+=i[r++]<<c,c+=8}if(a.nlen=257+(31&d),d>>>=5,c-=5,a.ndist=1+(31&d),d>>>=5,c-=5,a.ncode=4+(15&d),d>>>=4,c-=4,a.nlen>286||a.ndist>30){e.msg="too many length or distance symbols",a.mode=Tt;break}a.have=0,a.mode=18;case 18:for(;a.have<a.ncode;){for(;c<3;){if(0===o)break e;o--,d+=i[r++]<<c,c+=8}a.lens[C[a.have++]]=7&d,d>>>=3,c-=3}for(;a.have<19;)a.lens[C[a.have++]]=0;if(a.lencode=a.lendyn,a.lenbits=7,E={bits:a.lenbits},A=ht(0,a.lens,0,19,a.lencode,0,a.work,E),a.lenbits=E.bits,A){e.msg="invalid code lengths set",a.mode=Tt;break}a.have=0,a.mode=19;case 19:for(;a.have<a.nlen+a.ndist;){for(;v=(w=a.lencode[d&(1<<a.lenbits)-1])>>>16&255,b=65535&w,!((g=w>>>24)<=c);){if(0===o)break e;o--,d+=i[r++]<<c,c+=8}if(b<16)d>>>=g,c-=g,a.lens[a.have++]=b;else{if(16===b){for(T=g+2;c<T;){if(0===o)break e;o--,d+=i[r++]<<c,c+=8}if(d>>>=g,c-=g,0===a.have){e.msg="invalid bit length repeat",a.mode=Tt;break}P=a.lens[a.have-1],f=3+(3&d),d>>>=2,c-=2}else if(17===b){for(T=g+3;c<T;){if(0===o)break e;o--,d+=i[r++]<<c,c+=8}c-=g,P=0,f=3+(7&(d>>>=g)),d>>>=3,c-=3}else{for(T=g+7;c<T;){if(0===o)break e;o--,d+=i[r++]<<c,c+=8}c-=g,P=0,f=11+(127&(d>>>=g)),d>>>=7,c-=7}if(a.have+f>a.nlen+a.ndist){e.msg="invalid bit length repeat",a.mode=Tt;break}for(;f--;)a.lens[a.have++]=P}}if(a.mode===Tt)break;if(0===a.lens[256]){e.msg="invalid code -- missing end-of-block",a.mode=Tt;break}if(a.lenbits=9,E={bits:a.lenbits},A=ht(1,a.lens,0,a.nlen,a.lencode,0,a.work,E),a.lenbits=E.bits,A){e.msg="invalid literal/lengths set",a.mode=Tt;break}if(a.distbits=6,a.distcode=a.distdyn,E={bits:a.distbits},A=ht(2,a.lens,a.nlen,a.ndist,a.distcode,0,a.work,E),a.distbits=E.bits,A){e.msg="invalid distances set",a.mode=Tt;break}if(a.mode=20,t===mt)break e;case 20:a.mode=21;case 21:if(o>=6&&l>=258){e.next_out=s,e.avail_out=l,e.next_in=r,e.avail_in=o,a.hold=d,a.bits=c,st(e,h),s=e.next_out,n=e.output,l=e.avail_out,r=e.next_in,i=e.input,o=e.avail_in,d=a.hold,c=a.bits,a.mode===Et&&(a.back=-1);break}for(a.back=0;v=(w=a.lencode[d&(1<<a.lenbits)-1])>>>16&255,b=65535&w,!((g=w>>>24)<=c);){if(0===o)break e;o--,d+=i[r++]<<c,c+=8}if(v&&0==(240&v)){for(y=g,x=v,_=b;v=(w=a.lencode[_+((d&(1<<y+x)-1)>>y)])>>>16&255,b=65535&w,!(y+(g=w>>>24)<=c);){if(0===o)break e;o--,d+=i[r++]<<c,c+=8}d>>>=y,c-=y,a.back+=y}if(d>>>=g,c-=g,a.back+=g,a.length=b,0===v){a.mode=26;break}if(32&v){a.back=-1,a.mode=Et;break}if(64&v){e.msg="invalid literal/length code",a.mode=Tt;break}a.extra=15&v,a.mode=22;case 22:if(a.extra){for(T=a.extra;c<T;){if(0===o)break e;o--,d+=i[r++]<<c,c+=8}a.length+=d&(1<<a.extra)-1,d>>>=a.extra,c-=a.extra,a.back+=a.extra}a.was=a.length,a.mode=23;case 23:for(;v=(w=a.distcode[d&(1<<a.distbits)-1])>>>16&255,b=65535&w,!((g=w>>>24)<=c);){if(0===o)break e;o--,d+=i[r++]<<c,c+=8}if(0==(240&v)){for(y=g,x=v,_=b;v=(w=a.distcode[_+((d&(1<<y+x)-1)>>y)])>>>16&255,b=65535&w,!(y+(g=w>>>24)<=c);){if(0===o)break e;o--,d+=i[r++]<<c,c+=8}d>>>=y,c-=y,a.back+=y}if(d>>>=g,c-=g,a.back+=g,64&v){e.msg="invalid distance code",a.mode=Tt;break}a.offset=b,a.extra=15&v,a.mode=24;case 24:if(a.extra){for(T=a.extra;c<T;){if(0===o)break e;o--,d+=i[r++]<<c,c+=8}a.offset+=d&(1<<a.extra)-1,d>>>=a.extra,c-=a.extra,a.back+=a.extra}if(a.offset>a.dmax){e.msg="invalid distance too far back",a.mode=Tt;break}a.mode=25;case 25:if(0===l)break e;if(f=h-l,a.offset>f){if((f=a.offset-f)>a.whave&&a.sane){e.msg="invalid distance too far back",a.mode=Tt;break}f>a.wnext?(f-=a.wnext,p=a.wsize-f):p=a.wnext-f,f>a.length&&(f=a.length),m=a.window}else m=n,p=s-a.offset,f=a.length;f>l&&(f=l),l-=f,a.length-=f;do{n[s++]=m[p++]}while(--f);0===a.length&&(a.mode=21);break;case 26:if(0===l)break e;n[s++]=a.length,l--,a.mode=21;break;case 27:if(a.wrap){for(;c<32;){if(0===o)break e;o--,d|=i[r++]<<c,c+=8}if(h-=l,e.total_out+=h,a.total+=h,h&&(e.adler=a.check=a.flags?V(a.check,n,h,s-h):N(a.check,n,h,s-h)),h=l,(a.flags?d:wt(d))!==a.check){e.msg="incorrect data check",a.mode=Tt;break}d=0,c=0}a.mode=28;case 28:if(a.wrap&&a.flags){for(;c<32;){if(0===o)break e;o--,d+=i[r++]<<c,c+=8}if(d!==(4294967295&a.total)){e.msg="incorrect length check",a.mode=Tt;break}d=0,c=0}a.mode=29;case 29:A=vt;break e;case Tt:A=xt;break e;case 31:return _t;default:return yt}return e.next_out=s,e.avail_out=l,e.next_in=r,e.avail_in=o,a.hold=d,a.bits=c,(a.wsize||h!==e.avail_out&&a.mode<Tt&&(a.mode<27||t!==ft))&&Dt(e,e.output,e.next_out,h-e.avail_out),u-=e.avail_in,h-=e.avail_out,e.total_in+=u,e.total_out+=h,a.total+=h,a.wrap&&h&&(e.adler=a.check=a.flags?V(a.check,n,h,e.next_out-h):N(a.check,n,h,e.next_out-h)),e.data_type=a.bits+(a.last?64:0)+(a.mode===Et?128:0)+(20===a.mode||15===a.mode?256:0),(0===u&&0===h||t===ft)&&A===gt&&(A=Pt),A},inflateEnd:function(e){if(!e||!e.state)return yt;var t=e.state;return t.window&&(t.window=null),e.state=null,gt},inflateGetHeader:function(e,t){if(!e||!e.state)return yt;var a=e.state;return 0==(2&a.wrap)?yt:(a.head=t,t.done=!1,gt)},inflateSetDictionary:function(e,t){var a,i=t.length;return e&&e.state?0!==(a=e.state).wrap&&11!==a.mode?yt:11===a.mode&&N(1,t,i,0)!==a.check?xt:Dt(e,t,i,i)?(a.mode=31,_t):(a.havedict=1,gt):yt},inflateInfo:"pako inflate (from Nodeca project)"},Nt=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1},Lt=Object.prototype.toString,Vt=G.Z_NO_FLUSH,Jt=G.Z_FINISH,Gt=G.Z_OK,Ut=G.Z_STREAM_END,Ht=G.Z_NEED_DICT,Wt=G.Z_STREAM_ERROR,zt=G.Z_DATA_ERROR,Xt=G.Z_MEM_ERROR;function Yt(e){this.options=Ne({chunkSize:65536,windowBits:15,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ze,this.strm.avail_out=0;var a=Bt.inflateInit2(this.strm,t.windowBits);if(a!==Gt)throw new Error(J[a]);if(this.header=new Nt,Bt.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=Ue(t.dictionary):"[object ArrayBuffer]"===Lt.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(a=Bt.inflateSetDictionary(this.strm,t.dictionary))!==Gt))throw new Error(J[a])}function qt(e,t){var a=new Yt(t);if(a.push(e),a.err)throw a.msg||J[a.err];return a.result}Yt.prototype.push=function(e,t){var a,i,n,r=this.strm,s=this.options.chunkSize,o=this.options.dictionary;if(this.ended)return!1;for(i=t===~~t?t:!0===t?Jt:Vt,"[object ArrayBuffer]"===Lt.call(e)?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;){for(0===r.avail_out&&(r.output=new Uint8Array(s),r.next_out=0,r.avail_out=s),(a=Bt.inflate(r,i))===Ht&&o&&((a=Bt.inflateSetDictionary(r,o))===Gt?a=Bt.inflate(r,i):a===zt&&(a=Ht));r.avail_in>0&&a===Ut&&r.state.wrap>0&&0!==e[r.next_in];)Bt.inflateReset(r),a=Bt.inflate(r,i);switch(a){case Wt:case zt:case Ht:case Xt:return this.onEnd(a),this.ended=!0,!1}if(n=r.avail_out,r.next_out&&(0===r.avail_out||a===Ut))if("string"===this.options.to){var l=We(r.output,r.next_out),d=r.next_out-l,c=He(r.output,l);r.next_out=d,r.avail_out=s-d,d&&r.output.set(r.output.subarray(l,l+d),0),this.onData(c)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(a!==Gt||0!==n){if(a===Ut)return a=Bt.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,!0;if(0===r.avail_in)break}}return!0},Yt.prototype.onData=function(e){this.chunks.push(e)},Yt.prototype.onEnd=function(e){e===Gt&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=Le(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var Zt={Inflate:Yt,inflate:qt,inflateRaw:function(e,t){return(t=t||{}).raw=!0,qt(e,t)},ungzip:qt,constants:G},Qt=rt.Deflate,Kt=rt.deflate,$t=rt.deflateRaw,ea=rt.gzip,ta=Zt.Inflate,aa=Zt.inflate,ia=Zt.inflateRaw,na=Zt.ungzip,ra=Qt,sa=Kt,oa=$t,la=ea,da=ta,ca=aa,ua=ia,ha=na,fa=G,pa={Deflate:ra,deflate:sa,deflateRaw:oa,gzip:la,Inflate:da,inflate:ca,inflateRaw:ua,ungzip:ha,constants:fa};e.Deflate=ra,e.Inflate=da,e.constants=fa,e.default=pa,e.deflate=sa,e.deflateRaw=oa,e.gzip=la,e.inflate=ca,e.inflateRaw=ua,e.ungzip=ha,Object.defineProperty(e,"__esModule",{value:!0})}(t)},19477:function(e,t,a){var i=a(66115).default,n=a(41588).default,r=a(73808).default,s=a(61655).default,o=a(26389).default,l=a(56690).default,d=a(89728).default;!function(e,t,a){"use strict";var c,u=function(){function e(t){l(this,e),this.tileAnim=[0,0],this.dontUseTransform=!1,this.renderer=t,this.tileAnim=[0,0]}return d(e,null,[{key:"registerExtension",value:function(){t.extensions.add({name:"tilemap",type:t.ExtensionType.CanvasRendererPlugin,ref:e})}},{key:"getInstance",value:function(e){if(!e.plugins.tilemap)throw new Error("Extension not registered!");return e.plugins.tilemap}}]),e}(),h={TEXTURES_PER_TILEMAP:16,TEXTILE_DIMEN:1024,TEXTILE_UNITS:1,TEXTILE_SCALE_MODE:t.SCALE_MODES.LINEAR,use32bitIndex:!1,DO_CLEAR:!0,get maxTextures(){return this.MAX_TEXTURES},set maxTextures(e){this.MAX_TEXTURES=e},get boundSize(){return this.TEXTURE_TILE_DIMEN},set boundSize(e){this.TILE_TEXTURE_DIMEN=e},get boundCountPerBuffer(){return this.TEXTILE_UNITS},set boundCountPerBuffer(e){this.TEXTILE_UNITS=e}},f=h,p=((c=p||{})[c.U=0]="U",c[c.V=1]="V",c[c.X=2]="X",c[c.Y=3]="Y",c[c.TILE_WIDTH=4]="TILE_WIDTH",c[c.TILE_HEIGHT=5]="TILE_HEIGHT",c[c.ROTATE=6]="ROTATE",c[c.ANIM_X=7]="ANIM_X",c[c.ANIM_Y=8]="ANIM_Y",c[c.TEXTURE_INDEX=9]="TEXTURE_INDEX",c[c.ANIM_COUNT_X=10]="ANIM_COUNT_X",c[c.ANIM_COUNT_Y=11]="ANIM_COUNT_Y",c[c.ANIM_DIVISOR=12]="ANIM_DIVISOR",c[c.ALPHA=13]="ALPHA",c),m=Object.keys(p).length/2,g=function(e){s(c,e);var i=o(c);function c(e){var t;return l(this,c),(t=i.call(this)).shadowColor=new Float32Array([0,0,0,.5]),t._globalMat=null,t.tileAnim=null,t.modificationMarker=0,t.offsetX=0,t.offsetY=0,t.compositeParent=!1,t.tilemapBounds=new a.Bounds,t.hasAnimatedTile=!1,t.pointsBuf=[],t.renderCanvas=function(e){var a=u.getInstance(e);if(a&&!a.dontUseTransform){var i=t.worldTransform;e.canvasContext.activeContext.setTransform(i.a,i.b,i.c,i.d,i.tx*e.resolution,i.ty*e.resolution)}t.renderCanvasCore(e)},t.vbId=0,t.vb=null,t.vbBuffer=null,t.vbArray=null,t.vbInts=null,t.setTileset(e),t}return d(c,[{key:"getTileset",value:function(){return this.tileset}},{key:"setTileset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];Array.isArray(e)||(e=[e]);for(var t=0;t<e.length;t++)e[t].baseTexture&&(e[t]=e[t].baseTexture);return this.tileset=e,this}},{key:"clear",value:function(){return this.pointsBuf.length=0,this.modificationMarker=0,this.tilemapBounds.clear(),this.hasAnimatedTile=!1,this}},{key:"tile",value:function(e,a,i){var n,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=-1;if("number"==typeof e)s=e,n=this.tileset[s];else{var o,l,d,c,u;u="string"==typeof e?t.Texture.from(e):e;for(var h=this.tileset,f=0;f<h.length;f++)if(h[f]===u.castToBaseTexture()){s=f;break}"baseTexture"in u&&(r.u=null!==(o=r.u)&&void 0!==o?o:u.frame.x,r.v=null!==(l=r.v)&&void 0!==l?l:u.frame.y,r.tileWidth=null!==(d=r.tileWidth)&&void 0!==d?d:u.orig.width,r.tileHeight=null!==(c=r.tileHeight)&&void 0!==c?c:u.orig.height),n=u.castToBaseTexture()}if(!n||s<0)return console.error("The tile texture was not found in the tilemap tileset."),this;var p=r.u,m=void 0===p?0:p,g=r.v,v=void 0===g?0:g,b=r.tileWidth,y=void 0===b?n.realWidth:b,x=r.tileHeight,_=void 0===x?n.realHeight:x,P=r.animX,A=void 0===P?0:P,E=r.animY,T=void 0===E?0:E,w=r.rotate,S=void 0===w?0:w,C=r.animCountX,F=void 0===C?1024:C,I=r.animCountY,j=void 0===I?1024:I,M=r.animDivisor,O=void 0===M?1:M,R=r.alpha,k=void 0===R?1:R,D=this.pointsBuf;return this.hasAnimatedTile=this.hasAnimatedTile||A>0||T>0,D.push(m),D.push(v),D.push(a),D.push(i),D.push(y),D.push(_),D.push(S),D.push(0|A),D.push(0|T),D.push(s),D.push(F),D.push(j),D.push(O),D.push(k),this.tilemapBounds.addFramePad(a,i,a+y,i+_,0,0),this}},{key:"tileRotate",value:function(e){var t=this.pointsBuf;t[t.length-(m-9)]=e}},{key:"tileAnimX",value:function(e,t){var a=this.pointsBuf;a[a.length-(m-7)]=e,a[a.length-(m-10)]=t}},{key:"tileAnimY",value:function(e,t){var a=this.pointsBuf;a[a.length-(m-8)]=e,a[a.length-(m-11)]=t}},{key:"tileAnimDivisor",value:function(e){var t=this.pointsBuf;t[t.length-(m-12)]=e}},{key:"tileAlpha",value:function(e){var t=this.pointsBuf;t[t.length-(m-13)]=e}},{key:"renderCanvasCore",value:function(e){if(0!==this.tileset.length){var t=this.pointsBuf,a=this.tileAnim||e.plugins.tilemap&&e.plugins.tilemap.tileAnim;e.canvasContext.activeContext.fillStyle="#000000";for(var i=0,n=t.length;i<n;i+=m){var r=t[i+0],s=t[i+1],o=t[i+2],l=t[i+3],d=t[i+4],c=t[i+5];r+=t[i+7]*a[0],s+=t[i+8]*a[1];var u=t[i+9],h=t[i+13];u>=0&&this.tileset[u]?(e.canvasContext.activeContext.globalAlpha=h,e.canvasContext.activeContext.drawImage(this.tileset[u].getDrawableSource(),r,s,d,c,o,l,d,c)):(e.canvasContext.activeContext.globalAlpha=.5,e.canvasContext.activeContext.fillRect(o,l,d,c)),e.canvasContext.activeContext.globalAlpha=1}}}},{key:"destroyVb",value:function(){this.vb&&(this.vb.destroy(),this.vb=null)}},{key:"render",value:function(e){var t=e.plugins.tilemap,a=t.getShader();e.batch.setObjectRenderer(t),this._globalMat=a.uniforms.projTransMatrix,e.globalUniforms.uniforms.projectionMatrix.copyTo(this._globalMat).append(this.worldTransform),a.uniforms.shadowColor=this.shadowColor,a.uniforms.animationFrame=this.tileAnim||t.tileAnim,this.renderWebGLCore(e,t)}},{key:"renderWebGLCore",value:function(e,a){var i=this.pointsBuf;if(0!==i.length){var n=i.length/m,r=a.getShader(),s=this.tileset;if(0!==s.length){a.bindTileTextures(e,s),e.shader.bind(r,!1);var o=this.vb;o||(o=a.createVb(),this.vb=o,this.vbId=o.id,this.vbBuffer=null,this.modificationMarker=0),a.checkIndexBuffer(n,o);var l=h.TEXTILE_UNITS,d=o.getBuffer("aVertexPosition"),c=n*o.vertPerQuad;if(0!==c){if(this.modificationMarker!==c){this.modificationMarker=c;var u=o.stride*c;if(!this.vbBuffer||this.vbBuffer.byteLength<u){for(var f=o.stride;f<u;)f*=2;this.vbBuffer=new ArrayBuffer(f),this.vbArray=new Float32Array(this.vbBuffer),this.vbInts=new Uint32Array(this.vbBuffer),d.update(this.vbBuffer)}for(var p=this.vbArray,g=0,v=0,b=this.offsetX,y=this.offsetY,x=0;x<i.length;x+=m){if(this.compositeParent){var _=i[x+9];l>1?(v=_>>2,b=this.offsetX*(1&_),y=this.offsetY*(_>>1&1)):(v=_,b=0,y=0)}var P=i[x+2],A=i[x+3],E=i[x+4],T=i[x+5],w=i[x+0]+b,S=i[x+1]+y,C=i[x+6],F=i[x+7],I=i[x+8],j=F+2048*(i[x+10]||1024),M=I+2048*(i[x+11]||1024),O=i[x+12],R=i[x+13],k=void 0,D=void 0,B=void 0,N=void 0,L=void 0,V=void 0,J=void 0,G=void 0;if(0===C)k=w,D=S,B=w+E,N=S,L=w+E,V=S+T,J=w,G=S+T;else{var U=E/2,H=T/2;C%4!==0&&(U=T/2,H=E/2);var W=w+U,z=S+H;C=t.groupD8.add(C,t.groupD8.NW),k=W+U*t.groupD8.uX(C),D=z+H*t.groupD8.uY(C),C=t.groupD8.add(C,2),B=W+U*t.groupD8.uX(C),N=z+H*t.groupD8.uY(C),C=t.groupD8.add(C,2),L=W+U*t.groupD8.uX(C),V=z+H*t.groupD8.uY(C),C=t.groupD8.add(C,2),J=W+U*t.groupD8.uX(C),G=z+H*t.groupD8.uY(C)}p[g++]=P,p[g++]=A,p[g++]=k,p[g++]=D,p[g++]=w+.5,p[g++]=S+.5,p[g++]=w+E-.5,p[g++]=S+T-.5,p[g++]=j,p[g++]=M,p[g++]=v,p[g++]=O,p[g++]=R,p[g++]=P+E,p[g++]=A,p[g++]=B,p[g++]=N,p[g++]=w+.5,p[g++]=S+.5,p[g++]=w+E-.5,p[g++]=S+T-.5,p[g++]=j,p[g++]=M,p[g++]=v,p[g++]=O,p[g++]=R,p[g++]=P+E,p[g++]=A+T,p[g++]=L,p[g++]=V,p[g++]=w+.5,p[g++]=S+.5,p[g++]=w+E-.5,p[g++]=S+T-.5,p[g++]=j,p[g++]=M,p[g++]=v,p[g++]=O,p[g++]=R,p[g++]=P,p[g++]=A+T,p[g++]=J,p[g++]=G,p[g++]=w+.5,p[g++]=S+.5,p[g++]=w+E-.5,p[g++]=S+T-.5,p[g++]=j,p[g++]=M,p[g++]=v,p[g++]=O,p[g++]=R}d.update(p)}e.geometry.bind(o,r),e.geometry.draw(t.DRAW_MODES.TRIANGLES,6*n,0)}}}}},{key:"isModified",value:function(e){return!!(this.modificationMarker!==this.pointsBuf.length||e&&this.hasAnimatedTile)}},{key:"clearModify",value:function(){this.modificationMarker=this.pointsBuf.length}},{key:"_calculateBounds",value:function(){var e=this.tilemapBounds,t=e.minX,a=e.minY,i=e.maxX,n=e.maxY;this._bounds.addFrame(this.transform,t,a,i,n)}},{key:"getLocalBounds",value:function(e){return 0===this.children.length?this.tilemapBounds.getRectangle(e):n(r(c.prototype),"getLocalBounds",this).call(this,e)}},{key:"destroy",value:function(e){n(r(c.prototype),"destroy",this).call(this,e),this.destroyVb()}},{key:"addFrame",value:function(e,t,a,i,n){return this.tile(e,t,a,{animX:i,animY:n}),!0}},{key:"addRect",value:function(e,t,a,i,n,r,s){var o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0,d=arguments.length>9&&void 0!==arguments[9]?arguments[9]:0,c=arguments.length>10&&void 0!==arguments[10]?arguments[10]:1024,u=arguments.length>11&&void 0!==arguments[11]?arguments[11]:1024,h=arguments.length>12&&void 0!==arguments[12]?arguments[12]:1,f=arguments.length>13&&void 0!==arguments[13]?arguments[13]:1;return this.tile(e,i,n,{u:t,v:a,tileWidth:r,tileHeight:s,animX:o,animY:l,rotate:d,animCountX:c,animCountY:u,animDivisor:h,alpha:f})}}]),c}(a.Container),v=function(e){s(i,e);var a=o(i);function i(e){var t;return l(this,i),(t=a.call(this)).tileAnim=null,t.lastModifiedTilemap=null,t.modificationMarker=0,t.shadowColor=new Float32Array([0,0,0,.5]),t._globalMat=null,t.setBitmaps=t.tileset,t.tileset(e),t.texturesPerTilemap=h.TEXTURES_PER_TILEMAP,t}return d(i,[{key:"tileset",value:function(e){e||(e=[]);for(var t=this.texturesPerTilemap,a=this.children.length,i=Math.ceil(e.length/t),n=0;n<Math.min(a,i);n++)this.children[n].setTileset(e.slice(n*t,(n+1)*t));for(var r=a;r<i;r++){var s=new g(e.slice(r*t,(r+1)*t));s.compositeParent=!0,s.offsetX=h.TEXTILE_DIMEN,s.offsetY=h.TEXTILE_DIMEN,this.addChild(s)}return this}},{key:"clear",value:function(){for(var e=0;e<this.children.length;e++)this.children[e].clear();return this.modificationMarker=0,this}},{key:"tileRotate",value:function(e){return this.lastModifiedTilemap&&this.lastModifiedTilemap.tileRotate(e),this}},{key:"tileAnimX",value:function(e,t){return this.lastModifiedTilemap&&this.lastModifiedTilemap.tileAnimX(e,t),this}},{key:"tileAnimY",value:function(e,t){return this.lastModifiedTilemap&&this.lastModifiedTilemap.tileAnimY(e,t),this}},{key:"tileAnimDivisor",value:function(e){return this.lastModifiedTilemap&&this.lastModifiedTilemap.tileAnimDivisor(e),this}},{key:"tile",value:function(e,a,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=null,s=this.children;if(this.lastModifiedTilemap=null,"number"==typeof e){var o=0;if(r=s[e/this.texturesPerTilemap>>0])o=e%this.texturesPerTilemap;else{if(!(r=s[0]))return this;o=0}r.tile(o,a,i,n)}else{"string"==typeof e&&(e=t.Texture.from(e));for(var l=0;l<s.length;l++){for(var d=s[l],c=d.getTileset(),u=0;u<c.length;u++)if(c[u]===e.baseTexture){r=d;break}if(r)break}if(!r){for(var f=s.length-1;f>=0;f--){var p=s[f];if(p.getTileset().length<this.texturesPerTilemap){r=p,p.getTileset().push(e.baseTexture);break}}r||((r=new g(e.baseTexture)).compositeParent=!0,r.offsetX=h.TEXTILE_DIMEN,r.offsetY=h.TEXTILE_DIMEN,this.addChild(r))}r.tile(e,a,i,n)}return this.lastModifiedTilemap=r,this}},{key:"renderCanvas",value:function(e){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable){var t=u.getInstance(e);if(t&&!t.dontUseTransform){var a=this.worldTransform;e.canvasContext.activeContext.setTransform(a.a,a.b,a.c,a.d,a.tx*e.resolution,a.ty*e.resolution)}for(var i=this.children,n=0;n<i.length;n++){var r=i[n];r.tileAnim=this.tileAnim,r.renderCanvasCore(e)}}}},{key:"render",value:function(e){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable){var t=e.plugins.tilemap,a=t.getShader();e.batch.setObjectRenderer(t),this._globalMat=a.uniforms.projTransMatrix,e.globalUniforms.uniforms.projectionMatrix.copyTo(this._globalMat).append(this.worldTransform),a.uniforms.shadowColor=this.shadowColor,a.uniforms.animationFrame=this.tileAnim||t.tileAnim,e.shader.bind(a,!1);for(var i=this.children,n=0;n<i.length;n++)i[n].renderWebGLCore(e,t)}}},{key:"isModified",value:function(e){var t=this.children;if(this.modificationMarker!==t.length)return!0;for(var a=0;a<t.length;a++)if(t[a].isModified(e))return!0;return!1}},{key:"clearModify",value:function(){var e=this.children;this.modificationMarker=e.length;for(var t=0;t<e.length;t++)e[t].clearModify()}},{key:"addFrame",value:function(e,t,a,i,n,r,s,o,l){return this.tile(e,t,a,{animX:i,animY:n,animCountX:r,animCountY:s,animDivisor:o,alpha:l})}},{key:"addRect",value:function(e,t,a,i,n,r,s,o,l,d,c,u){var h=e/this.texturesPerTilemap>>0,f=e%this.texturesPerTilemap;return this.children[h]&&this.children[h].getTileset()?(this.lastModifiedTilemap=this.children[h],this.lastModifiedTilemap.addRect(f,t,a,i,n,r,s,o,l,d,c,u)):this.lastModifiedTilemap=null,this}},{key:"texPerChild",get:function(){return this.texturesPerTilemap}}]),i}(a.Container),b=function(e){s(i,e);var a=o(i);function i(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h;l(this,i),(e=a.call(this,2*n.TEXTILE_DIMEN,n.TEXTILE_DIMEN*Math.ceil(n.TEXTILE_UNITS/2))).baseTexture=null,e._clearBuffer=null;var r=e.tiles=new Array(n.TEXTILE_UNITS);e.doClear=!!n.DO_CLEAR,e.tileDimen=n.TEXTILE_DIMEN;for(var s=0;s<n.TEXTILE_UNITS;s++)r[s]={dirtyId:0,x:n.TEXTILE_DIMEN*(1&s),y:n.TEXTILE_DIMEN*(s>>1),baseTexture:t.Texture.WHITE.baseTexture};return e}return d(i,[{key:"tile",value:function(e,t){var a=this.tiles[e];a.baseTexture!==t&&(a.baseTexture=t,this.baseTexture.update(),this.tiles[e].dirtyId=this.baseTexture.dirtyId)}},{key:"bind",value:function(e){if(this.baseTexture)throw new Error("Only one baseTexture is allowed for this resource!");this.baseTexture=e,n(r(i.prototype),"bind",this).call(this,e)}},{key:"upload",value:function(e,a,i){var n=e.gl,r=this.width,s=this.height;n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,void 0===a.alphaMode||a.alphaMode===t.ALPHA_MODES.UNPACK),i.dirtyId<0&&(i.width=r,i.height=s,n.texImage2D(a.target,0,a.format,r,s,0,a.format,a.type,null));var o=this.doClear,l=this.tiles;o&&!this._clearBuffer&&(this._clearBuffer=new Uint8Array(h.TEXTILE_DIMEN*h.TEXTILE_DIMEN*4));for(var d=0;d<l.length;d++){var c=l[d],u=c.baseTexture;if(!(i.dirtyId>=this.tiles[d].dirtyId)){var f=u.resource;!u.valid||!f||!f.source||(o&&(u.width<this.tileDimen||u.height<this.tileDimen)&&n.texSubImage2D(a.target,0,c.x,c.y,this.tileDimen,this.tileDimen,a.format,a.type,this._clearBuffer),n.texSubImage2D(a.target,0,c.x,c.y,a.format,a.type,f.source))}}return!0}}]),i}(t.Resource);function y(e){var t="";t+="\n",t+="\n",t+="if(vTextureId <= -1.0) {",t+="\n\tcolor = shadowColor;",t+="\n}";for(var a=0;a<e;a++)t+="\nelse ",a<e-1&&(t+="if(textureId == ".concat(a,".0)")),t+="\n{",t+="\n\tcolor = texture2D(uSamplers[".concat(a,"], textureCoord * uSamplerSize[").concat(a,"]);"),t+="\n}";return t+="\n",t+="\n"}function x(e,t){for(var a=[],i=0;i<t;i++)a[i]=i;e.uniforms.uSamplers=a;for(var n=[],r=0;r<t;r++)n.push(1/2048),n.push(1/2048);e.uniforms.uSamplerSize=n}function _(e,t){return t.replace(/%count%/gi,"".concat(e)).replace(/%forloop%/gi,y(e))}var P="#version 100\nprecision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aFrame;\nattribute vec2 aAnim;\nattribute float aAnimDivisor;\nattribute float aTextureId;\nattribute float aAlpha;\n\nuniform mat3 projTransMatrix;\nuniform vec2 animationFrame;\n\nvarying vec2 vTextureCoord;\nvarying float vTextureId;\nvarying vec4 vFrame;\nvarying float vAlpha;\n\nvoid main(void)\n{\n   gl_Position = vec4((projTransMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vec2 animCount = floor((aAnim + 0.5) / 2048.0);\n   vec2 animFrameOffset = aAnim - animCount * 2048.0;\n   vec2 currentFrame = floor(animationFrame / aAnimDivisor);\n   vec2 animOffset = animFrameOffset * floor(mod(currentFrame + 0.5, animCount));\n\n   vTextureCoord = aTextureCoord + animOffset;\n   vFrame = aFrame + vec4(animOffset, animOffset);\n   vTextureId = aTextureId;\n   vAlpha = aAlpha;\n}\n",A="#version 100\n#ifdef GL_FRAGMENT_PRECISION_HIGH\nprecision highp float;\n#else\nprecision mediump float;\n#endif\nvarying vec2 vTextureCoord;\nvarying vec4 vFrame;\nvarying float vTextureId;\nvarying float vAlpha;\nuniform vec4 shadowColor;\nuniform sampler2D uSamplers[%count%];\nuniform vec2 uSamplerSize[%count%];\n\nvoid main(void)\n{\n   vec2 textureCoord = clamp(vTextureCoord, vFrame.xy, vFrame.zw);\n   float textureId = floor(vTextureId + 0.5);\n\n   vec4 color;\n   %forloop%\n   gl_FragColor = color * vAlpha;\n}\n",E=function(e){s(n,e);var a=o(n);function n(e){var r;return l(this,n),(r=a.call(this,new t.Program(P,_(e,A)),{animationFrame:new Float32Array(2),uSamplers:[],uSamplerSize:[],projTransMatrix:new t.Matrix})).maxTextures=0,r.maxTextures=e,x(i(r),r.maxTextures),r}return d(n)}(t.Shader),T=function(e){s(i,e);var a=o(i);function i(){var e;l(this,i),(e=a.call(this)).vertSize=13,e.vertPerQuad=4,e.stride=4*e.vertSize,e.lastTimeAccess=0;var n=e.buf=new t.Buffer(new Float32Array(2),!0,!1);return e.addAttribute("aVertexPosition",n,0,!1,0,e.stride,0).addAttribute("aTextureCoord",n,0,!1,0,e.stride,8).addAttribute("aFrame",n,0,!1,0,e.stride,16).addAttribute("aAnim",n,0,!1,0,e.stride,32).addAttribute("aTextureId",n,0,!1,0,e.stride,40).addAttribute("aAnimDivisor",n,0,!1,0,e.stride,44).addAttribute("aAlpha",n,0,!1,0,e.stride,48),e}return d(i)}(t.Geometry),w=function(e){s(i,e);var a=o(i);function i(e){var n;return l(this,i),(n=a.call(this,e)).tileAnim=[0,0],n.ibLen=0,n.indexBuffer=null,n.textiles=[],n.shader=new E(h.TEXTURES_PER_TILEMAP),n.indexBuffer=new t.Buffer(void 0,!0,!0),n.checkIndexBuffer(2e3),n.makeTextiles(),n}return d(i,[{key:"bindTileTextures",value:function(e,t){var a=t.length,i=this.shader,n=h.TEXTURES_PER_TILEMAP,r=i.uniforms.uSamplerSize;if(!(a>h.TEXTILE_UNITS*n)){if(h.TEXTILE_UNITS<=1)for(var s=0;s<t.length;s++){var o=t[s];if(!o||!o.valid)return;e.texture.bind(t[s],s),r[2*s]=1/t[s].realWidth,r[2*s+1]=1/t[s].realHeight}else{this.makeTextiles();for(var l=Math.ceil(a/h.TEXTILE_UNITS),d=0;d<a;d++){var c=t[d];if(c&&c.valid){var u=Math.floor(d/h.TEXTILE_UNITS),f=d%h.TEXTILE_UNITS;this.textiles[u].tile(f,c)}}for(var p=0;p<l;p++)e.texture.bind(this.textiles[p].baseTexture,p),r[2*p]=1/this.textiles[p].width,r[2*p+1]=1/this.textiles[p].baseTexture.height}i.uniforms.uSamplerSize=r}}},{key:"start",value:function(){}},{key:"createVb",value:function(){var e=new T;return e.addIndex(this.indexBuffer),e.lastTimeAccess=Date.now(),e}},{key:"getShader",value:function(){return this.shader}},{key:"destroy",value:function(){n(r(i.prototype),"destroy",this).call(this),this.shader=null}},{key:"checkIndexBuffer",value:function(e){var a=6*e;a<=this.ibLen||(this.ibLen=a,this.indexBuffer.update(t.utils.createIndicesForQuads(e,h.use32bitIndex?new Uint32Array(6*e):void 0)))}},{key:"makeTextiles",value:function(){if(!(h.TEXTILE_UNITS<=1))for(var e=0;e<h.TEXTILE_UNITS;e++)if(!this.textiles[e]){var a=new b,i=new t.BaseTexture(a);i.scaleMode=h.TEXTILE_SCALE_MODE,i.wrapMode=t.WRAP_MODES.CLAMP,this.textiles[e]=a}}}]),i}(t.ObjectRenderer),S={CanvasTileRenderer:u,CompositeRectTileLayer:v,CompositeTilemap:v,Constant:f,TextileResource:b,MultiTextureResource:b,RectTileLayer:g,Tilemap:g,TilemapShader:E,TilemapGeometry:T,RectTileShader:E,RectTileGeom:T,TileRenderer:w};t.extensions.add({name:"tilemap",type:t.ExtensionType.RendererPlugin,ref:w}),e.CanvasTileRenderer=u,e.CompositeRectTileLayer=v,e.CompositeTilemap=v,e.Constant=f,e.POINT_STRUCT_SIZE=m,e.RectTileLayer=g,e.TextileResource=b,e.TileRenderer=w,e.Tilemap=g,e.TilemapGeometry=T,e.TilemapShader=E,e.fillSamplers=x,e.generateFragmentSrc=_,e.pixi_tilemap=S,e.settings=h,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}(t,a(73629),a(86889))},43386:function(e){var t=JSON.stringify(["linear","easeInQuad","easeOutQuad","easeInOutQuad","easeInCubic","easeOutCubic","easeInOutCubic","easeInQuart","easeOutQuart","easeInOutQuart","easeInQuint","easeOutQuint","easeInOutQuint","easeInSine","easeOutSine","easeInOutSine","easeInExpo","easeOutExpo","easeInOutExpo","easeInCirc","easeOutCirc","easeInOutCirc","easeOutBounce","easeInBack","easeOutBack","easeInOutBack","elastic","swingFromTo","swingFrom","swingTo","bounce","bouncePast","easeFromTo","easeFrom","easeTo"]);e.exports={createExtension:function(e,a){var i=new a.PlatformExtension;i.setExtensionInformation("Tween",e("Tweening"),e("Smoothly animate object properties over time \u2014 such as position, rotation scale, opacity, and more \u2014 as well as variables. Ideal for creating fluid transitions and UI animations. While you can use tweens to move objects, other behaviors (like platform, physics, ellipse movement...) or forces are often better suited for dynamic movement. Tween is best used for animating UI elements, static objects that need to move from one point to another, or other values like variables."),"Matthias Meike, Florian Rival","Open source (MIT License)").setCategory("Visual effect").setTags("tween, interpolation, smooth").setExtensionHelpPath("/behaviors/tween"),i.addInstructionOrExpressionGroupMetadata(e("Tweening")).setIcon("JsPlatform/Extensions/tween_behavior32.png"),i.addExpression("Ease",e("Ease"),e("Tween between 2 values according to an easing function."),"","JsPlatform/Extensions/tween_behavior32.png").addParameter("stringWithSelector",e("Easing"),t,!1).setDefaultValue("linear").addParameter("expression",e("From value")).addParameter("expression",e("To value")).addParameter("expression",e("Weighting")).setParameterLongDescription(e("From 0 to 1.")).getCodeExtraInformation().setIncludeFile("Extensions/TweenBehavior/TweenManager.js").setFunctionName("gdjs.evtTools.tween.ease"),i.addAction("TweenSceneVariableNumber",e("Tween a number in a scene variable"),e("Tweens a scene variable's numeric value from one number to another."),e("Tween variable _PARAM2_ from _PARAM3_ to _PARAM4_ over _PARAM5_ms with easing _PARAM6_ as _PARAM1_"),e("Scene Tweens"),"JsPlatform/Extensions/tween_behavior24.png","JsPlatform/Extensions/tween_behavior32.png").setHidden().addCodeOnlyParameter("currentScene","").addParameter("identifier",e("Tween Identifier"),"sceneTween").addParameter("scenevar",e("The variable to tween"),"",!1).addParameter("expression",e("Initial value"),"",!1).addParameter("expression",e("Final value"),"",!1).addParameter("expression",e("Duration (in milliseconds)"),"",!1).addParameter("stringWithSelector",e("Easing"),t,!1).getCodeExtraInformation().setIncludeFile("Extensions/TweenBehavior/TweenManager.js").addIncludeFile("Extensions/TweenBehavior/tweentools.js").setFunctionName("gdjs.evtTools.tween.tweenVariableNumber"),i.addAction("TweenSceneVariableNumber2",e("Tween a number in a scene variable"),e("Tweens a scene variable's numeric value from its current value to a new one."),e("Tween variable _PARAM2_ to _PARAM3_ over _PARAM4_ms with easing _PARAM5_ as _PARAM1_"),e("Scene Tweens"),"JsPlatform/Extensions/tween_behavior24.png","JsPlatform/Extensions/tween_behavior32.png").setHidden().addCodeOnlyParameter("currentScene","").addParameter("identifier",e("Tween Identifier"),"sceneTween").addParameter("scenevar",e("The variable to tween"),"",!1).addParameter("expression",e("Final value"),"",!1).addParameter("expression",e("Duration (in milliseconds)"),"",!1).addParameter("stringWithSelector",e("Easing"),t,!1).getCodeExtraInformation().setIncludeFile("Extensions/TweenBehavior/TweenManager.js").addIncludeFile("Extensions/TweenBehavior/tweentools.js").setFunctionName("gdjs.evtTools.tween.tweenVariableNumber2"),i.addAction("TweenSceneVariableNumber3",e("Tween a number in a scene variable"),e("Tweens a scene variable's numeric value from its current value to a new one."),e("Tween variable _PARAM2_ to _PARAM3_ with easing _PARAM4_ over _PARAM5_ seconds as _PARAM1_"),e("Scene Tweens"),"JsPlatform/Extensions/tween_behavior24.png","JsPlatform/Extensions/tween_behavior32.png").addCodeOnlyParameter("currentScene","").addParameter("identifier",e("Tween Identifier"),"sceneTween").addParameter("scenevar",e("The variable to tween"),"",!1).addParameter("expression",e("Final value"),"",!1).addParameter("stringWithSelector",e("Easing"),t,!1).setDefaultValue("linear").addParameter("expression",e("Duration (in seconds)"),"",!1).getCodeExtraInformation().setIncludeFile("Extensions/TweenBehavior/TweenManager.js").addIncludeFile("Extensions/TweenBehavior/tweentools.js").setFunctionName("gdjs.evtTools.tween.tweenVariableNumber3"),i.addAction("AddLayoutValueTween",e("Tween a scene value"),e("Tweens a scene value that can be use with the expression Tween::Value."),e("Tween the value from _PARAM2_ to _PARAM3_ with easing _PARAM4_ over _PARAM5_ seconds as _PARAM1_"),e("Scene Tweens"),"JsPlatform/Extensions/tween_behavior24.png","JsPlatform/Extensions/tween_behavior32.png").addCodeOnlyParameter("currentScene","").addParameter("identifier",e("Tween Identifier"),"objectTween").addParameter("expression",e("From value"),"",!1).addParameter("expression",e("To value"),"",!1).addParameter("stringWithSelector",e("Easing"),t,!1).setDefaultValue("linear").addParameter("expression",e("Duration (in seconds)"),"",!1).addParameter("yesorno",e("Exponential interpolation"),"",!1).setDefaultValue("no").markAsAdvanced().getCodeExtraInformation().setIncludeFile("Extensions/TweenBehavior/TweenManager.js").addIncludeFile("Extensions/TweenBehavior/tweentools.js").setFunctionName("gdjs.evtTools.tween.addLayoutValueTween"),i.addAction("AddLayerValueTween",e("Tween a layer value"),e("Tweens a layer value that can be use with the expression Tween::Value."),e("Tween the value of _PARAM7_ from _PARAM2_ to _PARAM3_ with easing _PARAM4_ over _PARAM5_ seconds as _PARAM1_"),e("Scene Tweens"),"JsPlatform/Extensions/tween_behavior24.png","JsPlatform/Extensions/tween_behavior32.png").addCodeOnlyParameter("currentScene","").addParameter("identifier",e("Tween Identifier"),"objectTween").addParameter("expression",e("From value"),"",!1).addParameter("expression",e("To value"),"",!1).addParameter("stringWithSelector",e("Easing"),t,!1).setDefaultValue("linear").addParameter("expression",e("Duration (in seconds)"),"",!1).addParameter("yesorno",e("Exponential interpolation"),"",!1).addParameter("layer",e("Layer"),"",!0).setDefaultValue("no").markAsAdvanced().getCodeExtraInformation().setIncludeFile("Extensions/TweenBehavior/TweenManager.js").addIncludeFile("Extensions/TweenBehavior/tweentools.js").setFunctionName("gdjs.evtTools.tween.addLayerValueTween"),i.addAction("TweenCameraPosition",e("Tween the camera position"),e("Tweens the camera position from the current one to a new one."),e("Tween camera on layer _PARAM4_ to _PARAM2_;_PARAM3_ over _PARAM5_ms with easing _PARAM6_ as _PARAM1_"),e("Scene Tweens"),"JsPlatform/Extensions/tween_behavior24.png","JsPlatform/Extensions/tween_behavior32.png").setHidden().addCodeOnlyParameter("currentScene","").addParameter("identifier",e("Tween Identifier"),"sceneTween").addParameter("expression",e("Target X position"),"",!1).addParameter("expression",e("Target Y position"),"",!1).addParameter("layer",e("Layer"),"",!0).addParameter("expression",e("Duration (in milliseconds)"),"",!1).addParameter("stringWithSelector",e("Easing"),t,!1).getCodeExtraInformation().setIncludeFile("Extensions/TweenBehavior/TweenManager.js").addIncludeFile("Extensions/TweenBehavior/tweentools.js").setFunctionName("gdjs.evtTools.tween.tweenCamera"),i.addAction("TweenCameraPosition2",e("Tween the camera position"),e("Tweens the camera position from the current one to a new one."),e("Tween camera on layer _PARAM4_ to _PARAM2_;_PARAM3_ with easing _PARAM5_ over _PARAM6_ seconds as _PARAM1_"),e("Scene Tweens"),"JsPlatform/Extensions/tween_behavior24.png","JsPlatform/Extensions/tween_behavior32.png").addCodeOnlyParameter("currentScene","").addParameter("identifier",e("Tween Identifier"),"sceneTween").addParameter("expression",e("Target X position"),"",!1).addParameter("expression",e("Target Y position"),"",!1).addParameter("layer",e("Layer"),"",!0).addParameter("stringWithSelector",e("Easing"),t,!1).setDefaultValue("linear").addParameter("expression",e("Duration (in seconds)"),"",!1).getCodeExtraInformation().setIncludeFile("Extensions/TweenBehavior/TweenManager.js").addIncludeFile("Extensions/TweenBehavior/tweentools.js").setFunctionName("gdjs.evtTools.tween.tweenCamera2"),i.addAction("TweenCameraZoom",e("Tween the camera zoom"),e("Tweens the camera zoom from the current zoom factor to a new one."),e("Tween the zoom of camera on layer _PARAM3_ to _PARAM2_ over _PARAM4_ms with easing _PARAM5_ as _PARAM1_"),e("Scene Tweens"),"JsPlatform/Extensions/tween_behavior24.png","JsPlatform/Extensions/tween_behavior32.png").setHidden().addCodeOnlyParameter("currentScene","").addParameter("identifier",e("Tween Identifier"),"sceneTween").addParameter("expression",e("Target zoom"),"",!1).addParameter("layer",e("Layer"),"",!0).addParameter("expression",e("Duration (in milliseconds)"),"",!1).addParameter("stringWithSelector",e("Easing"),t,!1).getCodeExtraInformation().setIncludeFile("Extensions/TweenBehavior/TweenManager.js").addIncludeFile("Extensions/TweenBehavior/tweentools.js").setFunctionName("gdjs.evtTools.tween.tweenCameraZoom"),i.addAction("TweenCameraZoom2",e("Tween the camera zoom"),e("Tweens the camera zoom from the current zoom factor to a new one."),e("Tween the zoom of camera on layer _PARAM3_ to _PARAM2_ with easing _PARAM4_ over _PARAM5_ seconds as _PARAM1_"),e("Scene Tweens"),"JsPlatform/Extensions/tween_behavior24.png","JsPlatform/Extensions/tween_behavior32.png").addCodeOnlyParameter("currentScene","").addParameter("identifier",e("Tween Identifier"),"sceneTween").addParameter("expression",e("Target zoom"),"",!1).addParameter("layer",e("Layer"),"",!0).addParameter("stringWithSelector",e("Easing"),t,!1).setDefaultValue("linear").addParameter("expression",e("Duration (in seconds)"),"",!1).getCodeExtraInformation().setIncludeFile("Extensions/TweenBehavior/TweenManager.js").addIncludeFile("Extensions/TweenBehavior/tweentools.js").setFunctionName("gdjs.evtTools.tween.tweenCameraZoom2"),i.addAction("TweenCameraRotation",e("Tween the camera rotation"),e("Tweens the camera rotation from the current angle to a new one."),e("Tween the rotation of camera on layer _PARAM3_ to _PARAM2_ over _PARAM4_ms with easing _PARAM5_ as _PARAM1_"),e("Scene Tweens"),"JsPlatform/Extensions/tween_behavior24.png","JsPlatform/Extensions/tween_behavior32.png").setHidden().addCodeOnlyParameter("currentScene","").addParameter("identifier",e("Tween Identifier"),"sceneTween").addParameter("expression",e("Target rotation (in degrees)"),"",!1).addParameter("layer",e("Layer"),"",!0).addParameter("expression",e("Duration (in milliseconds)"),"",!1).addParameter("stringWithSelector",e("Easing"),t,!1).getCodeExtraInformation().setIncludeFile("Extensions/TweenBehavior/TweenManager.js").addIncludeFile("Extensions/TweenBehavior/tweentools.js").setFunctionName("gdjs.evtTools.tween.tweenCameraRotation"),i.addAction("TweenCameraRotation2",e("Tween the camera rotation"),e("Tweens the camera rotation from the current angle to a new one."),e("Tween the rotation of camera on layer _PARAM3_ to _PARAM2_ with easing _PARAM4_ over _PARAM5_ seconds as _PARAM1_"),e("Scene Tweens"),"JsPlatform/Extensions/tween_behavior24.png","JsPlatform/Extensions/tween_behavior32.png").addCodeOnlyParameter("currentScene","").addParameter("identifier",e("Tween Identifier"),"sceneTween").addParameter("expression",e("Target rotation (in degrees)"),"",!1).addParameter("layer",e("Layer"),"",!0).addParameter("stringWithSelector",e("Easing"),t,!1).setDefaultValue("linear").addParameter("expression",e("Duration (in seconds)"),"",!1).getCodeExtraInformation().setIncludeFile("Extensions/TweenBehavior/TweenManager.js").addIncludeFile("Extensions/TweenBehavior/tweentools.js").setFunctionName("gdjs.evtTools.tween.tweenCameraRotation2"),i.addAction("TweenNumberEffectPropertyTween",e("Tween number effect property"),e("Tweens a number effect property from its current value to a new one."),e("Tween the property _PARAM5_ for effect _PARAM4_ of _PARAM3_ to _PARAM2_ with easing _PARAM6_ over _PARAM7_ seconds as _PARAM1_"),e("Scene Tweens"),"JsPlatform/Extensions/tween_behavior24.png","JsPlatform/Extensions/tween_behavior32.png").addCodeOnlyParameter("currentScene","").addParameter("identifier",e("Tween Identifier"),"sceneTween").addParameter("expression",e("To value"),"",!1).addParameter("layer",e("Layer"),"",!0).addParameter("layerEffectName",e("Effect name")).addParameter("layerEffectParameterName",e("Property name")).addParameter("stringWithSelector",e("Easing"),t,!1).setDefaultValue("linear").addParameter("expression",e("Duration (in seconds)"),"",!1).getCodeExtraInformation().setIncludeFile("Extensions/TweenBehavior/TweenManager.js").addIncludeFile("Extensions/TweenBehavior/tweentools.js").setFunctionName("gdjs.evtTools.tween.tweenNumberEffectPropertyTween"),i.addAction("TweenColorEffectPropertyTween",e("Tween color effect property"),e("Tweens a color effect property from its current value to a new one."),e("Tween the color property _PARAM5_ for effect _PARAM4_ of _PARAM3_ to _PARAM2_ with easing _PARAM6_ over _PARAM7_ seconds as _PARAM1_"),e("Scene Tweens"),"JsPlatform/Extensions/tween_behavior24.png","JsPlatform/Extensions/tween_behavior32.png").addCodeOnlyParameter("currentScene","").addParameter("identifier",e("Tween Identifier"),"sceneTween").addParameter("color",e("To color"),"",!1).addParameter("layer",e("Layer"),"",!0).addParameter("layerEffectName",e("Effect name")).addParameter("layerEffectParameterName",e("Property name")).addParameter("stringWithSelector",e("Easing"),t,!1).setDefaultValue("linear").addParameter("expression",e("Duration (in seconds)"),"",!1).getCodeExtraInformation().setIncludeFile("Extensions/TweenBehavior/TweenManager.js").addIncludeFile("Extensions/TweenBehavior/tweentools.js").setFunctionName("gdjs.evtTools.tween.tweenColorEffectPropertyTween"),i.addCondition("SceneTweenExists",e("Scene tween exists"),e("Check if the scene tween exists."),e("Scene tween _PARAM1_ exists"),e("Scene Tweens"),"JsPlatform/Extensions/tween_behavior24.png","JsPlatform/Extensions/tween_behavior32.png").addCodeOnlyParameter("currentScene","").addParameter("identifier",e("Tween Identifier"),"sceneTween").getCodeExtraInformation().setIncludeFile("Extensions/TweenBehavior/TweenManager.js").addIncludeFile("Extensions/TweenBehavior/tweentools.js").setFunctionName("gdjs.evtTools.tween.sceneTweenExists"),i.addCondition("SceneTweenIsPlaying",e("Scene tween is playing"),e("Check if the scene tween is currently playing."),e("Scene tween _PARAM1_ is playing"),e("Scene Tweens"),"JsPlatform/Extensions/tween_behavior24.png","JsPlatform/Extensions/tween_behavior32.png").addCodeOnlyParameter("currentScene","").addParameter("identifier",e("Tween Identifier"),"sceneTween").getCodeExtraInformation().setIncludeFile("Extensions/TweenBehavior/TweenManager.js").addIncludeFile("Extensions/TweenBehavior/tweentools.js").setFunctionName("gdjs.evtTools.tween.sceneTweenIsPlaying"),i.addCondition("SceneTweenHasFinished",e("Scene tween finished playing"),e("Check if the scene tween has finished playing."),e("Scene tween _PARAM1_ has finished playing"),e("Scene Tweens"),"JsPlatform/Extensions/tween_behavior24.png","JsPlatform/Extensions/tween_behavior32.png").addCodeOnlyParameter("currentScene","").addParameter("identifier",e("Tween Identifier"),"sceneTween").getCodeExtraInformation().setIncludeFile("Extensions/TweenBehavior/TweenManager.js").addIncludeFile("Extensions/TweenBehavior/tweentools.js").setFunctionName("gdjs.evtTools.tween.sceneTweenHasFinished"),i.addAction("PauseSceneTween",e("Pause a scene tween"),e("Pause the running scene tween."),e("Pause the scene tween _PARAM1_"),e("Scene Tweens"),"JsPlatform/Extensions/tween_behavior24.png","JsPlatform/Extensions/tween_behavior32.png").addCodeOnlyParameter("currentScene","").addParameter("identifier",e("Tween Identifier"),"sceneTween").getCodeExtraInformation().setIncludeFile("Extensions/TweenBehavior/TweenManager.js").addIncludeFile("Extensions/TweenBehavior/tweentools.js").setFunctionName("gdjs.evtTools.tween.pauseSceneTween"),i.addAction("StopSceneTween",e("Stop a scene tween"),e("Stop the running scene tween."),e("Stop the scene tween _PARAM1_ (jump to the end: _PARAM2_)"),e("Scene Tweens"),"JsPlatform/Extensions/tween_behavior24.png","JsPlatform/Extensions/tween_behavior32.png").addCodeOnlyParameter("currentScene","").addParameter("identifier",e("Tween Identifier"),"sceneTween").addParameter("yesorno",e("Jump to the end"),"",!1).getCodeExtraInformation().setIncludeFile("Extensions/TweenBehavior/TweenManager.js").addIncludeFile("Extensions/TweenBehavior/tweentools.js").setFunctionName("gdjs.evtTools.tween.stopSceneTween"),i.addAction("ResumeSceneTween",e("Resume a scene tween"),e("Resume the scene tween."),e("Resume the scene tween _PARAM1_"),e("Scene Tweens"),"JsPlatform/Extensions/tween_behavior24.png","JsPlatform/Extensions/tween_behavior32.png").addCodeOnlyParameter("currentScene","").addParameter("identifier",e("Tween Identifier"),"sceneTween").getCodeExtraInformation().setIncludeFile("Extensions/TweenBehavior/TweenManager.js").addIncludeFile("Extensions/TweenBehavior/tweentools.js").setFunctionName("gdjs.evtTools.tween.resumeSceneTween"),i.addAction("RemoveSceneTween",e("Remove a scene tween"),e("Remove the scene tween. Call this when the tween is no longer needed to free memory."),e("Remove the scene tween _PARAM1_"),e("Scene Tweens"),"JsPlatform/Extensions/tween_behavior24.png","JsPlatform/Extensions/tween_behavior32.png").addCodeOnlyParameter("currentScene","").addParameter("identifier",e("Tween Identifier"),"sceneTween").getCodeExtraInformation().setIncludeFile("Extensions/TweenBehavior/TweenManager.js").addIncludeFile("Extensions/TweenBehavior/tweentools.js").setFunctionName("gdjs.evtTools.tween.removeSceneTween"),i.addExpressionAndCondition("number","Progress",e("Tween progress"),e("the progress of a tween (between 0.0 and 1.0)"),e("the progress of the scene tween _PARAM1_"),e("Scene Tweens"),"JsPlatform/Extensions/tween_behavior32.png").addCodeOnlyParameter("currentScene","").addParameter("identifier",e("Tween Identifier"),"sceneTween").useStandardParameters("number",a.ParameterOptions.makeNewOptions()).setIncludeFile("Extensions/TweenBehavior/TweenManager.js").addIncludeFile("Extensions/TweenBehavior/tweentools.js").setFunctionName("gdjs.evtTools.tween.getProgress"),i.addExpression("Value",e("Tween value"),e("Return the value of a tween. It is always 0 for tweens with several values."),e("Scene Tweens"),"JsPlatform/Extensions/tween_behavior32.png").addCodeOnlyParameter("currentScene","").addParameter("identifier",e("Tween Identifier"),"sceneTween").getCodeExtraInformation().setIncludeFile("Extensions/TweenBehavior/TweenManager.js").addIncludeFile("Extensions/TweenBehavior/tweentools.js").setFunctionName("gdjs.evtTools.tween.getValue");var n=new a.BehaviorJsImplementation;n.updateProperty=function(e,t,a){return!1},n.getProperties=function(e){return new a.MapStringPropertyDescriptor},n.initializeContent=function(e){};var r=i.addBehavior("TweenBehavior",e("Tween"),"Tween",e("Smoothly animate position, angle, scale and other properties of objects."),"","JsPlatform/Extensions/tween_behavior32.png","TweenBehavior",n,new a.BehaviorsSharedData).setQuickCustomizationVisibility(a.QuickCustomization.Hidden).setIncludeFile("Extensions/TweenBehavior/TweenManager.js").addIncludeFile("Extensions/TweenBehavior/tweenruntimebehavior.js");return r.addAction("AddObjectVariableTween",e("Add object variable tween"),e("Add a tween animation for an object variable."),e("Tween the variable _PARAM3_ of _PARAM0_ from _PARAM4_ to _PARAM5_ with easing _PARAM6_ over _PARAM7_ms as _PARAM2_"),e("Variables"),"JsPlatform/Extensions/tween_behavior24.png","JsPlatform/Extensions/tween_behavior32.png").setHidden().addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"TweenBehavior",!1).addParameter("identifier",e("Tween Identifier"),"objectTween").addParameter("objectvar",e("Object variable"),"",!1).addParameter("expression",e("From value"),"",!1).addParameter("expression",e("To value"),"",!1).addParameter("stringWithSelector",e("Easing"),t,!1).setDefaultValue("linear").addParameter("expression",e("Duration (in milliseconds)"),"",!1).addParameter("yesorno",e("Destroy this object when tween finishes"),"",!1).setDefaultValue("no").getCodeExtraInformation().setFunctionName("addVariableTween"),r.addAction("AddObjectVariableTween2",e("Tween a number in an object variable"),e("Tweens an object variable's numeric value from its current value to a new one."),e("Tween the variable _PARAM3_ of _PARAM0_ to _PARAM4_ with easing _PARAM5_ over _PARAM6_ms as _PARAM2_"),e("Variables"),"JsPlatform/Extensions/tween_behavior24.png","JsPlatform/Extensions/tween_behavior32.png").setHidden().addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"TweenBehavior",!1).addParameter("identifier",e("Tween Identifier"),"objectTween").addParameter("objectvar",e("Object variable"),"",!1).addParameter("expression",e("To value"),"",!1).addParameter("stringWithSelector",e("Easing"),t,!1).setDefaultValue("linear").addParameter("expression",e("Duration (in milliseconds)"),"",!1).addParameter("yesorno",e("Destroy this object when tween finishes"),"",!1).setDefaultValue("no").getCodeExtraInformation().setFunctionName("addVariableTween2"),r.addScopedAction("AddObjectVariableTween3",e("Tween a number in an object variable"),e("Tweens an object variable's numeric value from its current value to a new one."),e("Tween the variable _PARAM3_ of _PARAM0_ to _PARAM4_ with easing _PARAM5_ over _PARAM6_ seconds as _PARAM2_"),e("Variables"),"JsPlatform/Extensions/tween_behavior24.png","JsPlatform/Extensions/tween_behavior32.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"TweenBehavior",!1).addParameter("identifier",e("Tween Identifier"),"objectTween").addParameter("objectvar",e("Object variable"),"",!1).addParameter("expression",e("To value"),"",!1).addParameter("stringWithSelector",e("Easing"),t,!1).setDefaultValue("linear").addParameter("expression",e("Duration (in seconds)"),"",!1).addParameter("yesorno",e("Destroy this object when tween finishes"),"",!1).setDefaultValue("no").getCodeExtraInformation().setFunctionName("addVariableTween3"),r.addScopedAction("AddObjectValueTween",e("Tween an object value"),e("Tweens an object value that can be use with the object expression Tween::Value."),e("Tween the value of _PARAM0_ from _PARAM3_ to _PARAM4_ with easing _PARAM5_ over _PARAM6_ seconds as _PARAM2_"),e("Variables"),"JsPlatform/Extensions/tween_behavior24.png","JsPlatform/Extensions/tween_behavior32.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"TweenBehavior",!1).addParameter("identifier",e("Tween Identifier"),"objectTween").addParameter("expression",e("From value"),"",!1).addParameter("expression",e("To value"),"",!1).addParameter("stringWithSelector",e("Easing"),t,!1).setDefaultValue("linear").addParameter("expression",e("Duration (in seconds)"),"",!1).addParameter("yesorno",e("Exponential interpolation"),"",!1).setDefaultValue("no").addParameter("yesorno",e("Destroy this object when tween finishes"),"",!1).setDefaultValue("no").getCodeExtraInformation().setFunctionName("addValueTween"),r.addAction("AddObjectPositionTween",e("Tween object position"),e("Tweens an object position from its current position to a new one."),e("Tween the position of _PARAM0_ to x: _PARAM3_, y: _PARAM4_ with easing _PARAM5_ over _PARAM6_ms as _PARAM2_"),e("Position"),"JsPlatform/Extensions/tween_behavior24.png","JsPlatform/Extensions/tween_behavior32.png").setHidden().addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"TweenBehavior",!1).addParameter("identifier",e("Tween Identifier"),"objectTween").addParameter("expression",e("To X"),"",!1).addParameter("expression",e("To Y"),"",!1).addParameter("stringWithSelector",e("Easing"),t,!1).setDefaultValue("linear").addParameter("expression",e("Duration (in milliseconds)"),"",!1).addParameter("yesorno",e("Destroy this object when tween finishes"),"",!1).setDefaultValue("no").getCodeExtraInformation().setFunctionName("addObjectPositionTween"),r.addScopedAction("AddObjectPositionTween2",e("Tween object position"),e("Tweens an object position from its current position to a new one."),e("Tween the position of _PARAM0_ to x: _PARAM3_, y: _PARAM4_ with easing _PARAM5_ over _PARAM6_ seconds as _PARAM2_"),e("Position"),"JsPlatform/Extensions/tween_behavior24.png","JsPlatform/Extensions/tween_behavior32.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"TweenBehavior",!1).addParameter("identifier",e("Tween Identifier"),"objectTween").addParameter("expression",e("To X"),"",!1).addParameter("expression",e("To Y"),"",!1).addParameter("stringWithSelector",e("Easing"),t,!1).setDefaultValue("linear").addParameter("expression",e("Duration (in seconds)"),"",!1).addParameter("yesorno",e("Destroy this object when tween finishes"),"",!1).setDefaultValue("no").getCodeExtraInformation().setFunctionName("addObjectPositionTween2"),r.addAction("AddObjectPositionXTween",e("Tween object X position"),e("Tweens an object X position from its current X position to a new one."),e("Tween the X position of _PARAM0_ to _PARAM3_ with easing _PARAM4_ over _PARAM5_ms as _PARAM2_"),e("Position"),"JsPlatform/Extensions/tween_behavior24.png","JsPlatform/Extensions/tween_behavior32.png").setHidden().addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"TweenBehavior",!1).addParameter("identifier",e("Tween Identifier"),"objectTween").addParameter("expression",e("To X"),"",!1).addParameter("stringWithSelector",e("Easing"),t,!1).setDefaultValue("linear").addParameter("expression",e("Duration (in milliseconds)"),"",!1).addParameter("yesorno",e("Destroy this object when tween finishes"),"",!1).setDefaultValue("no").getCodeExtraInformation().setFunctionName("addObjectPositionXTween"),r.addScopedAction("AddObjectPositionXTween2",e("Tween object X position"),e("Tweens an object X position from its current X position to a new one."),e("Tween the X position of _PARAM0_ to _PARAM3_ with easing _PARAM4_ over _PARAM5_ seconds as _PARAM2_"),e("Position"),"JsPlatform/Extensions/tween_behavior24.png","JsPlatform/Extensions/tween_behavior32.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"TweenBehavior",!1).addParameter("identifier",e("Tween Identifier"),"objectTween").addParameter("expression",e("To X"),"",!1).addParameter("stringWithSelector",e("Easing"),t,!1).setDefaultValue("linear").addParameter("expression",e("Duration (in seconds)"),"",!1).addParameter("yesorno",e("Destroy this object when tween finishes"),"",!1).setDefaultValue("no").getCodeExtraInformation().setFunctionName("addObjectPositionXTween2"),r.addAction("AddObjectPositionZTween",e("Tween object Z position"),e("Tweens an object Z position (3D objects only) from its current Z position to a new one."),e("Tween the Z position of _PARAM0_ to _PARAM3_ with easing _PARAM4_ over _PARAM5_ms as _PARAM2_"),e("Position"),"JsPlatform/Extensions/tween_behavior24.png","JsPlatform/Extensions/tween_behavior32.png").setHidden().addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"TweenBehavior",!1).addParameter("identifier",e("Tween Identifier"),"objectTween").addParameter("expression",e("To Z"),"",!1).addParameter("stringWithSelector",e("Easing"),t,!1).setDefaultValue("linear").addParameter("expression",e("Duration (in milliseconds)"),"",!1).addParameter("yesorno",e("Destroy this object when tween finishes"),"",!1).setDefaultValue("no").getCodeExtraInformation().setFunctionName("addObjectPositionZTween"),r.addAction("AddObjectPositionZTween2",e("Tween object Z position"),e("Tweens an object Z position (3D objects only) from its current Z position to a new one."),e("Tween the Z position of _PARAM0_ to _PARAM4_ with easing _PARAM5_ over _PARAM6_ seconds as _PARAM3_"),e("Position"),"JsPlatform/Extensions/tween_behavior24.png","JsPlatform/Extensions/tween_behavior32.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"TweenBehavior",!1).addParameter("behavior",e("3D capability"),"Scene3D::Base3DBehavior").addParameter("identifier",e("Tween Identifier"),"objectTween").addParameter("expression",e("To Z"),"",!1).addParameter("stringWithSelector",e("Easing"),t,!1).setDefaultValue("linear").addParameter("expression",e("Duration (in seconds)"),"",!1).addParameter("yesorno",e("Destroy this object when tween finishes"),"",!1).setDefaultValue("no").getCodeExtraInformation().setFunctionName("addObjectPositionZTween2"),r.addAction("AddObjectWidthTween",e("Tween object width"),e("Tweens an object width from its current width to a new one."),e("Tween the width of _PARAM0_ to _PARAM3_ with easing _PARAM4_ over _PARAM5_ms as _PARAM2_"),e("Size"),"JsPlatform/Extensions/tween_behavior24.png","JsPlatform/Extensions/tween_behavior32.png").setHidden().addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"TweenBehavior",!1).addParameter("identifier",e("Tween Identifier"),"objectTween").addParameter("expression",e("To width"),"",!1).addParameter("stringWithSelector",e("Easing"),t,!1).setDefaultValue("linear").addParameter("expression",e("Duration (in milliseconds)"),"",!1).addParameter("yesorno",e("Destroy this object when tween finishes"),"",!1).setDefaultValue("no").getCodeExtraInformation().setFunctionName("addObjectWidthTween"),r.addScopedAction("AddObjectWidthTween2",e("Tween object width"),e("Tweens an object width from its current width to a new one."),e("Tween the width of _PARAM0_ to _PARAM3_ with easing _PARAM4_ over _PARAM5_ seconds as _PARAM2_"),e("Size"),"JsPlatform/Extensions/tween_behavior24.png","JsPlatform/Extensions/tween_behavior32.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"TweenBehavior",!1).addParameter("identifier",e("Tween Identifier"),"objectTween").addParameter("expression",e("To width"),"",!1).addParameter("stringWithSelector",e("Easing"),t,!1).setDefaultValue("linear").addParameter("expression",e("Duration (in seconds)"),"",!1).addParameter("yesorno",e("Destroy this object when tween finishes"),"",!1).setDefaultValue("no").getCodeExtraInformation().setFunctionName("addObjectWidthTween2"),r.addAction("AddObjectHeightTween",e("Tween object height"),e("Tweens an object height from its current height to a new one."),e("Tween the height of _PARAM0_ to _PARAM3_ with easing _PARAM4_ over _PARAM5_ms as _PARAM2_"),e("Size"),"JsPlatform/Extensions/tween_behavior24.png","JsPlatform/Extensions/tween_behavior32.png").setHidden().addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"TweenBehavior",!1).addParameter("identifier",e("Tween Identifier"),"objectTween").addParameter("expression",e("To height"),"",!1).addParameter("stringWithSelector",e("Easing"),t,!1).setDefaultValue("linear").addParameter("expression",e("Duration (in milliseconds)"),"",!1).addParameter("yesorno",e("Destroy this object when tween finishes"),"",!1).setDefaultValue("no").getCodeExtraInformation().setFunctionName("addObjectHeightTween"),r.addScopedAction("AddObjectHeightTween2",e("Tween object height"),e("Tweens an object height from its current height to a new one."),e("Tween the height of _PARAM0_ to _PARAM3_ with easing _PARAM4_ over _PARAM5_ seconds as _PARAM2_"),e("Size"),"JsPlatform/Extensions/tween_behavior24.png","JsPlatform/Extensions/tween_behavior32.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"TweenBehavior",!1).addParameter("identifier",e("Tween Identifier"),"objectTween").addParameter("expression",e("To height"),"",!1).addParameter("stringWithSelector",e("Easing"),t,!1).setDefaultValue("linear").addParameter("expression",e("Duration (in seconds)"),"",!1).addParameter("yesorno",e("Destroy this object when tween finishes"),"",!1).setDefaultValue("no").getCodeExtraInformation().setFunctionName("addObjectHeightTween2"),r.addAction("AddObjectDepthTween",e("Tween object depth"),e("Tweens an object depth (suitable 3D objects only) from its current depth to a new one."),e("Tween the depth of _PARAM0_ to _PARAM3_ with easing _PARAM4_ over _PARAM5_ms as _PARAM2_"),e("Size"),"JsPlatform/Extensions/tween_behavior24.png","JsPlatform/Extensions/tween_behavior32.png").setHidden().addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"TweenBehavior",!1).addParameter("identifier",e("Tween Identifier"),"objectTween").addParameter("expression",e("To depth"),"",!1).addParameter("stringWithSelector",e("Easing"),t,!1).setDefaultValue("linear").addParameter("expression",e("Duration (in milliseconds)"),"",!1).addParameter("yesorno",e("Destroy this object when tween finishes"),"",!1).setDefaultValue("no").getCodeExtraInformation().setFunctionName("addObjectDepthTween"),r.addAction("AddObjectDepthTween2",e("Tween object depth"),e("Tweens an object depth (suitable 3D objects only) from its current depth to a new one."),e("Tween the depth of _PARAM0_ to _PARAM4_ with easing _PARAM5_ over _PARAM6_ seconds as _PARAM3_"),e("Size"),"JsPlatform/Extensions/tween_behavior24.png","JsPlatform/Extensions/tween_behavior32.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"TweenBehavior",!1).addParameter("behavior",e("3D capability"),"Scene3D::Base3DBehavior").addParameter("identifier",e("Tween Identifier"),"objectTween").addParameter("expression",e("To depth"),"",!1).addParameter("stringWithSelector",e("Easing"),t,!1).setDefaultValue("linear").addParameter("expression",e("Duration (in seconds)"),"",!1).addParameter("yesorno",e("Destroy this object when tween finishes"),"",!1).setDefaultValue("no").getCodeExtraInformation().setFunctionName("addObjectDepthTween2"),r.addAction("AddObjectPositionYTween",e("Tween object Y position"),e("Tweens an object Y position from its current Y position to a new one."),e("Tween the Y position of _PARAM0_ to _PARAM3_ with easing _PARAM4_ over _PARAM5_ms as _PARAM2_"),e("Position"),"JsPlatform/Extensions/tween_behavior24.png","JsPlatform/Extensions/tween_behavior32.png").setHidden().addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"TweenBehavior",!1).addParameter("identifier",e("Tween Identifier"),"objectTween").addParameter("expression",e("To Y"),"",!1).addParameter("stringWithSelector",e("Easing"),t,!1).setDefaultValue("linear").addParameter("expression",e("Duration (in milliseconds)"),"",!1).addParameter("yesorno",e("Destroy this object when tween finishes"),"",!1).setDefaultValue("no").getCodeExtraInformation().setFunctionName("addObjectPositionYTween"),r.addScopedAction("AddObjectPositionYTween2",e("Tween object Y position"),e("Tweens an object Y position from its current Y position to a new one."),e("Tween the Y position of _PARAM0_ to _PARAM3_ with easing _PARAM4_ over _PARAM5_ seconds as _PARAM2_"),e("Position"),"JsPlatform/Extensions/tween_behavior24.png","JsPlatform/Extensions/tween_behavior32.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"TweenBehavior",!1).addParameter("identifier",e("Tween Identifier"),"objectTween").addParameter("expression",e("To Y"),"",!1).addParameter("stringWithSelector",e("Easing"),t,!1).setDefaultValue("linear").addParameter("expression",e("Duration (in seconds)"),"",!1).addParameter("yesorno",e("Destroy this object when tween finishes"),"",!1).setDefaultValue("no").getCodeExtraInformation().setFunctionName("addObjectPositionYTween2"),r.addAction("AddObjectAngleTween",e("Tween object angle"),e("Tweens an object angle from its current angle to a new one."),e("Tween the angle of _PARAM0_ to _PARAM3_\xb0 with easing _PARAM4_ over _PARAM5_ms as _PARAM2_"),e("Angle"),"JsPlatform/Extensions/tween_behavior24.png","JsPlatform/Extensions/tween_behavior32.png").setHidden().addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"TweenBehavior",!1).addParameter("identifier",e("Tween Identifier"),"objectTween").addParameter("expression",e("To angle (in degrees)"),"",!1).addParameter("stringWithSelector",e("Easing"),t,!1).setDefaultValue("linear").addParameter("expression",e("Duration (in milliseconds)"),"",!1).addParameter("yesorno",e("Destroy this object when tween finishes"),"",!1).setDefaultValue("no").getCodeExtraInformation().setFunctionName("addObjectAngleTween"),r.addScopedAction("AddObjectAngleTween2",e("Tween object angle"),e("Tweens an object angle from its current angle to a new one."),e("Tween the angle of _PARAM0_ to _PARAM3_\xb0 with easing _PARAM4_ over _PARAM5_ seconds as _PARAM2_"),e("Angle"),"JsPlatform/Extensions/tween_behavior24.png","JsPlatform/Extensions/tween_behavior32.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"TweenBehavior",!1).addParameter("identifier",e("Tween Identifier"),"objectTween").addParameter("expression",e("To angle (in degrees)"),"",!1).addParameter("stringWithSelector",e("Easing"),t,!1).setDefaultValue("linear").addParameter("expression",e("Duration (in seconds)"),"",!1).addParameter("yesorno",e("Destroy this object when tween finishes"),"",!1).setDefaultValue("no").getCodeExtraInformation().setFunctionName("addObjectAngleTween2"),r.addScopedAction("AddObjectRotationXTween",e("Tween object rotation on X axis"),e("Tweens an object rotation on X axis from its current angle to a new one."),e("Tween the rotation on X axis of _PARAM0_ to _PARAM4_\xb0 with easing _PARAM5_ over _PARAM6_ seconds as _PARAM3_"),e("Angle"),"JsPlatform/Extensions/tween_behavior24.png","JsPlatform/Extensions/tween_behavior32.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"TweenBehavior",!1).addParameter("behavior",e("3D capability"),"Scene3D::Base3DBehavior").addParameter("identifier",e("Tween Identifier"),"objectTween").addParameter("expression",e("To angle (in degrees)"),"",!1).addParameter("stringWithSelector",e("Easing"),t,!1).setDefaultValue("linear").addParameter("expression",e("Duration (in seconds)"),"",!1).addParameter("yesorno",e("Destroy this object when tween finishes"),"",!1).setDefaultValue("no").getCodeExtraInformation().setFunctionName("addObjectRotationXTween"),r.addScopedAction("AddObjectRotationYTween",e("Tween object rotation on Y axis"),e("Tweens an object rotation on Y axis from its current angle to a new one."),e("Tween the rotation on Y axis of _PARAM0_ to _PARAM4_\xb0 with easing _PARAM5_ over _PARAM6_ seconds as _PARAM3_"),e("Angle"),"JsPlatform/Extensions/tween_behavior24.png","JsPlatform/Extensions/tween_behavior32.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"TweenBehavior",!1).addParameter("behavior",e("3D capability"),"Scene3D::Base3DBehavior").addParameter("identifier",e("Tween Identifier"),"objectTween").addParameter("expression",e("To angle (in degrees)"),"",!1).addParameter("stringWithSelector",e("Easing"),t,!1).setDefaultValue("linear").addParameter("expression",e("Duration (in seconds)"),"",!1).addParameter("yesorno",e("Destroy this object when tween finishes"),"",!1).setDefaultValue("no").getCodeExtraInformation().setFunctionName("addObjectRotationYTween"),r.addAction("AddObjectScaleTween",e("Tween object scale"),e("Tweens an object scale from its current scale to a new one (note: the scale can never be less than 0)."),e("Tween the scale of _PARAM0_ to X-scale: _PARAM3_, Y-scale: _PARAM4_ (from center: _PARAM8_) with easing _PARAM5_ over _PARAM6_ms as _PARAM2_"),e("Size"),"JsPlatform/Extensions/tween_behavior24.png","JsPlatform/Extensions/tween_behavior32.png").setHidden().addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"TweenBehavior",!1).addParameter("identifier",e("Tween Identifier"),"objectTween").addParameter("expression",e("To scale X"),"",!1).addParameter("expression",e("To scale Y"),"",!1).addParameter("stringWithSelector",e("Easing"),t,!1).setDefaultValue("linear").addParameter("expression",e("Duration (in milliseconds)"),"",!1).addParameter("yesorno",e("Destroy this object when tween finishes"),"",!1).setDefaultValue("no").addParameter("yesorno",e("Scale from center of object"),"",!1).setDefaultValue("no").getCodeExtraInformation().setFunctionName("addObjectScaleTween"),r.addScopedAction("AddObjectScaleTween2",e("Tween object scale"),e("Tweens an object scale from its current scale to a new one (note: the scale can never be 0 or less)."),e("Tween the scale of _PARAM0_ to X-scale: _PARAM3_, Y-scale: _PARAM4_ (from center: _PARAM8_) with easing _PARAM5_ over _PARAM6_ seconds as _PARAM2_"),e("Size"),"JsPlatform/Extensions/tween_behavior24.png","JsPlatform/Extensions/tween_behavior32.png").setHidden().addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"TweenBehavior",!1).addParameter("identifier",e("Tween Identifier"),"objectTween").addParameter("expression",e("To scale X"),"",!1).addParameter("expression",e("To scale Y"),"",!1).addParameter("stringWithSelector",e("Easing"),t,!1).setDefaultValue("linear").addParameter("expression",e("Duration (in seconds)"),"",!1).addParameter("yesorno",e("Destroy this object when tween finishes"),"",!1).setDefaultValue("no").addParameter("yesorno",e("Scale from center of object"),"",!1).setDefaultValue("no").getCodeExtraInformation().setFunctionName("addObjectScaleTween2"),r.addScopedAction("AddObjectScaleTween3",e("Tween object scale"),e("Tweens an object scale from its current value to a new one (note: the scale can never be 0 or less)."),e("Tween the scale of _PARAM0_ to _PARAM3_ (from center: _PARAM7_) with easing _PARAM4_ over _PARAM5_ seconds as _PARAM2_"),e("Size"),"JsPlatform/Extensions/tween_behavior24.png","JsPlatform/Extensions/tween_behavior32.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"TweenBehavior",!1).addParameter("identifier",e("Tween Identifier"),"objectTween").addParameter("expression",e("To scale"),"",!1).addParameter("stringWithSelector",e("Easing"),t,!1).setDefaultValue("linear").addParameter("expression",e("Duration (in seconds)"),"",!1).addParameter("yesorno",e("Destroy this object when tween finishes"),"",!1).setDefaultValue("no").addParameter("yesorno",e("Scale from center of object"),"",!1).setDefaultValue("no").getCodeExtraInformation().setFunctionName("addObjectScaleTween3"),r.addAction("AddObjectScaleXTween",e("Tween object X-scale"),e("Tweens an object X-scale from its current value to a new one (note: the scale can never be less than 0)."),e("Tween the X-scale of _PARAM0_ to _PARAM3_ (from center: _PARAM7_) with easing _PARAM4_ over _PARAM5_ms as _PARAM2_"),e("Size"),"JsPlatform/Extensions/tween_behavior24.png","JsPlatform/Extensions/tween_behavior32.png").setHidden().addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"TweenBehavior",!1).addParameter("identifier",e("Tween Identifier"),"objectTween").addParameter("expression",e("To scale X"),"",!1).addParameter("stringWithSelector",e("Easing"),t,!1).setDefaultValue("linear").addParameter("expression",e("Duration (in milliseconds)"),"",!1).addParameter("yesorno",e("Destroy this object when tween finishes"),"",!1).setDefaultValue("no").addParameter("yesorno",e("Scale from center of object"),"",!1).setDefaultValue("no").getCodeExtraInformation().setFunctionName("addObjectScaleXTween"),r.addScopedAction("AddObjectScaleXTween2",e("Tween object X-scale"),e("Tweens an object X-scale from its current value to a new one (note: the scale can never be 0 or less)."),e("Tween the X-scale of _PARAM0_ to _PARAM3_ (from center: _PARAM7_) with easing _PARAM4_ over _PARAM5_ seconds as _PARAM2_"),e("Size"),"JsPlatform/Extensions/tween_behavior24.png","JsPlatform/Extensions/tween_behavior32.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"TweenBehavior",!1).addParameter("identifier",e("Tween Identifier"),"objectTween").addParameter("expression",e("To scale X"),"",!1).addParameter("stringWithSelector",e("Easing"),t,!1).setDefaultValue("linear").addParameter("expression",e("Duration (in seconds)"),"",!1).addParameter("yesorno",e("Destroy this object when tween finishes"),"",!1).setDefaultValue("no").addParameter("yesorno",e("Scale from center of object"),"",!1).setDefaultValue("no").getCodeExtraInformation().setFunctionName("addObjectScaleXTween2"),r.addAction("AddObjectScaleYTween",e("Tween object Y-scale"),e("Tweens an object Y-scale from its current value to a new one (note: the scale can never be less than 0)."),e("Tween the Y-scale of _PARAM0_ to _PARAM3_ (from center: _PARAM7_) with easing _PARAM4_ over _PARAM5_ms as _PARAM2_"),e("Size"),"JsPlatform/Extensions/tween_behavior24.png","JsPlatform/Extensions/tween_behavior32.png").setHidden().addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"TweenBehavior",!1).addParameter("identifier",e("Tween Identifier"),"objectTween").addParameter("expression",e("To scale Y"),"",!1).addParameter("stringWithSelector",e("Easing"),t,!1).setDefaultValue("linear").addParameter("expression",e("Duration (in milliseconds)"),"",!1).addParameter("yesorno",e("Destroy this object when tween finishes"),"",!1).setDefaultValue("no").addParameter("yesorno",e("Scale from center of object"),"",!1).setDefaultValue("no").getCodeExtraInformation().setFunctionName("addObjectScaleYTween"),r.addScopedAction("AddObjectScaleYTween2",e("Tween object Y-scale"),e("Tweens an object Y-scale from its current value to a new one (note: the scale can never be 0 or less)."),e("Tween the Y-scale of _PARAM0_ to _PARAM3_ (from center: _PARAM7_) with easing _PARAM4_ over _PARAM5_ seconds as _PARAM2_"),e("Size"),"JsPlatform/Extensions/tween_behavior24.png","JsPlatform/Extensions/tween_behavior32.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"TweenBehavior",!1).addParameter("identifier",e("Tween Identifier"),"objectTween").addParameter("expression",e("To scale Y"),"",!1).addParameter("stringWithSelector",e("Easing"),t,!1).setDefaultValue("linear").addParameter("expression",e("Duration (in seconds)"),"",!1).addParameter("yesorno",e("Destroy this object when tween finishes"),"",!1).setDefaultValue("no").addParameter("yesorno",e("Scale from center of object"),"",!1).setDefaultValue("no").getCodeExtraInformation().setFunctionName("addObjectScaleYTween2"),r.addAction("AddTextObjectCharacterSizeTween",e("Tween text size"),e("Tweens the text object character size from its current value to a new one (note: the size can never be less than 1)."),e("Tween the character size of _PARAM0_ to _PARAM3_ with easing _PARAM4_ over _PARAM5_ms as _PARAM2_"),e("Text"),"JsPlatform/Extensions/tween_behavior24.png","JsPlatform/Extensions/tween_behavior32.png").setHidden().addParameter("object",e("Text object"),"",!1).addParameter("behavior",e("Behavior"),"TweenBehavior",!1).addParameter("identifier",e("Tween Identifier"),"objectTween").addParameter("expression",e("To character size"),"",!1).addParameter("stringWithSelector",e("Easing"),t,!1).setDefaultValue("linear").addParameter("expression",e("Duration (in milliseconds)"),"",!1).addParameter("yesorno",e("Destroy this object when tween finishes"),"",!1).setDefaultValue("no").getCodeExtraInformation().setFunctionName("addTextObjectCharacterSizeTween"),r.addScopedAction("AddTextObjectCharacterSizeTween2",e("Tween text size"),e("Tweens the text object character size from its current value to a new one (note: the size can never be less than 1)."),e("Tween the character size of _PARAM0_ to _PARAM3_ with easing _PARAM4_ over _PARAM5_ seconds as _PARAM2_"),e("Text"),"JsPlatform/Extensions/tween_behavior24.png","JsPlatform/Extensions/tween_behavior32.png").addParameter("object",e("Text object"),"",!1).addParameter("behavior",e("Behavior"),"TweenBehavior",!1).addParameter("identifier",e("Tween Identifier"),"objectTween").addParameter("expression",e("To character size"),"",!1).addParameter("stringWithSelector",e("Easing"),t,!1).setDefaultValue("linear").addParameter("expression",e("Duration (in seconds)"),"",!1).addParameter("yesorno",e("Destroy this object when tween finishes"),"",!1).setDefaultValue("no").getCodeExtraInformation().setFunctionName("addTextObjectCharacterSizeTween2"),r.addAction("AddObjectOpacityTween",e("Tween object opacity"),e("Tweens the object opacity from its current value to a new one (note: the value shall stay between 0 and 255)."),e("Tween the opacity of _PARAM0_ to _PARAM3_ with easing _PARAM4_ over _PARAM5_ms as _PARAM2_"),e("Visibility"),"JsPlatform/Extensions/tween_behavior24.png","JsPlatform/Extensions/tween_behavior32.png").setHidden().addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"TweenBehavior",!1).addParameter("identifier",e("Tween Identifier"),"objectTween").addParameter("expression",e("To opacity"),"",!1).addParameter("stringWithSelector",e("Easing"),t,!1).setDefaultValue("linear").addParameter("expression",e("Duration (in milliseconds)"),"",!1).addParameter("yesorno",e("Destroy this object when tween finishes"),"",!1).setDefaultValue("no").getCodeExtraInformation().setFunctionName("addObjectOpacityTween"),r.addScopedAction("AddObjectOpacityTween2",e("Tween object opacity"),e("Tweens the object opacity from its current value to a new one (note: the value shall stay between 0 and 255)."),e("Tween the opacity of _PARAM0_ to _PARAM3_ with easing _PARAM4_ over _PARAM5_ seconds as _PARAM2_ and destroy: _PARAM6_"),e("Visibility"),"JsPlatform/Extensions/tween_behavior24.png","JsPlatform/Extensions/tween_behavior32.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"TweenBehavior",!1).addParameter("identifier",e("Tween Identifier"),"objectTween").addParameter("expression",e("To opacity"),"",!1).addParameter("stringWithSelector",e("Easing"),t,!1).setDefaultValue("linear").addParameter("expression",e("Duration (in seconds)"),"",!1).addParameter("yesorno",e("Destroy this object when tween finishes"),"",!1).setDefaultValue("no").getCodeExtraInformation().setFunctionName("addObjectOpacityTween2"),r.addScopedAction("AddNumberEffectPropertyTween",e("Tween number effect property"),e("Tweens a number effect property from its current value to a new one."),e("Tween the property _PARAM6_ for effect _PARAM5_ of _PARAM0_ to _PARAM4_ with easing _PARAM7_ over _PARAM8_ seconds as _PARAM3_"),e("Effects"),"JsPlatform/Extensions/tween_behavior24.png","JsPlatform/Extensions/tween_behavior32.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"TweenBehavior",!1).addParameter("behavior",e("Effect capability"),"EffectCapability::EffectBehavior").addParameter("identifier",e("Tween Identifier"),"objectTween").addParameter("expression",e("To value"),"",!1).addParameter("objectEffectName",e("Effect name")).addParameter("objectEffectParameterName",e("Property name")).addParameter("stringWithSelector",e("Easing"),t,!1).setDefaultValue("linear").addParameter("expression",e("Duration (in seconds)"),"",!1).addParameter("yesorno",e("Destroy this object when tween finishes"),"",!1).setDefaultValue("no").getCodeExtraInformation().setFunctionName("addNumberEffectPropertyTween"),r.addScopedAction("AddColorEffectPropertyTween",e("Tween color effect property"),e("Tweens a color effect property from its current value to a new one."),e("Tween the color property _PARAM6_ for effect _PARAM5_ of _PARAM0_ to _PARAM4_ with easing _PARAM7_ over _PARAM8_ seconds as _PARAM3_"),e("Effects"),"JsPlatform/Extensions/tween_behavior24.png","JsPlatform/Extensions/tween_behavior32.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"TweenBehavior",!1).addParameter("behavior",e("Effect capability"),"EffectCapability::EffectBehavior").addParameter("identifier",e("Tween Identifier"),"objectTween").addParameter("color",e("To color"),"",!1).addParameter("objectEffectName",e("Effect name")).addParameter("objectEffectParameterName",e("Property name")).addParameter("stringWithSelector",e("Easing"),t,!1).setDefaultValue("linear").addParameter("expression",e("Duration (in seconds)"),"",!1).addParameter("yesorno",e("Destroy this object when tween finishes"),"",!1).setDefaultValue("no").getCodeExtraInformation().setFunctionName("addColorEffectPropertyTween"),r.addAction("AddObjectColorTween",e("Tween object color"),e('Tweens the object color from its current value to a new one. Format: "128;200;255" with values between 0 and 255 for red, green and blue'),e("Tween the color of _PARAM0_ to _PARAM3_ with easing _PARAM4_ over _PARAM5_ms as _PARAM2_"),e("Color"),"JsPlatform/Extensions/tween_behavior24.png","JsPlatform/Extensions/tween_behavior32.png").setHidden().addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"TweenBehavior",!1).addParameter("identifier",e("Tween Identifier"),"objectTween").addParameter("color",e("To color"),"",!1).addParameter("stringWithSelector",e("Easing"),t,!1).setDefaultValue("linear").addParameter("expression",e("Duration (in milliseconds)"),"",!1).addParameter("yesorno",e("Destroy this object when tween finishes"),"",!1).setDefaultValue("no").addParameter("yesorno",e("Tween on the Hue/Saturation/Lightness (HSL)"),"",!1).setParameterLongDescription(e("Useful to have a more natural change between colors.")).setDefaultValue("no").getCodeExtraInformation().setFunctionName("addObjectColorTween"),r.addScopedAction("AddObjectColorTween2",e("Tween object color"),e('Tweens the object color from its current value to a new one. Format: "128;200;255" with values between 0 and 255 for red, green and blue'),e("Tween the color of _PARAM0_ to _PARAM3_ with easing _PARAM4_ over _PARAM5_ seconds as _PARAM2_"),e("Color"),"JsPlatform/Extensions/tween_behavior24.png","JsPlatform/Extensions/tween_behavior32.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"TweenBehavior",!1).addParameter("identifier",e("Tween Identifier"),"objectTween").addParameter("color",e("To color"),"",!1).addParameter("stringWithSelector",e("Easing"),t,!1).setDefaultValue("linear").addParameter("expression",e("Duration (in seconds)"),"",!1).addParameter("yesorno",e("Destroy this object when tween finishes"),"",!1).setDefaultValue("no").addParameter("yesorno",e("Tween on the Hue/Saturation/Lightness (HSL)"),"",!1).setParameterLongDescription(e("Useful to have a more natural change between colors.")).setDefaultValue("no").getCodeExtraInformation().setFunctionName("addObjectColorTween2"),r.addAction("AddObjectColorHSLTween",e("Tween object HSL color"),e("Tweens the object color using Hue/Saturation/Lightness. Hue is in degrees, Saturation and Lightness are between 0 and 100. Use -1 for Saturation and Lightness to let them unchanged."),e("Tween the color of _PARAM0_ using HSL to H: _PARAM3_ (_PARAM4_), S: _PARAM5_, L: _PARAM6_ with easing _PARAM7_ over _PARAM8_ms as _PARAM2_"),e("Color"),"JsPlatform/Extensions/tween_behavior24.png","JsPlatform/Extensions/tween_behavior32.png").setHidden().addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"TweenBehavior",!1).addParameter("identifier",e("Tween Identifier"),"objectTween").addParameter("expression",e("To Hue (in degrees)"),"",!1).addParameter("yesorno",e("Animate Hue"),"",!1).setDefaultValue("yes").addParameter("expression",e("To Saturation (0 to 100, -1 to ignore)"),"",!1).setDefaultValue("-1").addParameter("expression",e("To Lightness (0 to 100, -1 to ignore)"),"",!1).setDefaultValue("-1").addParameter("stringWithSelector",e("Easing"),t,!1).setDefaultValue("linear").addParameter("expression",e("Duration (in milliseconds)"),"",!1).addParameter("yesorno",e("Destroy this object when tween finishes"),"",!1).setDefaultValue("no").getCodeExtraInformation().setFunctionName("addObjectColorHSLTween"),r.addScopedAction("AddObjectColorHSLTween2",e("Tween object HSL color"),e("Tweens the object color using Hue/Saturation/Lightness. Hue is in degrees, Saturation and Lightness are between 0 and 100. Use -1 for Saturation and Lightness to let them unchanged."),e("Tween the color of _PARAM0_ using HSL to H: _PARAM3_ (_PARAM4_), S: _PARAM5_, L: _PARAM6_ with easing _PARAM7_ over _PARAM8_ seconds as _PARAM2_"),e("Color"),"JsPlatform/Extensions/tween_behavior24.png","JsPlatform/Extensions/tween_behavior32.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"TweenBehavior",!1).addParameter("identifier",e("Tween Identifier"),"objectTween").addParameter("expression",e("To Hue (in degrees)"),"",!1).addParameter("yesorno",e("Animate Hue"),"",!1).setDefaultValue("yes").addParameter("expression",e("To Saturation (0 to 100, -1 to ignore)"),"",!1).setDefaultValue("-1").addParameter("expression",e("To Lightness (0 to 100, -1 to ignore)"),"",!1).setDefaultValue("-1").addParameter("stringWithSelector",e("Easing"),t,!1).setDefaultValue("linear").addParameter("expression",e("Duration (in seconds)"),"",!1).addParameter("yesorno",e("Destroy this object when tween finishes"),"",!1).setDefaultValue("no").getCodeExtraInformation().setFunctionName("addObjectColorHSLTween2"),r.addCondition("Exists",e("Tween exists"),e("Check if the tween animation exists."),e("Tween _PARAM2_ on _PARAM0_ exists"),"","JsPlatform/Extensions/tween_behavior24.png","JsPlatform/Extensions/tween_behavior32.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"TweenBehavior",!1).addParameter("identifier",e("Tween Identifier"),"objectTween").getCodeExtraInformation().setFunctionName("exists"),r.addCondition("IsPlaying",e("Tween is playing"),e("Check if the tween animation is currently playing."),e("Tween _PARAM2_ on _PARAM0_ is playing"),"","JsPlatform/Extensions/tween_behavior24.png","JsPlatform/Extensions/tween_behavior32.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"TweenBehavior",!1).addParameter("identifier",e("Tween Identifier"),"objectTween").getCodeExtraInformation().setFunctionName("isPlaying"),r.addCondition("HasFinished",e("Tween finished playing"),e("Check if the tween animation has finished playing."),e("Tween _PARAM2_ on _PARAM0_ has finished playing"),"","JsPlatform/Extensions/tween_behavior24.png","JsPlatform/Extensions/tween_behavior32.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"TweenBehavior",!1).addParameter("identifier",e("Tween Identifier"),"objectTween").getCodeExtraInformation().setFunctionName("hasFinished"),r.addAction("PauseTween",e("Pause a tween"),e("Pause the running tween animation."),e("Pause the tween _PARAM2_ on _PARAM0_"),"","JsPlatform/Extensions/tween_behavior24.png","JsPlatform/Extensions/tween_behavior32.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"TweenBehavior",!1).addParameter("identifier",e("Tween Identifier"),"objectTween").getCodeExtraInformation().setFunctionName("pauseTween"),r.addAction("StopTween",e("Stop a tween"),e("Stop the running tween animation."),e("Stop the tween _PARAM2_ on _PARAM0_"),"","JsPlatform/Extensions/tween_behavior24.png","JsPlatform/Extensions/tween_behavior32.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"TweenBehavior",!1).addParameter("identifier",e("Tween Identifier"),"objectTween").addParameter("yesorno",e("Jump to end"),"",!1).getCodeExtraInformation().setFunctionName("stopTween"),r.addAction("ResumeTween",e("Resume a tween"),e("Resume the tween animation."),e("Resume the tween _PARAM2_ on _PARAM0_"),"","JsPlatform/Extensions/tween_behavior24.png","JsPlatform/Extensions/tween_behavior32.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"TweenBehavior",!1).addParameter("identifier",e("Tween Identifier"),"objectTween").getCodeExtraInformation().setFunctionName("resumeTween"),r.addAction("RemoveTween",e("Remove a tween"),e("Remove the tween animation from the object."),e("Remove the tween _PARAM2_ from _PARAM0_"),"","JsPlatform/Extensions/tween_behavior24.png","JsPlatform/Extensions/tween_behavior32.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"TweenBehavior",!1).addParameter("identifier",e("Tween Identifier"),"objectTween").getCodeExtraInformation().setFunctionName("removeTween"),r.addExpressionAndCondition("number","Progress",e("Tween progress"),e("the progress of a tween (between 0.0 and 1.0)"),e("the progress of the tween _PARAM2_"),"","JsPlatform/Extensions/tween_behavior32.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"TweenBehavior",!1).addParameter("identifier",e("Tween Identifier"),"objectTween").useStandardParameters("number",a.ParameterOptions.makeNewOptions()).setFunctionName("getProgress"),r.addExpression("Value",e("Tween value"),e("Return the value of a tween. It is always 0 for tweens with several values."),"","JsPlatform/Extensions/tween_behavior32.png").addParameter("object",e("Object"),"",!1).addParameter("behavior",e("Behavior"),"TweenBehavior",!1).addParameter("identifier",e("Tween Identifier"),"objectTween").getCodeExtraInformation().setFunctionName("getValue"),i},runExtensionSanityTests:function(e,t){return[]}}},24895:function(e,t,a){var i=a(56690).default,n=a(89728).default,r=a(41588).default,s=a(73808).default,o=a(61655).default,l=a(26389).default;e.exports={createExtension:function(e,t){var a=new t.PlatformExtension;a.setExtensionInformation("Video",e("Video"),e("Provides an object to display a video on the scene. The recommended file format is MPEG4, with H264 video codec and AAC audio codec, to maximize the support of the video on different platform and browsers."),"Aur\xe9lien Vivet","Open source (MIT License)").setCategory("User interface").setExtensionHelpPath("/objects/video"),a.addInstructionOrExpressionGroupMetadata(e("Video")).setIcon("JsPlatform/Extensions/videoicon16.png");var i=new t.ObjectJsImplementation;i.updateProperty=function(e,t){return"Opacity"===e?(this.content.opacity=parseFloat(t),!0):"Looped"===e?(this.content.loop="1"===t,!0):"Volume"===e?(this.content.volume=parseFloat(t),!0):"videoResource"===e&&(this.content.videoResource=t,!0)},i.getProperties=function(){var a=new t.MapStringPropertyDescriptor;return a.getOrCreate("Looped").setValue(this.content.loop?"true":"false").setType("boolean").setLabel(e("Loop the video")).setGroup(e("Playback settings")),a.getOrCreate("Volume").setValue(this.content.volume.toString()).setType("number").setLabel(e("Video volume (0-100)")).setGroup(e("Playback settings")),a.getOrCreate("videoResource").setValue(this.content.videoResource).setType("resource").addExtraInfo("video").setLabel(e("Video resource")),a},i.content={opacity:255,loop:!1,volume:100,videoResource:""},i.updateInitialInstanceProperty=function(e,t,a){return!1},i.getInitialInstanceProperties=function(e){return new t.MapStringPropertyDescriptor};var n=a.addObject("VideoObject",e("Video"),e("Displays a video."),"JsPlatform/Extensions/videoicon32.png",i).setIncludeFile("Extensions/Video/videoruntimeobject.js").addIncludeFile("Extensions/Video/videoruntimeobject-pixi-renderer.js").setCategoryFullName(e("User interface")).addDefaultBehavior("EffectCapability::EffectBehavior").addDefaultBehavior("OpacityCapability::OpacityBehavior");return n.addAction("Play",e("Play a video"),e("Play a video (recommended file format is MPEG4, with H264 video codec and AAC audio codec)."),e("Play the video of _PARAM0_"),"","JsPlatform/Extensions/videoicon24.png","JsPlatform/Extensions/videoicon16.png").addParameter("object",e("Video object"),"VideoObject",!1).getCodeExtraInformation().setFunctionName("play"),n.addAction("Pause",e("Pause a video"),e("Pause the specified video."),e("Pause video _PARAM0_"),"","JsPlatform/Extensions/videoicon24.png","JsPlatform/Extensions/videoicon16.png").addParameter("object",e("Video object"),"VideoObject",!1).getCodeExtraInformation().setFunctionName("pause"),n.addAction("Loop",e("Loop a video"),e("Loop the specified video."),e("Loop video of _PARAM0_: _PARAM1_"),"","JsPlatform/Extensions/videoicon24.png","JsPlatform/Extensions/videoicon16.png").addParameter("object",e("Video object"),"VideoObject",!1).addParameter("yesorno",e("Activate loop"),"",!1).getCodeExtraInformation().setFunctionName("setLoop"),n.addAction("Mute",e("Mute a video"),e("Mute, or unmute, the specified video."),e("Mute video of _PARAM0_: _PARAM1_"),"","JsPlatform/Extensions/videoicon24.png","JsPlatform/Extensions/videoicon16.png").addParameter("object",e("Video object"),"VideoObject",!1).addParameter("yesorno",e("Activate mute"),"",!1).getCodeExtraInformation().setFunctionName("mute"),n.addAction("SetTime",e("Current time"),e("Set the time of the video"),e("the time"),"","JsPlatform/Extensions/videoicon24.png","JsPlatform/Extensions/videoicon16.png").addParameter("object",e("Video object"),"VideoObject",!1).useStandardOperatorParameters("number",t.ParameterOptions.makeNewOptions().setDescription(e("Position (in seconds)"))).getCodeExtraInformation().setFunctionName("setCurrentTime").setGetter("getCurrentTime"),n.addAction("SetVolume",e("Volume"),e("Set the volume of the video object."),e("the volume"),"","JsPlatform/Extensions/videoicon24.png","JsPlatform/Extensions/videoicon16.png").addParameter("object",e("Video object"),"VideoObject",!1).useStandardOperatorParameters("number",t.ParameterOptions.makeNewOptions().setDescription(e("Volume (0-100)"))).getCodeExtraInformation().setFunctionName("setVolume").setGetter("getVolume"),n.addExpression("Volume",e("Get the volume"),e("Get the volume of a video object, between 0 (muted) and 100 (maximum)."),"","JsPlatform/Extensions/videoicon16.png").addParameter("object",e("Object"),"VideoObject",!1).getCodeExtraInformation().setFunctionName("getVolume"),n.addCondition("Play",e("Is played"),e("Check if a video is played."),e("_PARAM0_ is played"),"","JsPlatform/Extensions/videoicon24.png","JsPlatform/Extensions/videoicon16.png").addParameter("object",e("Video object"),"VideoObject",!1).getCodeExtraInformation().setFunctionName("isPlayed"),n.addCondition("Pause",e("Is paused"),e("Check if the video is paused."),e("_PARAM0_ is paused"),"","JsPlatform/Extensions/videoicon24.png","JsPlatform/Extensions/videoicon16.png").addParameter("object",e("Video object"),"VideoObject",!1).getCodeExtraInformation().setFunctionName("isPaused"),n.addCondition("Loop",e("Is looped"),e("Check if the video is looped."),e("_PARAM0_ is looped"),"","JsPlatform/Extensions/videoicon24.png","JsPlatform/Extensions/videoicon16.png").addParameter("object",e("Video object"),"VideoObject",!1).getCodeExtraInformation().setFunctionName("isLooped"),n.addCondition("Volume",e("Volume"),e("Compare the current volume of a video object."),e("the volume"),"","JsPlatform/Extensions/videoicon24.png","JsPlatform/Extensions/videoicon16.png").addParameter("object",e("Video object"),"VideoObject",!1).useStandardRelationalOperatorParameters("number",t.ParameterOptions.makeNewOptions().setDescription(e("Volume to compare to (0-100)"))).getCodeExtraInformation().setFunctionName("getVolume"),n.addCondition("Mute",e("Is muted"),e("Check if a video is muted."),e("_PARAM0_ is muted"),"","JsPlatform/Extensions/videoicon24.png","JsPlatform/Extensions/videoicon16.png").addParameter("object",e("Video object"),"VideoObject",!1).getCodeExtraInformation().setFunctionName("isMuted"),n.addExpression("CurrentTime",e("Get current time"),e("Return the current time of a video object (in seconds)."),"","JsPlatform/Extensions/videoicon16.png").addParameter("object",e("Object"),"VideoObject",!1).getCodeExtraInformation().setFunctionName("getCurrentTime"),n.addExpression("Duration",e("Get the duration"),e("Return the duration of a video object (in seconds)."),"","JsPlatform/Extensions/videoicon16.png").addParameter("object",e("Object"),"VideoObject",!1).getCodeExtraInformation().setFunctionName("getDuration"),n.addCondition("Duration",e("Duration"),e("Compare the duration of a video object"),e("the duration (in seconds)"),"","JsPlatform/Extensions/videoicon24.png","JsPlatform/Extensions/videoicon16.png").addParameter("object",e("Video object"),"VideoObject",!1).useStandardRelationalOperatorParameters("number",t.ParameterOptions.makeNewOptions().setDescription(e("Duration to compare to (in seconds)"))).getCodeExtraInformation().setFunctionName("getDuration"),n.addCondition("CurrentTime",e("Current time"),e("Compare the current time of a video object"),e("the current time (in seconds)"),"","JsPlatform/Extensions/videoicon24.png","JsPlatform/Extensions/videoicon16.png").addParameter("object",e("Video object"),"VideoObject",!1).useStandardRelationalOperatorParameters("number",t.ParameterOptions.makeNewOptions().setDescription(e("Time to compare to (in seconds)"))).getCodeExtraInformation().setFunctionName("getCurrentTime"),n.addCondition("Ended",e("Is ended"),e("Check if a video is ended"),e("_PARAM0_ is ended"),"","JsPlatform/Extensions/videoicon24.png","JsPlatform/Extensions/videoicon16.png").addParameter("object",e("Video object"),"VideoObject",!1).getCodeExtraInformation().setFunctionName("isEnded"),n.addAction("SetOpacity",e("Set opacity"),e("Set opacity of the specified video object."),e("the opacity"),"","JsPlatform/Extensions/videoicon24.png","JsPlatform/Extensions/videoicon16.png").addParameter("object",e("Video object"),"VideoObject",!1).useStandardOperatorParameters("number",t.ParameterOptions.makeNewOptions().setDescription(e("Opacity (0-255)"))).getCodeExtraInformation().setFunctionName("setOpacity").setGetter("getOpacity").setHidden(),n.addCondition("GetOpacity",e("Opacity"),e("Compare the opacity of a video object"),e("the opacity"),"","JsPlatform/Extensions/videoicon24.png","JsPlatform/Extensions/videoicon16.png").addParameter("object",e("Video object"),"VideoObject",!1).useStandardRelationalOperatorParameters("number",t.ParameterOptions.makeNewOptions().setDescription(e("Opacity to compare to (0-255)"))).getCodeExtraInformation().setFunctionName("getOpacity").setHidden(),n.addExpression("Opacity",e("Get current opacity"),e("Return the opacity of a video object"),"","JsPlatform/Extensions/videoicon16.png").addParameter("object",e("Object"),"VideoObject",!1).getCodeExtraInformation().setFunctionName("getOpacity").setHidden(),n.addAction("SetPlaybackSpeed",e("Set playback speed"),e("Set playback speed of the specified video object, (1 = the default speed, >1 = faster and <1 = slower)."),e("the playback speed"),"","JsPlatform/Extensions/videoicon24.png","JsPlatform/Extensions/videoicon16.png").addParameter("object",e("Video object"),"VideoObject",!1).useStandardOperatorParameters("number",t.ParameterOptions.makeNewOptions().setDescription(e("Playback speed (1 by default)"))).getCodeExtraInformation().setFunctionName("setPlaybackSpeed").setGetter("getPlaybackSpeed"),n.addCondition("GetPlaybackSpeed",e("Playback speed "),e("Compare the playback speed of a video object"),e("the playback speed"),"","JsPlatform/Extensions/videoicon24.png","JsPlatform/Extensions/videoicon16.png").addParameter("object",e("Video object"),"VideoObject",!1).useStandardRelationalOperatorParameters("number",t.ParameterOptions.makeNewOptions().setDescription(e("Playback speed (1 by default)"))).getCodeExtraInformation().setFunctionName("getPlaybackSpeed"),n.addExpression("PlaybackSpeed",e("Get current playback speed"),e("Return the playback speed of a video object"),"","JsPlatform/Extensions/videoicon16.png").addParameter("object",e("Object"),"VideoObject",!1).getCodeExtraInformation().setFunctionName("getPlaybackSpeed"),a},runExtensionSanityTests:function(e,t){return[]},registerEditorConfigurations:function(e){e.registerEditorConfiguration("Video::VideoObject",e.getDefaultObjectJsImplementationPropertiesEditor({helpPagePath:"/objects/video"}))},registerInstanceRenderers:function(e){var t=e.RenderedInstance,a=e.PIXI,d=function(e){"use strict";o(c,e);var d=l(c);function c(e,t,n,r,s){var o;return i(this,c),(o=d.call(this,e,t,n,r,s))._videoResource=void 0,o._pixiObject=new a.Sprite(o._getVideoTexture()),o._pixiObject.anchor.x=.5,o._pixiObject.anchor.y=.5,o._pixiContainer.addChild(o._pixiObject),o.update(),o}return n(c,[{key:"onRemovedFromScene",value:function(){r(s(c.prototype),"onRemovedFromScene",this).call(this),this._pixiObject.destroy(!1)}},{key:"_getVideoTexture",value:function(){var e=gd.castObject(this._associatedObjectConfiguration,gd.ObjectJsImplementation).content.videoResource;return this._pixiResourcesLoader.getPIXIVideoTexture(this._project,e)}},{key:"update",value:function(){var e=gd.castObject(this._associatedObjectConfiguration,gd.ObjectJsImplementation).content.videoResource;if(e!==this._videoResource&&(this._videoResource=e,this._pixiObject.texture=this._getVideoTexture(),!this._pixiObject.texture.baseTexture.valid)){var a=this;a._pixiObject.texture.on("error",(function(){a._pixiObject.texture.off("error",this),this._wasDestroyed||(a._pixiObject.texture=a._pixiResourcesLoader.getInvalidPIXITexture())}))}this._pixiObject.position.x=this._instance.getX()+this._pixiObject.width/2,this._pixiObject.position.y=this._instance.getY()+this._pixiObject.height/2,this._pixiObject.rotation=t.toRad(this._instance.getAngle()),this._instance.hasCustomSize()&&(this._pixiObject.width=this.getCustomWidth(),this._pixiObject.height=this.getCustomHeight());var i=Math.max(this._instance.getOpacity()/255,.5);this._pixiObject.alpha=i}},{key:"getDefaultWidth",value:function(){return this._pixiObject.width}},{key:"getDefaultHeight",value:function(){return this._pixiObject.height}}],[{key:"getThumbnail",value:function(e,t,a){return"JsPlatform/Extensions/videoicon24.png"}}]),c}(t);e.registerInstanceRenderer("Video::VideoObject",d)}}},30929:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return i.Z}});var i=a(13270)},37248:function(e,t,a){"use strict";var i=a(27424).default,n=a(73629),r=a(50955),s=a(7972),o=a(55042),l=a(2235),d=a(32909),c=a(64609),u={AlphaFilter:r.AlphaFilter,BlurFilter:s.BlurFilter,BlurFilterPass:s.BlurFilterPass,ColorMatrixFilter:o.ColorMatrixFilter,DisplacementFilter:l.DisplacementFilter,FXAAFilter:d.FXAAFilter,NoiseFilter:c.NoiseFilter};Object.entries(u).forEach((function(e){var t=i(e,2),a=t[0],r=t[1];Object.defineProperty(u,a,{get:function(){return n.utils.deprecation("7.1.0","filters.".concat(a," has moved to ").concat(a)),r}})})),t.filters=u},36354:function(e,t,a){"use strict";a(36344),a(3046),a(20222);var i=a(37248),n=a(27127),r=a(73107),s=a(51743),o=a(92864),l=a(73629),d=a(86889),c=a(51108),u=a(68810),h=a(50955),f=a(7972),p=a(55042),m=a(2235),g=a(32909),v=a(64609),b=a(84112),y=a(70374),x=a(98976),_=a(61126),P=a(33608),A=a(2721),E=a(61857),T=a(81158),w=a(12574),S=a(37224),C=a(95729),F=a(8638);t.filters=i.filters,Object.keys(n).forEach((function(e){"default"!==e&&!Object.prototype.hasOwnProperty.call(t,e)&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return n[e]}})})),Object.keys(r).forEach((function(e){"default"!==e&&!Object.prototype.hasOwnProperty.call(t,e)&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})})),Object.keys(s).forEach((function(e){"default"!==e&&!Object.prototype.hasOwnProperty.call(t,e)&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return s[e]}})})),Object.keys(o).forEach((function(e){"default"!==e&&!Object.prototype.hasOwnProperty.call(t,e)&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}})})),Object.keys(l).forEach((function(e){"default"!==e&&!Object.prototype.hasOwnProperty.call(t,e)&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return l[e]}})})),Object.keys(d).forEach((function(e){"default"!==e&&!Object.prototype.hasOwnProperty.call(t,e)&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return d[e]}})})),Object.keys(c).forEach((function(e){"default"!==e&&!Object.prototype.hasOwnProperty.call(t,e)&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return c[e]}})})),Object.keys(u).forEach((function(e){"default"!==e&&!Object.prototype.hasOwnProperty.call(t,e)&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return u[e]}})})),Object.keys(h).forEach((function(e){"default"!==e&&!Object.prototype.hasOwnProperty.call(t,e)&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return h[e]}})})),Object.keys(f).forEach((function(e){"default"!==e&&!Object.prototype.hasOwnProperty.call(t,e)&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return f[e]}})})),Object.keys(p).forEach((function(e){"default"!==e&&!Object.prototype.hasOwnProperty.call(t,e)&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return p[e]}})})),Object.keys(m).forEach((function(e){"default"!==e&&!Object.prototype.hasOwnProperty.call(t,e)&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return m[e]}})})),Object.keys(g).forEach((function(e){"default"!==e&&!Object.prototype.hasOwnProperty.call(t,e)&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return g[e]}})})),Object.keys(v).forEach((function(e){"default"!==e&&!Object.prototype.hasOwnProperty.call(t,e)&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return v[e]}})})),Object.keys(b).forEach((function(e){"default"!==e&&!Object.prototype.hasOwnProperty.call(t,e)&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return b[e]}})})),Object.keys(y).forEach((function(e){"default"!==e&&!Object.prototype.hasOwnProperty.call(t,e)&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return y[e]}})})),Object.keys(x).forEach((function(e){"default"!==e&&!Object.prototype.hasOwnProperty.call(t,e)&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return x[e]}})})),Object.keys(_).forEach((function(e){"default"!==e&&!Object.prototype.hasOwnProperty.call(t,e)&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return _[e]}})})),Object.keys(P).forEach((function(e){"default"!==e&&!Object.prototype.hasOwnProperty.call(t,e)&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return P[e]}})})),Object.keys(A).forEach((function(e){"default"!==e&&!Object.prototype.hasOwnProperty.call(t,e)&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return A[e]}})})),Object.keys(E).forEach((function(e){"default"!==e&&!Object.prototype.hasOwnProperty.call(t,e)&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return E[e]}})})),Object.keys(T).forEach((function(e){"default"!==e&&!Object.prototype.hasOwnProperty.call(t,e)&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return T[e]}})})),Object.keys(w).forEach((function(e){"default"!==e&&!Object.prototype.hasOwnProperty.call(t,e)&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return w[e]}})})),Object.keys(S).forEach((function(e){"default"!==e&&!Object.prototype.hasOwnProperty.call(t,e)&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return S[e]}})})),Object.keys(C).forEach((function(e){"default"!==e&&!Object.prototype.hasOwnProperty.call(t,e)&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return C[e]}})})),Object.keys(F).forEach((function(e){"default"!==e&&!Object.prototype.hasOwnProperty.call(t,e)&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return F[e]}})}))},44122:function(e,t,a){"use strict";function i(){return new Worker(a.p+"checkImageBitmap.worker.b96b7d2aa5251c257119.worker.js")}a.r(t),a.d(t,{default:function(){return i}})},17728:function(e,t,a){"use strict";function i(){return new Worker(a.p+"loadImageBitmap.worker.5fd017cef8375451d504.worker.js")}a.r(t),a.d(t,{default:function(){return i}})},85372:function(e){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},63405:function(e,t,a){var i=a(73897);e.exports=function(e){if(Array.isArray(e))return i(e)},e.exports.__esModule=!0,e.exports.default=e.exports},38416:function(e,t,a){var i=a(64062);e.exports=function(e,t,a){return(t=i(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e},e.exports.__esModule=!0,e.exports.default=e.exports},41588:function(e,t,a){var i=a(1753);function n(){return"undefined"!==typeof Reflect&&Reflect.get?(e.exports=n=Reflect.get.bind(),e.exports.__esModule=!0,e.exports.default=e.exports):(e.exports=n=function(e,t,a){var n=i(e,t);if(n){var r=Object.getOwnPropertyDescriptor(n,t);return r.get?r.get.call(arguments.length<3?e:a):r.value}},e.exports.__esModule=!0,e.exports.default=e.exports),n.apply(this,arguments)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports},79498:function(e){e.exports=function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},68872:function(e){e.exports=function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var i,n,r,s,o=[],l=!0,d=!1;try{if(r=(a=a.call(e)).next,0===t){if(Object(a)!==a)return;l=!1}else for(;!(l=(i=r.call(a)).done)&&(o.push(i.value),o.length!==t);l=!0);}catch(c){d=!0,n=c}finally{try{if(!l&&null!=a.return&&(s=a.return(),Object(s)!==s))return}finally{if(d)throw n}}return o}},e.exports.__esModule=!0,e.exports.default=e.exports},12218:function(e){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},42281:function(e){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},42122:function(e,t,a){var i=a(38416);function n(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}e.exports=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?n(Object(a),!0).forEach((function(t){i(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):n(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e},e.exports.__esModule=!0,e.exports.default=e.exports},70215:function(e,t,a){var i=a(7071);e.exports=function(e,t){if(null==e)return{};var a,n,r=i(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)a=s[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r},e.exports.__esModule=!0,e.exports.default=e.exports},7071:function(e){e.exports=function(e,t){if(null==e)return{};var a,i,n={},r=Object.keys(e);for(i=0;i<r.length;i++)a=r[i],t.indexOf(a)>=0||(n[a]=e[a]);return n},e.exports.__esModule=!0,e.exports.default=e.exports},27424:function(e,t,a){var i=a(85372),n=a(68872),r=a(86116),s=a(12218);e.exports=function(e,t){return i(e)||n(e,t)||r(e,t)||s()},e.exports.__esModule=!0,e.exports.default=e.exports},1753:function(e,t,a){var i=a(73808);e.exports=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=i(e)););return e},e.exports.__esModule=!0,e.exports.default=e.exports},861:function(e,t,a){var i=a(63405),n=a(79498),r=a(86116),s=a(42281);e.exports=function(e){return i(e)||n(e)||r(e)||s()},e.exports.__esModule=!0,e.exports.default=e.exports}}]);
//# sourceMappingURL=5871.f3865423.chunk.js.map